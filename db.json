{"meta":{"version":1,"warehouse":"4.0.1"},"models":{"Asset":[{"_id":"themes/hexo-theme-fluid/source/css/gitalk.css","path":"css/gitalk.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/css/highlight-dark.styl","path":"css/highlight-dark.styl","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/css/highlight.styl","path":"css/highlight.styl","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/js/boot.js","path":"js/boot.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/js/img-lazyload.js","path":"js/img-lazyload.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/js/events.js","path":"js/events.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/js/leancloud.js","path":"js/leancloud.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/js/local-search.js","path":"js/local-search.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/js/plugins.js","path":"js/plugins.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/img/avatar.png","path":"img/avatar.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/img/default.png","path":"img/default.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/img/fluid.png","path":"img/fluid.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/img/loading.gif","path":"img/loading.gif","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/img/police_beian.png","path":"img/police_beian.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/xml/local-search.xml","path":"xml/local-search.xml","modified":0,"renderable":1},{"_id":"themes/hexo-theme-fluid/source/js/color-schema.js","path":"js/color-schema.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"70f5bd2f821ccb8c3693db3cdc79aeb83384c263","modified":1675321785652},{"_id":"source/_posts/d3.md","hash":"5b2ce760d36ab67d16c2771e5f2fea102021fae2","modified":1634175521000},{"_id":"source/_posts/CommonJSå’ŒESModuleçš„åŒºåˆ«.md","hash":"979f1a0e6f7787fc6ea435e18bd54aec29a02fb4","modified":1675237219010},{"_id":"source/_posts/echarts.md","hash":"059c379416e2e5e044d66181ec797652efba9043","modified":1634174676537},{"_id":"source/_posts/react.md","hash":"f67e6336fb5ae333db43b5392bd6ffdd82d1611e","modified":1634174567096},{"_id":"source/_posts/jsé«˜çº§.md","hash":"adbcfa6f6a4b5d10ad495879c2d8db446426c1e6","modified":1667286833122},{"_id":"source/_posts/svg.md","hash":"076ade0f068720fd93ae5efff7552bb639ac96cc","modified":1634007704120},{"_id":"source/_posts/æ­å»ºjenkins.md","hash":"dab80db49c2acd4bbf186a0733d5f556943c422e","modified":1644477686000},{"_id":"source/_posts/è®¾è®¡æ¨¡å¼.md","hash":"ca3f68b5de7b61643e4e88049b3228211f820737","modified":1675321828370},{"_id":"source/_posts/h5ä¸ue4é€šè®¯.md","hash":"c5562e3be23fdbcb155d7c035216e355a9bdfbeb","modified":1634549897537},{"_id":"source/about/index.md","hash":"64e5c8f7a85a56901fc9933819166691c4b9405b","modified":1633947611008},{"_id":"source/contact/index.md","hash":"a35f736aafe98684cf3656a769dcb58cf08602d9","modified":1633967103582},{"_id":"source/_posts/æµè§ˆå™¨è¿›ç¨‹å’Œçº¿ç¨‹.md","hash":"2eff2c952258da4166657c63b87b298eae3aaa5b","modified":1648046676804},{"_id":"source/categories/index.md","hash":"4f7d18516ccfef716cde6a0bbacbfdd026bca636","modified":1633967054888},{"_id":"source/tags/index.md","hash":"2174b6bda01163c45fd2e4451484f9a27a8c9d5c","modified":1633967131503},{"_id":"source/404/index.md","hash":"f856d43418c22a2e0acda0dc8dfc338c5f591fb4","modified":1633947728096},{"_id":"source/_posts/.DS_Store","hash":"327685590938232c93fa28d73e16cdc6eb46ab42","modified":1675236944178},{"_id":"source/_posts/æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥.md","hash":"258e36a7d8df27e2b7c328c456ad3fab156a4679","modified":1667464547338},{"_id":"source/_posts/æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹.md","hash":"48b48bf9b5c8933b5e2fe5110b2c790fd6268e78","modified":1645462020322},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_tag/tag.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1653560635221},{"_id":"themes/hexo-theme-fluid/.editorconfig","hash":"33218fbd623feb43edf5f99f15965392cecc44a6","modified":1653560635208},{"_id":"themes/hexo-theme-fluid/.eslintrc","hash":"4bc2b19ce2b8c4d242f97d4ccf2d741e68ab0097","modified":1653560635208},{"_id":"themes/hexo-theme-fluid/.gitattributes","hash":"a54f902957d49356376b59287b894b1a3d7a003f","modified":1653560635209},{"_id":"themes/hexo-theme-fluid/.gitignore","hash":"ae3bfcb89777657c5dfb5169d91445dcb0e5ab98","modified":1653560635209},{"_id":"themes/hexo-theme-fluid/package.json","hash":"980a730164d9f145a3271ed64d7122b7cee6d590","modified":1653560635215},{"_id":"themes/hexo-theme-fluid/README.md","hash":"6d752df6f2278033dc2512a7d5be22c8a8eb665a","modified":1653560635210},{"_id":"themes/hexo-theme-fluid/languages/de.yml","hash":"0e7d455d9e004ff15d8924b7a0c35cea25ee5b1d","modified":1653560635210},{"_id":"themes/hexo-theme-fluid/LICENSE","hash":"26f9356fd6e84b5a88df6d9014378f41b65ba209","modified":1653560635209},{"_id":"themes/hexo-theme-fluid/languages/en.yml","hash":"cb11b39f44ea069652c9647179606b6cecc98d50","modified":1653560635210},{"_id":"themes/hexo-theme-fluid/README_en.md","hash":"8c874f309e346fffa392e174385b5cc08510f218","modified":1653560635210},{"_id":"themes/hexo-theme-fluid/languages/es.yml","hash":"7112594259c88c04714be152af7fd377687dad40","modified":1653560635210},{"_id":"themes/hexo-theme-fluid/languages/eo.yml","hash":"a556251cc50a5680578c03f1efbf252b1f4ab860","modified":1653560635210},{"_id":"themes/hexo-theme-fluid/languages/ja.yml","hash":"3dd6d20f8d26585a7c154a8e59fe8d5d902f4c6a","modified":1653560635210},{"_id":"themes/hexo-theme-fluid/languages/zh-HK.yml","hash":"80ed400a7adaa92ea54fc7f5d534c9af795bed00","modified":1653560635211},{"_id":"themes/hexo-theme-fluid/layout/404.ejs","hash":"9569c5c8f67d2783f372f671c57b93a00dc63c2f","modified":1653560635211},{"_id":"themes/hexo-theme-fluid/languages/zh-CN.yml","hash":"f96a22f989897ecddc69d5867a206e1cf6b8f610","modified":1653560635210},{"_id":"themes/hexo-theme-fluid/_config.yml","hash":"0943745be04f7af08e3ba7fcdcb105c8f90b9956","modified":1667464677000},{"_id":"themes/hexo-theme-fluid/layout/about.ejs","hash":"23e5db06cfdc1cb26503204f074db58647adfbf3","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/languages/zh-TW.yml","hash":"596d031dff3826ae8e4ffc8931fff28977b73247","modified":1653560635211},{"_id":"themes/hexo-theme-fluid/layout/archive.ejs","hash":"7c1f44005849791feae4abaa10fae4cb983d3277","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/layout/category.ejs","hash":"f099161b738a16a32253f42085b5444f902018ed","modified":1653560635215},{"_id":"themes/hexo-theme-fluid/layout/layout.ejs","hash":"1452acee33611685b199c50e1bd4ecddbf6424e3","modified":1653560635215},{"_id":"themes/hexo-theme-fluid/layout/index.ejs","hash":"952d3f27cd7a245848fa1c4a1f5c8912500c2ee1","modified":1653560635215},{"_id":"themes/hexo-theme-fluid/layout/categories.ejs","hash":"13859726c27b6c79b5876ec174176d0f9c1ee164","modified":1653560635215},{"_id":"themes/hexo-theme-fluid/layout/links.ejs","hash":"edcbef65037759c3a7b3539f2edcd72b082267e9","modified":1653560635215},{"_id":"themes/hexo-theme-fluid/layout/post.ejs","hash":"3a812de943457c0c544832daa1957420883aca96","modified":1653560635215},{"_id":"themes/hexo-theme-fluid/.github/ISSUE_TEMPLATE/bug_report.md","hash":"16d33eb89ecf90f4046720fde5395d972c7ba1fd","modified":1653560635209},{"_id":"themes/hexo-theme-fluid/layout/tag.ejs","hash":"9d686364c4d16a1a9219471623af452035c5b966","modified":1653560635215},{"_id":"themes/hexo-theme-fluid/layout/tags.ejs","hash":"1d06af34b6cf1d8a20d2eb565e309326ceba309f","modified":1653560635215},{"_id":"themes/hexo-theme-fluid/.github/ISSUE_TEMPLATE/feature_request.md","hash":"c134dd57ffd269b93402ccfffe7dbe0f0b583bec","modified":1653560635209},{"_id":"themes/hexo-theme-fluid/.github/ISSUE_TEMPLATE/bug_report_zh.md","hash":"af977ed0792508bb0766ea8afe82d34ef1e8fb3c","modified":1653560635209},{"_id":"themes/hexo-theme-fluid/layout/_partials/archive-list.ejs","hash":"7520fbf91f762207c2ab06b2c293235cd5b23905","modified":1653560635211},{"_id":"themes/hexo-theme-fluid/.github/ISSUE_TEMPLATE/feature_request_zh.md","hash":"ed08574b196447376dd74411cca664ac9227a5d4","modified":1653560635209},{"_id":"themes/hexo-theme-fluid/.github/ISSUE_TEMPLATE/question.md","hash":"ab5eab9e3ff889c4ba7fd82846e7f5b7ae15bebc","modified":1653560635209},{"_id":"themes/hexo-theme-fluid/.github/ISSUE_TEMPLATE/question_zh.md","hash":"e24b470f7aa8044499a4f5e39634e5dc43899011","modified":1653560635209},{"_id":"themes/hexo-theme-fluid/layout/_partials/category-chains.ejs","hash":"18309584aab83bc4deb20723ebad832149dd2e24","modified":1653560635211},{"_id":"themes/hexo-theme-fluid/.github/workflows/limit.yaml","hash":"f8bd2edeb4424ee7a055b31583445d5d5dff91a4","modified":1653560635209},{"_id":"themes/hexo-theme-fluid/layout/page.ejs","hash":"a4a6b184bd91d9fe090da28891e74afc3b71c7fd","modified":1653560635215},{"_id":"themes/hexo-theme-fluid/layout/_partials/css.ejs","hash":"85f6e051550907681ab4ed2e268ac8f6e9ebf931","modified":1653560635212},{"_id":"themes/hexo-theme-fluid/layout/_partials/search.ejs","hash":"70e1c929e084ca8a2648cedabf29b372511ea2b8","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/layout/_partials/category-list.ejs","hash":"a591fedbc5759fb00152304f9ea486dfba3a246a","modified":1653560635211},{"_id":"themes/hexo-theme-fluid/scripts/generators/local-search.js","hash":"fc2c50405b771b06b7f6cfc4e9de97b992691555","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/scripts/events/index.js","hash":"79de5a379b28cad759a49048351c7f6b8915bd7d","modified":1653560635215},{"_id":"themes/hexo-theme-fluid/scripts/filters/default-injects.js","hash":"b2013ae8e189cd07ebc8a2ff48a78e153345210f","modified":1653560635216},{"_id":"themes/hexo-theme-fluid/layout/_partials/head.ejs","hash":"eb2c46aa2508ea65d6e5c397c4bc20d05761d754","modified":1653560635212},{"_id":"themes/hexo-theme-fluid/scripts/generators/pages.js","hash":"d9971f15fbb6b775e3d31a1b9b45011959395010","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/layout/_partials/paginator.ejs","hash":"0f38a2c238169edcb63fc46c23bfc529ff3859b7","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/scripts/filters/post-filter.js","hash":"d516b9db63067f9ea9c72cc75ae4ff358417e77d","modified":1653560635216},{"_id":"themes/hexo-theme-fluid/scripts/helpers/import.js","hash":"ca53e8dbf7d44cfd372cfa79ac60f35a7d5b0076","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/scripts/helpers/engine.js","hash":"d3a231d106795ce99cb0bc77eb65f9ae44515933","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/scripts/helpers/export-config.js","hash":"47e6dba7652a621a54067413490a11c8a89e3d7b","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/scripts/helpers/page.js","hash":"4607607445233b3029ef20ed5e91de0da0a7f9c5","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/layout/_partials/scripts.ejs","hash":"3d8912b68fcf51c38f6e1c5dd2bd74657bb3b7fb","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/scripts/helpers/scope.js","hash":"43620b0944ffb67ea1fa6cc838f65a7351222eb0","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/scripts/helpers/utils.js","hash":"226f99b465ff513de075a8e78b321d6cb62592ca","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/scripts/helpers/injects.js","hash":"1ad2ae6b11bd8806ee7dd6eb7140d8b54a95d613","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/scripts/helpers/url.js","hash":"2a6a8288176d0e0f6ec008056bf2745a86e8943e","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/layout/_partials/comments.ejs","hash":"24ef242aa01e5f5bc397cf3f83ae48b1e8353dab","modified":1653560635211},{"_id":"themes/hexo-theme-fluid/scripts/helpers/wordcount.js","hash":"b917b893b1777e6ffcb53188f9f5644510e5f20d","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/scripts/tags/checkbox.js","hash":"4938610c3543a921a341bc074626d511cb1a4b45","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/scripts/tags/group-image.js","hash":"4aeebb797026f1df25646a5d69f7fde79b1bcd26","modified":1653560635218},{"_id":"themes/hexo-theme-fluid/scripts/filters/locals.js","hash":"58d0fec976f6b1d35e7ea03edc45414088acf05c","modified":1653560635216},{"_id":"themes/hexo-theme-fluid/scripts/utils/compare-versions.js","hash":"dbbc928c914fc2bd242cd66aa0c45971aec13a5d","modified":1653560635218},{"_id":"themes/hexo-theme-fluid/scripts/tags/button.js","hash":"3eb43a8cdea0a64576ad6b31b4df6c2bf5698d4c","modified":1653560635217},{"_id":"themes/hexo-theme-fluid/scripts/tags/mermaid.js","hash":"75160561e1ef3603b6d2ad2938464ab1cb77fd38","modified":1653560635218},{"_id":"themes/hexo-theme-fluid/scripts/tags/note.js","hash":"f52f3a005b41f48b4da274ac64710177c8d4502f","modified":1653560635218},{"_id":"themes/hexo-theme-fluid/scripts/utils/object.js","hash":"33b57e4decdc5e75c518859f168c8ba80b2c665b","modified":1653560635218},{"_id":"themes/hexo-theme-fluid/scripts/utils/resolve.js","hash":"8c4a8b62aa8608f12f1e9046231dff04859dc3e9","modified":1653560635218},{"_id":"themes/hexo-theme-fluid/scripts/utils/url-join.js","hash":"718aab5e7b2059a06b093ca738de420d9afa44ba","modified":1653560635218},{"_id":"themes/hexo-theme-fluid/layout/_partials/header.ejs","hash":"536eedc03faae3b35dc69abd478634d453061a0a","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/layout/_partials/footer.ejs","hash":"10ccfb8eef4e16182183c9a3e175c90d5b6397d3","modified":1653560635212},{"_id":"themes/hexo-theme-fluid/source/css/highlight-dark.styl","hash":"45695ef75c31a4aa57324dd408b7e2327a337018","modified":1653560635222},{"_id":"themes/hexo-theme-fluid/source/css/highlight.styl","hash":"a9efc52a646a9e585439c768557e3e3c9e3326dc","modified":1653560635222},{"_id":"themes/hexo-theme-fluid/source/css/gitalk.css","hash":"a57b3cc8e04a0a4a27aefa07facf5b5e7bca0e76","modified":1653560635222},{"_id":"themes/hexo-theme-fluid/source/js/boot.js","hash":"6b7319b36ca2e2d3afe336623ef438994f3d26de","modified":1653560635224},{"_id":"themes/hexo-theme-fluid/source/js/img-lazyload.js","hash":"cbdeca434ec4da51f488c821d51b4d23c73294af","modified":1653560635224},{"_id":"themes/hexo-theme-fluid/source/js/leancloud.js","hash":"ed23208de670d7a5900f2669cc715e2479885958","modified":1653560635224},{"_id":"themes/hexo-theme-fluid/source/css/main.styl","hash":"855ae5fe229c51afa57f7645f6997a27a705d7e4","modified":1653560635222},{"_id":"themes/hexo-theme-fluid/source/js/local-search.js","hash":"cebcda5991b6a9ab9307c69542389ce9013f04f7","modified":1653560635224},{"_id":"themes/hexo-theme-fluid/source/js/events.js","hash":"f05a569a9fd6da2fda69a2cf8e276ba81580faf3","modified":1653560635224},{"_id":"themes/hexo-theme-fluid/source/js/plugins.js","hash":"b4ca98f68bf09a74678932e4ac73ac56a7c01e03","modified":1653560635224},{"_id":"themes/hexo-theme-fluid/source/img/avatar.png","hash":"fe739a158cc128f70f780eb5fa96f388b81d478f","modified":1653560635222},{"_id":"themes/hexo-theme-fluid/source/js/utils.js","hash":"d49d462f8547de07ca49e1ea195dff864b08706b","modified":1653560635225},{"_id":"themes/hexo-theme-fluid/scripts/tags/label.js","hash":"f05a6d32cca79535b22907dc03edb9d3fa2d8176","modified":1653560635218},{"_id":"themes/hexo-theme-fluid/source/img/police_beian.png","hash":"90efded6baa2dde599a9d6b1387973e8e64923ea","modified":1653560635224},{"_id":"themes/hexo-theme-fluid/source/img/fluid.png","hash":"64b215db2cb3af98fe639e94537cb5209f959c78","modified":1653560635223},{"_id":"themes/hexo-theme-fluid/source/xml/local-search.xml","hash":"8c96ba6a064705602ce28d096fd7dd9069630a55","modified":1653560635225},{"_id":"themes/hexo-theme-fluid/layout/_partials/comments/changyan.ejs","hash":"c9b2d68ed3d375f1953e7007307d2a3f75ed6249","modified":1653560635211},{"_id":"themes/hexo-theme-fluid/source/js/color-schema.js","hash":"781e5c82556f279f99c97ffd13f359bd1a445145","modified":1653560635224},{"_id":"themes/hexo-theme-fluid/source/img/loading.gif","hash":"2d2fc0f947940f98c21afafef39ecf226a2e8d55","modified":1653560635223},{"_id":"themes/hexo-theme-fluid/layout/_partials/comments/cusdis.ejs","hash":"5f9dc012be27040bbe874d0c093c0d53958cc987","modified":1653560635211},{"_id":"themes/hexo-theme-fluid/layout/_partials/comments/gitalk.ejs","hash":"843bc141a4545eb20d1c92fb63c85d459b4271ec","modified":1653560635211},{"_id":"themes/hexo-theme-fluid/layout/_partials/comments/disqus.ejs","hash":"aab4a4d24c55231a37db308ae94414319cecdd9b","modified":1653560635211},{"_id":"themes/hexo-theme-fluid/layout/_partials/comments/remark42.ejs","hash":"d4e9532feeb02aed61bd15eda536b5b631454dac","modified":1653560635212},{"_id":"themes/hexo-theme-fluid/layout/_partials/comments/livere.ejs","hash":"2264758fed57542a7389c7aa9f00f1aefa17eb87","modified":1653560635212},{"_id":"themes/hexo-theme-fluid/layout/_partials/comments/valine.ejs","hash":"19ba937553dddd317f827d682661a1066a7b1f30","modified":1653560635212},{"_id":"themes/hexo-theme-fluid/layout/_partials/comments/utterances.ejs","hash":"c7ccf7f28308334a6da6f5425b141a24b5eca0e2","modified":1653560635212},{"_id":"themes/hexo-theme-fluid/layout/_partials/comments/waline.ejs","hash":"12727da7cf3ac83443270f550be4d1c06135b52b","modified":1653560635212},{"_id":"themes/hexo-theme-fluid/layout/_partials/comments/twikoo.ejs","hash":"e6820fb7f13662c42f8433ec95404238f4c1860c","modified":1653560635212},{"_id":"themes/hexo-theme-fluid/layout/_partials/header/navigation.ejs","hash":"38990ed9dbccd88342ee4b4cb5e60818e9eb8e8a","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/layout/_partials/footer/beian.ejs","hash":"4fb9b5dd3f3e41a586d6af44e5069afe7c81fff2","modified":1653560635212},{"_id":"themes/hexo-theme-fluid/layout/_partials/footer/statistics.ejs","hash":"454d8dd4c39f9494ebeb03ca0746f5bc122af76a","modified":1653560635212},{"_id":"themes/hexo-theme-fluid/layout/_partials/header/banner.ejs","hash":"57358e2164284f33f3bc81d5f602c620aeab942f","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/layout/_partials/plugins/anchorjs.ejs","hash":"953552425f0b86c98d1026fdb04e716fdff356e7","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/layout/_partials/plugins/analytics.ejs","hash":"ef56f0903762a7a2c853417dfa6b0463440295e0","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/layout/_partials/plugins/code-widget.ejs","hash":"129a8b19ab26efd02ff1806ff4012376d2cd3497","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/layout/_partials/plugins/fancybox.ejs","hash":"9d1ea2a46b8c8ad8c168594d578f40764818ef13","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/layout/_partials/plugins/highlight.ejs","hash":"7529dd215b09d3557804333942377b9e20fa554e","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/scripts/events/lib/compatible-configs.js","hash":"ef474d1fa5bbafc52619ced0f9dc7eaf2affb363","modified":1653560635216},{"_id":"themes/hexo-theme-fluid/layout/_partials/plugins/math.ejs","hash":"c80bdc171aa53eb7205dcdc77764cec87a1dafd6","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/scripts/events/lib/hello.js","hash":"44c5eb97b98813a07c659d6afedd17fad63b1821","modified":1653560635216},{"_id":"themes/hexo-theme-fluid/layout/_partials/plugins/mermaid.ejs","hash":"3b3b0be9f7624ff72fbb2da6ae3663adcfb7d118","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/layout/_partials/plugins/typed.ejs","hash":"51faef29f8e464bcb2e73049b428b88c8dd8b40a","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/scripts/events/lib/highlight.js","hash":"cb78296da15c7a8a6957cff2129294cc4815513b","modified":1653560635216},{"_id":"themes/hexo-theme-fluid/scripts/events/lib/lazyload.js","hash":"9ba0d4bc224e22af8a5a48d6ff13e5a0fcfee2a4","modified":1653560635216},{"_id":"themes/hexo-theme-fluid/scripts/events/lib/injects.js","hash":"5ae4b07204683e54b5a1b74e931702bbce2ac23e","modified":1653560635216},{"_id":"themes/hexo-theme-fluid/scripts/events/lib/merge-configs.js","hash":"7c944c43b2ece5dd84859bd9d1fe955d13427387","modified":1653560635216},{"_id":"themes/hexo-theme-fluid/scripts/events/lib/footnote.js","hash":"54933c294d9b469a76a5ed36328e778ed740158f","modified":1653560635216},{"_id":"themes/hexo-theme-fluid/layout/_partials/plugins/nprogress.ejs","hash":"4c2d39ce816b8a6dcd6b53113c8695f8bd650a23","modified":1653560635213},{"_id":"themes/hexo-theme-fluid/layout/_partials/post/category-bar.ejs","hash":"88420e83c0968f7da69aa423f42d3033891c9229","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/layout/_partials/post/meta-top.ejs","hash":"ce6e9f578f4faa45840abddf8f46af3f4b69c177","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/layout/_partials/post/sidebar-right.ejs","hash":"d5fcc9b60e02f869a29a8c17a16a6028ecc1e6d8","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/layout/_partials/post/sidebar-left.ejs","hash":"9992c99b3eb728ad195970e1b84d665f2c8691c4","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/layout/_partials/post/copyright.ejs","hash":"359cbcb0e222c23c8a0c5a99034a8a51f667a9ce","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/layout/_partials/post/toc.ejs","hash":"91a1de823492d9225f9daa3ef59efbca345456a0","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/layout/_partials/post/meta-bottom.ejs","hash":"7079b27a7bc15a7dfa9209f6be6051bdec49ebad","modified":1653560635214},{"_id":"themes/hexo-theme-fluid/source/css/_variables/base.styl","hash":"2465f604eea63b14cd2b0cc142769d963a0193a0","modified":1653560635222},{"_id":"themes/hexo-theme-fluid/source/css/_pages/pages.styl","hash":"b8e887bc7fb3b765a1f8ec9448eff8603a41984f","modified":1653560635221},{"_id":"themes/hexo-theme-fluid/source/css/_functions/base.styl","hash":"2e46f3f4e2c9fe34c1ff1c598738fc7349ae8188","modified":1653560635218},{"_id":"themes/hexo-theme-fluid/source/css/_mixins/base.styl","hash":"542e306ee9494e8a78e44d6d7d409605d94caeb3","modified":1653560635218},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_archive/archive.styl","hash":"c475e6681546d30350eaed11f23081ecae80c375","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_about/about.styl","hash":"97fe42516ea531fdad771489b68aa8b2a7f6ae46","modified":1653560635218},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/base.styl","hash":"643284c567665f96915f0b64e59934dda315f74d","modified":1653560635220},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/color-schema.styl","hash":"61279540c2623ea4bf93e40613d41380839b92d3","modified":1653560635220},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/inline.styl","hash":"411a3fa3f924a87e00ff04d18b5c83283b049a4d","modified":1653560635220},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/keyframes.styl","hash":"94065ea50f5bef7566d184f2422f6ac20866ba22","modified":1653560635220},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_index/index.styl","hash":"5f4a17a20ddbf18c8ea6c66638b764905e4386b3","modified":1653560635221},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_post/highlight.styl","hash":"e24cd1186aae10bf897eed9cfd5278247b6300eb","modified":1653560635221},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_links/links.styl","hash":"5c7f2044e3f1da05a3229537c06bd879836f8d6e","modified":1653560635221},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_post/comment.styl","hash":"780f3788e7357bcd3f3262d781cb91bb53976a93","modified":1653560635221},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_category/category-chain.styl","hash":"0cdf7ef50dfd0669d3b257821384ff31cd81b7c9","modified":1653560635220},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_category/category-bar.styl","hash":"99e8e25e84d513b869a17140f63a5c1e48a0e7e1","modified":1653560635220},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_post/markdown.styl","hash":"e6e48d6ba2951ce4abc2876600f85eef64095338","modified":1653560635221},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_post/post-tag.styl","hash":"27f70062415ccf66a9b6f4952db124fc1471fda5","modified":1653560635221},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_category/category-list.styl","hash":"7edfe1b571ecca7d08f5f4dbcf76f4ffdcfbf0b5","modified":1653560635220},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_tag/tags.styl","hash":"65bfc01c76abc927fa1a23bf2422892b0d566c3f","modified":1653560635221},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/anchorjs.styl","hash":"e0cebda4a6f499aff75e71417d88caa7ceb13b94","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/board.styl","hash":"4397037fc3f0033dbe546c33cd9dbdabd8cb1632","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/code-widget.styl","hash":"b66ab013f0f37d724a149b85b3c7432afcf460ad","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/copyright.styl","hash":"26f71a9cd60d96bb0cb5bbdf58150b8e524d9707","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_post/post-page.styl","hash":"078e5496a1852952ce4ee49016e86b9f70d31908","modified":1653560635221},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/footnote.styl","hash":"ae9289cc89649af2042907f8a003303b987f3404","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/header.styl","hash":"896179810e1ee986208ae2d57a44719f6b839bde","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/ngrogress.styl","hash":"5d225357b4a58d46118e6616377168336ed44cb2","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/banner.styl","hash":"7a0bd629bc234fc75e3cc8e3715ffada92f09e73","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/footer.styl","hash":"2caaca71dd1ff63d583099ed817677dd267b457e","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/pagination.styl","hash":"696e429284bda7ae0fffe62ca84cb01a9243ecf0","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/qrcode.styl","hash":"78704a94c0436097abfb0e0a57abeb3429c749b7","modified":1653560635220},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/noscript.styl","hash":"0cf2f2bb44f456150d428016675d5876a9d2e2aa","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/toc.styl","hash":"9e7452aa2372153f25d7a4675c9d36d281a65d24","modified":1653560635220},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/search.styl","hash":"10f7e91a91e681fb9fe46f9df7707b9ef78707c8","modified":1653560635220},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/modal.styl","hash":"adf6c1e5c8e1fb41c77ce6e2258001df61245aa2","modified":1653560635219},{"_id":"themes/hexo-theme-fluid/source/css/_pages/_base/_widget/scroll-btn.styl","hash":"f0e429a27fa8a7658fcbddbb4d4dbe4afa12499a","modified":1653560635220},{"_id":"themes/hexo-theme-fluid/source/img/default.png","hash":"167a12978d80371cf578c8a2e45c24a2eb25b6fb","modified":1653560635223},{"_id":"public/search.xml","hash":"1aac1ecd2757ad67578c9898155331d0ec173877","modified":1675321840488},{"_id":"public/local-search.xml","hash":"8534edef13af6e72e2ca49cbc56913215fd0c441","modified":1675321840488},{"_id":"public/about/index.html","hash":"008eaf571862076c0a164d8175119417c17a44c3","modified":1675321840488},{"_id":"public/contact/index.html","hash":"762ddeb67c057e0e0107b78d874afdd9c4d67e1b","modified":1675321840488},{"_id":"public/categories/index.html","hash":"498ef4e4dd65b9f3aebe0b639101d9da6c9a2331","modified":1675321840488},{"_id":"public/tags/index.html","hash":"997c0d76e050e85d5ee7809e9f16c5f0f28e37b1","modified":1675321840488},{"_id":"public/404/index.html","hash":"21f025cfc81e9c4a1378c8aa25aa8400c1ec1f51","modified":1675321840488},{"_id":"public/categories/å‰ç«¯å¯è§†åŒ–åº“/index.html","hash":"f9c7dfa7f441afbe0d14c0a2b2b43e354b9c2e82","modified":1675321840488},{"_id":"public/categories/h5ä¸ue4/index.html","hash":"02c1096884acdf923773266aa8925d0521403f54","modified":1675321840488},{"_id":"public/categories/å‰ç«¯å·¥ç¨‹åŒ–/index.html","hash":"85cac27fcdd530cd978f5b2cb0e1e2f182c74de7","modified":1675321840488},{"_id":"public/categories/Javascript/index.html","hash":"4f7321eb917bbd909b64e6ee7df0a4dc99ea3b28","modified":1675321840488},{"_id":"public/categories/è‡ªåŠ¨åŒ–éƒ¨ç½²/index.html","hash":"b34213f08d9d73d1e00f46db5dae3dc5b2f7461e","modified":1675321840488},{"_id":"public/categories/å‰ç«¯æ¡†æ¶/index.html","hash":"04cf7dbab8b413168e5c7f546b8e2a7382342992","modified":1675321840488},{"_id":"public/categories/æµè§ˆå™¨ç›¸å…³çŸ¥è¯†/index.html","hash":"9bd88290ec905918d95506ec43d66fc061bfa5db","modified":1675321840488},{"_id":"public/categories/è®¾è®¡æ¨¡å¼/index.html","hash":"6d618c548ad3bdf1e06a5bc6c574fa8c46bb060a","modified":1675321840488},{"_id":"public/archives/index.html","hash":"503363d066911af060be275efb4501f7945dde31","modified":1675321840488},{"_id":"public/archives/2021/index.html","hash":"be60314e236003a41a22b13debf983897d357b8d","modified":1675321840488},{"_id":"public/archives/page/2/index.html","hash":"bb25cf6d7fb4ec362954c9adb77cf8cdb4eb6562","modified":1675321840488},{"_id":"public/archives/2021/07/index.html","hash":"b1cdbd471c5d8304a0f8c4da174ed1f1bb915a7a","modified":1675321840488},{"_id":"public/archives/2021/09/index.html","hash":"5cc66f4202dc93df44e1159d5b781de8c2a8809b","modified":1675321840488},{"_id":"public/archives/2021/10/index.html","hash":"64524da40bdbf69fc8d4e1950e43aebc1b4bb988","modified":1675321840488},{"_id":"public/archives/2022/02/index.html","hash":"999573c9c644201d867a39177c4221231c2a0f8e","modified":1675321840488},{"_id":"public/archives/2022/index.html","hash":"3f482447afe56284672fa844b27058789bdc7e0e","modified":1675321840488},{"_id":"public/archives/2022/03/index.html","hash":"791a195e4149c13b3b5b14f4548be775ff71fa23","modified":1675321840488},{"_id":"public/archives/2021/08/index.html","hash":"460b5d56f8196ad715e14d80f3acb1c0a55a5954","modified":1675321840488},{"_id":"public/archives/2022/11/index.html","hash":"14e280ae4dfb4d2d5331baf03c00111e24ad6938","modified":1675321840488},{"_id":"public/archives/2022/12/index.html","hash":"97f76e36785c5dc5a16301928b4f2ef33ba24ba1","modified":1675321840488},{"_id":"public/archives/2023/index.html","hash":"875d880951200a5774b238c6eb7f1b46838868ee","modified":1675321840488},{"_id":"public/archives/2023/02/index.html","hash":"996062f4de1e0a29da6ac376585d9ac5a965722f","modified":1675321840488},{"_id":"public/tags/echarts/index.html","hash":"70fe2194de3d835628dedad466f6135b4e4af9c4","modified":1675321840488},{"_id":"public/tags/JSæ¨¡å—åŒ–/index.html","hash":"15c69e0c083b594a05feb09d78bcaa05762ade92","modified":1675321840488},{"_id":"public/tags/Javascript/index.html","hash":"a594019b0c873844d3f8ce693032298fa9ba696c","modified":1675321840488},{"_id":"public/tags/jenkins/index.html","hash":"1b811ad2bec0fa2f269f84728419760686a5a419","modified":1675321840488},{"_id":"public/tags/react/index.html","hash":"2e4cb1045d8a9ef804e58757f2c6c5e1b41b69a3","modified":1675321840488},{"_id":"public/tags/svg/index.html","hash":"b6a9ddb2b137f1c9cee461e18966bef5a96aecb8","modified":1675321840488},{"_id":"public/tags/æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹/index.html","hash":"b6243c1fac23f8a11e16fb808d46e341032f6d8d","modified":1675321840488},{"_id":"public/tags/è®¾è®¡æ¨¡å¼/index.html","hash":"9dc697d103fdfcd42c2f6603675c588270ed0bcd","modified":1675321840488},{"_id":"public/tags/æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥/index.html","hash":"bcab34eb5bf5393ac078dcde56aca467fc2ac860","modified":1675321840488},{"_id":"public/tags/h5ä¸ue4/index.html","hash":"8404855091848f24fa57127bce146c53b1790fe0","modified":1675321840488},{"_id":"public/tags/æµè§ˆå™¨æ¸²æŸ“/index.html","hash":"026ee7965b65f596cb4d49a1d53997c37221cf5a","modified":1675321840488},{"_id":"public/tags/d3js/index.html","hash":"49a89e96ed9f01a9c69937a6586ceeb8550f852c","modified":1675321840488},{"_id":"public/page/2/index.html","hash":"60129b491b444fbb40d82b1f4c221e9247053431","modified":1675321840488},{"_id":"public/404.html","hash":"b37a8463d68c4e9a46522306b78761bee721e1ba","modified":1675321840488},{"_id":"public/2023/02/01/commonjs-he-esmodule-de-qu-bie/index.html","hash":"9789e59601b503e04028f3ed0699c484d6d96107","modified":1675321840488},{"_id":"public/2022/12/06/she-ji-mo-shi/index.html","hash":"a28be8e585290a602e204905b79710b1b3757974","modified":1675321840488},{"_id":"public/2022/11/03/liu-lan-qi-huan-cun-ji-zhi-he-huan-cun-ce-lue/index.html","hash":"9b0c1078d724b555991acfd37750a6ee33f01617","modified":1675321840488},{"_id":"public/2022/03/23/liu-lan-qi-jin-cheng-he-xian-cheng/index.html","hash":"a91041cad549d9b936487540702b3452d46863f8","modified":1675321840488},{"_id":"public/2022/11/01/js-gao-ji/index.html","hash":"c0ce8c7172a7e1faf8165ed805e073cdeec9e051","modified":1675321840488},{"_id":"public/2022/02/22/liu-lan-qi-ye-mian-de-xuan-ran-guo-cheng/index.html","hash":"02ba8d0ee1308bb7e3ecfe5299fae904503640f2","modified":1675321840488},{"_id":"public/2022/02/10/da-jian-jenkins/index.html","hash":"cf9ff19cfe261a288ec8bb5c957632e3779e5d9e","modified":1675321840488},{"_id":"public/2021/09/22/svg/index.html","hash":"d309888e13d01641d1a20015ab55c2defb6da3f8","modified":1675321840488},{"_id":"public/2021/10/18/h5-yu-ue4-tong-xun/index.html","hash":"84169d9af380f5b1c3d7c441888798c4a9efb14d","modified":1675321840488},{"_id":"public/2021/08/25/react/index.html","hash":"b1f16bb7000cc5b01a76828601e7dcf42c9507bc","modified":1675321840488},{"_id":"public/2021/07/17/echarts/index.html","hash":"8de03fd74c1b9ef0606f42c4310e8975c31e1eaf","modified":1675321840488},{"_id":"public/2021/07/14/d3/index.html","hash":"4bd6b00a7032dc752b281476c0a61702208ec41d","modified":1675321840488},{"_id":"public/index.html","hash":"cd9934bcbcadc1c417c7503d4ef078e29a7c4165","modified":1675321840488},{"_id":"public/img/fluid.png","hash":"64b215db2cb3af98fe639e94537cb5209f959c78","modified":1675321840488},{"_id":"public/img/police_beian.png","hash":"90efded6baa2dde599a9d6b1387973e8e64923ea","modified":1675321840488},{"_id":"public/img/avatar.png","hash":"fe739a158cc128f70f780eb5fa96f388b81d478f","modified":1675321840488},{"_id":"public/img/loading.gif","hash":"2d2fc0f947940f98c21afafef39ecf226a2e8d55","modified":1675321840488},{"_id":"public/xml/local-search.xml","hash":"8c96ba6a064705602ce28d096fd7dd9069630a55","modified":1675321840488},{"_id":"public/css/gitalk.css","hash":"2234d7496740d11b5b53aaaef9155dcb2c6f3f73","modified":1675321840488},{"_id":"public/css/highlight-dark.css","hash":"5ab9082a6fd29f7f8ffad02a606967bb841a2ab4","modified":1675321840488},{"_id":"public/css/highlight.css","hash":"54b718c687ce8460e10d501c1eb53a8098942c1e","modified":1675321840488},{"_id":"public/js/boot.js","hash":"4288142bbc88feaab612041501128dcc742736d5","modified":1675321840488},{"_id":"public/js/img-lazyload.js","hash":"ac2ff1b8443cba055fa8f51e206392c19f627322","modified":1675321840488},{"_id":"public/js/events.js","hash":"c97f83cf37b1bb0761a33d9d78e10ae3b5a72c60","modified":1675321840488},{"_id":"public/js/leancloud.js","hash":"a102abbdd0102f0ff6524c870359c1af2a7b6c9c","modified":1675321840488},{"_id":"public/js/local-search.js","hash":"93c0e4266bde2af8aad7ecf2550c4354fb756375","modified":1675321840488},{"_id":"public/js/plugins.js","hash":"02fbe3be6741a1506b4838a63562614e9de7cd0a","modified":1675321840488},{"_id":"public/js/utils.js","hash":"a663a634bf0f32ec29490d8d69f9337a46ad565c","modified":1675321840488},{"_id":"public/js/color-schema.js","hash":"7af74b80ed6ad2ec5679128878b0348a45837a96","modified":1675321840488},{"_id":"public/css/main.css","hash":"9c75eb04ef33afcabbaf044fa5d90227e35429d7","modified":1675321840488},{"_id":"public/img/default.png","hash":"167a12978d80371cf578c8a2e45c24a2eb25b6fb","modified":1675321840488}],"Category":[{"name":"å‰ç«¯å¯è§†åŒ–åº“","_id":"cldmrd9ks0004i024d3fr7mug"},{"name":"h5ä¸ue4","_id":"cldmrd9ku0009i02437ragvvd"},{"name":"å‰ç«¯å·¥ç¨‹åŒ–","_id":"cldmrd9kx000hi024gfpp0gmo"},{"name":"Javascript","_id":"cldmrd9kz000mi024fqekh1u2"},{"name":"è‡ªåŠ¨åŒ–éƒ¨ç½²","_id":"cldmrd9l1000si02406nyg36b"},{"name":"å‰ç«¯æ¡†æ¶","_id":"cldmrd9l3000zi024d22411pz"},{"name":"æµè§ˆå™¨ç›¸å…³çŸ¥è¯†","_id":"cldmrd9l40014i02464zx585e"},{"name":"è®¾è®¡æ¨¡å¼","_id":"cldmrd9l40019i02459i52q7z"}],"Data":[],"Page":[{"title":"æœ‰å…³äºæˆ‘","date":"2021-10-11T10:17:45.000Z","type":"about","layout":"about","_content":"","source":"about/index.md","raw":"---\ntitle: æœ‰å…³äºæˆ‘\ndate: 2021-10-11 18:17:45\ntype: \"about\"\nlayout: \"about\"\n---\n","updated":"2021-10-11T10:20:11.008Z","path":"about/index.html","comments":1,"_id":"cldmrd9kk0000i0240qov1xoe","content":"","site":{"data":{}},"wordcount":0,"excerpt":"","more":""},{"title":"è”ç³»å°çš„","date":"2021-10-11T10:20:51.000Z","type":"contact","layout":"contact","_content":"","source":"contact/index.md","raw":"---\ntitle: è”ç³»å°çš„\ndate: 2021-10-11 18:20:51\ntype: \"contact\"\nlayout: \"contact\"\n---\n","updated":"2021-10-11T15:45:03.582Z","path":"contact/index.html","comments":1,"_id":"cldmrd9kp0002i024h4bl4x0r","content":"","site":{"data":{}},"wordcount":0,"excerpt":"","more":""},{"title":"categories","date":"2021-10-11T10:43:03.000Z","type":"categories","layout":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2021-10-11 18:43:03\ntype: \"categories\"\nlayout: \"categories\"\n---\n","updated":"2021-10-11T15:44:14.888Z","path":"categories/index.html","comments":1,"_id":"cldmrd9kt0006i024hqnc4ut0","content":"","site":{"data":{}},"wordcount":0,"excerpt":"","more":""},{"title":"ğŸ·ï¸æ ‡ç­¾","date":"2021-10-11T10:20:39.000Z","type":"tags","layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: ğŸ·ï¸æ ‡ç­¾\ndate: 2021-10-11 18:20:39\ntype: \"tags\"\nlayout: \"tags\"\n---\n","updated":"2021-10-11T15:45:31.503Z","path":"tags/index.html","comments":1,"_id":"cldmrd9kt0007i024eoffdqyz","content":"","site":{"data":{}},"wordcount":0,"excerpt":"","more":""},{"title":"404","date":"2018-09-30T09:25:30.000Z","type":"404","layout":"404","description":"Oopsï½ï¼Œæˆ‘å´©æºƒäº†ï¼æ‰¾ä¸åˆ°ä½ æƒ³è¦çš„é¡µé¢ :(","_content":"","source":"404/index.md","raw":"---\ntitle: 404\ndate: 2018-09-30 17:25:30\ntype: \"404\"\nlayout: \"404\"\ndescription: \"Oopsï½ï¼Œæˆ‘å´©æºƒäº†ï¼æ‰¾ä¸åˆ°ä½ æƒ³è¦çš„é¡µé¢ :(\"\n---\n","updated":"2021-10-11T10:22:08.096Z","path":"404/index.html","comments":1,"_id":"cldmrd9ku0008i024bi9b2xwo","content":"","site":{"data":{}},"wordcount":0,"excerpt":"","more":""}],"Post":[{"title":"echartså­¦ä¹ ç¬”è®°","keywords":"echarts","_content":"### ä¸€ã€æŸ±çŠ¶å›¾ï¼ˆtypeä¸ºbarï¼‰\n\n#### 1.æ•°æ®æ ¼å¼\n\nä¸€ç»´æ•°ç»„\n\n#### 2.xAxiså’ŒyAxis\n\ntypeä¸ºcategoryæ—¶ï¼Œéœ€è¦æŒ‡å®šdata\n\ntypeä¸ºvalueæ—¶ï¼Œdataåœ¨seriesä¸­æŒ‡å®š\n\n#### 3.å¸¸è§æ•ˆæœ\n\n- æ ‡è®°ï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼\n\n  ```javascript\n  markPointï¼š{\n    data: [\n      {\n        type: 'max'ï¼Œ\n        name: 'æœ€å¤§å€¼'\n      },\n      {\n        type: 'min',\n        name: 'æœ€å°å€¼'\n      }\n    ]\n  },\n    markLine: {\n      data: [\n        {\n          type: 'average'ï¼Œ\n          name: 'å¹³å‡å€¼'\n        }\n      ]\n    }\n  ```\n\n\n- æ˜¾ç¤ºï¼š\n\n  labelï¼šæ•°å€¼æ˜¾ç¤º\n\n  barWidthï¼š æŸ±å®½åº¦\n\n  æ¨ªå‘æŸ±çŠ¶å›¾ï¼šxAxiså’ŒyAxisé…ç½®äº’æ¢\n\n### äºŒã€é€šç”¨é…ç½®\n\n- titleæ ‡é¢˜\n  - æ–‡å­—æ ·å¼ï¼štextStyle\n  - æ ‡é¢˜è¾¹æ¡†ï¼šborderWidthã€borderColorã€borderRadius\n  - æ ‡é¢˜ä½ç½®ï¼šleftã€topã€rightã€bottom\n- tooltipæç¤ºæ¡†ç»„ä»¶\n  - è§¦å‘ç±»å‹ï¼štrigger\n    - item\n    - axis\n  - è§¦å‘æ—¶æœºï¼štriggerOn\n    - mouseover\n    - click\n  - æ ¼å¼åŒ–ï¼šformatter\n    - å­—ç¬¦ä¸²æ¨¡æ¿\n    - å›è°ƒå‡½æ•°ï¼ˆå‚æ•°ï¼šargï¼‰\n- toolboxå·¥å…·æ ï¼ˆå¯¼å‡ºå›¾ç‰‡ã€æ•°æ®è§†å›¾ã€æ•°æ®åŒºåŸŸç¼©æ”¾ã€é‡ç½®ã€åŠ¨æ€ç±»å‹åˆ‡æ¢äº”ä¸ªå·¥å…·ï¼‰\n  - featureï¼ˆæ˜¾ç¤ºå·¥å…·æ æŒ‰é’®ï¼‰\n    - savaAsImageï¼ˆå¯¼å‡ºå›¾ç‰‡ï¼‰\n    - dataViewï¼ˆæ•°æ®è§†å›¾ï¼‰\n    - dataZoomï¼ˆæ•°æ®åŒºåŸŸç¼©æ”¾ï¼‰\n    - restoreï¼ˆé‡ç½®ï¼‰\n    - magicTypeï¼ˆåŠ¨æ€ç±»å‹åˆ‡æ¢ï¼‰ï¼šå¦‚magicTypeï¼š { type: ['bar', 'line']}\n- legendå›¾ä¾‹ï¼ˆç”¨äºç­›é€‰ç³»åˆ—ï¼Œéœ€è¦å’Œseriesé…åˆä½¿ç”¨ï¼‰\n  - legendä¸­çš„dataæ˜¯ä¸€ä¸ªæ•°ç»„\n  - legendä¸­çš„dataçš„å€¼éœ€è¦å’Œseriesæ•°ç»„ä¸­æŸç»„æ•°æ®çš„nameå€¼ä¸€è‡´\n\n### ä¸‰ã€æŠ˜çº¿å›¾ï¼ˆtypeä¸ºlineï¼‰\n\n#### 1.æ•°æ®æ ¼å¼\n\nä¸€ç»´æ•°ç»„\n\n#### 2.å¸¸ç”¨æ•ˆæœ\n\n- æ ‡è®°ï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ã€æ ‡æ³¨åŒºé—´\n  - markPoint\n  - markLine\n  - markArea\n- çº¿æ¡æ§åˆ¶ï¼šå¹³æ»‘ã€é£æ ¼\n  - smoothã€lineStyle \n- å¡«å……é£æ ¼\n  - areaStyle\n- ç´§æŒ¨yè½´è¾¹ç¼˜ï¼ˆè®¾ç½®åœ¨xAxisï¼‰\n  - boundaryGap\n- ç¼©æ”¾ï¼šè„±ç¦»0å€¼æ¯”ä¾‹\n  - scaleï¼štrue\n- å †å å›¾\n  - stackï¼šall\n  - å¯ä»¥å’ŒareaStyleé…åˆä½¿ç”¨\n\n### å››ã€æ•£ç‚¹å›¾ï¼ˆtypeä¸ºscatterï¼‰\n\n#### 1.æ•°æ®æ ¼å¼\n\näºŒç»´æ•°ç»„\n\n#### 2.åŸºæœ¬çš„æ•£ç‚¹å›¾\n\n- xè½´å’Œyè½´typeéƒ½æ˜¯value\n- xè½´å’Œyè½´çš„æ•°æ®ï¼Œæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„\n- typeä¸ºscatter\n\n#### 3.å¸¸ç”¨æ•ˆæœ\n\n- æ°”æ³¡å›¾æ•ˆæœ\n  - æ•£ç‚¹å¤§å°ä¸åŒï¼šsymbolSize\n  - æ•£ç‚¹çš„é¢œè‰²ä¸åŒï¼šitemStyle.color\n- æ¶Ÿæ¼ªåŠ¨ç”»æ•ˆæœ\n  - type: effectScatter\n  - showEffectOn: 'emphasis' é¼ æ ‡ç§»å…¥æ—¶æ‰æ˜¾ç¤ºæ¶Ÿæ¼ªæ•ˆæœï¼Œé»˜è®¤å€¼æ˜¯renderï¼ˆæ¸²æŸ“å°±æ˜¾ç¤ºæ¶Ÿæ¼ªæ•ˆæœï¼‰\n  - rippleEffect: { scale: 10} æ•£ç‚¹æ¶Ÿæ¼ªæ•ˆæœçš„èŒƒå›´\n\n### äº”ã€ç›´è§’åæ ‡ç³»çš„å¸¸ç”¨é…ç½®\n\nç›´è§’åæ ‡ç³»çš„å›¾è¡¨ï¼šæŸ±çŠ¶å›¾ï¼ˆbarï¼‰ã€æŠ˜çº¿å›¾ï¼ˆlineï¼‰ã€æ•£ç‚¹å›¾ï¼ˆscatterï¼‰\n\n- gridç½‘æ ¼ï¼ˆæ§åˆ¶ç›´è§’åæ ‡ç³»çš„å¸ƒå±€å’Œå¤§å°ï¼Œxè½´å’Œyè½´å°±æ˜¯åœ¨gridçš„åŸºç¡€ä¸Šè¿›è¡Œç»˜åˆ¶çš„ï¼‰\n  - æ˜¾ç¤ºgird\n    - show\n  - gridçš„è¾¹æ¡†\n    - borderWidthã€borderColor\n  - gridçš„ä½ç½®å’Œå¤§å°\n    - left\n    - top\n    - right\n    - bottom\n- axisåæ ‡è½´ï¼ˆåˆ†ä¸ºxè½´å’Œyè½´ï¼‰\n  - åæ ‡è½´ç±»å‹type\n    - valueï¼šæ•°å€¼å‘¨ï¼Œè‡ªåŠ¨ä¼šä»ç›®æ ‡æ•°æ®ä¸­è¯»å–æ•°æ®\n    - categoryï¼šç±»ç›®è½´ï¼Œè¯¥ç±»å‹å¿…é¡»é€šè¿‡dataè®¾ç½®ç±»ç›®æ•°æ®\n  - æ˜¾ç¤ºä½ç½®position\n    - xAxisï¼šå¯å–å€¼ä¸ºtopæˆ–bottom\n    - yAxisï¼šå¯å–å€¼ä¸ºleftæˆ–right\n- åŒºåŸŸç¼©æ”¾dataZoom\n  - dataZoomç”¨äºåŒºåŸŸç¼©æ”¾ï¼Œå¯¹æ•°æ®èŒƒå›´è¿‡æ»¤ï¼Œxè½´å’Œyè½´éƒ½å¯ä»¥æ‹¥æœ‰ã€‚dataZoomæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥é…ç½®å¤šä¸ªåŒºåŸŸç¼©æ”¾å™¨\n  - ç±»å‹type\n    - sliderï¼šæ»‘å—æ§åˆ¶ç¼©æ”¾\n    - insideï¼šå†…ç½®ï¼Œä¾é é¼ æ ‡æ»šè½®æˆ–è€…åŒæŒ‡ç¼©æ”¾\n  - æŒ‡æ˜äº§ç”Ÿä½œç”¨çš„è½´\n    - xAxisIndexï¼šè®¾ç½®ç¼©æ”¾ç»„ä»¶æ§åˆ¶çš„æ˜¯å“ªä¸ªxè½´ï¼Œä¸€èˆ¬å†™0å³å¯\n    - yAxisIndexï¼šè®¾ç½®ç¼©æ”¾ç»„ä»¶æ§åˆ¶çš„æ˜¯å“ªä¸ªyè½´ï¼Œä¸€èˆ¬å†™0å³å¯\n  - æŒ‡æ˜åˆå§‹çŠ¶æ€çš„ç¼©æ”¾æƒ…å†µ\n    - startï¼šæ•°æ®çª—å£èŒƒå›´çš„èµ·å§‹ç™¾åˆ†æ¯”\n    - endï¼šæ•°æ®çª—å£èŒƒå›´çš„ç»“æŸç™¾åˆ†æ¯”\n\n### å…­ã€é¥¼å›¾ï¼ˆtypeä¸ºpieï¼‰\n\n#### 1.æ•°æ®æ ¼å¼\n\njsonæ•°æ®ï¼šdata: [{name: 'äº¬ä¸œ'ï¼Œvalue: '9000'}]\n\n#### 2.åŸºæœ¬çš„é¥¼å›¾\n\n- æ•°æ®æ˜¯jsonæ•°æ®æ ¼å¼\n- typeä¸ºpie\n- æ— é¡»é…ç½®xAxiså’ŒyAxis\n\n#### 3.é¥¼å›¾å¸¸è§æ•ˆæœ\n\n- æ˜¾ç¤ºæ•°å€¼\n  - lable.formatter\n- åœ†ç¯\n  - è®¾ç½®ä¸¤ä¸ªåŠå¾„ radiusï¼š['50%', '70%'] åˆ†åˆ«æ˜¯å†…åŠå¾„å’Œå¤–åŠå¾„\n- å—ä¸æ ¼å°”å›¾\n  - roseTypeï¼š'radius'\n- é€‰ä¸­æ•ˆæœ\n  - é€‰ä¸­æ¨¡å¼ selectModeï¼šsingleï¼ˆå¯é€‰ä¸­å•ä¸ªï¼‰\\multipleï¼ˆå¯é€‰ä¸­å¤šä¸ªï¼‰\n  - é€‰ä¸­åç§»é‡ selectOffsetï¼š30\n\n### ä¸ƒã€åœ°å›¾ï¼ˆtypeï¼šmapï¼‰\n\n#### 1.çŸ¢é‡åœ°å›¾çš„å®ç°æ­¥éª¤\n\n- Echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„\n  - å¼•å…¥jsæ–‡ä»¶\n  - å¸¦å®½é«˜çš„DOMå®¹å™¨\n  - initåˆå§‹åŒ–å¯¹è±¡\n  - setOptionè®¾ç½®option\n- å‡†å¤‡ä¸­å›½çš„çŸ¢é‡åœ°å›¾jsonæ–‡ä»¶ï¼ˆhttp://datav.aliyun.com/tools/atlas/index.html#&lat=30.332329214580188&lng=106.72278672066881&zoom=3.5ï¼‰\n- ä½¿ç”¨ajaxè·å–json\n  - $.get('json/map/china.json', function(chinaJson){})\n- å¾€echartså…¨å±€å¯¹è±¡æ³¨å†Œåœ°å›¾çš„jsonæ•°æ®\n  - echarts.registerMap('chinaMap', chinaJson)\n- åœ¨geoä¸‹è®¾ç½®\n  - type:'map'\n  - map:'chinaMap'\n\n#### 2.å¸¸ç”¨é…ç½®\n\n- ç¼©æ”¾æ‹–åŠ¨\n  - roamï¼štrue\n- åç§°æ˜¾ç¤º\n  - label\n- åˆå§‹ç¼©æ”¾æ¯”ä¾‹\n  - zoomï¼š2ï¼ˆ2å€ï¼‰\n- åœ°å›¾ä¸­å¿ƒç‚¹\n  - center\n\n#### 3.å¸¸è§æ•ˆæœ\n\n- ä¸åŒåŸå¸‚é¢œè‰²ä¸åŒï¼ˆå¦‚ç©ºæ°”è´¨é‡ï¼‰\n\n  1. æ˜¾ç¤ºåŸºæœ¬çš„ä¸­å›½åœ°å›¾\n\n  2. åŸå¸‚çš„ç©ºæ°”è´¨é‡æ•°æ®è®¾ç½®ç»™seriesï¼ˆæ­¤å¤„çš„æ•°æ®å¿…é¡»æ˜¯[{name: cityName, value: ''}]çš„æ ¼å¼ï¼Œå…¶ä¸­nameå±æ€§å¿…é¡»å’Œçœä»½åä¸€è‡´ï¼‰\n\n  3. å°†seriesä¸‹çš„æ•°æ®ä¸geoå…³è”èµ·æ¥\n\n     è®¾ç½®type: 'map'ï¼ŒgeoIndex:0\n\n  4. ç»“åˆvisualMapé…åˆä½¿ç”¨\n\n     visualMap: {min: 0, max: 40, range: { color: ['white', 'red']}}\n\n- åœ°å›¾å’Œæ•£ç‚¹å›¾ç»“åˆ\n\n  1. ç»™seriesä¸‹é…ç½®æ•£ç‚¹å›¾å¯¹è±¡\n\n  2. å‡†å¤‡å¥½æ•£ç‚¹æ•°æ®ï¼Œè®¾ç½®ç»™æ–°å¯¹è±¡çš„dataï¼ˆäºŒç»´æ•°ç»„ï¼Œåœ°å›¾åæ ‡ï¼‰\n\n  3. é…ç½®æ–°å¯¹è±¡çš„typeä¸ºeffectScatter\n\n  4. è®©æ•£ç‚¹å›¾ä½¿ç”¨åœ°å›¾åæ ‡ç³»ç»Ÿ\n\n     coordinateSystem: 'geo'\n\n  5. è®©æ¶Ÿæ¼ªçš„æ•ˆæœæ›´åŠ æ˜æ˜¾\n\n     rippleEffectï¼š{ scaleï¼š10 }\n\n### å…«ã€é›·è¾¾å›¾ï¼ˆtypeï¼šradarï¼‰\n\n#### 1.å®ç°æ­¥éª¤\n\n- echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„\n- å®šä¹‰å„ä¸ªç»´åº¦çš„æœ€å¤§å€¼ï¼ˆåœ¨radarå±æ€§ä¸‹ï¼‰\n  - indicatorï¼š[{name: 'æ˜“ç”¨æ€§', max: 100]}]\n- å‡†å¤‡å…·ä½“äº§å“çš„æ•°æ®\n  - åœ¨seriesä¸‹è®¾ç½®dataï¼š[{name: 'åä¸ºæ‰‹æœº', value: [80, 80, 90, 95, 85]}\n- è®¾ç½®å›¾è¡¨ç±»å‹\n  - åœ¨seriesä¸‹è®¾ç½®typeï¼šradar\n\n#### 2.å¸¸ç”¨é…ç½®\n\n- æ˜¾ç¤ºæ•°å€¼:\n  - label\n- åŒºåŸŸé¢ç§¯ï¼ˆé˜´å½±ï¼‰\n  - areaStyle\n- ç»˜åˆ¶ç±»å‹\n  - shape: 'circle' é»˜è®¤å€¼ polygon\n\n### ä¹ã€ä»ªè¡¨ç›˜ï¼ˆtypeï¼šguageï¼‰\n\n#### 1.å®ç°æ­¥éª¤\n\n- echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„\n- å‡†å¤‡æ•°æ®ï¼Œè®¾ç½®ç»™seriesä¸‹çš„data\n  - data: [{value: 97}]\n- å›¾æ ‡ç±»å‹\n  - åœ¨seriesä¸‹è®¾ç½®typeï¼šguage\n\n#### 2.å¸¸ç”¨æ•ˆæœ\n\n- æ•°å€¼èŒƒå›´\n  - max\n  - min\n- å¤šä¸ªæŒ‡é’ˆ\n  - å¢åŠ seriesä¸‹dataæ•°ç»„ä¸­çš„å…ƒç´ \n- å¤šä¸ªæŒ‡é’ˆé¢œè‰²å·®å¼‚\n  - itemStyle\n\n### åã€ä¸»é¢˜\n\n#### 1.å†…ç½®ä¸»é¢˜\n\n- echartsä¸­é»˜è®¤å†…ç½®äº†ä¸¤å¥—ä¸»é¢˜ï¼šlightã€dark\n\n- åœ¨åˆå§‹åŒ–å¯¹è±¡æ–¹æ³•ä¸­initä¸­å¯ä»¥æŒ‡æ˜\n\n  var chart = echarts.init(dom, 'light')\n\n  var chart = echarts.init(dom, 'dark')\n\n#### 2.è‡ªå®šä¹‰ä¸»é¢˜\n\n- 1.åœ¨å®˜ç½‘ä¸»é¢˜ç¼–è¾‘å™¨ä¸­ç¼–è¾‘ä¸»é¢˜\n- 2.ä¸‹è½½ä¸»é¢˜jsæ–‡ä»¶\n- 3.å¼•å…¥ä¸»é¢˜jsæ–‡ä»¶\n- 4.åœ¨initæ–¹æ³•ä¸­ä½¿ç”¨ä¸»é¢˜\n\n### åä¸€ã€è°ƒè‰²ç›˜\n\n#### 1.å®ƒæ˜¯ä¸€ç»„é¢œè‰²ï¼Œå›¾å½¢ã€ç³»åˆ—ä¼šè‡ªåŠ¨ä»å…¶ä¸­é€‰æ‹©é¢œè‰²\n\n- ä¸»é¢˜è°ƒè‰²ç›˜ï¼ˆä¸»é¢˜jsæ–‡ä»¶ä¸­å…¨å±€æ³¨å†Œçš„colorï¼‰\n\n- å…¨å±€è°ƒè‰²ç›˜\n\n  optionsï¼š{\n\n  â€‹\tcolorï¼š ['red', 'green', 'blue']\n\n  }\n\n- å±€éƒ¨è°ƒè‰²ç›˜\n\n  series: [{\n\n  â€‹\ttype: 'bar',\n\n  â€‹\tcolor: ['red', 'green', 'blue']\n\n  }]\n\n#### 2.è°ƒè‰²ç›˜çš„ä½œç”¨éµå¾ªå°±è¿‘åŸåˆ™\n\n#### 3.é¢œè‰²æ¸å˜\n\n- çº¿æ€§æ¸å˜\n\n  ```javascript\n  itemStyle: {\n    color: {\n      type: 'linear',\n        x: 0, // åœ¨å›¾å…ƒä¸­çš„åˆå§‹xä½ç½®\n        y: 0, // åœ¨å›¾å…ƒä¸­çš„åˆå§‹yä½ç½®\n        x2: 0,\n        y2: 1, // 1ä»£è¡¨åˆ°åº•éƒ¨ï¼Œ0.5åœ¨ä¸­é—´\n          colorStops: [{\n            offset: 0, color: 'red' // 0%å¤„çš„é¢œè‰² \n          },{\n            offset: 1, color: 'blue' // 100%å¤„çš„é¢œè‰²\n          }]\n    }\n  }\n  ```\n\n- å¾„å‘æ¸å˜\n\n  ```javascript\n  itemStyle: {\n    color: {\n      type: 'radial',\n        x: 0.5, \n        y: 0.5,\n        r: 0.5, // æ‰©æ•£çš„åŠå¾„\n          colorStops: [{\n            offset: 0, color: 'red'\n          }, {\n            offset: 1, color: 'blue'\n          }]\n    }\n  }\n  ```\n\n### åäºŒã€æ ·å¼\n\n- ç›´æ¥æ ·å¼\n  - itemStyleã€textStyleã€lineStyleã€areaStyleã€label\n- é«˜äº®æ ·å¼\n  - åœ¨emphasisä¸­åŒ…è£¹itemStyleã€textStyleã€lineStyleã€areaStyleã€label\n- ä¼˜å…ˆçº§é«˜ï¼Œä¼šè¦†ç›–ä¸»é¢˜ä¸­ã€è°ƒè‰²ç›˜çš„æ•ˆæœ\n\n### åä¸‰ã€è‡ªé€‚åº”\n\nå½“æµè§ˆå™¨çš„å¤§å°å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå¦‚æœæƒ³è®©å›¾è¡¨ä¹Ÿèƒ½éšä¹‹é€‚é…å˜åŒ–\n\n- 1.ç›‘å¬çª—å£å¤§å°å˜åŒ–äº‹ä»¶\n\n- 2.åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è°ƒç”¨echartså®ä¾‹å¯¹è±¡çš„resizeæ–¹æ³•å³å¯\n\n  window.onresize = myChart.resize\n\n### åå››ã€åŠ è½½åŠ¨ç”»\n\nechartså·²ç»å†…ç½®å¥½äº†åŠ è½½æ•°æ®çš„åŠ¨ç”»ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨åˆé€‚çš„æ—¶æœºæ˜¾ç¤ºæˆ–è€…éšè—å³å¯\n\n- æ˜¾ç¤ºåŠ è½½åŠ¨ç”»\n\n  mCharts.showLoading()\n\n- éšè—åŠ è½½åŠ¨ç”»\n\n  mCharts.hideLoading()\n\n### åäº”ã€å¢é‡åŠ¨ç”»\n\n- å¢é‡åŠ¨ç”»çš„å®ç°æ–¹å¼\n  - mCharts.setOption\n    - æ‰€æœ‰æ•°æ®çš„æ›´æ–°éƒ½é€šè¿‡setOptionå®ç°\n    - ä¸ç”¨è€ƒè™‘æ•°æ®åˆ°åº•äº§ç”Ÿäº†å“ªäº›å˜åŒ–\n    - echartsä¼šæ‰¾åˆ°ä¸¤ç»„æ•°æ®ä¹‹é—´çš„å·®å¼‚ç„¶åé€šè¿‡åˆé€‚çš„åŠ¨ç”»å–å®ç°æ•°æ®çš„å˜åŒ–\n    - æ–°æ—§optionçš„å…³ç³»å¹¶ä¸æ˜¯ç›¸äº’è¦†ç›–çš„å…³ç³»ï¼Œè€Œæ˜¯ç›¸äº’æ•´åˆçš„å…³ç³»\n    - æˆ‘ä»¬åœ¨è®¾ç½®æ–°çš„optionçš„æ—¶å€™ï¼Œåªéœ€è¦è€ƒè™‘åˆ°å˜åŒ–çš„éƒ¨åˆ†å°±å¯ä»¥\n\n### åå…­ã€åŠ¨ç”»é…ç½®é¡¹\n\n- å¼€å¯åŠ¨ç”»\n\n  - animationï¼štrue\n\n- åŠ¨ç”»æ—¶é•¿\n\n  - animationDurationï¼š5000\n\n  ```javascript\n    animationDurationï¼š functionï¼ˆargï¼‰ {\n      // è¿™é‡Œçš„argæ˜¯æ‰€æœ‰éœ€è¦åŠ¨ç”»æ•ˆæœçš„å›¾å…ƒçš„ç´¢å¼•ï¼Œä¼šæ ¹æ®ä¸åŒå½¢å¼çš„å›¾å…ƒå…ƒç´ è¿›è¡Œåˆ†ç»„\n      return arg * 10\n    }\n    ```\n\n- ç¼“åŠ¨åŠ¨ç”»\n\n  - animationEasing: 'bounceOut'\n\n- åŠ¨ç”»é˜ˆå€¼\n\n  - animationThresholdï¼š 8\n  - å•ä¸­å½¢å¼çš„å…ƒç´ æ•°é‡å¤§äºè¿™ä¸ªé˜ˆå€¼ä¼šå…³é—­åŠ¨ç”»\n\n### åä¸ƒã€å…¨å±€Echartså¯¹è±¡å¸¸ç”¨æ–¹æ³•\n\n- initæ–¹æ³•\n\n  - åˆå§‹åŒ–Echartså®ä¾‹å¯¹è±¡\n  - ä½¿ç”¨ä¸»é¢˜ï¼ˆç¬¬äºŒä¸ªå‚æ•°ï¼‰\n\n- registerThemeæ–¹æ³•\n\n  - æ³¨å†Œä¸»é¢˜\n  - åªæœ‰æ³¨å†Œè¿‡çš„ä¸»é¢˜ï¼Œæ‰èƒ½åœ¨initæ–¹æ³•ä¸­ä½¿ç”¨è¯¥ä¸»é¢˜\n\n- registerMapæ–¹æ³•\n\n  - æ³¨å†Œåœ°å›¾æ•°æ®\n\n    ```javascript\n      $.get('json/map/china.json', function(ChinaJson) {\n        echarts.registerMap('china', chinaJson)\n      })\n      ```\n\n  - geoç»„ä»¶ä½¿ç”¨åœ°å›¾æ•°æ®\n\n    ```javascript\n      var option = {\n        geo: {\n          type: 'map',\n          map: 'china'\n        }\n      }\n      ```\n\n- connectæ–¹æ³•\n\n  - ä¸€ä¸ªé¡µé¢ä¸­å¯ä»¥æœ‰å¤šä¸ªç‹¬ç«‹çš„å›¾è¡¨\n  - æ¯ä¸€ä¸ªå›¾è¡¨å¯¹åº”ä¸€ä¸ªEchartså®ä¾‹å¯¹è±¡\n  - connectå¯ä»¥å®ç°å¤šå›¾å…³è”ï¼Œä¼ å…¥è”åŠ¨ç›®æ ‡ä¸ºEchartså®ä¾‹å¯¹è±¡ï¼Œæ”¯æŒæ•°ç»„\n    - ä¿å­˜å›¾ç‰‡çš„è‡ªåŠ¨æ‹¼æ¥ï¼ˆsaveAsImageï¼‰\n    - åˆ·æ–°æŒ‰é’®\n    - é‡ç½®æŒ‰é’®\n    - æç¤ºæ¡†è”åŠ¨ã€å›¾ä¾‹é€‰æ‹©ã€æ•°æ®èŒƒå›´ä¿®æ”¹ç­‰ç­‰\n\n### åå…«ã€echartsInstanceå®ä¾‹å¸¸ç”¨æ–¹æ³•\n\n- setOptionæ–¹æ³•\n\n  - è®¾ç½®æˆ–ä¿®æ”¹å›¾è¡¨å®ä¾‹çš„é…ç½®é¡¹ä»¥åŠæ•°æ®\n  - å¤šæ¬¡è°ƒç”¨setOptionæ–¹æ³•\n    - åˆå¹¶æ–°æ—§é…ç½®\n    - å¢é‡åŠ¨ç”»\n\n- resizeæ–¹æ³•\n\n  - é‡æ–°è®¡ç®—å’Œç»˜åˆ¶å›¾è¡¨\n  - ä¸€èˆ¬å’Œwindowå¯¹è±¡çš„resizeäº‹ä»¶ç»“åˆä½¿ç”¨\n    - window.onresize = mEcharts.resize\n\n- on\\offæ–¹æ³•\n\n  - ç»‘å®šæˆ–è€…è§£ç»‘äº‹ä»¶å¤„ç†å‡½æ•°\n  - é¼ æ ‡äº‹ä»¶\n    - å¸¸è§äº‹ä»¶ï¼šclickã€dbclickã€mousedownã€mousemoveã€mouseupç­‰\n  - Echartsäº‹ä»¶\n    - å¸¸è§äº‹ä»¶ï¼šlegendselectchangedã€datazoomã€pieselectchangedã€ma'pselectchanged\n\n- dispatchAction\n\n  - è§¦å‘æŸäº›è¡Œä¸º\n\n  - ä½¿ç”¨ä»£ç æ¨¡æ‹Ÿç”¨æˆ·çš„è¡Œä¸º\n\n  ```javascript\n    mCharts.dispatchAction({\n      type: 'hightlight', // äº‹ä»¶ç±»å‹\n      seriesIndex: 0, // å›¾è¡¨ç´¢å¼•(ç³»åˆ—)\n      dataIndex: 1 // å›¾è¡¨ä¸­å“ªä¸€é¡¹é«˜äº®\n    })\n    ```\n\n- clear\n\n  - æ¸…ç©ºå½“å‰å®ä¾‹ï¼Œä¼šç§»é™¤å®ä¾‹ä¸­æ‰€æœ‰çš„ç»„ä»¶å’Œå›¾è¡¨\n  - æ¸…ç©ºä¹‹åå¯ä»¥å†æ¬¡setOption\n\n- disposeæ–¹æ³•\n\n  - é”€æ¯å®ä¾‹\n  - é”€æ¯åå®ä¾‹æ— æ³•å†è¢«ä½¿ç”¨\n\n### åä¹ã€websocketçš„åŸºæœ¬ä½¿ç”¨\n\n- åç«¯\n\n  - å®‰è£…åŒ…\n\n    - npm i ws\n\n  - åˆ›å»ºå¯¹è±¡\n\n    ```javascript\n      const webSocket = require('ws')\n      const wss = new WebSocket.server({\n        port: '8080'\n      })\n      ```\n\n  - ç›‘å¬äº‹ä»¶\n\n    - è¿æ¥äº‹ä»¶\n\n      ```javascript\n        wss.on('connection', client => {\n          console.log('æœ‰å®¢æˆ·ç«¯è¿æ¥')\n        })\n        ```\n\n    - æ¥å—æ•°æ®äº‹ä»¶\n\n      ```javascript\n        wss.on('connection', client => {\n          console.log('æœ‰å®¢æˆ·ç«¯è¿æ¥')\n          client.on('message', msg => {\n            console.log('å®¢æˆ·ç«¯å‘é€æ•°æ®è¿‡æ¥äº†')\n          })\n        })\n        ```\n\n    - å‘é€æ•°æ®\n\n      - client.send('hello socket from back-end')\n\n- å‰ç«¯\n\n  - åˆ›å»ºå¯¹è±¡\n\n    ```javascript\n      const ws = new WebSocket('ws://localhost:8080')\n      ```\n\n  - ç›‘å¬äº‹ä»¶\n\n    - è¿æ¥æˆåŠŸäº‹ä»¶\n      - ws.onopen = () => {}\n    - æ¥å—æ•°æ®äº‹ä»¶\n      - ws.onmessage = msg => {}\n    - å…³é—­è¿æ¥äº‹ä»¶\n      - ws.onclose = () => {}\n\n  - å‘é€æ•°æ®\n\n    - ws.send","source":"_posts/echarts.md","raw":"---\ntitle: echartså­¦ä¹ ç¬”è®°\ntag: echarts\nkeywords: echarts\ncategories: å‰ç«¯å¯è§†åŒ–åº“\n---\n### ä¸€ã€æŸ±çŠ¶å›¾ï¼ˆtypeä¸ºbarï¼‰\n\n#### 1.æ•°æ®æ ¼å¼\n\nä¸€ç»´æ•°ç»„\n\n#### 2.xAxiså’ŒyAxis\n\ntypeä¸ºcategoryæ—¶ï¼Œéœ€è¦æŒ‡å®šdata\n\ntypeä¸ºvalueæ—¶ï¼Œdataåœ¨seriesä¸­æŒ‡å®š\n\n#### 3.å¸¸è§æ•ˆæœ\n\n- æ ‡è®°ï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼\n\n  ```javascript\n  markPointï¼š{\n    data: [\n      {\n        type: 'max'ï¼Œ\n        name: 'æœ€å¤§å€¼'\n      },\n      {\n        type: 'min',\n        name: 'æœ€å°å€¼'\n      }\n    ]\n  },\n    markLine: {\n      data: [\n        {\n          type: 'average'ï¼Œ\n          name: 'å¹³å‡å€¼'\n        }\n      ]\n    }\n  ```\n\n\n- æ˜¾ç¤ºï¼š\n\n  labelï¼šæ•°å€¼æ˜¾ç¤º\n\n  barWidthï¼š æŸ±å®½åº¦\n\n  æ¨ªå‘æŸ±çŠ¶å›¾ï¼šxAxiså’ŒyAxisé…ç½®äº’æ¢\n\n### äºŒã€é€šç”¨é…ç½®\n\n- titleæ ‡é¢˜\n  - æ–‡å­—æ ·å¼ï¼štextStyle\n  - æ ‡é¢˜è¾¹æ¡†ï¼šborderWidthã€borderColorã€borderRadius\n  - æ ‡é¢˜ä½ç½®ï¼šleftã€topã€rightã€bottom\n- tooltipæç¤ºæ¡†ç»„ä»¶\n  - è§¦å‘ç±»å‹ï¼štrigger\n    - item\n    - axis\n  - è§¦å‘æ—¶æœºï¼štriggerOn\n    - mouseover\n    - click\n  - æ ¼å¼åŒ–ï¼šformatter\n    - å­—ç¬¦ä¸²æ¨¡æ¿\n    - å›è°ƒå‡½æ•°ï¼ˆå‚æ•°ï¼šargï¼‰\n- toolboxå·¥å…·æ ï¼ˆå¯¼å‡ºå›¾ç‰‡ã€æ•°æ®è§†å›¾ã€æ•°æ®åŒºåŸŸç¼©æ”¾ã€é‡ç½®ã€åŠ¨æ€ç±»å‹åˆ‡æ¢äº”ä¸ªå·¥å…·ï¼‰\n  - featureï¼ˆæ˜¾ç¤ºå·¥å…·æ æŒ‰é’®ï¼‰\n    - savaAsImageï¼ˆå¯¼å‡ºå›¾ç‰‡ï¼‰\n    - dataViewï¼ˆæ•°æ®è§†å›¾ï¼‰\n    - dataZoomï¼ˆæ•°æ®åŒºåŸŸç¼©æ”¾ï¼‰\n    - restoreï¼ˆé‡ç½®ï¼‰\n    - magicTypeï¼ˆåŠ¨æ€ç±»å‹åˆ‡æ¢ï¼‰ï¼šå¦‚magicTypeï¼š { type: ['bar', 'line']}\n- legendå›¾ä¾‹ï¼ˆç”¨äºç­›é€‰ç³»åˆ—ï¼Œéœ€è¦å’Œseriesé…åˆä½¿ç”¨ï¼‰\n  - legendä¸­çš„dataæ˜¯ä¸€ä¸ªæ•°ç»„\n  - legendä¸­çš„dataçš„å€¼éœ€è¦å’Œseriesæ•°ç»„ä¸­æŸç»„æ•°æ®çš„nameå€¼ä¸€è‡´\n\n### ä¸‰ã€æŠ˜çº¿å›¾ï¼ˆtypeä¸ºlineï¼‰\n\n#### 1.æ•°æ®æ ¼å¼\n\nä¸€ç»´æ•°ç»„\n\n#### 2.å¸¸ç”¨æ•ˆæœ\n\n- æ ‡è®°ï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ã€æ ‡æ³¨åŒºé—´\n  - markPoint\n  - markLine\n  - markArea\n- çº¿æ¡æ§åˆ¶ï¼šå¹³æ»‘ã€é£æ ¼\n  - smoothã€lineStyle \n- å¡«å……é£æ ¼\n  - areaStyle\n- ç´§æŒ¨yè½´è¾¹ç¼˜ï¼ˆè®¾ç½®åœ¨xAxisï¼‰\n  - boundaryGap\n- ç¼©æ”¾ï¼šè„±ç¦»0å€¼æ¯”ä¾‹\n  - scaleï¼štrue\n- å †å å›¾\n  - stackï¼šall\n  - å¯ä»¥å’ŒareaStyleé…åˆä½¿ç”¨\n\n### å››ã€æ•£ç‚¹å›¾ï¼ˆtypeä¸ºscatterï¼‰\n\n#### 1.æ•°æ®æ ¼å¼\n\näºŒç»´æ•°ç»„\n\n#### 2.åŸºæœ¬çš„æ•£ç‚¹å›¾\n\n- xè½´å’Œyè½´typeéƒ½æ˜¯value\n- xè½´å’Œyè½´çš„æ•°æ®ï¼Œæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„\n- typeä¸ºscatter\n\n#### 3.å¸¸ç”¨æ•ˆæœ\n\n- æ°”æ³¡å›¾æ•ˆæœ\n  - æ•£ç‚¹å¤§å°ä¸åŒï¼šsymbolSize\n  - æ•£ç‚¹çš„é¢œè‰²ä¸åŒï¼šitemStyle.color\n- æ¶Ÿæ¼ªåŠ¨ç”»æ•ˆæœ\n  - type: effectScatter\n  - showEffectOn: 'emphasis' é¼ æ ‡ç§»å…¥æ—¶æ‰æ˜¾ç¤ºæ¶Ÿæ¼ªæ•ˆæœï¼Œé»˜è®¤å€¼æ˜¯renderï¼ˆæ¸²æŸ“å°±æ˜¾ç¤ºæ¶Ÿæ¼ªæ•ˆæœï¼‰\n  - rippleEffect: { scale: 10} æ•£ç‚¹æ¶Ÿæ¼ªæ•ˆæœçš„èŒƒå›´\n\n### äº”ã€ç›´è§’åæ ‡ç³»çš„å¸¸ç”¨é…ç½®\n\nç›´è§’åæ ‡ç³»çš„å›¾è¡¨ï¼šæŸ±çŠ¶å›¾ï¼ˆbarï¼‰ã€æŠ˜çº¿å›¾ï¼ˆlineï¼‰ã€æ•£ç‚¹å›¾ï¼ˆscatterï¼‰\n\n- gridç½‘æ ¼ï¼ˆæ§åˆ¶ç›´è§’åæ ‡ç³»çš„å¸ƒå±€å’Œå¤§å°ï¼Œxè½´å’Œyè½´å°±æ˜¯åœ¨gridçš„åŸºç¡€ä¸Šè¿›è¡Œç»˜åˆ¶çš„ï¼‰\n  - æ˜¾ç¤ºgird\n    - show\n  - gridçš„è¾¹æ¡†\n    - borderWidthã€borderColor\n  - gridçš„ä½ç½®å’Œå¤§å°\n    - left\n    - top\n    - right\n    - bottom\n- axisåæ ‡è½´ï¼ˆåˆ†ä¸ºxè½´å’Œyè½´ï¼‰\n  - åæ ‡è½´ç±»å‹type\n    - valueï¼šæ•°å€¼å‘¨ï¼Œè‡ªåŠ¨ä¼šä»ç›®æ ‡æ•°æ®ä¸­è¯»å–æ•°æ®\n    - categoryï¼šç±»ç›®è½´ï¼Œè¯¥ç±»å‹å¿…é¡»é€šè¿‡dataè®¾ç½®ç±»ç›®æ•°æ®\n  - æ˜¾ç¤ºä½ç½®position\n    - xAxisï¼šå¯å–å€¼ä¸ºtopæˆ–bottom\n    - yAxisï¼šå¯å–å€¼ä¸ºleftæˆ–right\n- åŒºåŸŸç¼©æ”¾dataZoom\n  - dataZoomç”¨äºåŒºåŸŸç¼©æ”¾ï¼Œå¯¹æ•°æ®èŒƒå›´è¿‡æ»¤ï¼Œxè½´å’Œyè½´éƒ½å¯ä»¥æ‹¥æœ‰ã€‚dataZoomæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥é…ç½®å¤šä¸ªåŒºåŸŸç¼©æ”¾å™¨\n  - ç±»å‹type\n    - sliderï¼šæ»‘å—æ§åˆ¶ç¼©æ”¾\n    - insideï¼šå†…ç½®ï¼Œä¾é é¼ æ ‡æ»šè½®æˆ–è€…åŒæŒ‡ç¼©æ”¾\n  - æŒ‡æ˜äº§ç”Ÿä½œç”¨çš„è½´\n    - xAxisIndexï¼šè®¾ç½®ç¼©æ”¾ç»„ä»¶æ§åˆ¶çš„æ˜¯å“ªä¸ªxè½´ï¼Œä¸€èˆ¬å†™0å³å¯\n    - yAxisIndexï¼šè®¾ç½®ç¼©æ”¾ç»„ä»¶æ§åˆ¶çš„æ˜¯å“ªä¸ªyè½´ï¼Œä¸€èˆ¬å†™0å³å¯\n  - æŒ‡æ˜åˆå§‹çŠ¶æ€çš„ç¼©æ”¾æƒ…å†µ\n    - startï¼šæ•°æ®çª—å£èŒƒå›´çš„èµ·å§‹ç™¾åˆ†æ¯”\n    - endï¼šæ•°æ®çª—å£èŒƒå›´çš„ç»“æŸç™¾åˆ†æ¯”\n\n### å…­ã€é¥¼å›¾ï¼ˆtypeä¸ºpieï¼‰\n\n#### 1.æ•°æ®æ ¼å¼\n\njsonæ•°æ®ï¼šdata: [{name: 'äº¬ä¸œ'ï¼Œvalue: '9000'}]\n\n#### 2.åŸºæœ¬çš„é¥¼å›¾\n\n- æ•°æ®æ˜¯jsonæ•°æ®æ ¼å¼\n- typeä¸ºpie\n- æ— é¡»é…ç½®xAxiså’ŒyAxis\n\n#### 3.é¥¼å›¾å¸¸è§æ•ˆæœ\n\n- æ˜¾ç¤ºæ•°å€¼\n  - lable.formatter\n- åœ†ç¯\n  - è®¾ç½®ä¸¤ä¸ªåŠå¾„ radiusï¼š['50%', '70%'] åˆ†åˆ«æ˜¯å†…åŠå¾„å’Œå¤–åŠå¾„\n- å—ä¸æ ¼å°”å›¾\n  - roseTypeï¼š'radius'\n- é€‰ä¸­æ•ˆæœ\n  - é€‰ä¸­æ¨¡å¼ selectModeï¼šsingleï¼ˆå¯é€‰ä¸­å•ä¸ªï¼‰\\multipleï¼ˆå¯é€‰ä¸­å¤šä¸ªï¼‰\n  - é€‰ä¸­åç§»é‡ selectOffsetï¼š30\n\n### ä¸ƒã€åœ°å›¾ï¼ˆtypeï¼šmapï¼‰\n\n#### 1.çŸ¢é‡åœ°å›¾çš„å®ç°æ­¥éª¤\n\n- Echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„\n  - å¼•å…¥jsæ–‡ä»¶\n  - å¸¦å®½é«˜çš„DOMå®¹å™¨\n  - initåˆå§‹åŒ–å¯¹è±¡\n  - setOptionè®¾ç½®option\n- å‡†å¤‡ä¸­å›½çš„çŸ¢é‡åœ°å›¾jsonæ–‡ä»¶ï¼ˆhttp://datav.aliyun.com/tools/atlas/index.html#&lat=30.332329214580188&lng=106.72278672066881&zoom=3.5ï¼‰\n- ä½¿ç”¨ajaxè·å–json\n  - $.get('json/map/china.json', function(chinaJson){})\n- å¾€echartså…¨å±€å¯¹è±¡æ³¨å†Œåœ°å›¾çš„jsonæ•°æ®\n  - echarts.registerMap('chinaMap', chinaJson)\n- åœ¨geoä¸‹è®¾ç½®\n  - type:'map'\n  - map:'chinaMap'\n\n#### 2.å¸¸ç”¨é…ç½®\n\n- ç¼©æ”¾æ‹–åŠ¨\n  - roamï¼štrue\n- åç§°æ˜¾ç¤º\n  - label\n- åˆå§‹ç¼©æ”¾æ¯”ä¾‹\n  - zoomï¼š2ï¼ˆ2å€ï¼‰\n- åœ°å›¾ä¸­å¿ƒç‚¹\n  - center\n\n#### 3.å¸¸è§æ•ˆæœ\n\n- ä¸åŒåŸå¸‚é¢œè‰²ä¸åŒï¼ˆå¦‚ç©ºæ°”è´¨é‡ï¼‰\n\n  1. æ˜¾ç¤ºåŸºæœ¬çš„ä¸­å›½åœ°å›¾\n\n  2. åŸå¸‚çš„ç©ºæ°”è´¨é‡æ•°æ®è®¾ç½®ç»™seriesï¼ˆæ­¤å¤„çš„æ•°æ®å¿…é¡»æ˜¯[{name: cityName, value: ''}]çš„æ ¼å¼ï¼Œå…¶ä¸­nameå±æ€§å¿…é¡»å’Œçœä»½åä¸€è‡´ï¼‰\n\n  3. å°†seriesä¸‹çš„æ•°æ®ä¸geoå…³è”èµ·æ¥\n\n     è®¾ç½®type: 'map'ï¼ŒgeoIndex:0\n\n  4. ç»“åˆvisualMapé…åˆä½¿ç”¨\n\n     visualMap: {min: 0, max: 40, range: { color: ['white', 'red']}}\n\n- åœ°å›¾å’Œæ•£ç‚¹å›¾ç»“åˆ\n\n  1. ç»™seriesä¸‹é…ç½®æ•£ç‚¹å›¾å¯¹è±¡\n\n  2. å‡†å¤‡å¥½æ•£ç‚¹æ•°æ®ï¼Œè®¾ç½®ç»™æ–°å¯¹è±¡çš„dataï¼ˆäºŒç»´æ•°ç»„ï¼Œåœ°å›¾åæ ‡ï¼‰\n\n  3. é…ç½®æ–°å¯¹è±¡çš„typeä¸ºeffectScatter\n\n  4. è®©æ•£ç‚¹å›¾ä½¿ç”¨åœ°å›¾åæ ‡ç³»ç»Ÿ\n\n     coordinateSystem: 'geo'\n\n  5. è®©æ¶Ÿæ¼ªçš„æ•ˆæœæ›´åŠ æ˜æ˜¾\n\n     rippleEffectï¼š{ scaleï¼š10 }\n\n### å…«ã€é›·è¾¾å›¾ï¼ˆtypeï¼šradarï¼‰\n\n#### 1.å®ç°æ­¥éª¤\n\n- echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„\n- å®šä¹‰å„ä¸ªç»´åº¦çš„æœ€å¤§å€¼ï¼ˆåœ¨radarå±æ€§ä¸‹ï¼‰\n  - indicatorï¼š[{name: 'æ˜“ç”¨æ€§', max: 100]}]\n- å‡†å¤‡å…·ä½“äº§å“çš„æ•°æ®\n  - åœ¨seriesä¸‹è®¾ç½®dataï¼š[{name: 'åä¸ºæ‰‹æœº', value: [80, 80, 90, 95, 85]}\n- è®¾ç½®å›¾è¡¨ç±»å‹\n  - åœ¨seriesä¸‹è®¾ç½®typeï¼šradar\n\n#### 2.å¸¸ç”¨é…ç½®\n\n- æ˜¾ç¤ºæ•°å€¼:\n  - label\n- åŒºåŸŸé¢ç§¯ï¼ˆé˜´å½±ï¼‰\n  - areaStyle\n- ç»˜åˆ¶ç±»å‹\n  - shape: 'circle' é»˜è®¤å€¼ polygon\n\n### ä¹ã€ä»ªè¡¨ç›˜ï¼ˆtypeï¼šguageï¼‰\n\n#### 1.å®ç°æ­¥éª¤\n\n- echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„\n- å‡†å¤‡æ•°æ®ï¼Œè®¾ç½®ç»™seriesä¸‹çš„data\n  - data: [{value: 97}]\n- å›¾æ ‡ç±»å‹\n  - åœ¨seriesä¸‹è®¾ç½®typeï¼šguage\n\n#### 2.å¸¸ç”¨æ•ˆæœ\n\n- æ•°å€¼èŒƒå›´\n  - max\n  - min\n- å¤šä¸ªæŒ‡é’ˆ\n  - å¢åŠ seriesä¸‹dataæ•°ç»„ä¸­çš„å…ƒç´ \n- å¤šä¸ªæŒ‡é’ˆé¢œè‰²å·®å¼‚\n  - itemStyle\n\n### åã€ä¸»é¢˜\n\n#### 1.å†…ç½®ä¸»é¢˜\n\n- echartsä¸­é»˜è®¤å†…ç½®äº†ä¸¤å¥—ä¸»é¢˜ï¼šlightã€dark\n\n- åœ¨åˆå§‹åŒ–å¯¹è±¡æ–¹æ³•ä¸­initä¸­å¯ä»¥æŒ‡æ˜\n\n  var chart = echarts.init(dom, 'light')\n\n  var chart = echarts.init(dom, 'dark')\n\n#### 2.è‡ªå®šä¹‰ä¸»é¢˜\n\n- 1.åœ¨å®˜ç½‘ä¸»é¢˜ç¼–è¾‘å™¨ä¸­ç¼–è¾‘ä¸»é¢˜\n- 2.ä¸‹è½½ä¸»é¢˜jsæ–‡ä»¶\n- 3.å¼•å…¥ä¸»é¢˜jsæ–‡ä»¶\n- 4.åœ¨initæ–¹æ³•ä¸­ä½¿ç”¨ä¸»é¢˜\n\n### åä¸€ã€è°ƒè‰²ç›˜\n\n#### 1.å®ƒæ˜¯ä¸€ç»„é¢œè‰²ï¼Œå›¾å½¢ã€ç³»åˆ—ä¼šè‡ªåŠ¨ä»å…¶ä¸­é€‰æ‹©é¢œè‰²\n\n- ä¸»é¢˜è°ƒè‰²ç›˜ï¼ˆä¸»é¢˜jsæ–‡ä»¶ä¸­å…¨å±€æ³¨å†Œçš„colorï¼‰\n\n- å…¨å±€è°ƒè‰²ç›˜\n\n  optionsï¼š{\n\n  â€‹\tcolorï¼š ['red', 'green', 'blue']\n\n  }\n\n- å±€éƒ¨è°ƒè‰²ç›˜\n\n  series: [{\n\n  â€‹\ttype: 'bar',\n\n  â€‹\tcolor: ['red', 'green', 'blue']\n\n  }]\n\n#### 2.è°ƒè‰²ç›˜çš„ä½œç”¨éµå¾ªå°±è¿‘åŸåˆ™\n\n#### 3.é¢œè‰²æ¸å˜\n\n- çº¿æ€§æ¸å˜\n\n  ```javascript\n  itemStyle: {\n    color: {\n      type: 'linear',\n        x: 0, // åœ¨å›¾å…ƒä¸­çš„åˆå§‹xä½ç½®\n        y: 0, // åœ¨å›¾å…ƒä¸­çš„åˆå§‹yä½ç½®\n        x2: 0,\n        y2: 1, // 1ä»£è¡¨åˆ°åº•éƒ¨ï¼Œ0.5åœ¨ä¸­é—´\n          colorStops: [{\n            offset: 0, color: 'red' // 0%å¤„çš„é¢œè‰² \n          },{\n            offset: 1, color: 'blue' // 100%å¤„çš„é¢œè‰²\n          }]\n    }\n  }\n  ```\n\n- å¾„å‘æ¸å˜\n\n  ```javascript\n  itemStyle: {\n    color: {\n      type: 'radial',\n        x: 0.5, \n        y: 0.5,\n        r: 0.5, // æ‰©æ•£çš„åŠå¾„\n          colorStops: [{\n            offset: 0, color: 'red'\n          }, {\n            offset: 1, color: 'blue'\n          }]\n    }\n  }\n  ```\n\n### åäºŒã€æ ·å¼\n\n- ç›´æ¥æ ·å¼\n  - itemStyleã€textStyleã€lineStyleã€areaStyleã€label\n- é«˜äº®æ ·å¼\n  - åœ¨emphasisä¸­åŒ…è£¹itemStyleã€textStyleã€lineStyleã€areaStyleã€label\n- ä¼˜å…ˆçº§é«˜ï¼Œä¼šè¦†ç›–ä¸»é¢˜ä¸­ã€è°ƒè‰²ç›˜çš„æ•ˆæœ\n\n### åä¸‰ã€è‡ªé€‚åº”\n\nå½“æµè§ˆå™¨çš„å¤§å°å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå¦‚æœæƒ³è®©å›¾è¡¨ä¹Ÿèƒ½éšä¹‹é€‚é…å˜åŒ–\n\n- 1.ç›‘å¬çª—å£å¤§å°å˜åŒ–äº‹ä»¶\n\n- 2.åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è°ƒç”¨echartså®ä¾‹å¯¹è±¡çš„resizeæ–¹æ³•å³å¯\n\n  window.onresize = myChart.resize\n\n### åå››ã€åŠ è½½åŠ¨ç”»\n\nechartså·²ç»å†…ç½®å¥½äº†åŠ è½½æ•°æ®çš„åŠ¨ç”»ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨åˆé€‚çš„æ—¶æœºæ˜¾ç¤ºæˆ–è€…éšè—å³å¯\n\n- æ˜¾ç¤ºåŠ è½½åŠ¨ç”»\n\n  mCharts.showLoading()\n\n- éšè—åŠ è½½åŠ¨ç”»\n\n  mCharts.hideLoading()\n\n### åäº”ã€å¢é‡åŠ¨ç”»\n\n- å¢é‡åŠ¨ç”»çš„å®ç°æ–¹å¼\n  - mCharts.setOption\n    - æ‰€æœ‰æ•°æ®çš„æ›´æ–°éƒ½é€šè¿‡setOptionå®ç°\n    - ä¸ç”¨è€ƒè™‘æ•°æ®åˆ°åº•äº§ç”Ÿäº†å“ªäº›å˜åŒ–\n    - echartsä¼šæ‰¾åˆ°ä¸¤ç»„æ•°æ®ä¹‹é—´çš„å·®å¼‚ç„¶åé€šè¿‡åˆé€‚çš„åŠ¨ç”»å–å®ç°æ•°æ®çš„å˜åŒ–\n    - æ–°æ—§optionçš„å…³ç³»å¹¶ä¸æ˜¯ç›¸äº’è¦†ç›–çš„å…³ç³»ï¼Œè€Œæ˜¯ç›¸äº’æ•´åˆçš„å…³ç³»\n    - æˆ‘ä»¬åœ¨è®¾ç½®æ–°çš„optionçš„æ—¶å€™ï¼Œåªéœ€è¦è€ƒè™‘åˆ°å˜åŒ–çš„éƒ¨åˆ†å°±å¯ä»¥\n\n### åå…­ã€åŠ¨ç”»é…ç½®é¡¹\n\n- å¼€å¯åŠ¨ç”»\n\n  - animationï¼štrue\n\n- åŠ¨ç”»æ—¶é•¿\n\n  - animationDurationï¼š5000\n\n  ```javascript\n    animationDurationï¼š functionï¼ˆargï¼‰ {\n      // è¿™é‡Œçš„argæ˜¯æ‰€æœ‰éœ€è¦åŠ¨ç”»æ•ˆæœçš„å›¾å…ƒçš„ç´¢å¼•ï¼Œä¼šæ ¹æ®ä¸åŒå½¢å¼çš„å›¾å…ƒå…ƒç´ è¿›è¡Œåˆ†ç»„\n      return arg * 10\n    }\n    ```\n\n- ç¼“åŠ¨åŠ¨ç”»\n\n  - animationEasing: 'bounceOut'\n\n- åŠ¨ç”»é˜ˆå€¼\n\n  - animationThresholdï¼š 8\n  - å•ä¸­å½¢å¼çš„å…ƒç´ æ•°é‡å¤§äºè¿™ä¸ªé˜ˆå€¼ä¼šå…³é—­åŠ¨ç”»\n\n### åä¸ƒã€å…¨å±€Echartså¯¹è±¡å¸¸ç”¨æ–¹æ³•\n\n- initæ–¹æ³•\n\n  - åˆå§‹åŒ–Echartså®ä¾‹å¯¹è±¡\n  - ä½¿ç”¨ä¸»é¢˜ï¼ˆç¬¬äºŒä¸ªå‚æ•°ï¼‰\n\n- registerThemeæ–¹æ³•\n\n  - æ³¨å†Œä¸»é¢˜\n  - åªæœ‰æ³¨å†Œè¿‡çš„ä¸»é¢˜ï¼Œæ‰èƒ½åœ¨initæ–¹æ³•ä¸­ä½¿ç”¨è¯¥ä¸»é¢˜\n\n- registerMapæ–¹æ³•\n\n  - æ³¨å†Œåœ°å›¾æ•°æ®\n\n    ```javascript\n      $.get('json/map/china.json', function(ChinaJson) {\n        echarts.registerMap('china', chinaJson)\n      })\n      ```\n\n  - geoç»„ä»¶ä½¿ç”¨åœ°å›¾æ•°æ®\n\n    ```javascript\n      var option = {\n        geo: {\n          type: 'map',\n          map: 'china'\n        }\n      }\n      ```\n\n- connectæ–¹æ³•\n\n  - ä¸€ä¸ªé¡µé¢ä¸­å¯ä»¥æœ‰å¤šä¸ªç‹¬ç«‹çš„å›¾è¡¨\n  - æ¯ä¸€ä¸ªå›¾è¡¨å¯¹åº”ä¸€ä¸ªEchartså®ä¾‹å¯¹è±¡\n  - connectå¯ä»¥å®ç°å¤šå›¾å…³è”ï¼Œä¼ å…¥è”åŠ¨ç›®æ ‡ä¸ºEchartså®ä¾‹å¯¹è±¡ï¼Œæ”¯æŒæ•°ç»„\n    - ä¿å­˜å›¾ç‰‡çš„è‡ªåŠ¨æ‹¼æ¥ï¼ˆsaveAsImageï¼‰\n    - åˆ·æ–°æŒ‰é’®\n    - é‡ç½®æŒ‰é’®\n    - æç¤ºæ¡†è”åŠ¨ã€å›¾ä¾‹é€‰æ‹©ã€æ•°æ®èŒƒå›´ä¿®æ”¹ç­‰ç­‰\n\n### åå…«ã€echartsInstanceå®ä¾‹å¸¸ç”¨æ–¹æ³•\n\n- setOptionæ–¹æ³•\n\n  - è®¾ç½®æˆ–ä¿®æ”¹å›¾è¡¨å®ä¾‹çš„é…ç½®é¡¹ä»¥åŠæ•°æ®\n  - å¤šæ¬¡è°ƒç”¨setOptionæ–¹æ³•\n    - åˆå¹¶æ–°æ—§é…ç½®\n    - å¢é‡åŠ¨ç”»\n\n- resizeæ–¹æ³•\n\n  - é‡æ–°è®¡ç®—å’Œç»˜åˆ¶å›¾è¡¨\n  - ä¸€èˆ¬å’Œwindowå¯¹è±¡çš„resizeäº‹ä»¶ç»“åˆä½¿ç”¨\n    - window.onresize = mEcharts.resize\n\n- on\\offæ–¹æ³•\n\n  - ç»‘å®šæˆ–è€…è§£ç»‘äº‹ä»¶å¤„ç†å‡½æ•°\n  - é¼ æ ‡äº‹ä»¶\n    - å¸¸è§äº‹ä»¶ï¼šclickã€dbclickã€mousedownã€mousemoveã€mouseupç­‰\n  - Echartsäº‹ä»¶\n    - å¸¸è§äº‹ä»¶ï¼šlegendselectchangedã€datazoomã€pieselectchangedã€ma'pselectchanged\n\n- dispatchAction\n\n  - è§¦å‘æŸäº›è¡Œä¸º\n\n  - ä½¿ç”¨ä»£ç æ¨¡æ‹Ÿç”¨æˆ·çš„è¡Œä¸º\n\n  ```javascript\n    mCharts.dispatchAction({\n      type: 'hightlight', // äº‹ä»¶ç±»å‹\n      seriesIndex: 0, // å›¾è¡¨ç´¢å¼•(ç³»åˆ—)\n      dataIndex: 1 // å›¾è¡¨ä¸­å“ªä¸€é¡¹é«˜äº®\n    })\n    ```\n\n- clear\n\n  - æ¸…ç©ºå½“å‰å®ä¾‹ï¼Œä¼šç§»é™¤å®ä¾‹ä¸­æ‰€æœ‰çš„ç»„ä»¶å’Œå›¾è¡¨\n  - æ¸…ç©ºä¹‹åå¯ä»¥å†æ¬¡setOption\n\n- disposeæ–¹æ³•\n\n  - é”€æ¯å®ä¾‹\n  - é”€æ¯åå®ä¾‹æ— æ³•å†è¢«ä½¿ç”¨\n\n### åä¹ã€websocketçš„åŸºæœ¬ä½¿ç”¨\n\n- åç«¯\n\n  - å®‰è£…åŒ…\n\n    - npm i ws\n\n  - åˆ›å»ºå¯¹è±¡\n\n    ```javascript\n      const webSocket = require('ws')\n      const wss = new WebSocket.server({\n        port: '8080'\n      })\n      ```\n\n  - ç›‘å¬äº‹ä»¶\n\n    - è¿æ¥äº‹ä»¶\n\n      ```javascript\n        wss.on('connection', client => {\n          console.log('æœ‰å®¢æˆ·ç«¯è¿æ¥')\n        })\n        ```\n\n    - æ¥å—æ•°æ®äº‹ä»¶\n\n      ```javascript\n        wss.on('connection', client => {\n          console.log('æœ‰å®¢æˆ·ç«¯è¿æ¥')\n          client.on('message', msg => {\n            console.log('å®¢æˆ·ç«¯å‘é€æ•°æ®è¿‡æ¥äº†')\n          })\n        })\n        ```\n\n    - å‘é€æ•°æ®\n\n      - client.send('hello socket from back-end')\n\n- å‰ç«¯\n\n  - åˆ›å»ºå¯¹è±¡\n\n    ```javascript\n      const ws = new WebSocket('ws://localhost:8080')\n      ```\n\n  - ç›‘å¬äº‹ä»¶\n\n    - è¿æ¥æˆåŠŸäº‹ä»¶\n      - ws.onopen = () => {}\n    - æ¥å—æ•°æ®äº‹ä»¶\n      - ws.onmessage = msg => {}\n    - å…³é—­è¿æ¥äº‹ä»¶\n      - ws.onclose = () => {}\n\n  - å‘é€æ•°æ®\n\n    - ws.send","slug":"echarts","published":1,"date":"2021-07-17T08:49:18.000Z","updated":"2021-10-14T01:24:36.537Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9km0001i0242i0980ao","content":"<h3 id=\"ä¸€ã€æŸ±çŠ¶å›¾ï¼ˆtypeä¸ºbarï¼‰\"><a href=\"#ä¸€ã€æŸ±çŠ¶å›¾ï¼ˆtypeä¸ºbarï¼‰\" class=\"headerlink\" title=\"ä¸€ã€æŸ±çŠ¶å›¾ï¼ˆtypeä¸ºbarï¼‰\"></a>ä¸€ã€æŸ±çŠ¶å›¾ï¼ˆtypeä¸ºbarï¼‰</h3><h4 id=\"1-æ•°æ®æ ¼å¼\"><a href=\"#1-æ•°æ®æ ¼å¼\" class=\"headerlink\" title=\"1.æ•°æ®æ ¼å¼\"></a>1.æ•°æ®æ ¼å¼</h4><p>ä¸€ç»´æ•°ç»„</p>\n<h4 id=\"2-xAxiså’ŒyAxis\"><a href=\"#2-xAxiså’ŒyAxis\" class=\"headerlink\" title=\"2.xAxiså’ŒyAxis\"></a>2.xAxiså’ŒyAxis</h4><p>typeä¸ºcategoryæ—¶ï¼Œéœ€è¦æŒ‡å®šdata</p>\n<p>typeä¸ºvalueæ—¶ï¼Œdataåœ¨seriesä¸­æŒ‡å®š</p>\n<h4 id=\"3-å¸¸è§æ•ˆæœ\"><a href=\"#3-å¸¸è§æ•ˆæœ\" class=\"headerlink\" title=\"3.å¸¸è§æ•ˆæœ\"></a>3.å¸¸è§æ•ˆæœ</h4><ul>\n<li><p>æ ‡è®°ï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">markPointï¼š&#123;<br>  <span class=\"hljs-attr\">data</span>: [<br>    &#123;<br>      <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;max&#x27;</span>ï¼Œ<br>      <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&#x27;æœ€å¤§å€¼&#x27;</span><br>    &#125;,<br>    &#123;<br>      <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;min&#x27;</span>,<br>      <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&#x27;æœ€å°å€¼&#x27;</span><br>    &#125;<br>  ]<br>&#125;,<br>  <span class=\"hljs-attr\">markLine</span>: &#123;<br>    <span class=\"hljs-attr\">data</span>: [<br>      &#123;<br>        <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;average&#x27;</span>ï¼Œ<br>        <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&#x27;å¹³å‡å€¼&#x27;</span><br>      &#125;<br>    ]<br>  &#125;<br></code></pre></td></tr></table></figure></li>\n</ul>\n<ul>\n<li><p>æ˜¾ç¤ºï¼š</p>\n<p>labelï¼šæ•°å€¼æ˜¾ç¤º</p>\n<p>barWidthï¼š æŸ±å®½åº¦</p>\n<p>æ¨ªå‘æŸ±çŠ¶å›¾ï¼šxAxiså’ŒyAxisé…ç½®äº’æ¢</p>\n</li>\n</ul>\n<h3 id=\"äºŒã€é€šç”¨é…ç½®\"><a href=\"#äºŒã€é€šç”¨é…ç½®\" class=\"headerlink\" title=\"äºŒã€é€šç”¨é…ç½®\"></a>äºŒã€é€šç”¨é…ç½®</h3><ul>\n<li>titleæ ‡é¢˜<ul>\n<li>æ–‡å­—æ ·å¼ï¼štextStyle</li>\n<li>æ ‡é¢˜è¾¹æ¡†ï¼šborderWidthã€borderColorã€borderRadius</li>\n<li>æ ‡é¢˜ä½ç½®ï¼šleftã€topã€rightã€bottom</li>\n</ul>\n</li>\n<li>tooltipæç¤ºæ¡†ç»„ä»¶<ul>\n<li>è§¦å‘ç±»å‹ï¼štrigger<ul>\n<li>item</li>\n<li>axis</li>\n</ul>\n</li>\n<li>è§¦å‘æ—¶æœºï¼štriggerOn<ul>\n<li>mouseover</li>\n<li>click</li>\n</ul>\n</li>\n<li>æ ¼å¼åŒ–ï¼šformatter<ul>\n<li>å­—ç¬¦ä¸²æ¨¡æ¿</li>\n<li>å›è°ƒå‡½æ•°ï¼ˆå‚æ•°ï¼šargï¼‰</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>toolboxå·¥å…·æ ï¼ˆå¯¼å‡ºå›¾ç‰‡ã€æ•°æ®è§†å›¾ã€æ•°æ®åŒºåŸŸç¼©æ”¾ã€é‡ç½®ã€åŠ¨æ€ç±»å‹åˆ‡æ¢äº”ä¸ªå·¥å…·ï¼‰<ul>\n<li>featureï¼ˆæ˜¾ç¤ºå·¥å…·æ æŒ‰é’®ï¼‰<ul>\n<li>savaAsImageï¼ˆå¯¼å‡ºå›¾ç‰‡ï¼‰</li>\n<li>dataViewï¼ˆæ•°æ®è§†å›¾ï¼‰</li>\n<li>dataZoomï¼ˆæ•°æ®åŒºåŸŸç¼©æ”¾ï¼‰</li>\n<li>restoreï¼ˆé‡ç½®ï¼‰</li>\n<li>magicTypeï¼ˆåŠ¨æ€ç±»å‹åˆ‡æ¢ï¼‰ï¼šå¦‚magicTypeï¼š { type: [â€˜barâ€™, â€˜lineâ€™]}</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>legendå›¾ä¾‹ï¼ˆç”¨äºç­›é€‰ç³»åˆ—ï¼Œéœ€è¦å’Œseriesé…åˆä½¿ç”¨ï¼‰<ul>\n<li>legendä¸­çš„dataæ˜¯ä¸€ä¸ªæ•°ç»„</li>\n<li>legendä¸­çš„dataçš„å€¼éœ€è¦å’Œseriesæ•°ç»„ä¸­æŸç»„æ•°æ®çš„nameå€¼ä¸€è‡´</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä¸‰ã€æŠ˜çº¿å›¾ï¼ˆtypeä¸ºlineï¼‰\"><a href=\"#ä¸‰ã€æŠ˜çº¿å›¾ï¼ˆtypeä¸ºlineï¼‰\" class=\"headerlink\" title=\"ä¸‰ã€æŠ˜çº¿å›¾ï¼ˆtypeä¸ºlineï¼‰\"></a>ä¸‰ã€æŠ˜çº¿å›¾ï¼ˆtypeä¸ºlineï¼‰</h3><h4 id=\"1-æ•°æ®æ ¼å¼-1\"><a href=\"#1-æ•°æ®æ ¼å¼-1\" class=\"headerlink\" title=\"1.æ•°æ®æ ¼å¼\"></a>1.æ•°æ®æ ¼å¼</h4><p>ä¸€ç»´æ•°ç»„</p>\n<h4 id=\"2-å¸¸ç”¨æ•ˆæœ\"><a href=\"#2-å¸¸ç”¨æ•ˆæœ\" class=\"headerlink\" title=\"2.å¸¸ç”¨æ•ˆæœ\"></a>2.å¸¸ç”¨æ•ˆæœ</h4><ul>\n<li>æ ‡è®°ï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ã€æ ‡æ³¨åŒºé—´<ul>\n<li>markPoint</li>\n<li>markLine</li>\n<li>markArea</li>\n</ul>\n</li>\n<li>çº¿æ¡æ§åˆ¶ï¼šå¹³æ»‘ã€é£æ ¼<ul>\n<li>smoothã€lineStyle </li>\n</ul>\n</li>\n<li>å¡«å……é£æ ¼<ul>\n<li>areaStyle</li>\n</ul>\n</li>\n<li>ç´§æŒ¨yè½´è¾¹ç¼˜ï¼ˆè®¾ç½®åœ¨xAxisï¼‰<ul>\n<li>boundaryGap</li>\n</ul>\n</li>\n<li>ç¼©æ”¾ï¼šè„±ç¦»0å€¼æ¯”ä¾‹<ul>\n<li>scaleï¼štrue</li>\n</ul>\n</li>\n<li>å †å å›¾<ul>\n<li>stackï¼šall</li>\n<li>å¯ä»¥å’ŒareaStyleé…åˆä½¿ç”¨</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"å››ã€æ•£ç‚¹å›¾ï¼ˆtypeä¸ºscatterï¼‰\"><a href=\"#å››ã€æ•£ç‚¹å›¾ï¼ˆtypeä¸ºscatterï¼‰\" class=\"headerlink\" title=\"å››ã€æ•£ç‚¹å›¾ï¼ˆtypeä¸ºscatterï¼‰\"></a>å››ã€æ•£ç‚¹å›¾ï¼ˆtypeä¸ºscatterï¼‰</h3><h4 id=\"1-æ•°æ®æ ¼å¼-2\"><a href=\"#1-æ•°æ®æ ¼å¼-2\" class=\"headerlink\" title=\"1.æ•°æ®æ ¼å¼\"></a>1.æ•°æ®æ ¼å¼</h4><p>äºŒç»´æ•°ç»„</p>\n<h4 id=\"2-åŸºæœ¬çš„æ•£ç‚¹å›¾\"><a href=\"#2-åŸºæœ¬çš„æ•£ç‚¹å›¾\" class=\"headerlink\" title=\"2.åŸºæœ¬çš„æ•£ç‚¹å›¾\"></a>2.åŸºæœ¬çš„æ•£ç‚¹å›¾</h4><ul>\n<li>xè½´å’Œyè½´typeéƒ½æ˜¯value</li>\n<li>xè½´å’Œyè½´çš„æ•°æ®ï¼Œæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„</li>\n<li>typeä¸ºscatter</li>\n</ul>\n<h4 id=\"3-å¸¸ç”¨æ•ˆæœ\"><a href=\"#3-å¸¸ç”¨æ•ˆæœ\" class=\"headerlink\" title=\"3.å¸¸ç”¨æ•ˆæœ\"></a>3.å¸¸ç”¨æ•ˆæœ</h4><ul>\n<li>æ°”æ³¡å›¾æ•ˆæœ<ul>\n<li>æ•£ç‚¹å¤§å°ä¸åŒï¼šsymbolSize</li>\n<li>æ•£ç‚¹çš„é¢œè‰²ä¸åŒï¼šitemStyle.color</li>\n</ul>\n</li>\n<li>æ¶Ÿæ¼ªåŠ¨ç”»æ•ˆæœ<ul>\n<li>type: effectScatter</li>\n<li>showEffectOn: â€˜emphasisâ€™ é¼ æ ‡ç§»å…¥æ—¶æ‰æ˜¾ç¤ºæ¶Ÿæ¼ªæ•ˆæœï¼Œé»˜è®¤å€¼æ˜¯renderï¼ˆæ¸²æŸ“å°±æ˜¾ç¤ºæ¶Ÿæ¼ªæ•ˆæœï¼‰</li>\n<li>rippleEffect: { scale: 10} æ•£ç‚¹æ¶Ÿæ¼ªæ•ˆæœçš„èŒƒå›´</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"äº”ã€ç›´è§’åæ ‡ç³»çš„å¸¸ç”¨é…ç½®\"><a href=\"#äº”ã€ç›´è§’åæ ‡ç³»çš„å¸¸ç”¨é…ç½®\" class=\"headerlink\" title=\"äº”ã€ç›´è§’åæ ‡ç³»çš„å¸¸ç”¨é…ç½®\"></a>äº”ã€ç›´è§’åæ ‡ç³»çš„å¸¸ç”¨é…ç½®</h3><p>ç›´è§’åæ ‡ç³»çš„å›¾è¡¨ï¼šæŸ±çŠ¶å›¾ï¼ˆbarï¼‰ã€æŠ˜çº¿å›¾ï¼ˆlineï¼‰ã€æ•£ç‚¹å›¾ï¼ˆscatterï¼‰</p>\n<ul>\n<li>gridç½‘æ ¼ï¼ˆæ§åˆ¶ç›´è§’åæ ‡ç³»çš„å¸ƒå±€å’Œå¤§å°ï¼Œxè½´å’Œyè½´å°±æ˜¯åœ¨gridçš„åŸºç¡€ä¸Šè¿›è¡Œç»˜åˆ¶çš„ï¼‰<ul>\n<li>æ˜¾ç¤ºgird<ul>\n<li>show</li>\n</ul>\n</li>\n<li>gridçš„è¾¹æ¡†<ul>\n<li>borderWidthã€borderColor</li>\n</ul>\n</li>\n<li>gridçš„ä½ç½®å’Œå¤§å°<ul>\n<li>left</li>\n<li>top</li>\n<li>right</li>\n<li>bottom</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>axisåæ ‡è½´ï¼ˆåˆ†ä¸ºxè½´å’Œyè½´ï¼‰<ul>\n<li>åæ ‡è½´ç±»å‹type<ul>\n<li>valueï¼šæ•°å€¼å‘¨ï¼Œè‡ªåŠ¨ä¼šä»ç›®æ ‡æ•°æ®ä¸­è¯»å–æ•°æ®</li>\n<li>categoryï¼šç±»ç›®è½´ï¼Œè¯¥ç±»å‹å¿…é¡»é€šè¿‡dataè®¾ç½®ç±»ç›®æ•°æ®</li>\n</ul>\n</li>\n<li>æ˜¾ç¤ºä½ç½®position<ul>\n<li>xAxisï¼šå¯å–å€¼ä¸ºtopæˆ–bottom</li>\n<li>yAxisï¼šå¯å–å€¼ä¸ºleftæˆ–right</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>åŒºåŸŸç¼©æ”¾dataZoom<ul>\n<li>dataZoomç”¨äºåŒºåŸŸç¼©æ”¾ï¼Œå¯¹æ•°æ®èŒƒå›´è¿‡æ»¤ï¼Œxè½´å’Œyè½´éƒ½å¯ä»¥æ‹¥æœ‰ã€‚dataZoomæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥é…ç½®å¤šä¸ªåŒºåŸŸç¼©æ”¾å™¨</li>\n<li>ç±»å‹type<ul>\n<li>sliderï¼šæ»‘å—æ§åˆ¶ç¼©æ”¾</li>\n<li>insideï¼šå†…ç½®ï¼Œä¾é é¼ æ ‡æ»šè½®æˆ–è€…åŒæŒ‡ç¼©æ”¾</li>\n</ul>\n</li>\n<li>æŒ‡æ˜äº§ç”Ÿä½œç”¨çš„è½´<ul>\n<li>xAxisIndexï¼šè®¾ç½®ç¼©æ”¾ç»„ä»¶æ§åˆ¶çš„æ˜¯å“ªä¸ªxè½´ï¼Œä¸€èˆ¬å†™0å³å¯</li>\n<li>yAxisIndexï¼šè®¾ç½®ç¼©æ”¾ç»„ä»¶æ§åˆ¶çš„æ˜¯å“ªä¸ªyè½´ï¼Œä¸€èˆ¬å†™0å³å¯</li>\n</ul>\n</li>\n<li>æŒ‡æ˜åˆå§‹çŠ¶æ€çš„ç¼©æ”¾æƒ…å†µ<ul>\n<li>startï¼šæ•°æ®çª—å£èŒƒå›´çš„èµ·å§‹ç™¾åˆ†æ¯”</li>\n<li>endï¼šæ•°æ®çª—å£èŒƒå›´çš„ç»“æŸç™¾åˆ†æ¯”</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"å…­ã€é¥¼å›¾ï¼ˆtypeä¸ºpieï¼‰\"><a href=\"#å…­ã€é¥¼å›¾ï¼ˆtypeä¸ºpieï¼‰\" class=\"headerlink\" title=\"å…­ã€é¥¼å›¾ï¼ˆtypeä¸ºpieï¼‰\"></a>å…­ã€é¥¼å›¾ï¼ˆtypeä¸ºpieï¼‰</h3><h4 id=\"1-æ•°æ®æ ¼å¼-3\"><a href=\"#1-æ•°æ®æ ¼å¼-3\" class=\"headerlink\" title=\"1.æ•°æ®æ ¼å¼\"></a>1.æ•°æ®æ ¼å¼</h4><p>jsonæ•°æ®ï¼šdata: [{name: â€˜äº¬ä¸œâ€™ï¼Œvalue: â€˜9000â€™}]</p>\n<h4 id=\"2-åŸºæœ¬çš„é¥¼å›¾\"><a href=\"#2-åŸºæœ¬çš„é¥¼å›¾\" class=\"headerlink\" title=\"2.åŸºæœ¬çš„é¥¼å›¾\"></a>2.åŸºæœ¬çš„é¥¼å›¾</h4><ul>\n<li>æ•°æ®æ˜¯jsonæ•°æ®æ ¼å¼</li>\n<li>typeä¸ºpie</li>\n<li>æ— é¡»é…ç½®xAxiså’ŒyAxis</li>\n</ul>\n<h4 id=\"3-é¥¼å›¾å¸¸è§æ•ˆæœ\"><a href=\"#3-é¥¼å›¾å¸¸è§æ•ˆæœ\" class=\"headerlink\" title=\"3.é¥¼å›¾å¸¸è§æ•ˆæœ\"></a>3.é¥¼å›¾å¸¸è§æ•ˆæœ</h4><ul>\n<li>æ˜¾ç¤ºæ•°å€¼<ul>\n<li>lable.formatter</li>\n</ul>\n</li>\n<li>åœ†ç¯<ul>\n<li>è®¾ç½®ä¸¤ä¸ªåŠå¾„ radiusï¼š[â€˜50%â€™, â€˜70%â€™] åˆ†åˆ«æ˜¯å†…åŠå¾„å’Œå¤–åŠå¾„</li>\n</ul>\n</li>\n<li>å—ä¸æ ¼å°”å›¾<ul>\n<li>roseTypeï¼šâ€™radiusâ€™</li>\n</ul>\n</li>\n<li>é€‰ä¸­æ•ˆæœ<ul>\n<li>é€‰ä¸­æ¨¡å¼ selectModeï¼šsingleï¼ˆå¯é€‰ä¸­å•ä¸ªï¼‰\\multipleï¼ˆå¯é€‰ä¸­å¤šä¸ªï¼‰</li>\n<li>é€‰ä¸­åç§»é‡ selectOffsetï¼š30</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä¸ƒã€åœ°å›¾ï¼ˆtypeï¼šmapï¼‰\"><a href=\"#ä¸ƒã€åœ°å›¾ï¼ˆtypeï¼šmapï¼‰\" class=\"headerlink\" title=\"ä¸ƒã€åœ°å›¾ï¼ˆtypeï¼šmapï¼‰\"></a>ä¸ƒã€åœ°å›¾ï¼ˆtypeï¼šmapï¼‰</h3><h4 id=\"1-çŸ¢é‡åœ°å›¾çš„å®ç°æ­¥éª¤\"><a href=\"#1-çŸ¢é‡åœ°å›¾çš„å®ç°æ­¥éª¤\" class=\"headerlink\" title=\"1.çŸ¢é‡åœ°å›¾çš„å®ç°æ­¥éª¤\"></a>1.çŸ¢é‡åœ°å›¾çš„å®ç°æ­¥éª¤</h4><ul>\n<li>Echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„<ul>\n<li>å¼•å…¥jsæ–‡ä»¶</li>\n<li>å¸¦å®½é«˜çš„DOMå®¹å™¨</li>\n<li>initåˆå§‹åŒ–å¯¹è±¡</li>\n<li>setOptionè®¾ç½®option</li>\n</ul>\n</li>\n<li>å‡†å¤‡ä¸­å›½çš„çŸ¢é‡åœ°å›¾jsonæ–‡ä»¶ï¼ˆ<a href=\"http://datav.aliyun.com/tools/atlas/index.html#&amp;lat=30.332329214580188&amp;lng=106.72278672066881&amp;zoom=3.5%EF%BC%89\">http://datav.aliyun.com/tools/atlas/index.html#&amp;lat=30.332329214580188&amp;lng=106.72278672066881&amp;zoom=3.5ï¼‰</a></li>\n<li>ä½¿ç”¨ajaxè·å–json<ul>\n<li>$.get(â€˜json/map/china.jsonâ€™, function(chinaJson){})</li>\n</ul>\n</li>\n<li>å¾€echartså…¨å±€å¯¹è±¡æ³¨å†Œåœ°å›¾çš„jsonæ•°æ®<ul>\n<li>echarts.registerMap(â€˜chinaMapâ€™, chinaJson)</li>\n</ul>\n</li>\n<li>åœ¨geoä¸‹è®¾ç½®<ul>\n<li>type:â€™mapâ€™</li>\n<li>map:â€™chinaMapâ€™</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-å¸¸ç”¨é…ç½®\"><a href=\"#2-å¸¸ç”¨é…ç½®\" class=\"headerlink\" title=\"2.å¸¸ç”¨é…ç½®\"></a>2.å¸¸ç”¨é…ç½®</h4><ul>\n<li>ç¼©æ”¾æ‹–åŠ¨<ul>\n<li>roamï¼štrue</li>\n</ul>\n</li>\n<li>åç§°æ˜¾ç¤º<ul>\n<li>label</li>\n</ul>\n</li>\n<li>åˆå§‹ç¼©æ”¾æ¯”ä¾‹<ul>\n<li>zoomï¼š2ï¼ˆ2å€ï¼‰</li>\n</ul>\n</li>\n<li>åœ°å›¾ä¸­å¿ƒç‚¹<ul>\n<li>center</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"3-å¸¸è§æ•ˆæœ-1\"><a href=\"#3-å¸¸è§æ•ˆæœ-1\" class=\"headerlink\" title=\"3.å¸¸è§æ•ˆæœ\"></a>3.å¸¸è§æ•ˆæœ</h4><ul>\n<li><p>ä¸åŒåŸå¸‚é¢œè‰²ä¸åŒï¼ˆå¦‚ç©ºæ°”è´¨é‡ï¼‰</p>\n<ol>\n<li><p>æ˜¾ç¤ºåŸºæœ¬çš„ä¸­å›½åœ°å›¾</p>\n</li>\n<li><p>åŸå¸‚çš„ç©ºæ°”è´¨é‡æ•°æ®è®¾ç½®ç»™seriesï¼ˆæ­¤å¤„çš„æ•°æ®å¿…é¡»æ˜¯[{name: cityName, value: â€˜â€™}]çš„æ ¼å¼ï¼Œå…¶ä¸­nameå±æ€§å¿…é¡»å’Œçœä»½åä¸€è‡´ï¼‰</p>\n</li>\n<li><p>å°†seriesä¸‹çš„æ•°æ®ä¸geoå…³è”èµ·æ¥</p>\n<p>è®¾ç½®type: â€˜mapâ€™ï¼ŒgeoIndex:0</p>\n</li>\n<li><p>ç»“åˆvisualMapé…åˆä½¿ç”¨</p>\n<p>visualMap: {min: 0, max: 40, range: { color: [â€˜whiteâ€™, â€˜redâ€™]}}</p>\n</li>\n</ol>\n</li>\n<li><p>åœ°å›¾å’Œæ•£ç‚¹å›¾ç»“åˆ</p>\n<ol>\n<li><p>ç»™seriesä¸‹é…ç½®æ•£ç‚¹å›¾å¯¹è±¡</p>\n</li>\n<li><p>å‡†å¤‡å¥½æ•£ç‚¹æ•°æ®ï¼Œè®¾ç½®ç»™æ–°å¯¹è±¡çš„dataï¼ˆäºŒç»´æ•°ç»„ï¼Œåœ°å›¾åæ ‡ï¼‰</p>\n</li>\n<li><p>é…ç½®æ–°å¯¹è±¡çš„typeä¸ºeffectScatter</p>\n</li>\n<li><p>è®©æ•£ç‚¹å›¾ä½¿ç”¨åœ°å›¾åæ ‡ç³»ç»Ÿ</p>\n<p>coordinateSystem: â€˜geoâ€™</p>\n</li>\n<li><p>è®©æ¶Ÿæ¼ªçš„æ•ˆæœæ›´åŠ æ˜æ˜¾</p>\n<p>rippleEffectï¼š{ scaleï¼š10 }</p>\n</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"å…«ã€é›·è¾¾å›¾ï¼ˆtypeï¼šradarï¼‰\"><a href=\"#å…«ã€é›·è¾¾å›¾ï¼ˆtypeï¼šradarï¼‰\" class=\"headerlink\" title=\"å…«ã€é›·è¾¾å›¾ï¼ˆtypeï¼šradarï¼‰\"></a>å…«ã€é›·è¾¾å›¾ï¼ˆtypeï¼šradarï¼‰</h3><h4 id=\"1-å®ç°æ­¥éª¤\"><a href=\"#1-å®ç°æ­¥éª¤\" class=\"headerlink\" title=\"1.å®ç°æ­¥éª¤\"></a>1.å®ç°æ­¥éª¤</h4><ul>\n<li>echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„</li>\n<li>å®šä¹‰å„ä¸ªç»´åº¦çš„æœ€å¤§å€¼ï¼ˆåœ¨radarå±æ€§ä¸‹ï¼‰<ul>\n<li>indicatorï¼š[{name: â€˜æ˜“ç”¨æ€§â€™, max: 100]}]</li>\n</ul>\n</li>\n<li>å‡†å¤‡å…·ä½“äº§å“çš„æ•°æ®<ul>\n<li>åœ¨seriesä¸‹è®¾ç½®dataï¼š[{name: â€˜åä¸ºæ‰‹æœºâ€™, value: [80, 80, 90, 95, 85]}</li>\n</ul>\n</li>\n<li>è®¾ç½®å›¾è¡¨ç±»å‹<ul>\n<li>åœ¨seriesä¸‹è®¾ç½®typeï¼šradar</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-å¸¸ç”¨é…ç½®-1\"><a href=\"#2-å¸¸ç”¨é…ç½®-1\" class=\"headerlink\" title=\"2.å¸¸ç”¨é…ç½®\"></a>2.å¸¸ç”¨é…ç½®</h4><ul>\n<li>æ˜¾ç¤ºæ•°å€¼:<ul>\n<li>label</li>\n</ul>\n</li>\n<li>åŒºåŸŸé¢ç§¯ï¼ˆé˜´å½±ï¼‰<ul>\n<li>areaStyle</li>\n</ul>\n</li>\n<li>ç»˜åˆ¶ç±»å‹<ul>\n<li>shape: â€˜circleâ€™ é»˜è®¤å€¼ polygon</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä¹ã€ä»ªè¡¨ç›˜ï¼ˆtypeï¼šguageï¼‰\"><a href=\"#ä¹ã€ä»ªè¡¨ç›˜ï¼ˆtypeï¼šguageï¼‰\" class=\"headerlink\" title=\"ä¹ã€ä»ªè¡¨ç›˜ï¼ˆtypeï¼šguageï¼‰\"></a>ä¹ã€ä»ªè¡¨ç›˜ï¼ˆtypeï¼šguageï¼‰</h3><h4 id=\"1-å®ç°æ­¥éª¤-1\"><a href=\"#1-å®ç°æ­¥éª¤-1\" class=\"headerlink\" title=\"1.å®ç°æ­¥éª¤\"></a>1.å®ç°æ­¥éª¤</h4><ul>\n<li>echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„</li>\n<li>å‡†å¤‡æ•°æ®ï¼Œè®¾ç½®ç»™seriesä¸‹çš„data<ul>\n<li>data: [{value: 97}]</li>\n</ul>\n</li>\n<li>å›¾æ ‡ç±»å‹<ul>\n<li>åœ¨seriesä¸‹è®¾ç½®typeï¼šguage</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-å¸¸ç”¨æ•ˆæœ-1\"><a href=\"#2-å¸¸ç”¨æ•ˆæœ-1\" class=\"headerlink\" title=\"2.å¸¸ç”¨æ•ˆæœ\"></a>2.å¸¸ç”¨æ•ˆæœ</h4><ul>\n<li>æ•°å€¼èŒƒå›´<ul>\n<li>max</li>\n<li>min</li>\n</ul>\n</li>\n<li>å¤šä¸ªæŒ‡é’ˆ<ul>\n<li>å¢åŠ seriesä¸‹dataæ•°ç»„ä¸­çš„å…ƒç´ </li>\n</ul>\n</li>\n<li>å¤šä¸ªæŒ‡é’ˆé¢œè‰²å·®å¼‚<ul>\n<li>itemStyle</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"åã€ä¸»é¢˜\"><a href=\"#åã€ä¸»é¢˜\" class=\"headerlink\" title=\"åã€ä¸»é¢˜\"></a>åã€ä¸»é¢˜</h3><h4 id=\"1-å†…ç½®ä¸»é¢˜\"><a href=\"#1-å†…ç½®ä¸»é¢˜\" class=\"headerlink\" title=\"1.å†…ç½®ä¸»é¢˜\"></a>1.å†…ç½®ä¸»é¢˜</h4><ul>\n<li><p>echartsä¸­é»˜è®¤å†…ç½®äº†ä¸¤å¥—ä¸»é¢˜ï¼šlightã€dark</p>\n</li>\n<li><p>åœ¨åˆå§‹åŒ–å¯¹è±¡æ–¹æ³•ä¸­initä¸­å¯ä»¥æŒ‡æ˜</p>\n<p>var chart = echarts.init(dom, â€˜lightâ€™)</p>\n<p>var chart = echarts.init(dom, â€˜darkâ€™)</p>\n</li>\n</ul>\n<h4 id=\"2-è‡ªå®šä¹‰ä¸»é¢˜\"><a href=\"#2-è‡ªå®šä¹‰ä¸»é¢˜\" class=\"headerlink\" title=\"2.è‡ªå®šä¹‰ä¸»é¢˜\"></a>2.è‡ªå®šä¹‰ä¸»é¢˜</h4><ul>\n<li>1.åœ¨å®˜ç½‘ä¸»é¢˜ç¼–è¾‘å™¨ä¸­ç¼–è¾‘ä¸»é¢˜</li>\n<li>2.ä¸‹è½½ä¸»é¢˜jsæ–‡ä»¶</li>\n<li>3.å¼•å…¥ä¸»é¢˜jsæ–‡ä»¶</li>\n<li>4.åœ¨initæ–¹æ³•ä¸­ä½¿ç”¨ä¸»é¢˜</li>\n</ul>\n<h3 id=\"åä¸€ã€è°ƒè‰²ç›˜\"><a href=\"#åä¸€ã€è°ƒè‰²ç›˜\" class=\"headerlink\" title=\"åä¸€ã€è°ƒè‰²ç›˜\"></a>åä¸€ã€è°ƒè‰²ç›˜</h3><h4 id=\"1-å®ƒæ˜¯ä¸€ç»„é¢œè‰²ï¼Œå›¾å½¢ã€ç³»åˆ—ä¼šè‡ªåŠ¨ä»å…¶ä¸­é€‰æ‹©é¢œè‰²\"><a href=\"#1-å®ƒæ˜¯ä¸€ç»„é¢œè‰²ï¼Œå›¾å½¢ã€ç³»åˆ—ä¼šè‡ªåŠ¨ä»å…¶ä¸­é€‰æ‹©é¢œè‰²\" class=\"headerlink\" title=\"1.å®ƒæ˜¯ä¸€ç»„é¢œè‰²ï¼Œå›¾å½¢ã€ç³»åˆ—ä¼šè‡ªåŠ¨ä»å…¶ä¸­é€‰æ‹©é¢œè‰²\"></a>1.å®ƒæ˜¯ä¸€ç»„é¢œè‰²ï¼Œå›¾å½¢ã€ç³»åˆ—ä¼šè‡ªåŠ¨ä»å…¶ä¸­é€‰æ‹©é¢œè‰²</h4><ul>\n<li><p>ä¸»é¢˜è°ƒè‰²ç›˜ï¼ˆä¸»é¢˜jsæ–‡ä»¶ä¸­å…¨å±€æ³¨å†Œçš„colorï¼‰</p>\n</li>\n<li><p>å…¨å±€è°ƒè‰²ç›˜</p>\n<p>optionsï¼š{</p>\n<p>â€‹    colorï¼š [â€˜redâ€™, â€˜greenâ€™, â€˜blueâ€™]</p>\n<p>}</p>\n</li>\n<li><p>å±€éƒ¨è°ƒè‰²ç›˜</p>\n<p>series: [{</p>\n<p>â€‹    type: â€˜barâ€™,</p>\n<p>â€‹    color: [â€˜redâ€™, â€˜greenâ€™, â€˜blueâ€™]</p>\n<p>}]</p>\n</li>\n</ul>\n<h4 id=\"2-è°ƒè‰²ç›˜çš„ä½œç”¨éµå¾ªå°±è¿‘åŸåˆ™\"><a href=\"#2-è°ƒè‰²ç›˜çš„ä½œç”¨éµå¾ªå°±è¿‘åŸåˆ™\" class=\"headerlink\" title=\"2.è°ƒè‰²ç›˜çš„ä½œç”¨éµå¾ªå°±è¿‘åŸåˆ™\"></a>2.è°ƒè‰²ç›˜çš„ä½œç”¨éµå¾ªå°±è¿‘åŸåˆ™</h4><h4 id=\"3-é¢œè‰²æ¸å˜\"><a href=\"#3-é¢œè‰²æ¸å˜\" class=\"headerlink\" title=\"3.é¢œè‰²æ¸å˜\"></a>3.é¢œè‰²æ¸å˜</h4><ul>\n<li><p>çº¿æ€§æ¸å˜</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-attr\">itemStyle</span>: &#123;<br>  <span class=\"hljs-attr\">color</span>: &#123;<br>    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;linear&#x27;</span>,<br>      <span class=\"hljs-attr\">x</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-comment\">// åœ¨å›¾å…ƒä¸­çš„åˆå§‹xä½ç½®</span><br>      <span class=\"hljs-attr\">y</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-comment\">// åœ¨å›¾å…ƒä¸­çš„åˆå§‹yä½ç½®</span><br>      <span class=\"hljs-attr\">x2</span>: <span class=\"hljs-number\">0</span>,<br>      <span class=\"hljs-attr\">y2</span>: <span class=\"hljs-number\">1</span>, <span class=\"hljs-comment\">// 1ä»£è¡¨åˆ°åº•éƒ¨ï¼Œ0.5åœ¨ä¸­é—´</span><br>        <span class=\"hljs-attr\">colorStops</span>: [&#123;<br>          <span class=\"hljs-attr\">offset</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">color</span>: <span class=\"hljs-string\">&#x27;red&#x27;</span> <span class=\"hljs-comment\">// 0%å¤„çš„é¢œè‰² </span><br>        &#125;,&#123;<br>          <span class=\"hljs-attr\">offset</span>: <span class=\"hljs-number\">1</span>, <span class=\"hljs-attr\">color</span>: <span class=\"hljs-string\">&#x27;blue&#x27;</span> <span class=\"hljs-comment\">// 100%å¤„çš„é¢œè‰²</span><br>        &#125;]<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>\n<li><p>å¾„å‘æ¸å˜</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-attr\">itemStyle</span>: &#123;<br>  <span class=\"hljs-attr\">color</span>: &#123;<br>    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;radial&#x27;</span>,<br>      <span class=\"hljs-attr\">x</span>: <span class=\"hljs-number\">0.5</span>, <br>      <span class=\"hljs-attr\">y</span>: <span class=\"hljs-number\">0.5</span>,<br>      <span class=\"hljs-attr\">r</span>: <span class=\"hljs-number\">0.5</span>, <span class=\"hljs-comment\">// æ‰©æ•£çš„åŠå¾„</span><br>        <span class=\"hljs-attr\">colorStops</span>: [&#123;<br>          <span class=\"hljs-attr\">offset</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">color</span>: <span class=\"hljs-string\">&#x27;red&#x27;</span><br>        &#125;, &#123;<br>          <span class=\"hljs-attr\">offset</span>: <span class=\"hljs-number\">1</span>, <span class=\"hljs-attr\">color</span>: <span class=\"hljs-string\">&#x27;blue&#x27;</span><br>        &#125;]<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"åäºŒã€æ ·å¼\"><a href=\"#åäºŒã€æ ·å¼\" class=\"headerlink\" title=\"åäºŒã€æ ·å¼\"></a>åäºŒã€æ ·å¼</h3><ul>\n<li>ç›´æ¥æ ·å¼<ul>\n<li>itemStyleã€textStyleã€lineStyleã€areaStyleã€label</li>\n</ul>\n</li>\n<li>é«˜äº®æ ·å¼<ul>\n<li>åœ¨emphasisä¸­åŒ…è£¹itemStyleã€textStyleã€lineStyleã€areaStyleã€label</li>\n</ul>\n</li>\n<li>ä¼˜å…ˆçº§é«˜ï¼Œä¼šè¦†ç›–ä¸»é¢˜ä¸­ã€è°ƒè‰²ç›˜çš„æ•ˆæœ</li>\n</ul>\n<h3 id=\"åä¸‰ã€è‡ªé€‚åº”\"><a href=\"#åä¸‰ã€è‡ªé€‚åº”\" class=\"headerlink\" title=\"åä¸‰ã€è‡ªé€‚åº”\"></a>åä¸‰ã€è‡ªé€‚åº”</h3><p>å½“æµè§ˆå™¨çš„å¤§å°å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå¦‚æœæƒ³è®©å›¾è¡¨ä¹Ÿèƒ½éšä¹‹é€‚é…å˜åŒ–</p>\n<ul>\n<li><p>1.ç›‘å¬çª—å£å¤§å°å˜åŒ–äº‹ä»¶</p>\n</li>\n<li><p>2.åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è°ƒç”¨echartså®ä¾‹å¯¹è±¡çš„resizeæ–¹æ³•å³å¯</p>\n<p>window.onresize = myChart.resize</p>\n</li>\n</ul>\n<h3 id=\"åå››ã€åŠ è½½åŠ¨ç”»\"><a href=\"#åå››ã€åŠ è½½åŠ¨ç”»\" class=\"headerlink\" title=\"åå››ã€åŠ è½½åŠ¨ç”»\"></a>åå››ã€åŠ è½½åŠ¨ç”»</h3><p>echartså·²ç»å†…ç½®å¥½äº†åŠ è½½æ•°æ®çš„åŠ¨ç”»ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨åˆé€‚çš„æ—¶æœºæ˜¾ç¤ºæˆ–è€…éšè—å³å¯</p>\n<ul>\n<li><p>æ˜¾ç¤ºåŠ è½½åŠ¨ç”»</p>\n<p>mCharts.showLoading()</p>\n</li>\n<li><p>éšè—åŠ è½½åŠ¨ç”»</p>\n<p>mCharts.hideLoading()</p>\n</li>\n</ul>\n<h3 id=\"åäº”ã€å¢é‡åŠ¨ç”»\"><a href=\"#åäº”ã€å¢é‡åŠ¨ç”»\" class=\"headerlink\" title=\"åäº”ã€å¢é‡åŠ¨ç”»\"></a>åäº”ã€å¢é‡åŠ¨ç”»</h3><ul>\n<li>å¢é‡åŠ¨ç”»çš„å®ç°æ–¹å¼<ul>\n<li>mCharts.setOption<ul>\n<li>æ‰€æœ‰æ•°æ®çš„æ›´æ–°éƒ½é€šè¿‡setOptionå®ç°</li>\n<li>ä¸ç”¨è€ƒè™‘æ•°æ®åˆ°åº•äº§ç”Ÿäº†å“ªäº›å˜åŒ–</li>\n<li>echartsä¼šæ‰¾åˆ°ä¸¤ç»„æ•°æ®ä¹‹é—´çš„å·®å¼‚ç„¶åé€šè¿‡åˆé€‚çš„åŠ¨ç”»å–å®ç°æ•°æ®çš„å˜åŒ–</li>\n<li>æ–°æ—§optionçš„å…³ç³»å¹¶ä¸æ˜¯ç›¸äº’è¦†ç›–çš„å…³ç³»ï¼Œè€Œæ˜¯ç›¸äº’æ•´åˆçš„å…³ç³»</li>\n<li>æˆ‘ä»¬åœ¨è®¾ç½®æ–°çš„optionçš„æ—¶å€™ï¼Œåªéœ€è¦è€ƒè™‘åˆ°å˜åŒ–çš„éƒ¨åˆ†å°±å¯ä»¥</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"åå…­ã€åŠ¨ç”»é…ç½®é¡¹\"><a href=\"#åå…­ã€åŠ¨ç”»é…ç½®é¡¹\" class=\"headerlink\" title=\"åå…­ã€åŠ¨ç”»é…ç½®é¡¹\"></a>åå…­ã€åŠ¨ç”»é…ç½®é¡¹</h3><ul>\n<li><p>å¼€å¯åŠ¨ç”»</p>\n<ul>\n<li>animationï¼štrue</li>\n</ul>\n</li>\n<li><p>åŠ¨ç”»æ—¶é•¿</p>\n<ul>\n<li>animationDurationï¼š5000</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">animationDurationï¼š <span class=\"hljs-keyword\">function</span>ï¼ˆargï¼‰ &#123;<br>  <span class=\"hljs-comment\">// è¿™é‡Œçš„argæ˜¯æ‰€æœ‰éœ€è¦åŠ¨ç”»æ•ˆæœçš„å›¾å…ƒçš„ç´¢å¼•ï¼Œä¼šæ ¹æ®ä¸åŒå½¢å¼çš„å›¾å…ƒå…ƒç´ è¿›è¡Œåˆ†ç»„</span><br>  <span class=\"hljs-keyword\">return</span> arg * <span class=\"hljs-number\">10</span><br>&#125;<br></code></pre></td></tr></table></figure></li>\n<li><p>ç¼“åŠ¨åŠ¨ç”»</p>\n<ul>\n<li>animationEasing: â€˜bounceOutâ€™</li>\n</ul>\n</li>\n<li><p>åŠ¨ç”»é˜ˆå€¼</p>\n<ul>\n<li>animationThresholdï¼š 8</li>\n<li>å•ä¸­å½¢å¼çš„å…ƒç´ æ•°é‡å¤§äºè¿™ä¸ªé˜ˆå€¼ä¼šå…³é—­åŠ¨ç”»</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"åä¸ƒã€å…¨å±€Echartså¯¹è±¡å¸¸ç”¨æ–¹æ³•\"><a href=\"#åä¸ƒã€å…¨å±€Echartså¯¹è±¡å¸¸ç”¨æ–¹æ³•\" class=\"headerlink\" title=\"åä¸ƒã€å…¨å±€Echartså¯¹è±¡å¸¸ç”¨æ–¹æ³•\"></a>åä¸ƒã€å…¨å±€Echartså¯¹è±¡å¸¸ç”¨æ–¹æ³•</h3><ul>\n<li><p>initæ–¹æ³•</p>\n<ul>\n<li>åˆå§‹åŒ–Echartså®ä¾‹å¯¹è±¡</li>\n<li>ä½¿ç”¨ä¸»é¢˜ï¼ˆç¬¬äºŒä¸ªå‚æ•°ï¼‰</li>\n</ul>\n</li>\n<li><p>registerThemeæ–¹æ³•</p>\n<ul>\n<li>æ³¨å†Œä¸»é¢˜</li>\n<li>åªæœ‰æ³¨å†Œè¿‡çš„ä¸»é¢˜ï¼Œæ‰èƒ½åœ¨initæ–¹æ³•ä¸­ä½¿ç”¨è¯¥ä¸»é¢˜</li>\n</ul>\n</li>\n<li><p>registerMapæ–¹æ³•</p>\n<ul>\n<li><p>æ³¨å†Œåœ°å›¾æ•°æ®</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">$.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&#x27;json/map/china.json&#x27;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">ChinaJson</span>) &#123;<br>  echarts.<span class=\"hljs-title function_\">registerMap</span>(<span class=\"hljs-string\">&#x27;china&#x27;</span>, chinaJson)<br>&#125;)<br></code></pre></td></tr></table></figure></li>\n<li><p>geoç»„ä»¶ä½¿ç”¨åœ°å›¾æ•°æ®</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">var</span> option = &#123;<br>  <span class=\"hljs-attr\">geo</span>: &#123;<br>    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;map&#x27;</span>,<br>    <span class=\"hljs-attr\">map</span>: <span class=\"hljs-string\">&#x27;china&#x27;</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p>connectæ–¹æ³•</p>\n<ul>\n<li>ä¸€ä¸ªé¡µé¢ä¸­å¯ä»¥æœ‰å¤šä¸ªç‹¬ç«‹çš„å›¾è¡¨</li>\n<li>æ¯ä¸€ä¸ªå›¾è¡¨å¯¹åº”ä¸€ä¸ªEchartså®ä¾‹å¯¹è±¡</li>\n<li>connectå¯ä»¥å®ç°å¤šå›¾å…³è”ï¼Œä¼ å…¥è”åŠ¨ç›®æ ‡ä¸ºEchartså®ä¾‹å¯¹è±¡ï¼Œæ”¯æŒæ•°ç»„<ul>\n<li>ä¿å­˜å›¾ç‰‡çš„è‡ªåŠ¨æ‹¼æ¥ï¼ˆsaveAsImageï¼‰</li>\n<li>åˆ·æ–°æŒ‰é’®</li>\n<li>é‡ç½®æŒ‰é’®</li>\n<li>æç¤ºæ¡†è”åŠ¨ã€å›¾ä¾‹é€‰æ‹©ã€æ•°æ®èŒƒå›´ä¿®æ”¹ç­‰ç­‰</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"åå…«ã€echartsInstanceå®ä¾‹å¸¸ç”¨æ–¹æ³•\"><a href=\"#åå…«ã€echartsInstanceå®ä¾‹å¸¸ç”¨æ–¹æ³•\" class=\"headerlink\" title=\"åå…«ã€echartsInstanceå®ä¾‹å¸¸ç”¨æ–¹æ³•\"></a>åå…«ã€echartsInstanceå®ä¾‹å¸¸ç”¨æ–¹æ³•</h3><ul>\n<li><p>setOptionæ–¹æ³•</p>\n<ul>\n<li>è®¾ç½®æˆ–ä¿®æ”¹å›¾è¡¨å®ä¾‹çš„é…ç½®é¡¹ä»¥åŠæ•°æ®</li>\n<li>å¤šæ¬¡è°ƒç”¨setOptionæ–¹æ³•<ul>\n<li>åˆå¹¶æ–°æ—§é…ç½®</li>\n<li>å¢é‡åŠ¨ç”»</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>resizeæ–¹æ³•</p>\n<ul>\n<li>é‡æ–°è®¡ç®—å’Œç»˜åˆ¶å›¾è¡¨</li>\n<li>ä¸€èˆ¬å’Œwindowå¯¹è±¡çš„resizeäº‹ä»¶ç»“åˆä½¿ç”¨<ul>\n<li>window.onresize = mEcharts.resize</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>on\\offæ–¹æ³•</p>\n<ul>\n<li>ç»‘å®šæˆ–è€…è§£ç»‘äº‹ä»¶å¤„ç†å‡½æ•°</li>\n<li>é¼ æ ‡äº‹ä»¶<ul>\n<li>å¸¸è§äº‹ä»¶ï¼šclickã€dbclickã€mousedownã€mousemoveã€mouseupç­‰</li>\n</ul>\n</li>\n<li>Echartsäº‹ä»¶<ul>\n<li>å¸¸è§äº‹ä»¶ï¼šlegendselectchangedã€datazoomã€pieselectchangedã€maâ€™pselectchanged</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>dispatchAction</p>\n<ul>\n<li><p>è§¦å‘æŸäº›è¡Œä¸º</p>\n</li>\n<li><p>ä½¿ç”¨ä»£ç æ¨¡æ‹Ÿç”¨æˆ·çš„è¡Œä¸º</p>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">mCharts.<span class=\"hljs-title function_\">dispatchAction</span>(&#123;<br>  <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;hightlight&#x27;</span>, <span class=\"hljs-comment\">// äº‹ä»¶ç±»å‹</span><br>  <span class=\"hljs-attr\">seriesIndex</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-comment\">// å›¾è¡¨ç´¢å¼•(ç³»åˆ—)</span><br>  <span class=\"hljs-attr\">dataIndex</span>: <span class=\"hljs-number\">1</span> <span class=\"hljs-comment\">// å›¾è¡¨ä¸­å“ªä¸€é¡¹é«˜äº®</span><br>&#125;)<br></code></pre></td></tr></table></figure></li>\n<li><p>clear</p>\n<ul>\n<li>æ¸…ç©ºå½“å‰å®ä¾‹ï¼Œä¼šç§»é™¤å®ä¾‹ä¸­æ‰€æœ‰çš„ç»„ä»¶å’Œå›¾è¡¨</li>\n<li>æ¸…ç©ºä¹‹åå¯ä»¥å†æ¬¡setOption</li>\n</ul>\n</li>\n<li><p>disposeæ–¹æ³•</p>\n<ul>\n<li>é”€æ¯å®ä¾‹</li>\n<li>é”€æ¯åå®ä¾‹æ— æ³•å†è¢«ä½¿ç”¨</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"åä¹ã€websocketçš„åŸºæœ¬ä½¿ç”¨\"><a href=\"#åä¹ã€websocketçš„åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"åä¹ã€websocketçš„åŸºæœ¬ä½¿ç”¨\"></a>åä¹ã€websocketçš„åŸºæœ¬ä½¿ç”¨</h3><ul>\n<li><p>åç«¯</p>\n<ul>\n<li><p>å®‰è£…åŒ…</p>\n<ul>\n<li>npm i ws</li>\n</ul>\n</li>\n<li><p>åˆ›å»ºå¯¹è±¡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> webSocket = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;ws&#x27;</span>)<br><span class=\"hljs-keyword\">const</span> wss = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">WebSocket</span>.<span class=\"hljs-title function_\">server</span>(&#123;<br>  <span class=\"hljs-attr\">port</span>: <span class=\"hljs-string\">&#x27;8080&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure></li>\n<li><p>ç›‘å¬äº‹ä»¶</p>\n<ul>\n<li><p>è¿æ¥äº‹ä»¶</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">wss.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&#x27;connection&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">client</span> =&gt;</span> &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;æœ‰å®¢æˆ·ç«¯è¿æ¥&#x27;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure></li>\n<li><p>æ¥å—æ•°æ®äº‹ä»¶</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">wss.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&#x27;connection&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">client</span> =&gt;</span> &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;æœ‰å®¢æˆ·ç«¯è¿æ¥&#x27;</span>)<br>  client.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&#x27;message&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">msg</span> =&gt;</span> &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;å®¢æˆ·ç«¯å‘é€æ•°æ®è¿‡æ¥äº†&#x27;</span>)<br>  &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure></li>\n<li><p>å‘é€æ•°æ®</p>\n<ul>\n<li>client.send(â€˜hello socket from back-endâ€™)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>å‰ç«¯</p>\n<ul>\n<li><p>åˆ›å»ºå¯¹è±¡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> ws = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">WebSocket</span>(<span class=\"hljs-string\">&#x27;ws://localhost:8080&#x27;</span>)<br></code></pre></td></tr></table></figure></li>\n<li><p>ç›‘å¬äº‹ä»¶</p>\n<ul>\n<li>è¿æ¥æˆåŠŸäº‹ä»¶<ul>\n<li>ws.onopen = () =&gt; {}</li>\n</ul>\n</li>\n<li>æ¥å—æ•°æ®äº‹ä»¶<ul>\n<li>ws.onmessage = msg =&gt; {}</li>\n</ul>\n</li>\n<li>å…³é—­è¿æ¥äº‹ä»¶<ul>\n<li>ws.onclose = () =&gt; {}</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>å‘é€æ•°æ®</p>\n<ul>\n<li>ws.send</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"wordcount":6380,"excerpt":"","more":"<h3 id=\"ä¸€ã€æŸ±çŠ¶å›¾ï¼ˆtypeä¸ºbarï¼‰\"><a href=\"#ä¸€ã€æŸ±çŠ¶å›¾ï¼ˆtypeä¸ºbarï¼‰\" class=\"headerlink\" title=\"ä¸€ã€æŸ±çŠ¶å›¾ï¼ˆtypeä¸ºbarï¼‰\"></a>ä¸€ã€æŸ±çŠ¶å›¾ï¼ˆtypeä¸ºbarï¼‰</h3><h4 id=\"1-æ•°æ®æ ¼å¼\"><a href=\"#1-æ•°æ®æ ¼å¼\" class=\"headerlink\" title=\"1.æ•°æ®æ ¼å¼\"></a>1.æ•°æ®æ ¼å¼</h4><p>ä¸€ç»´æ•°ç»„</p>\n<h4 id=\"2-xAxiså’ŒyAxis\"><a href=\"#2-xAxiså’ŒyAxis\" class=\"headerlink\" title=\"2.xAxiså’ŒyAxis\"></a>2.xAxiså’ŒyAxis</h4><p>typeä¸ºcategoryæ—¶ï¼Œéœ€è¦æŒ‡å®šdata</p>\n<p>typeä¸ºvalueæ—¶ï¼Œdataåœ¨seriesä¸­æŒ‡å®š</p>\n<h4 id=\"3-å¸¸è§æ•ˆæœ\"><a href=\"#3-å¸¸è§æ•ˆæœ\" class=\"headerlink\" title=\"3.å¸¸è§æ•ˆæœ\"></a>3.å¸¸è§æ•ˆæœ</h4><ul>\n<li><p>æ ‡è®°ï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">markPointï¼š&#123;<br>  <span class=\"hljs-attr\">data</span>: [<br>    &#123;<br>      <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;max&#x27;</span>ï¼Œ<br>      <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&#x27;æœ€å¤§å€¼&#x27;</span><br>    &#125;,<br>    &#123;<br>      <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;min&#x27;</span>,<br>      <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&#x27;æœ€å°å€¼&#x27;</span><br>    &#125;<br>  ]<br>&#125;,<br>  <span class=\"hljs-attr\">markLine</span>: &#123;<br>    <span class=\"hljs-attr\">data</span>: [<br>      &#123;<br>        <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;average&#x27;</span>ï¼Œ<br>        <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&#x27;å¹³å‡å€¼&#x27;</span><br>      &#125;<br>    ]<br>  &#125;<br></code></pre></td></tr></table></figure></li>\n</ul>\n<ul>\n<li><p>æ˜¾ç¤ºï¼š</p>\n<p>labelï¼šæ•°å€¼æ˜¾ç¤º</p>\n<p>barWidthï¼š æŸ±å®½åº¦</p>\n<p>æ¨ªå‘æŸ±çŠ¶å›¾ï¼šxAxiså’ŒyAxisé…ç½®äº’æ¢</p>\n</li>\n</ul>\n<h3 id=\"äºŒã€é€šç”¨é…ç½®\"><a href=\"#äºŒã€é€šç”¨é…ç½®\" class=\"headerlink\" title=\"äºŒã€é€šç”¨é…ç½®\"></a>äºŒã€é€šç”¨é…ç½®</h3><ul>\n<li>titleæ ‡é¢˜<ul>\n<li>æ–‡å­—æ ·å¼ï¼štextStyle</li>\n<li>æ ‡é¢˜è¾¹æ¡†ï¼šborderWidthã€borderColorã€borderRadius</li>\n<li>æ ‡é¢˜ä½ç½®ï¼šleftã€topã€rightã€bottom</li>\n</ul>\n</li>\n<li>tooltipæç¤ºæ¡†ç»„ä»¶<ul>\n<li>è§¦å‘ç±»å‹ï¼štrigger<ul>\n<li>item</li>\n<li>axis</li>\n</ul>\n</li>\n<li>è§¦å‘æ—¶æœºï¼štriggerOn<ul>\n<li>mouseover</li>\n<li>click</li>\n</ul>\n</li>\n<li>æ ¼å¼åŒ–ï¼šformatter<ul>\n<li>å­—ç¬¦ä¸²æ¨¡æ¿</li>\n<li>å›è°ƒå‡½æ•°ï¼ˆå‚æ•°ï¼šargï¼‰</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>toolboxå·¥å…·æ ï¼ˆå¯¼å‡ºå›¾ç‰‡ã€æ•°æ®è§†å›¾ã€æ•°æ®åŒºåŸŸç¼©æ”¾ã€é‡ç½®ã€åŠ¨æ€ç±»å‹åˆ‡æ¢äº”ä¸ªå·¥å…·ï¼‰<ul>\n<li>featureï¼ˆæ˜¾ç¤ºå·¥å…·æ æŒ‰é’®ï¼‰<ul>\n<li>savaAsImageï¼ˆå¯¼å‡ºå›¾ç‰‡ï¼‰</li>\n<li>dataViewï¼ˆæ•°æ®è§†å›¾ï¼‰</li>\n<li>dataZoomï¼ˆæ•°æ®åŒºåŸŸç¼©æ”¾ï¼‰</li>\n<li>restoreï¼ˆé‡ç½®ï¼‰</li>\n<li>magicTypeï¼ˆåŠ¨æ€ç±»å‹åˆ‡æ¢ï¼‰ï¼šå¦‚magicTypeï¼š { type: [â€˜barâ€™, â€˜lineâ€™]}</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>legendå›¾ä¾‹ï¼ˆç”¨äºç­›é€‰ç³»åˆ—ï¼Œéœ€è¦å’Œseriesé…åˆä½¿ç”¨ï¼‰<ul>\n<li>legendä¸­çš„dataæ˜¯ä¸€ä¸ªæ•°ç»„</li>\n<li>legendä¸­çš„dataçš„å€¼éœ€è¦å’Œseriesæ•°ç»„ä¸­æŸç»„æ•°æ®çš„nameå€¼ä¸€è‡´</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä¸‰ã€æŠ˜çº¿å›¾ï¼ˆtypeä¸ºlineï¼‰\"><a href=\"#ä¸‰ã€æŠ˜çº¿å›¾ï¼ˆtypeä¸ºlineï¼‰\" class=\"headerlink\" title=\"ä¸‰ã€æŠ˜çº¿å›¾ï¼ˆtypeä¸ºlineï¼‰\"></a>ä¸‰ã€æŠ˜çº¿å›¾ï¼ˆtypeä¸ºlineï¼‰</h3><h4 id=\"1-æ•°æ®æ ¼å¼-1\"><a href=\"#1-æ•°æ®æ ¼å¼-1\" class=\"headerlink\" title=\"1.æ•°æ®æ ¼å¼\"></a>1.æ•°æ®æ ¼å¼</h4><p>ä¸€ç»´æ•°ç»„</p>\n<h4 id=\"2-å¸¸ç”¨æ•ˆæœ\"><a href=\"#2-å¸¸ç”¨æ•ˆæœ\" class=\"headerlink\" title=\"2.å¸¸ç”¨æ•ˆæœ\"></a>2.å¸¸ç”¨æ•ˆæœ</h4><ul>\n<li>æ ‡è®°ï¼šæœ€å¤§å€¼ã€æœ€å°å€¼ã€å¹³å‡å€¼ã€æ ‡æ³¨åŒºé—´<ul>\n<li>markPoint</li>\n<li>markLine</li>\n<li>markArea</li>\n</ul>\n</li>\n<li>çº¿æ¡æ§åˆ¶ï¼šå¹³æ»‘ã€é£æ ¼<ul>\n<li>smoothã€lineStyle </li>\n</ul>\n</li>\n<li>å¡«å……é£æ ¼<ul>\n<li>areaStyle</li>\n</ul>\n</li>\n<li>ç´§æŒ¨yè½´è¾¹ç¼˜ï¼ˆè®¾ç½®åœ¨xAxisï¼‰<ul>\n<li>boundaryGap</li>\n</ul>\n</li>\n<li>ç¼©æ”¾ï¼šè„±ç¦»0å€¼æ¯”ä¾‹<ul>\n<li>scaleï¼štrue</li>\n</ul>\n</li>\n<li>å †å å›¾<ul>\n<li>stackï¼šall</li>\n<li>å¯ä»¥å’ŒareaStyleé…åˆä½¿ç”¨</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"å››ã€æ•£ç‚¹å›¾ï¼ˆtypeä¸ºscatterï¼‰\"><a href=\"#å››ã€æ•£ç‚¹å›¾ï¼ˆtypeä¸ºscatterï¼‰\" class=\"headerlink\" title=\"å››ã€æ•£ç‚¹å›¾ï¼ˆtypeä¸ºscatterï¼‰\"></a>å››ã€æ•£ç‚¹å›¾ï¼ˆtypeä¸ºscatterï¼‰</h3><h4 id=\"1-æ•°æ®æ ¼å¼-2\"><a href=\"#1-æ•°æ®æ ¼å¼-2\" class=\"headerlink\" title=\"1.æ•°æ®æ ¼å¼\"></a>1.æ•°æ®æ ¼å¼</h4><p>äºŒç»´æ•°ç»„</p>\n<h4 id=\"2-åŸºæœ¬çš„æ•£ç‚¹å›¾\"><a href=\"#2-åŸºæœ¬çš„æ•£ç‚¹å›¾\" class=\"headerlink\" title=\"2.åŸºæœ¬çš„æ•£ç‚¹å›¾\"></a>2.åŸºæœ¬çš„æ•£ç‚¹å›¾</h4><ul>\n<li>xè½´å’Œyè½´typeéƒ½æ˜¯value</li>\n<li>xè½´å’Œyè½´çš„æ•°æ®ï¼Œæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„</li>\n<li>typeä¸ºscatter</li>\n</ul>\n<h4 id=\"3-å¸¸ç”¨æ•ˆæœ\"><a href=\"#3-å¸¸ç”¨æ•ˆæœ\" class=\"headerlink\" title=\"3.å¸¸ç”¨æ•ˆæœ\"></a>3.å¸¸ç”¨æ•ˆæœ</h4><ul>\n<li>æ°”æ³¡å›¾æ•ˆæœ<ul>\n<li>æ•£ç‚¹å¤§å°ä¸åŒï¼šsymbolSize</li>\n<li>æ•£ç‚¹çš„é¢œè‰²ä¸åŒï¼šitemStyle.color</li>\n</ul>\n</li>\n<li>æ¶Ÿæ¼ªåŠ¨ç”»æ•ˆæœ<ul>\n<li>type: effectScatter</li>\n<li>showEffectOn: â€˜emphasisâ€™ é¼ æ ‡ç§»å…¥æ—¶æ‰æ˜¾ç¤ºæ¶Ÿæ¼ªæ•ˆæœï¼Œé»˜è®¤å€¼æ˜¯renderï¼ˆæ¸²æŸ“å°±æ˜¾ç¤ºæ¶Ÿæ¼ªæ•ˆæœï¼‰</li>\n<li>rippleEffect: { scale: 10} æ•£ç‚¹æ¶Ÿæ¼ªæ•ˆæœçš„èŒƒå›´</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"äº”ã€ç›´è§’åæ ‡ç³»çš„å¸¸ç”¨é…ç½®\"><a href=\"#äº”ã€ç›´è§’åæ ‡ç³»çš„å¸¸ç”¨é…ç½®\" class=\"headerlink\" title=\"äº”ã€ç›´è§’åæ ‡ç³»çš„å¸¸ç”¨é…ç½®\"></a>äº”ã€ç›´è§’åæ ‡ç³»çš„å¸¸ç”¨é…ç½®</h3><p>ç›´è§’åæ ‡ç³»çš„å›¾è¡¨ï¼šæŸ±çŠ¶å›¾ï¼ˆbarï¼‰ã€æŠ˜çº¿å›¾ï¼ˆlineï¼‰ã€æ•£ç‚¹å›¾ï¼ˆscatterï¼‰</p>\n<ul>\n<li>gridç½‘æ ¼ï¼ˆæ§åˆ¶ç›´è§’åæ ‡ç³»çš„å¸ƒå±€å’Œå¤§å°ï¼Œxè½´å’Œyè½´å°±æ˜¯åœ¨gridçš„åŸºç¡€ä¸Šè¿›è¡Œç»˜åˆ¶çš„ï¼‰<ul>\n<li>æ˜¾ç¤ºgird<ul>\n<li>show</li>\n</ul>\n</li>\n<li>gridçš„è¾¹æ¡†<ul>\n<li>borderWidthã€borderColor</li>\n</ul>\n</li>\n<li>gridçš„ä½ç½®å’Œå¤§å°<ul>\n<li>left</li>\n<li>top</li>\n<li>right</li>\n<li>bottom</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>axisåæ ‡è½´ï¼ˆåˆ†ä¸ºxè½´å’Œyè½´ï¼‰<ul>\n<li>åæ ‡è½´ç±»å‹type<ul>\n<li>valueï¼šæ•°å€¼å‘¨ï¼Œè‡ªåŠ¨ä¼šä»ç›®æ ‡æ•°æ®ä¸­è¯»å–æ•°æ®</li>\n<li>categoryï¼šç±»ç›®è½´ï¼Œè¯¥ç±»å‹å¿…é¡»é€šè¿‡dataè®¾ç½®ç±»ç›®æ•°æ®</li>\n</ul>\n</li>\n<li>æ˜¾ç¤ºä½ç½®position<ul>\n<li>xAxisï¼šå¯å–å€¼ä¸ºtopæˆ–bottom</li>\n<li>yAxisï¼šå¯å–å€¼ä¸ºleftæˆ–right</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>åŒºåŸŸç¼©æ”¾dataZoom<ul>\n<li>dataZoomç”¨äºåŒºåŸŸç¼©æ”¾ï¼Œå¯¹æ•°æ®èŒƒå›´è¿‡æ»¤ï¼Œxè½´å’Œyè½´éƒ½å¯ä»¥æ‹¥æœ‰ã€‚dataZoomæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥é…ç½®å¤šä¸ªåŒºåŸŸç¼©æ”¾å™¨</li>\n<li>ç±»å‹type<ul>\n<li>sliderï¼šæ»‘å—æ§åˆ¶ç¼©æ”¾</li>\n<li>insideï¼šå†…ç½®ï¼Œä¾é é¼ æ ‡æ»šè½®æˆ–è€…åŒæŒ‡ç¼©æ”¾</li>\n</ul>\n</li>\n<li>æŒ‡æ˜äº§ç”Ÿä½œç”¨çš„è½´<ul>\n<li>xAxisIndexï¼šè®¾ç½®ç¼©æ”¾ç»„ä»¶æ§åˆ¶çš„æ˜¯å“ªä¸ªxè½´ï¼Œä¸€èˆ¬å†™0å³å¯</li>\n<li>yAxisIndexï¼šè®¾ç½®ç¼©æ”¾ç»„ä»¶æ§åˆ¶çš„æ˜¯å“ªä¸ªyè½´ï¼Œä¸€èˆ¬å†™0å³å¯</li>\n</ul>\n</li>\n<li>æŒ‡æ˜åˆå§‹çŠ¶æ€çš„ç¼©æ”¾æƒ…å†µ<ul>\n<li>startï¼šæ•°æ®çª—å£èŒƒå›´çš„èµ·å§‹ç™¾åˆ†æ¯”</li>\n<li>endï¼šæ•°æ®çª—å£èŒƒå›´çš„ç»“æŸç™¾åˆ†æ¯”</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"å…­ã€é¥¼å›¾ï¼ˆtypeä¸ºpieï¼‰\"><a href=\"#å…­ã€é¥¼å›¾ï¼ˆtypeä¸ºpieï¼‰\" class=\"headerlink\" title=\"å…­ã€é¥¼å›¾ï¼ˆtypeä¸ºpieï¼‰\"></a>å…­ã€é¥¼å›¾ï¼ˆtypeä¸ºpieï¼‰</h3><h4 id=\"1-æ•°æ®æ ¼å¼-3\"><a href=\"#1-æ•°æ®æ ¼å¼-3\" class=\"headerlink\" title=\"1.æ•°æ®æ ¼å¼\"></a>1.æ•°æ®æ ¼å¼</h4><p>jsonæ•°æ®ï¼šdata: [{name: â€˜äº¬ä¸œâ€™ï¼Œvalue: â€˜9000â€™}]</p>\n<h4 id=\"2-åŸºæœ¬çš„é¥¼å›¾\"><a href=\"#2-åŸºæœ¬çš„é¥¼å›¾\" class=\"headerlink\" title=\"2.åŸºæœ¬çš„é¥¼å›¾\"></a>2.åŸºæœ¬çš„é¥¼å›¾</h4><ul>\n<li>æ•°æ®æ˜¯jsonæ•°æ®æ ¼å¼</li>\n<li>typeä¸ºpie</li>\n<li>æ— é¡»é…ç½®xAxiså’ŒyAxis</li>\n</ul>\n<h4 id=\"3-é¥¼å›¾å¸¸è§æ•ˆæœ\"><a href=\"#3-é¥¼å›¾å¸¸è§æ•ˆæœ\" class=\"headerlink\" title=\"3.é¥¼å›¾å¸¸è§æ•ˆæœ\"></a>3.é¥¼å›¾å¸¸è§æ•ˆæœ</h4><ul>\n<li>æ˜¾ç¤ºæ•°å€¼<ul>\n<li>lable.formatter</li>\n</ul>\n</li>\n<li>åœ†ç¯<ul>\n<li>è®¾ç½®ä¸¤ä¸ªåŠå¾„ radiusï¼š[â€˜50%â€™, â€˜70%â€™] åˆ†åˆ«æ˜¯å†…åŠå¾„å’Œå¤–åŠå¾„</li>\n</ul>\n</li>\n<li>å—ä¸æ ¼å°”å›¾<ul>\n<li>roseTypeï¼šâ€™radiusâ€™</li>\n</ul>\n</li>\n<li>é€‰ä¸­æ•ˆæœ<ul>\n<li>é€‰ä¸­æ¨¡å¼ selectModeï¼šsingleï¼ˆå¯é€‰ä¸­å•ä¸ªï¼‰\\multipleï¼ˆå¯é€‰ä¸­å¤šä¸ªï¼‰</li>\n<li>é€‰ä¸­åç§»é‡ selectOffsetï¼š30</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä¸ƒã€åœ°å›¾ï¼ˆtypeï¼šmapï¼‰\"><a href=\"#ä¸ƒã€åœ°å›¾ï¼ˆtypeï¼šmapï¼‰\" class=\"headerlink\" title=\"ä¸ƒã€åœ°å›¾ï¼ˆtypeï¼šmapï¼‰\"></a>ä¸ƒã€åœ°å›¾ï¼ˆtypeï¼šmapï¼‰</h3><h4 id=\"1-çŸ¢é‡åœ°å›¾çš„å®ç°æ­¥éª¤\"><a href=\"#1-çŸ¢é‡åœ°å›¾çš„å®ç°æ­¥éª¤\" class=\"headerlink\" title=\"1.çŸ¢é‡åœ°å›¾çš„å®ç°æ­¥éª¤\"></a>1.çŸ¢é‡åœ°å›¾çš„å®ç°æ­¥éª¤</h4><ul>\n<li>Echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„<ul>\n<li>å¼•å…¥jsæ–‡ä»¶</li>\n<li>å¸¦å®½é«˜çš„DOMå®¹å™¨</li>\n<li>initåˆå§‹åŒ–å¯¹è±¡</li>\n<li>setOptionè®¾ç½®option</li>\n</ul>\n</li>\n<li>å‡†å¤‡ä¸­å›½çš„çŸ¢é‡åœ°å›¾jsonæ–‡ä»¶ï¼ˆ<a href=\"http://datav.aliyun.com/tools/atlas/index.html#&amp;lat=30.332329214580188&amp;lng=106.72278672066881&amp;zoom=3.5%EF%BC%89\">http://datav.aliyun.com/tools/atlas/index.html#&amp;lat=30.332329214580188&amp;lng=106.72278672066881&amp;zoom=3.5ï¼‰</a></li>\n<li>ä½¿ç”¨ajaxè·å–json<ul>\n<li>$.get(â€˜json/map/china.jsonâ€™, function(chinaJson){})</li>\n</ul>\n</li>\n<li>å¾€echartså…¨å±€å¯¹è±¡æ³¨å†Œåœ°å›¾çš„jsonæ•°æ®<ul>\n<li>echarts.registerMap(â€˜chinaMapâ€™, chinaJson)</li>\n</ul>\n</li>\n<li>åœ¨geoä¸‹è®¾ç½®<ul>\n<li>type:â€™mapâ€™</li>\n<li>map:â€™chinaMapâ€™</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-å¸¸ç”¨é…ç½®\"><a href=\"#2-å¸¸ç”¨é…ç½®\" class=\"headerlink\" title=\"2.å¸¸ç”¨é…ç½®\"></a>2.å¸¸ç”¨é…ç½®</h4><ul>\n<li>ç¼©æ”¾æ‹–åŠ¨<ul>\n<li>roamï¼štrue</li>\n</ul>\n</li>\n<li>åç§°æ˜¾ç¤º<ul>\n<li>label</li>\n</ul>\n</li>\n<li>åˆå§‹ç¼©æ”¾æ¯”ä¾‹<ul>\n<li>zoomï¼š2ï¼ˆ2å€ï¼‰</li>\n</ul>\n</li>\n<li>åœ°å›¾ä¸­å¿ƒç‚¹<ul>\n<li>center</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"3-å¸¸è§æ•ˆæœ-1\"><a href=\"#3-å¸¸è§æ•ˆæœ-1\" class=\"headerlink\" title=\"3.å¸¸è§æ•ˆæœ\"></a>3.å¸¸è§æ•ˆæœ</h4><ul>\n<li><p>ä¸åŒåŸå¸‚é¢œè‰²ä¸åŒï¼ˆå¦‚ç©ºæ°”è´¨é‡ï¼‰</p>\n<ol>\n<li><p>æ˜¾ç¤ºåŸºæœ¬çš„ä¸­å›½åœ°å›¾</p>\n</li>\n<li><p>åŸå¸‚çš„ç©ºæ°”è´¨é‡æ•°æ®è®¾ç½®ç»™seriesï¼ˆæ­¤å¤„çš„æ•°æ®å¿…é¡»æ˜¯[{name: cityName, value: â€˜â€™}]çš„æ ¼å¼ï¼Œå…¶ä¸­nameå±æ€§å¿…é¡»å’Œçœä»½åä¸€è‡´ï¼‰</p>\n</li>\n<li><p>å°†seriesä¸‹çš„æ•°æ®ä¸geoå…³è”èµ·æ¥</p>\n<p>è®¾ç½®type: â€˜mapâ€™ï¼ŒgeoIndex:0</p>\n</li>\n<li><p>ç»“åˆvisualMapé…åˆä½¿ç”¨</p>\n<p>visualMap: {min: 0, max: 40, range: { color: [â€˜whiteâ€™, â€˜redâ€™]}}</p>\n</li>\n</ol>\n</li>\n<li><p>åœ°å›¾å’Œæ•£ç‚¹å›¾ç»“åˆ</p>\n<ol>\n<li><p>ç»™seriesä¸‹é…ç½®æ•£ç‚¹å›¾å¯¹è±¡</p>\n</li>\n<li><p>å‡†å¤‡å¥½æ•£ç‚¹æ•°æ®ï¼Œè®¾ç½®ç»™æ–°å¯¹è±¡çš„dataï¼ˆäºŒç»´æ•°ç»„ï¼Œåœ°å›¾åæ ‡ï¼‰</p>\n</li>\n<li><p>é…ç½®æ–°å¯¹è±¡çš„typeä¸ºeffectScatter</p>\n</li>\n<li><p>è®©æ•£ç‚¹å›¾ä½¿ç”¨åœ°å›¾åæ ‡ç³»ç»Ÿ</p>\n<p>coordinateSystem: â€˜geoâ€™</p>\n</li>\n<li><p>è®©æ¶Ÿæ¼ªçš„æ•ˆæœæ›´åŠ æ˜æ˜¾</p>\n<p>rippleEffectï¼š{ scaleï¼š10 }</p>\n</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"å…«ã€é›·è¾¾å›¾ï¼ˆtypeï¼šradarï¼‰\"><a href=\"#å…«ã€é›·è¾¾å›¾ï¼ˆtypeï¼šradarï¼‰\" class=\"headerlink\" title=\"å…«ã€é›·è¾¾å›¾ï¼ˆtypeï¼šradarï¼‰\"></a>å…«ã€é›·è¾¾å›¾ï¼ˆtypeï¼šradarï¼‰</h3><h4 id=\"1-å®ç°æ­¥éª¤\"><a href=\"#1-å®ç°æ­¥éª¤\" class=\"headerlink\" title=\"1.å®ç°æ­¥éª¤\"></a>1.å®ç°æ­¥éª¤</h4><ul>\n<li>echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„</li>\n<li>å®šä¹‰å„ä¸ªç»´åº¦çš„æœ€å¤§å€¼ï¼ˆåœ¨radarå±æ€§ä¸‹ï¼‰<ul>\n<li>indicatorï¼š[{name: â€˜æ˜“ç”¨æ€§â€™, max: 100]}]</li>\n</ul>\n</li>\n<li>å‡†å¤‡å…·ä½“äº§å“çš„æ•°æ®<ul>\n<li>åœ¨seriesä¸‹è®¾ç½®dataï¼š[{name: â€˜åä¸ºæ‰‹æœºâ€™, value: [80, 80, 90, 95, 85]}</li>\n</ul>\n</li>\n<li>è®¾ç½®å›¾è¡¨ç±»å‹<ul>\n<li>åœ¨seriesä¸‹è®¾ç½®typeï¼šradar</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-å¸¸ç”¨é…ç½®-1\"><a href=\"#2-å¸¸ç”¨é…ç½®-1\" class=\"headerlink\" title=\"2.å¸¸ç”¨é…ç½®\"></a>2.å¸¸ç”¨é…ç½®</h4><ul>\n<li>æ˜¾ç¤ºæ•°å€¼:<ul>\n<li>label</li>\n</ul>\n</li>\n<li>åŒºåŸŸé¢ç§¯ï¼ˆé˜´å½±ï¼‰<ul>\n<li>areaStyle</li>\n</ul>\n</li>\n<li>ç»˜åˆ¶ç±»å‹<ul>\n<li>shape: â€˜circleâ€™ é»˜è®¤å€¼ polygon</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ä¹ã€ä»ªè¡¨ç›˜ï¼ˆtypeï¼šguageï¼‰\"><a href=\"#ä¹ã€ä»ªè¡¨ç›˜ï¼ˆtypeï¼šguageï¼‰\" class=\"headerlink\" title=\"ä¹ã€ä»ªè¡¨ç›˜ï¼ˆtypeï¼šguageï¼‰\"></a>ä¹ã€ä»ªè¡¨ç›˜ï¼ˆtypeï¼šguageï¼‰</h3><h4 id=\"1-å®ç°æ­¥éª¤-1\"><a href=\"#1-å®ç°æ­¥éª¤-1\" class=\"headerlink\" title=\"1.å®ç°æ­¥éª¤\"></a>1.å®ç°æ­¥éª¤</h4><ul>\n<li>echartsæœ€åŸºæœ¬çš„ä»£ç ç»“æ„</li>\n<li>å‡†å¤‡æ•°æ®ï¼Œè®¾ç½®ç»™seriesä¸‹çš„data<ul>\n<li>data: [{value: 97}]</li>\n</ul>\n</li>\n<li>å›¾æ ‡ç±»å‹<ul>\n<li>åœ¨seriesä¸‹è®¾ç½®typeï¼šguage</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-å¸¸ç”¨æ•ˆæœ-1\"><a href=\"#2-å¸¸ç”¨æ•ˆæœ-1\" class=\"headerlink\" title=\"2.å¸¸ç”¨æ•ˆæœ\"></a>2.å¸¸ç”¨æ•ˆæœ</h4><ul>\n<li>æ•°å€¼èŒƒå›´<ul>\n<li>max</li>\n<li>min</li>\n</ul>\n</li>\n<li>å¤šä¸ªæŒ‡é’ˆ<ul>\n<li>å¢åŠ seriesä¸‹dataæ•°ç»„ä¸­çš„å…ƒç´ </li>\n</ul>\n</li>\n<li>å¤šä¸ªæŒ‡é’ˆé¢œè‰²å·®å¼‚<ul>\n<li>itemStyle</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"åã€ä¸»é¢˜\"><a href=\"#åã€ä¸»é¢˜\" class=\"headerlink\" title=\"åã€ä¸»é¢˜\"></a>åã€ä¸»é¢˜</h3><h4 id=\"1-å†…ç½®ä¸»é¢˜\"><a href=\"#1-å†…ç½®ä¸»é¢˜\" class=\"headerlink\" title=\"1.å†…ç½®ä¸»é¢˜\"></a>1.å†…ç½®ä¸»é¢˜</h4><ul>\n<li><p>echartsä¸­é»˜è®¤å†…ç½®äº†ä¸¤å¥—ä¸»é¢˜ï¼šlightã€dark</p>\n</li>\n<li><p>åœ¨åˆå§‹åŒ–å¯¹è±¡æ–¹æ³•ä¸­initä¸­å¯ä»¥æŒ‡æ˜</p>\n<p>var chart = echarts.init(dom, â€˜lightâ€™)</p>\n<p>var chart = echarts.init(dom, â€˜darkâ€™)</p>\n</li>\n</ul>\n<h4 id=\"2-è‡ªå®šä¹‰ä¸»é¢˜\"><a href=\"#2-è‡ªå®šä¹‰ä¸»é¢˜\" class=\"headerlink\" title=\"2.è‡ªå®šä¹‰ä¸»é¢˜\"></a>2.è‡ªå®šä¹‰ä¸»é¢˜</h4><ul>\n<li>1.åœ¨å®˜ç½‘ä¸»é¢˜ç¼–è¾‘å™¨ä¸­ç¼–è¾‘ä¸»é¢˜</li>\n<li>2.ä¸‹è½½ä¸»é¢˜jsæ–‡ä»¶</li>\n<li>3.å¼•å…¥ä¸»é¢˜jsæ–‡ä»¶</li>\n<li>4.åœ¨initæ–¹æ³•ä¸­ä½¿ç”¨ä¸»é¢˜</li>\n</ul>\n<h3 id=\"åä¸€ã€è°ƒè‰²ç›˜\"><a href=\"#åä¸€ã€è°ƒè‰²ç›˜\" class=\"headerlink\" title=\"åä¸€ã€è°ƒè‰²ç›˜\"></a>åä¸€ã€è°ƒè‰²ç›˜</h3><h4 id=\"1-å®ƒæ˜¯ä¸€ç»„é¢œè‰²ï¼Œå›¾å½¢ã€ç³»åˆ—ä¼šè‡ªåŠ¨ä»å…¶ä¸­é€‰æ‹©é¢œè‰²\"><a href=\"#1-å®ƒæ˜¯ä¸€ç»„é¢œè‰²ï¼Œå›¾å½¢ã€ç³»åˆ—ä¼šè‡ªåŠ¨ä»å…¶ä¸­é€‰æ‹©é¢œè‰²\" class=\"headerlink\" title=\"1.å®ƒæ˜¯ä¸€ç»„é¢œè‰²ï¼Œå›¾å½¢ã€ç³»åˆ—ä¼šè‡ªåŠ¨ä»å…¶ä¸­é€‰æ‹©é¢œè‰²\"></a>1.å®ƒæ˜¯ä¸€ç»„é¢œè‰²ï¼Œå›¾å½¢ã€ç³»åˆ—ä¼šè‡ªåŠ¨ä»å…¶ä¸­é€‰æ‹©é¢œè‰²</h4><ul>\n<li><p>ä¸»é¢˜è°ƒè‰²ç›˜ï¼ˆä¸»é¢˜jsæ–‡ä»¶ä¸­å…¨å±€æ³¨å†Œçš„colorï¼‰</p>\n</li>\n<li><p>å…¨å±€è°ƒè‰²ç›˜</p>\n<p>optionsï¼š{</p>\n<p>â€‹    colorï¼š [â€˜redâ€™, â€˜greenâ€™, â€˜blueâ€™]</p>\n<p>}</p>\n</li>\n<li><p>å±€éƒ¨è°ƒè‰²ç›˜</p>\n<p>series: [{</p>\n<p>â€‹    type: â€˜barâ€™,</p>\n<p>â€‹    color: [â€˜redâ€™, â€˜greenâ€™, â€˜blueâ€™]</p>\n<p>}]</p>\n</li>\n</ul>\n<h4 id=\"2-è°ƒè‰²ç›˜çš„ä½œç”¨éµå¾ªå°±è¿‘åŸåˆ™\"><a href=\"#2-è°ƒè‰²ç›˜çš„ä½œç”¨éµå¾ªå°±è¿‘åŸåˆ™\" class=\"headerlink\" title=\"2.è°ƒè‰²ç›˜çš„ä½œç”¨éµå¾ªå°±è¿‘åŸåˆ™\"></a>2.è°ƒè‰²ç›˜çš„ä½œç”¨éµå¾ªå°±è¿‘åŸåˆ™</h4><h4 id=\"3-é¢œè‰²æ¸å˜\"><a href=\"#3-é¢œè‰²æ¸å˜\" class=\"headerlink\" title=\"3.é¢œè‰²æ¸å˜\"></a>3.é¢œè‰²æ¸å˜</h4><ul>\n<li><p>çº¿æ€§æ¸å˜</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-attr\">itemStyle</span>: &#123;<br>  <span class=\"hljs-attr\">color</span>: &#123;<br>    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;linear&#x27;</span>,<br>      <span class=\"hljs-attr\">x</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-comment\">// åœ¨å›¾å…ƒä¸­çš„åˆå§‹xä½ç½®</span><br>      <span class=\"hljs-attr\">y</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-comment\">// åœ¨å›¾å…ƒä¸­çš„åˆå§‹yä½ç½®</span><br>      <span class=\"hljs-attr\">x2</span>: <span class=\"hljs-number\">0</span>,<br>      <span class=\"hljs-attr\">y2</span>: <span class=\"hljs-number\">1</span>, <span class=\"hljs-comment\">// 1ä»£è¡¨åˆ°åº•éƒ¨ï¼Œ0.5åœ¨ä¸­é—´</span><br>        <span class=\"hljs-attr\">colorStops</span>: [&#123;<br>          <span class=\"hljs-attr\">offset</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">color</span>: <span class=\"hljs-string\">&#x27;red&#x27;</span> <span class=\"hljs-comment\">// 0%å¤„çš„é¢œè‰² </span><br>        &#125;,&#123;<br>          <span class=\"hljs-attr\">offset</span>: <span class=\"hljs-number\">1</span>, <span class=\"hljs-attr\">color</span>: <span class=\"hljs-string\">&#x27;blue&#x27;</span> <span class=\"hljs-comment\">// 100%å¤„çš„é¢œè‰²</span><br>        &#125;]<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>\n<li><p>å¾„å‘æ¸å˜</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-attr\">itemStyle</span>: &#123;<br>  <span class=\"hljs-attr\">color</span>: &#123;<br>    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;radial&#x27;</span>,<br>      <span class=\"hljs-attr\">x</span>: <span class=\"hljs-number\">0.5</span>, <br>      <span class=\"hljs-attr\">y</span>: <span class=\"hljs-number\">0.5</span>,<br>      <span class=\"hljs-attr\">r</span>: <span class=\"hljs-number\">0.5</span>, <span class=\"hljs-comment\">// æ‰©æ•£çš„åŠå¾„</span><br>        <span class=\"hljs-attr\">colorStops</span>: [&#123;<br>          <span class=\"hljs-attr\">offset</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-attr\">color</span>: <span class=\"hljs-string\">&#x27;red&#x27;</span><br>        &#125;, &#123;<br>          <span class=\"hljs-attr\">offset</span>: <span class=\"hljs-number\">1</span>, <span class=\"hljs-attr\">color</span>: <span class=\"hljs-string\">&#x27;blue&#x27;</span><br>        &#125;]<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"åäºŒã€æ ·å¼\"><a href=\"#åäºŒã€æ ·å¼\" class=\"headerlink\" title=\"åäºŒã€æ ·å¼\"></a>åäºŒã€æ ·å¼</h3><ul>\n<li>ç›´æ¥æ ·å¼<ul>\n<li>itemStyleã€textStyleã€lineStyleã€areaStyleã€label</li>\n</ul>\n</li>\n<li>é«˜äº®æ ·å¼<ul>\n<li>åœ¨emphasisä¸­åŒ…è£¹itemStyleã€textStyleã€lineStyleã€areaStyleã€label</li>\n</ul>\n</li>\n<li>ä¼˜å…ˆçº§é«˜ï¼Œä¼šè¦†ç›–ä¸»é¢˜ä¸­ã€è°ƒè‰²ç›˜çš„æ•ˆæœ</li>\n</ul>\n<h3 id=\"åä¸‰ã€è‡ªé€‚åº”\"><a href=\"#åä¸‰ã€è‡ªé€‚åº”\" class=\"headerlink\" title=\"åä¸‰ã€è‡ªé€‚åº”\"></a>åä¸‰ã€è‡ªé€‚åº”</h3><p>å½“æµè§ˆå™¨çš„å¤§å°å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå¦‚æœæƒ³è®©å›¾è¡¨ä¹Ÿèƒ½éšä¹‹é€‚é…å˜åŒ–</p>\n<ul>\n<li><p>1.ç›‘å¬çª—å£å¤§å°å˜åŒ–äº‹ä»¶</p>\n</li>\n<li><p>2.åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­è°ƒç”¨echartså®ä¾‹å¯¹è±¡çš„resizeæ–¹æ³•å³å¯</p>\n<p>window.onresize = myChart.resize</p>\n</li>\n</ul>\n<h3 id=\"åå››ã€åŠ è½½åŠ¨ç”»\"><a href=\"#åå››ã€åŠ è½½åŠ¨ç”»\" class=\"headerlink\" title=\"åå››ã€åŠ è½½åŠ¨ç”»\"></a>åå››ã€åŠ è½½åŠ¨ç”»</h3><p>echartså·²ç»å†…ç½®å¥½äº†åŠ è½½æ•°æ®çš„åŠ¨ç”»ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨åˆé€‚çš„æ—¶æœºæ˜¾ç¤ºæˆ–è€…éšè—å³å¯</p>\n<ul>\n<li><p>æ˜¾ç¤ºåŠ è½½åŠ¨ç”»</p>\n<p>mCharts.showLoading()</p>\n</li>\n<li><p>éšè—åŠ è½½åŠ¨ç”»</p>\n<p>mCharts.hideLoading()</p>\n</li>\n</ul>\n<h3 id=\"åäº”ã€å¢é‡åŠ¨ç”»\"><a href=\"#åäº”ã€å¢é‡åŠ¨ç”»\" class=\"headerlink\" title=\"åäº”ã€å¢é‡åŠ¨ç”»\"></a>åäº”ã€å¢é‡åŠ¨ç”»</h3><ul>\n<li>å¢é‡åŠ¨ç”»çš„å®ç°æ–¹å¼<ul>\n<li>mCharts.setOption<ul>\n<li>æ‰€æœ‰æ•°æ®çš„æ›´æ–°éƒ½é€šè¿‡setOptionå®ç°</li>\n<li>ä¸ç”¨è€ƒè™‘æ•°æ®åˆ°åº•äº§ç”Ÿäº†å“ªäº›å˜åŒ–</li>\n<li>echartsä¼šæ‰¾åˆ°ä¸¤ç»„æ•°æ®ä¹‹é—´çš„å·®å¼‚ç„¶åé€šè¿‡åˆé€‚çš„åŠ¨ç”»å–å®ç°æ•°æ®çš„å˜åŒ–</li>\n<li>æ–°æ—§optionçš„å…³ç³»å¹¶ä¸æ˜¯ç›¸äº’è¦†ç›–çš„å…³ç³»ï¼Œè€Œæ˜¯ç›¸äº’æ•´åˆçš„å…³ç³»</li>\n<li>æˆ‘ä»¬åœ¨è®¾ç½®æ–°çš„optionçš„æ—¶å€™ï¼Œåªéœ€è¦è€ƒè™‘åˆ°å˜åŒ–çš„éƒ¨åˆ†å°±å¯ä»¥</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"åå…­ã€åŠ¨ç”»é…ç½®é¡¹\"><a href=\"#åå…­ã€åŠ¨ç”»é…ç½®é¡¹\" class=\"headerlink\" title=\"åå…­ã€åŠ¨ç”»é…ç½®é¡¹\"></a>åå…­ã€åŠ¨ç”»é…ç½®é¡¹</h3><ul>\n<li><p>å¼€å¯åŠ¨ç”»</p>\n<ul>\n<li>animationï¼štrue</li>\n</ul>\n</li>\n<li><p>åŠ¨ç”»æ—¶é•¿</p>\n<ul>\n<li>animationDurationï¼š5000</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">animationDurationï¼š <span class=\"hljs-keyword\">function</span>ï¼ˆargï¼‰ &#123;<br>  <span class=\"hljs-comment\">// è¿™é‡Œçš„argæ˜¯æ‰€æœ‰éœ€è¦åŠ¨ç”»æ•ˆæœçš„å›¾å…ƒçš„ç´¢å¼•ï¼Œä¼šæ ¹æ®ä¸åŒå½¢å¼çš„å›¾å…ƒå…ƒç´ è¿›è¡Œåˆ†ç»„</span><br>  <span class=\"hljs-keyword\">return</span> arg * <span class=\"hljs-number\">10</span><br>&#125;<br></code></pre></td></tr></table></figure></li>\n<li><p>ç¼“åŠ¨åŠ¨ç”»</p>\n<ul>\n<li>animationEasing: â€˜bounceOutâ€™</li>\n</ul>\n</li>\n<li><p>åŠ¨ç”»é˜ˆå€¼</p>\n<ul>\n<li>animationThresholdï¼š 8</li>\n<li>å•ä¸­å½¢å¼çš„å…ƒç´ æ•°é‡å¤§äºè¿™ä¸ªé˜ˆå€¼ä¼šå…³é—­åŠ¨ç”»</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"åä¸ƒã€å…¨å±€Echartså¯¹è±¡å¸¸ç”¨æ–¹æ³•\"><a href=\"#åä¸ƒã€å…¨å±€Echartså¯¹è±¡å¸¸ç”¨æ–¹æ³•\" class=\"headerlink\" title=\"åä¸ƒã€å…¨å±€Echartså¯¹è±¡å¸¸ç”¨æ–¹æ³•\"></a>åä¸ƒã€å…¨å±€Echartså¯¹è±¡å¸¸ç”¨æ–¹æ³•</h3><ul>\n<li><p>initæ–¹æ³•</p>\n<ul>\n<li>åˆå§‹åŒ–Echartså®ä¾‹å¯¹è±¡</li>\n<li>ä½¿ç”¨ä¸»é¢˜ï¼ˆç¬¬äºŒä¸ªå‚æ•°ï¼‰</li>\n</ul>\n</li>\n<li><p>registerThemeæ–¹æ³•</p>\n<ul>\n<li>æ³¨å†Œä¸»é¢˜</li>\n<li>åªæœ‰æ³¨å†Œè¿‡çš„ä¸»é¢˜ï¼Œæ‰èƒ½åœ¨initæ–¹æ³•ä¸­ä½¿ç”¨è¯¥ä¸»é¢˜</li>\n</ul>\n</li>\n<li><p>registerMapæ–¹æ³•</p>\n<ul>\n<li><p>æ³¨å†Œåœ°å›¾æ•°æ®</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">$.<span class=\"hljs-title function_\">get</span>(<span class=\"hljs-string\">&#x27;json/map/china.json&#x27;</span>, <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">ChinaJson</span>) &#123;<br>  echarts.<span class=\"hljs-title function_\">registerMap</span>(<span class=\"hljs-string\">&#x27;china&#x27;</span>, chinaJson)<br>&#125;)<br></code></pre></td></tr></table></figure></li>\n<li><p>geoç»„ä»¶ä½¿ç”¨åœ°å›¾æ•°æ®</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">var</span> option = &#123;<br>  <span class=\"hljs-attr\">geo</span>: &#123;<br>    <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;map&#x27;</span>,<br>    <span class=\"hljs-attr\">map</span>: <span class=\"hljs-string\">&#x27;china&#x27;</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>\n</ul>\n</li>\n<li><p>connectæ–¹æ³•</p>\n<ul>\n<li>ä¸€ä¸ªé¡µé¢ä¸­å¯ä»¥æœ‰å¤šä¸ªç‹¬ç«‹çš„å›¾è¡¨</li>\n<li>æ¯ä¸€ä¸ªå›¾è¡¨å¯¹åº”ä¸€ä¸ªEchartså®ä¾‹å¯¹è±¡</li>\n<li>connectå¯ä»¥å®ç°å¤šå›¾å…³è”ï¼Œä¼ å…¥è”åŠ¨ç›®æ ‡ä¸ºEchartså®ä¾‹å¯¹è±¡ï¼Œæ”¯æŒæ•°ç»„<ul>\n<li>ä¿å­˜å›¾ç‰‡çš„è‡ªåŠ¨æ‹¼æ¥ï¼ˆsaveAsImageï¼‰</li>\n<li>åˆ·æ–°æŒ‰é’®</li>\n<li>é‡ç½®æŒ‰é’®</li>\n<li>æç¤ºæ¡†è”åŠ¨ã€å›¾ä¾‹é€‰æ‹©ã€æ•°æ®èŒƒå›´ä¿®æ”¹ç­‰ç­‰</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"åå…«ã€echartsInstanceå®ä¾‹å¸¸ç”¨æ–¹æ³•\"><a href=\"#åå…«ã€echartsInstanceå®ä¾‹å¸¸ç”¨æ–¹æ³•\" class=\"headerlink\" title=\"åå…«ã€echartsInstanceå®ä¾‹å¸¸ç”¨æ–¹æ³•\"></a>åå…«ã€echartsInstanceå®ä¾‹å¸¸ç”¨æ–¹æ³•</h3><ul>\n<li><p>setOptionæ–¹æ³•</p>\n<ul>\n<li>è®¾ç½®æˆ–ä¿®æ”¹å›¾è¡¨å®ä¾‹çš„é…ç½®é¡¹ä»¥åŠæ•°æ®</li>\n<li>å¤šæ¬¡è°ƒç”¨setOptionæ–¹æ³•<ul>\n<li>åˆå¹¶æ–°æ—§é…ç½®</li>\n<li>å¢é‡åŠ¨ç”»</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>resizeæ–¹æ³•</p>\n<ul>\n<li>é‡æ–°è®¡ç®—å’Œç»˜åˆ¶å›¾è¡¨</li>\n<li>ä¸€èˆ¬å’Œwindowå¯¹è±¡çš„resizeäº‹ä»¶ç»“åˆä½¿ç”¨<ul>\n<li>window.onresize = mEcharts.resize</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>on\\offæ–¹æ³•</p>\n<ul>\n<li>ç»‘å®šæˆ–è€…è§£ç»‘äº‹ä»¶å¤„ç†å‡½æ•°</li>\n<li>é¼ æ ‡äº‹ä»¶<ul>\n<li>å¸¸è§äº‹ä»¶ï¼šclickã€dbclickã€mousedownã€mousemoveã€mouseupç­‰</li>\n</ul>\n</li>\n<li>Echartsäº‹ä»¶<ul>\n<li>å¸¸è§äº‹ä»¶ï¼šlegendselectchangedã€datazoomã€pieselectchangedã€maâ€™pselectchanged</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>dispatchAction</p>\n<ul>\n<li><p>è§¦å‘æŸäº›è¡Œä¸º</p>\n</li>\n<li><p>ä½¿ç”¨ä»£ç æ¨¡æ‹Ÿç”¨æˆ·çš„è¡Œä¸º</p>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">mCharts.<span class=\"hljs-title function_\">dispatchAction</span>(&#123;<br>  <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;hightlight&#x27;</span>, <span class=\"hljs-comment\">// äº‹ä»¶ç±»å‹</span><br>  <span class=\"hljs-attr\">seriesIndex</span>: <span class=\"hljs-number\">0</span>, <span class=\"hljs-comment\">// å›¾è¡¨ç´¢å¼•(ç³»åˆ—)</span><br>  <span class=\"hljs-attr\">dataIndex</span>: <span class=\"hljs-number\">1</span> <span class=\"hljs-comment\">// å›¾è¡¨ä¸­å“ªä¸€é¡¹é«˜äº®</span><br>&#125;)<br></code></pre></td></tr></table></figure></li>\n<li><p>clear</p>\n<ul>\n<li>æ¸…ç©ºå½“å‰å®ä¾‹ï¼Œä¼šç§»é™¤å®ä¾‹ä¸­æ‰€æœ‰çš„ç»„ä»¶å’Œå›¾è¡¨</li>\n<li>æ¸…ç©ºä¹‹åå¯ä»¥å†æ¬¡setOption</li>\n</ul>\n</li>\n<li><p>disposeæ–¹æ³•</p>\n<ul>\n<li>é”€æ¯å®ä¾‹</li>\n<li>é”€æ¯åå®ä¾‹æ— æ³•å†è¢«ä½¿ç”¨</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"åä¹ã€websocketçš„åŸºæœ¬ä½¿ç”¨\"><a href=\"#åä¹ã€websocketçš„åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"åä¹ã€websocketçš„åŸºæœ¬ä½¿ç”¨\"></a>åä¹ã€websocketçš„åŸºæœ¬ä½¿ç”¨</h3><ul>\n<li><p>åç«¯</p>\n<ul>\n<li><p>å®‰è£…åŒ…</p>\n<ul>\n<li>npm i ws</li>\n</ul>\n</li>\n<li><p>åˆ›å»ºå¯¹è±¡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> webSocket = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;ws&#x27;</span>)<br><span class=\"hljs-keyword\">const</span> wss = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">WebSocket</span>.<span class=\"hljs-title function_\">server</span>(&#123;<br>  <span class=\"hljs-attr\">port</span>: <span class=\"hljs-string\">&#x27;8080&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure></li>\n<li><p>ç›‘å¬äº‹ä»¶</p>\n<ul>\n<li><p>è¿æ¥äº‹ä»¶</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">wss.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&#x27;connection&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">client</span> =&gt;</span> &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;æœ‰å®¢æˆ·ç«¯è¿æ¥&#x27;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure></li>\n<li><p>æ¥å—æ•°æ®äº‹ä»¶</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">wss.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&#x27;connection&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">client</span> =&gt;</span> &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;æœ‰å®¢æˆ·ç«¯è¿æ¥&#x27;</span>)<br>  client.<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&#x27;message&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">msg</span> =&gt;</span> &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;å®¢æˆ·ç«¯å‘é€æ•°æ®è¿‡æ¥äº†&#x27;</span>)<br>  &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure></li>\n<li><p>å‘é€æ•°æ®</p>\n<ul>\n<li>client.send(â€˜hello socket from back-endâ€™)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>å‰ç«¯</p>\n<ul>\n<li><p>åˆ›å»ºå¯¹è±¡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> ws = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">WebSocket</span>(<span class=\"hljs-string\">&#x27;ws://localhost:8080&#x27;</span>)<br></code></pre></td></tr></table></figure></li>\n<li><p>ç›‘å¬äº‹ä»¶</p>\n<ul>\n<li>è¿æ¥æˆåŠŸäº‹ä»¶<ul>\n<li>ws.onopen = () =&gt; {}</li>\n</ul>\n</li>\n<li>æ¥å—æ•°æ®äº‹ä»¶<ul>\n<li>ws.onmessage = msg =&gt; {}</li>\n</ul>\n</li>\n<li>å…³é—­è¿æ¥äº‹ä»¶<ul>\n<li>ws.onclose = () =&gt; {}</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>å‘é€æ•°æ®</p>\n<ul>\n<li>ws.send</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"h5ä¸ue4é€šè®¯","keywords":"h5ä¸ue4é€šè®¯ jsä¸h5äº¤äº’ webä¸h5é€šè®¯","_content":"## ä¸€ã€æŠ€æœ¯æ–¹æ¡ˆï¼š\n\nUE4é€šè¿‡æœ¬åœ°è·¯å¾„å¯¼å…¥å‰ç«¯æ‰“åŒ…çš„é¡¹ç›®ï¼Œå¼•å…¥å¯¹åº”çš„h5é¡µé¢ï¼Œå€ŸåŠ©UE4çš„WebBrowseræ’ä»¶å®ç°ä¸h5çš„åŒå‘é€šä¿¡\n\næ³¨ï¼šæœ¬æ–‡æ¡£ä»¥çºµæ¨ªé¡¹ç›®demoä¸ºä¾‹ï¼Œä¸»è¦ä»‹ç»å‰ç«¯éœ€è¦åšçš„ç›¸å…³å·¥ä½œ\n\n## äºŒã€å‰ç«¯æŠ€æœ¯æ ˆ\n\nvue3+quasar+axios+vue-router\n\næ³¨ï¼šä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆå¹¶ä¸å½±å“ä¸ueçš„äº¤äº’ï¼Œä½†æ˜¯åç»­åœ¨å¼•å…¥é¡¹ç›®ä¸­ä¼šå­˜åœ¨ä¸å…¼å®¹çš„é—®é¢˜ï¼Œåç»­æ‰“åŒ…æ—¶éœ€è¦é…ç½®è¿›è¡Œpolyfillå¤„ç†ï¼Œè¯¦è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ1\n\n## ä¸‰ã€æ ¸å¿ƒæµç¨‹\n\n<!--ue4ä¼ æ•°æ®ç»™h5åç»­è¡¥å……-->\n\n1. h5ä¼ æ•°æ®ç»™UE4\n\n   - åˆ¤æ–­h5ä¸­å…¨å±€ç¯å¢ƒä¸‹æ˜¯å¦å·²ç»æœ‰ueå¯¹è±¡ï¼ˆUE4ä¸­WebBrowseræ’ä»¶ä¸åŒç‰ˆæœ¬æˆ–è€…ä¸åŒæ’ä»¶ï¼Œå¯èƒ½æ‹¿åˆ°çš„æ˜¯ue4å¯¹è±¡ï¼Œå½“å‰é¡¹ç›®æ‹¿åˆ°çš„æ˜¯ueå¯¹è±¡ï¼‰\n\n    ```js\n     const ue = window.ue;\n     const isHasUE = typeof ue !== \"undefined\" && ue !== null ? true : false;\n     ```\n\n   - è°ƒç”¨UEä¸­å®šä¹‰çš„æŒ‚è½½åœ¨ueå¯¹è±¡ä¸­çš„å¯¹åº”æ–¹æ³•\n\n    ```js\n     function MinimizeApp(trackdata) {\n       return function(callback) {\n         if (!isHasUE) {\n           console.log(\"ue initial faild! can't call function!~\");\n           return;\n         }\n          // è¿™é‡Œçš„webapiæ˜¯å’ŒueåŒäº‹æ²Ÿé€šç»Ÿä¸€çš„åç§° \n         ue.webapi\n         \t// è¿™é‡Œçš„æ–¹æ³•åè¦å…¨éƒ¨å°å†™ï¼Œéœ€è¦å’ŒueåŒäº‹è¿›è¡Œç»Ÿä¸€\n           .minimizeapp(JSON.stringify(trackdata))\n           .then(function(ret) {\n             // retæ˜¯è°ƒç”¨ueçš„è¿”å›å€¼ã€‚UE4ä¸­WebBrowseræ’ä»¶ä¸åŒç‰ˆæœ¬æˆ–è€…ä¸åŒæ’ä»¶ï¼Œå¯èƒ½è¿”å›å€¼åç§°å¿…é¡»è¦æ˜¯ReturnValue\n             callback(ret);\n           })\n           .catch(function(error) {\n             console.log(error);\n           });\n       };\n     }\n     ```\n\n     \n\n## å››ã€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\n\n1. UE4åŠ è½½webé¡¹ç›®æ˜¾ç¤ºç©ºç™½é—®é¢˜\n\n   - é—®é¢˜äº§ç”ŸåŸå› ï¼šUE4ä¸­çš„Chromiumå†…æ ¸ä¸æ”¯æŒES module\n\n   - UE4è‡ªå¸¦çš„WebBrowserä½¿ç”¨CEF3ï¼ˆä½¿ç”¨Chromiumå†…æ ¸ï¼‰, å¯¹åº”çš„å†…æ ¸ç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹ï¼š\n\n    ```\n     CEF 3.3071.1611.g4a19305\n     Chromium    59.0.3071.15\n     OS  Windows\n     WebKit  537.36 (@b3f9fb3b948d9304d587a127c3e4f47b2ad78927)\n     JavaScript  5.9.211.4\n     Flash   \n     User Agent  Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Digital/++UE4+Release-4.26-CL-15973114 UnrealEngine/4.26.2-15973114+++UE4+Release-4.26 Chrome/59.0.3071.15 Safari/537.36\n     Command Line    \"D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/Win64/UE4Editor.exe\" --browser-subprocess-path=\"D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/Win64/UnrealCEFSubProcess.exe\" --no-sandbox --product-version=\"Digital/++UE4+Release-4.26-CL-15973114 UnrealEngine/4.26.2-15973114+++UE4+Release-4.26 Chrome/59.0.3071.15\" --lang=en --log-file=D:/Projects/digital-factory/Digital/Saved/Logs/cef3.log --log-severity=warning --resources-dir-path=\"D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/ThirdParty/CEF3/Win64/Resources\" --locales-dir-path=\"D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/ThirdParty/CEF3/Win64/Resources/locales\" --enable-gpu --enable-gpu-compositing --enable-begin-frame-scheduling\n     Module Path D:\\Program Files\\Epic Games\\UE_4.26\\Engine\\Binaries\\ThirdParty\\CEF3\\Win64\\libcef.dll\n     Cache Path  D:/***/Saved/webcache\n     ```\n\n   - é€šè¿‡æŸ¥è¯¢è¯¥æµè§ˆå™¨ç‰ˆæœ¬æ”¯æŒçš„å¯¹åº”åŠŸèƒ½ï¼ˆæŸ¥è¯¢ç½‘ç«™ï¼š[æŸ¥è¯¢æµè§ˆå™¨æ”¯æŒçš„è¯­æ³•ã€APIç­‰](http://html5test.com/))å‘ç°ï¼Œè¯¥æµè§ˆå™¨ä¸æ”¯æŒES moduleè¯­æ³•ï¼Œéœ€è¦å¯¹é¡¹ç›®è¿›è¡Œpolyfillæ‰“è¡¥ä¸ï¼Œè®©UE4æ”¯æŒé¡¹ç›®ä¸­ä¸€äº›æ–°çš„APIã€‚\n\n   - ![cef3-htm5test](/Users/luyao/Desktop/wattman/zongheng/cef3-htm5test.png)\n\n   - è§£å†³æ–¹æ¡ˆï¼švue-cli4ä¸­ä¼šé»˜è®¤è¿™æ ·å®ƒä¼šæ ¹æ®æºä»£ç ä¸­å‡ºç°çš„è¯­è¨€ç‰¹æ€§è‡ªåŠ¨æ£€æµ‹éœ€è¦çš„ polyfillã€‚è¿™ç¡®ä¿äº†æœ€ç»ˆåŒ…é‡Œ polyfill æ•°é‡çš„æœ€å°åŒ–ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿæ„å‘³ç€**å¦‚æœå…¶ä¸­ä¸€ä¸ªä¾èµ–éœ€è¦ç‰¹æ®Šçš„ polyfillï¼Œé»˜è®¤æƒ…å†µä¸‹ Babel æ— æ³•å°†å…¶æ£€æµ‹å‡ºæ¥ã€‚**ä½¿ç”¨vue-cli4ä¸­çš„transpileDependenciesé€‰é¡¹ï¼Œå¯¹å¯èƒ½æœ‰é€ æˆä¸å…¼å®¹é—®é¢˜çš„ä¾èµ–è¿›è¡Œpolyfillã€‚å¦‚é¡¹ç›®ä¸­å¯¹quasarè¿›è¡Œè½¬æ¢\n\n    ```vue\n     transpileDependencies: ['quasar' ]\n     ```\n\n2. h5ç»™ue4ä¼ è¾“æ•°ç»„æ•°æ®æˆ–å¯¹è±¡å¤±è´¥é—®é¢˜\n\n   - é—®é¢˜äº§ç”ŸåŸå› ï¼šä¸æµè§ˆå™¨ä¸åç«¯è¿›è¡Œæ•°æ®ä¼ è¾“ç±»ä¼¼ï¼Œh5ä¸ueè¿›è¡Œæ•°æ®ä¼ è¾“ä¹Ÿéœ€è¦å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–ã€‚ç”±äºå¹³æ—¶ä½¿ç”¨axiosè¿›è¡Œç½‘ç»œæ•°æ®è¯·æ±‚ï¼Œå…¶å†…éƒ¨å¯¹ä¼ è¾“çš„æ•°æ®å°±å·²ç»è¿›è¡Œäº†åºåˆ—åŒ–çš„æ“ä½œï¼Œæ­¤å¤„åœ¨ä¸u4é€šä¿¡æ—¶ï¼Œå¹¶ä¸æ˜¯é€šè¿‡axiosï¼Œé—å¿˜äº†å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–çš„æ“ä½œ\n   - è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æµè§ˆå™¨çš„APIå¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–æ“ä½œåä¼ ç»™ueï¼šJSON.stringify()","source":"_posts/h5ä¸ue4é€šè®¯.md","raw":"---\ntitle: h5ä¸ue4é€šè®¯\ntag: h5ä¸ue4\nkeywords: h5ä¸ue4é€šè®¯ jsä¸h5äº¤äº’ webä¸h5é€šè®¯\ncategories: h5ä¸ue4\n---\n## ä¸€ã€æŠ€æœ¯æ–¹æ¡ˆï¼š\n\nUE4é€šè¿‡æœ¬åœ°è·¯å¾„å¯¼å…¥å‰ç«¯æ‰“åŒ…çš„é¡¹ç›®ï¼Œå¼•å…¥å¯¹åº”çš„h5é¡µé¢ï¼Œå€ŸåŠ©UE4çš„WebBrowseræ’ä»¶å®ç°ä¸h5çš„åŒå‘é€šä¿¡\n\næ³¨ï¼šæœ¬æ–‡æ¡£ä»¥çºµæ¨ªé¡¹ç›®demoä¸ºä¾‹ï¼Œä¸»è¦ä»‹ç»å‰ç«¯éœ€è¦åšçš„ç›¸å…³å·¥ä½œ\n\n## äºŒã€å‰ç«¯æŠ€æœ¯æ ˆ\n\nvue3+quasar+axios+vue-router\n\næ³¨ï¼šä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆå¹¶ä¸å½±å“ä¸ueçš„äº¤äº’ï¼Œä½†æ˜¯åç»­åœ¨å¼•å…¥é¡¹ç›®ä¸­ä¼šå­˜åœ¨ä¸å…¼å®¹çš„é—®é¢˜ï¼Œåç»­æ‰“åŒ…æ—¶éœ€è¦é…ç½®è¿›è¡Œpolyfillå¤„ç†ï¼Œè¯¦è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ1\n\n## ä¸‰ã€æ ¸å¿ƒæµç¨‹\n\n<!--ue4ä¼ æ•°æ®ç»™h5åç»­è¡¥å……-->\n\n1. h5ä¼ æ•°æ®ç»™UE4\n\n   - åˆ¤æ–­h5ä¸­å…¨å±€ç¯å¢ƒä¸‹æ˜¯å¦å·²ç»æœ‰ueå¯¹è±¡ï¼ˆUE4ä¸­WebBrowseræ’ä»¶ä¸åŒç‰ˆæœ¬æˆ–è€…ä¸åŒæ’ä»¶ï¼Œå¯èƒ½æ‹¿åˆ°çš„æ˜¯ue4å¯¹è±¡ï¼Œå½“å‰é¡¹ç›®æ‹¿åˆ°çš„æ˜¯ueå¯¹è±¡ï¼‰\n\n    ```js\n     const ue = window.ue;\n     const isHasUE = typeof ue !== \"undefined\" && ue !== null ? true : false;\n     ```\n\n   - è°ƒç”¨UEä¸­å®šä¹‰çš„æŒ‚è½½åœ¨ueå¯¹è±¡ä¸­çš„å¯¹åº”æ–¹æ³•\n\n    ```js\n     function MinimizeApp(trackdata) {\n       return function(callback) {\n         if (!isHasUE) {\n           console.log(\"ue initial faild! can't call function!~\");\n           return;\n         }\n          // è¿™é‡Œçš„webapiæ˜¯å’ŒueåŒäº‹æ²Ÿé€šç»Ÿä¸€çš„åç§° \n         ue.webapi\n         \t// è¿™é‡Œçš„æ–¹æ³•åè¦å…¨éƒ¨å°å†™ï¼Œéœ€è¦å’ŒueåŒäº‹è¿›è¡Œç»Ÿä¸€\n           .minimizeapp(JSON.stringify(trackdata))\n           .then(function(ret) {\n             // retæ˜¯è°ƒç”¨ueçš„è¿”å›å€¼ã€‚UE4ä¸­WebBrowseræ’ä»¶ä¸åŒç‰ˆæœ¬æˆ–è€…ä¸åŒæ’ä»¶ï¼Œå¯èƒ½è¿”å›å€¼åç§°å¿…é¡»è¦æ˜¯ReturnValue\n             callback(ret);\n           })\n           .catch(function(error) {\n             console.log(error);\n           });\n       };\n     }\n     ```\n\n     \n\n## å››ã€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\n\n1. UE4åŠ è½½webé¡¹ç›®æ˜¾ç¤ºç©ºç™½é—®é¢˜\n\n   - é—®é¢˜äº§ç”ŸåŸå› ï¼šUE4ä¸­çš„Chromiumå†…æ ¸ä¸æ”¯æŒES module\n\n   - UE4è‡ªå¸¦çš„WebBrowserä½¿ç”¨CEF3ï¼ˆä½¿ç”¨Chromiumå†…æ ¸ï¼‰, å¯¹åº”çš„å†…æ ¸ç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹ï¼š\n\n    ```\n     CEF 3.3071.1611.g4a19305\n     Chromium    59.0.3071.15\n     OS  Windows\n     WebKit  537.36 (@b3f9fb3b948d9304d587a127c3e4f47b2ad78927)\n     JavaScript  5.9.211.4\n     Flash   \n     User Agent  Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Digital/++UE4+Release-4.26-CL-15973114 UnrealEngine/4.26.2-15973114+++UE4+Release-4.26 Chrome/59.0.3071.15 Safari/537.36\n     Command Line    \"D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/Win64/UE4Editor.exe\" --browser-subprocess-path=\"D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/Win64/UnrealCEFSubProcess.exe\" --no-sandbox --product-version=\"Digital/++UE4+Release-4.26-CL-15973114 UnrealEngine/4.26.2-15973114+++UE4+Release-4.26 Chrome/59.0.3071.15\" --lang=en --log-file=D:/Projects/digital-factory/Digital/Saved/Logs/cef3.log --log-severity=warning --resources-dir-path=\"D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/ThirdParty/CEF3/Win64/Resources\" --locales-dir-path=\"D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/ThirdParty/CEF3/Win64/Resources/locales\" --enable-gpu --enable-gpu-compositing --enable-begin-frame-scheduling\n     Module Path D:\\Program Files\\Epic Games\\UE_4.26\\Engine\\Binaries\\ThirdParty\\CEF3\\Win64\\libcef.dll\n     Cache Path  D:/***/Saved/webcache\n     ```\n\n   - é€šè¿‡æŸ¥è¯¢è¯¥æµè§ˆå™¨ç‰ˆæœ¬æ”¯æŒçš„å¯¹åº”åŠŸèƒ½ï¼ˆæŸ¥è¯¢ç½‘ç«™ï¼š[æŸ¥è¯¢æµè§ˆå™¨æ”¯æŒçš„è¯­æ³•ã€APIç­‰](http://html5test.com/))å‘ç°ï¼Œè¯¥æµè§ˆå™¨ä¸æ”¯æŒES moduleè¯­æ³•ï¼Œéœ€è¦å¯¹é¡¹ç›®è¿›è¡Œpolyfillæ‰“è¡¥ä¸ï¼Œè®©UE4æ”¯æŒé¡¹ç›®ä¸­ä¸€äº›æ–°çš„APIã€‚\n\n   - ![cef3-htm5test](/Users/luyao/Desktop/wattman/zongheng/cef3-htm5test.png)\n\n   - è§£å†³æ–¹æ¡ˆï¼švue-cli4ä¸­ä¼šé»˜è®¤è¿™æ ·å®ƒä¼šæ ¹æ®æºä»£ç ä¸­å‡ºç°çš„è¯­è¨€ç‰¹æ€§è‡ªåŠ¨æ£€æµ‹éœ€è¦çš„ polyfillã€‚è¿™ç¡®ä¿äº†æœ€ç»ˆåŒ…é‡Œ polyfill æ•°é‡çš„æœ€å°åŒ–ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿæ„å‘³ç€**å¦‚æœå…¶ä¸­ä¸€ä¸ªä¾èµ–éœ€è¦ç‰¹æ®Šçš„ polyfillï¼Œé»˜è®¤æƒ…å†µä¸‹ Babel æ— æ³•å°†å…¶æ£€æµ‹å‡ºæ¥ã€‚**ä½¿ç”¨vue-cli4ä¸­çš„transpileDependenciesé€‰é¡¹ï¼Œå¯¹å¯èƒ½æœ‰é€ æˆä¸å…¼å®¹é—®é¢˜çš„ä¾èµ–è¿›è¡Œpolyfillã€‚å¦‚é¡¹ç›®ä¸­å¯¹quasarè¿›è¡Œè½¬æ¢\n\n    ```vue\n     transpileDependencies: ['quasar' ]\n     ```\n\n2. h5ç»™ue4ä¼ è¾“æ•°ç»„æ•°æ®æˆ–å¯¹è±¡å¤±è´¥é—®é¢˜\n\n   - é—®é¢˜äº§ç”ŸåŸå› ï¼šä¸æµè§ˆå™¨ä¸åç«¯è¿›è¡Œæ•°æ®ä¼ è¾“ç±»ä¼¼ï¼Œh5ä¸ueè¿›è¡Œæ•°æ®ä¼ è¾“ä¹Ÿéœ€è¦å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–ã€‚ç”±äºå¹³æ—¶ä½¿ç”¨axiosè¿›è¡Œç½‘ç»œæ•°æ®è¯·æ±‚ï¼Œå…¶å†…éƒ¨å¯¹ä¼ è¾“çš„æ•°æ®å°±å·²ç»è¿›è¡Œäº†åºåˆ—åŒ–çš„æ“ä½œï¼Œæ­¤å¤„åœ¨ä¸u4é€šä¿¡æ—¶ï¼Œå¹¶ä¸æ˜¯é€šè¿‡axiosï¼Œé—å¿˜äº†å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–çš„æ“ä½œ\n   - è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æµè§ˆå™¨çš„APIå¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–æ“ä½œåä¼ ç»™ueï¼šJSON.stringify()","slug":"h5ä¸ue4é€šè®¯","published":1,"date":"2021-10-18T06:42:32.034Z","updated":"2021-10-18T09:38:17.537Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9kq0003i024g7288bfo","content":"<h2 id=\"ä¸€ã€æŠ€æœ¯æ–¹æ¡ˆï¼š\"><a href=\"#ä¸€ã€æŠ€æœ¯æ–¹æ¡ˆï¼š\" class=\"headerlink\" title=\"ä¸€ã€æŠ€æœ¯æ–¹æ¡ˆï¼š\"></a>ä¸€ã€æŠ€æœ¯æ–¹æ¡ˆï¼š</h2><p>UE4é€šè¿‡æœ¬åœ°è·¯å¾„å¯¼å…¥å‰ç«¯æ‰“åŒ…çš„é¡¹ç›®ï¼Œå¼•å…¥å¯¹åº”çš„h5é¡µé¢ï¼Œå€ŸåŠ©UE4çš„WebBrowseræ’ä»¶å®ç°ä¸h5çš„åŒå‘é€šä¿¡</p>\n<p>æ³¨ï¼šæœ¬æ–‡æ¡£ä»¥çºµæ¨ªé¡¹ç›®demoä¸ºä¾‹ï¼Œä¸»è¦ä»‹ç»å‰ç«¯éœ€è¦åšçš„ç›¸å…³å·¥ä½œ</p>\n<h2 id=\"äºŒã€å‰ç«¯æŠ€æœ¯æ ˆ\"><a href=\"#äºŒã€å‰ç«¯æŠ€æœ¯æ ˆ\" class=\"headerlink\" title=\"äºŒã€å‰ç«¯æŠ€æœ¯æ ˆ\"></a>äºŒã€å‰ç«¯æŠ€æœ¯æ ˆ</h2><p>vue3+quasar+axios+vue-router</p>\n<p>æ³¨ï¼šä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆå¹¶ä¸å½±å“ä¸ueçš„äº¤äº’ï¼Œä½†æ˜¯åç»­åœ¨å¼•å…¥é¡¹ç›®ä¸­ä¼šå­˜åœ¨ä¸å…¼å®¹çš„é—®é¢˜ï¼Œåç»­æ‰“åŒ…æ—¶éœ€è¦é…ç½®è¿›è¡Œpolyfillå¤„ç†ï¼Œè¯¦è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ1</p>\n<h2 id=\"ä¸‰ã€æ ¸å¿ƒæµç¨‹\"><a href=\"#ä¸‰ã€æ ¸å¿ƒæµç¨‹\" class=\"headerlink\" title=\"ä¸‰ã€æ ¸å¿ƒæµç¨‹\"></a>ä¸‰ã€æ ¸å¿ƒæµç¨‹</h2><!--ue4ä¼ æ•°æ®ç»™h5åç»­è¡¥å……-->\n\n<ol>\n<li><p>h5ä¼ æ•°æ®ç»™UE4</p>\n<ul>\n<li>åˆ¤æ–­h5ä¸­å…¨å±€ç¯å¢ƒä¸‹æ˜¯å¦å·²ç»æœ‰ueå¯¹è±¡ï¼ˆUE4ä¸­WebBrowseræ’ä»¶ä¸åŒç‰ˆæœ¬æˆ–è€…ä¸åŒæ’ä»¶ï¼Œå¯èƒ½æ‹¿åˆ°çš„æ˜¯ue4å¯¹è±¡ï¼Œå½“å‰é¡¹ç›®æ‹¿åˆ°çš„æ˜¯ueå¯¹è±¡ï¼‰</li>\n</ul>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\"><span class=\"hljs-keyword\">const</span> ue = <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">ue</span>;<br><span class=\"hljs-keyword\">const</span> isHasUE = <span class=\"hljs-keyword\">typeof</span> ue !== <span class=\"hljs-string\">&quot;undefined&quot;</span> &amp;&amp; ue !== <span class=\"hljs-literal\">null</span> ? <span class=\"hljs-literal\">true</span> : <span class=\"hljs-literal\">false</span>;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>è°ƒç”¨UEä¸­å®šä¹‰çš„æŒ‚è½½åœ¨ueå¯¹è±¡ä¸­çš„å¯¹åº”æ–¹æ³•</li>\n</ul>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">MinimizeApp</span>(<span class=\"hljs-params\">trackdata</span>) &#123;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">callback</span>) &#123;<br>    <span class=\"hljs-keyword\">if</span> (!isHasUE) &#123;<br>      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;ue initial faild! can&#x27;t call function!~&quot;</span>);<br>      <span class=\"hljs-keyword\">return</span>;<br>    &#125;<br>     <span class=\"hljs-comment\">// è¿™é‡Œçš„webapiæ˜¯å’ŒueåŒäº‹æ²Ÿé€šç»Ÿä¸€çš„åç§° </span><br>    ue.<span class=\"hljs-property\">webapi</span><br>    \t<span class=\"hljs-comment\">// è¿™é‡Œçš„æ–¹æ³•åè¦å…¨éƒ¨å°å†™ï¼Œéœ€è¦å’ŒueåŒäº‹è¿›è¡Œç»Ÿä¸€</span><br>      .<span class=\"hljs-title function_\">minimizeapp</span>(<span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(trackdata))<br>      .<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">ret</span>) &#123;<br>        <span class=\"hljs-comment\">// retæ˜¯è°ƒç”¨ueçš„è¿”å›å€¼ã€‚UE4ä¸­WebBrowseræ’ä»¶ä¸åŒç‰ˆæœ¬æˆ–è€…ä¸åŒæ’ä»¶ï¼Œå¯èƒ½è¿”å›å€¼åç§°å¿…é¡»è¦æ˜¯ReturnValue</span><br>        <span class=\"hljs-title function_\">callback</span>(ret);<br>      &#125;)<br>      .<span class=\"hljs-title function_\">catch</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">error</span>) &#123;<br>        <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(error);<br>      &#125;);<br>  &#125;;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h2 id=\"å››ã€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\"><a href=\"#å››ã€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"å››ã€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\"></a>å››ã€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2><ol>\n<li><p>UE4åŠ è½½webé¡¹ç›®æ˜¾ç¤ºç©ºç™½é—®é¢˜</p>\n<ul>\n<li><p>é—®é¢˜äº§ç”ŸåŸå› ï¼šUE4ä¸­çš„Chromiumå†…æ ¸ä¸æ”¯æŒES module</p>\n</li>\n<li><p>UE4è‡ªå¸¦çš„WebBrowserä½¿ç”¨CEF3ï¼ˆä½¿ç”¨Chromiumå†…æ ¸ï¼‰, å¯¹åº”çš„å†…æ ¸ç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹ï¼š</p>\n</li>\n</ul>\n <figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs apache\"><span class=\"hljs-attribute\">CEF</span> <span class=\"hljs-number\">3</span>.<span class=\"hljs-number\">3071</span>.<span class=\"hljs-number\">1611</span>.g4a19305<br><span class=\"hljs-attribute\">Chromium</span>    <span class=\"hljs-number\">59</span>.<span class=\"hljs-number\">0</span>.<span class=\"hljs-number\">3071</span>.<span class=\"hljs-number\">15</span><br><span class=\"hljs-attribute\">OS</span>  Windows<br><span class=\"hljs-attribute\">WebKit</span>  <span class=\"hljs-number\">537</span>.<span class=\"hljs-number\">36</span> (@b3f9fb3b948d9304d587a127c3e4f47b2ad78927)<br><span class=\"hljs-attribute\">JavaScript</span>  <span class=\"hljs-number\">5.9.211.4</span><br><span class=\"hljs-attribute\">Flash</span>   <br><span class=\"hljs-attribute\">User</span> Agent  Mozilla/<span class=\"hljs-number\">5</span>.<span class=\"hljs-number\">0</span> (Windows NT <span class=\"hljs-number\">10</span>.<span class=\"hljs-number\">0</span>; Win64; x64) AppleWebKit/<span class=\"hljs-number\">537</span>.<span class=\"hljs-number\">36</span> (KHTML, like Gecko) Digital/++UE4+Release-<span class=\"hljs-number\">4</span>.<span class=\"hljs-number\">26</span>-CL-<span class=\"hljs-number\">15973114</span> UnrealEngine/<span class=\"hljs-number\">4</span>.<span class=\"hljs-number\">26</span>.<span class=\"hljs-number\">2</span>-<span class=\"hljs-number\">15973114</span>+++UE4+Release-<span class=\"hljs-number\">4</span>.<span class=\"hljs-number\">26</span> Chrome/<span class=\"hljs-number\">59</span>.<span class=\"hljs-number\">0</span>.<span class=\"hljs-number\">3071</span>.<span class=\"hljs-number\">15</span> Safari/<span class=\"hljs-number\">537</span>.<span class=\"hljs-number\">36</span><br><span class=\"hljs-attribute\">Command</span> Line    <span class=\"hljs-string\">&quot;D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/Win64/UE4Editor.exe&quot;</span> --browser-subprocess-path=<span class=\"hljs-string\">&quot;D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/Win64/UnrealCEFSubProcess.exe&quot;</span> --no-sandbox --product-version=<span class=\"hljs-string\">&quot;Digital/++UE4+Release-4.26-CL-15973114 UnrealEngine/4.26.2-15973114+++UE4+Release-4.26 Chrome/59.0.3071.15&quot;</span> --lang=en --log-file=D:/Projects/digital-factory/Digital/Saved/Logs/cef3.log --log-severity=warning --resources-dir-path=<span class=\"hljs-string\">&quot;D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/ThirdParty/CEF3/Win64/Resources&quot;</span> --locales-dir-path=<span class=\"hljs-string\">&quot;D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/ThirdParty/CEF3/Win64/Resources/locales&quot;</span> --enable-gpu --enable-gpu-compositing --enable-begin-frame-scheduling<br><span class=\"hljs-attribute\">Module</span> Path D:\\Program Files\\Epic Games\\UE_4.<span class=\"hljs-number\">26</span>\\Engine\\Binaries\\ThirdParty\\CEF3\\Win64\\libcef.dll<br><span class=\"hljs-attribute\">Cache</span> Path  D:/***/Saved/webcache<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>é€šè¿‡æŸ¥è¯¢è¯¥æµè§ˆå™¨ç‰ˆæœ¬æ”¯æŒçš„å¯¹åº”åŠŸèƒ½ï¼ˆæŸ¥è¯¢ç½‘ç«™ï¼š<a href=\"http://html5test.com/\">æŸ¥è¯¢æµè§ˆå™¨æ”¯æŒçš„è¯­æ³•ã€APIç­‰</a>)å‘ç°ï¼Œè¯¥æµè§ˆå™¨ä¸æ”¯æŒES moduleè¯­æ³•ï¼Œéœ€è¦å¯¹é¡¹ç›®è¿›è¡Œpolyfillæ‰“è¡¥ä¸ï¼Œè®©UE4æ”¯æŒé¡¹ç›®ä¸­ä¸€äº›æ–°çš„APIã€‚</p>\n</li>\n<li><p><img src=\"/Users/luyao/Desktop/wattman/zongheng/cef3-htm5test.png\" alt=\"cef3-htm5test\"></p>\n</li>\n<li><p>è§£å†³æ–¹æ¡ˆï¼švue-cli4ä¸­ä¼šé»˜è®¤è¿™æ ·å®ƒä¼šæ ¹æ®æºä»£ç ä¸­å‡ºç°çš„è¯­è¨€ç‰¹æ€§è‡ªåŠ¨æ£€æµ‹éœ€è¦çš„ polyfillã€‚è¿™ç¡®ä¿äº†æœ€ç»ˆåŒ…é‡Œ polyfill æ•°é‡çš„æœ€å°åŒ–ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿæ„å‘³ç€<strong>å¦‚æœå…¶ä¸­ä¸€ä¸ªä¾èµ–éœ€è¦ç‰¹æ®Šçš„ polyfillï¼Œé»˜è®¤æƒ…å†µä¸‹ Babel æ— æ³•å°†å…¶æ£€æµ‹å‡ºæ¥ã€‚</strong>ä½¿ç”¨vue-cli4ä¸­çš„transpileDependenciesé€‰é¡¹ï¼Œå¯¹å¯èƒ½æœ‰é€ æˆä¸å…¼å®¹é—®é¢˜çš„ä¾èµ–è¿›è¡Œpolyfillã€‚å¦‚é¡¹ç›®ä¸­å¯¹quasarè¿›è¡Œè½¬æ¢</p>\n</li>\n</ul>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs vue\">transpileDependencies: [&#x27;quasar&#x27; ]<br></code></pre></td></tr></table></figure></li>\n<li><p>h5ç»™ue4ä¼ è¾“æ•°ç»„æ•°æ®æˆ–å¯¹è±¡å¤±è´¥é—®é¢˜</p>\n<ul>\n<li>é—®é¢˜äº§ç”ŸåŸå› ï¼šä¸æµè§ˆå™¨ä¸åç«¯è¿›è¡Œæ•°æ®ä¼ è¾“ç±»ä¼¼ï¼Œh5ä¸ueè¿›è¡Œæ•°æ®ä¼ è¾“ä¹Ÿéœ€è¦å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–ã€‚ç”±äºå¹³æ—¶ä½¿ç”¨axiosè¿›è¡Œç½‘ç»œæ•°æ®è¯·æ±‚ï¼Œå…¶å†…éƒ¨å¯¹ä¼ è¾“çš„æ•°æ®å°±å·²ç»è¿›è¡Œäº†åºåˆ—åŒ–çš„æ“ä½œï¼Œæ­¤å¤„åœ¨ä¸u4é€šä¿¡æ—¶ï¼Œå¹¶ä¸æ˜¯é€šè¿‡axiosï¼Œé—å¿˜äº†å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–çš„æ“ä½œ</li>\n<li>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æµè§ˆå™¨çš„APIå¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–æ“ä½œåä¼ ç»™ueï¼šJSON.stringify()</li>\n</ul>\n</li>\n</ol>\n","site":{"data":{}},"wordcount":2718,"excerpt":"","more":"<h2 id=\"ä¸€ã€æŠ€æœ¯æ–¹æ¡ˆï¼š\"><a href=\"#ä¸€ã€æŠ€æœ¯æ–¹æ¡ˆï¼š\" class=\"headerlink\" title=\"ä¸€ã€æŠ€æœ¯æ–¹æ¡ˆï¼š\"></a>ä¸€ã€æŠ€æœ¯æ–¹æ¡ˆï¼š</h2><p>UE4é€šè¿‡æœ¬åœ°è·¯å¾„å¯¼å…¥å‰ç«¯æ‰“åŒ…çš„é¡¹ç›®ï¼Œå¼•å…¥å¯¹åº”çš„h5é¡µé¢ï¼Œå€ŸåŠ©UE4çš„WebBrowseræ’ä»¶å®ç°ä¸h5çš„åŒå‘é€šä¿¡</p>\n<p>æ³¨ï¼šæœ¬æ–‡æ¡£ä»¥çºµæ¨ªé¡¹ç›®demoä¸ºä¾‹ï¼Œä¸»è¦ä»‹ç»å‰ç«¯éœ€è¦åšçš„ç›¸å…³å·¥ä½œ</p>\n<h2 id=\"äºŒã€å‰ç«¯æŠ€æœ¯æ ˆ\"><a href=\"#äºŒã€å‰ç«¯æŠ€æœ¯æ ˆ\" class=\"headerlink\" title=\"äºŒã€å‰ç«¯æŠ€æœ¯æ ˆ\"></a>äºŒã€å‰ç«¯æŠ€æœ¯æ ˆ</h2><p>vue3+quasar+axios+vue-router</p>\n<p>æ³¨ï¼šä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯æ ˆå¹¶ä¸å½±å“ä¸ueçš„äº¤äº’ï¼Œä½†æ˜¯åç»­åœ¨å¼•å…¥é¡¹ç›®ä¸­ä¼šå­˜åœ¨ä¸å…¼å®¹çš„é—®é¢˜ï¼Œåç»­æ‰“åŒ…æ—¶éœ€è¦é…ç½®è¿›è¡Œpolyfillå¤„ç†ï¼Œè¯¦è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ1</p>\n<h2 id=\"ä¸‰ã€æ ¸å¿ƒæµç¨‹\"><a href=\"#ä¸‰ã€æ ¸å¿ƒæµç¨‹\" class=\"headerlink\" title=\"ä¸‰ã€æ ¸å¿ƒæµç¨‹\"></a>ä¸‰ã€æ ¸å¿ƒæµç¨‹</h2><!--ue4ä¼ æ•°æ®ç»™h5åç»­è¡¥å……-->\n\n<ol>\n<li><p>h5ä¼ æ•°æ®ç»™UE4</p>\n<ul>\n<li>åˆ¤æ–­h5ä¸­å…¨å±€ç¯å¢ƒä¸‹æ˜¯å¦å·²ç»æœ‰ueå¯¹è±¡ï¼ˆUE4ä¸­WebBrowseræ’ä»¶ä¸åŒç‰ˆæœ¬æˆ–è€…ä¸åŒæ’ä»¶ï¼Œå¯èƒ½æ‹¿åˆ°çš„æ˜¯ue4å¯¹è±¡ï¼Œå½“å‰é¡¹ç›®æ‹¿åˆ°çš„æ˜¯ueå¯¹è±¡ï¼‰</li>\n</ul>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\"><span class=\"hljs-keyword\">const</span> ue = <span class=\"hljs-variable language_\">window</span>.<span class=\"hljs-property\">ue</span>;<br><span class=\"hljs-keyword\">const</span> isHasUE = <span class=\"hljs-keyword\">typeof</span> ue !== <span class=\"hljs-string\">&quot;undefined&quot;</span> &amp;&amp; ue !== <span class=\"hljs-literal\">null</span> ? <span class=\"hljs-literal\">true</span> : <span class=\"hljs-literal\">false</span>;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>è°ƒç”¨UEä¸­å®šä¹‰çš„æŒ‚è½½åœ¨ueå¯¹è±¡ä¸­çš„å¯¹åº”æ–¹æ³•</li>\n</ul>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">MinimizeApp</span>(<span class=\"hljs-params\">trackdata</span>) &#123;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">callback</span>) &#123;<br>    <span class=\"hljs-keyword\">if</span> (!isHasUE) &#123;<br>      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;ue initial faild! can&#x27;t call function!~&quot;</span>);<br>      <span class=\"hljs-keyword\">return</span>;<br>    &#125;<br>     <span class=\"hljs-comment\">// è¿™é‡Œçš„webapiæ˜¯å’ŒueåŒäº‹æ²Ÿé€šç»Ÿä¸€çš„åç§° </span><br>    ue.<span class=\"hljs-property\">webapi</span><br>    \t<span class=\"hljs-comment\">// è¿™é‡Œçš„æ–¹æ³•åè¦å…¨éƒ¨å°å†™ï¼Œéœ€è¦å’ŒueåŒäº‹è¿›è¡Œç»Ÿä¸€</span><br>      .<span class=\"hljs-title function_\">minimizeapp</span>(<span class=\"hljs-title class_\">JSON</span>.<span class=\"hljs-title function_\">stringify</span>(trackdata))<br>      .<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">ret</span>) &#123;<br>        <span class=\"hljs-comment\">// retæ˜¯è°ƒç”¨ueçš„è¿”å›å€¼ã€‚UE4ä¸­WebBrowseræ’ä»¶ä¸åŒç‰ˆæœ¬æˆ–è€…ä¸åŒæ’ä»¶ï¼Œå¯èƒ½è¿”å›å€¼åç§°å¿…é¡»è¦æ˜¯ReturnValue</span><br>        <span class=\"hljs-title function_\">callback</span>(ret);<br>      &#125;)<br>      .<span class=\"hljs-title function_\">catch</span>(<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">error</span>) &#123;<br>        <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(error);<br>      &#125;);<br>  &#125;;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n</li>\n</ol>\n<h2 id=\"å››ã€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\"><a href=\"#å››ã€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\" class=\"headerlink\" title=\"å››ã€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\"></a>å››ã€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2><ol>\n<li><p>UE4åŠ è½½webé¡¹ç›®æ˜¾ç¤ºç©ºç™½é—®é¢˜</p>\n<ul>\n<li><p>é—®é¢˜äº§ç”ŸåŸå› ï¼šUE4ä¸­çš„Chromiumå†…æ ¸ä¸æ”¯æŒES module</p>\n</li>\n<li><p>UE4è‡ªå¸¦çš„WebBrowserä½¿ç”¨CEF3ï¼ˆä½¿ç”¨Chromiumå†…æ ¸ï¼‰, å¯¹åº”çš„å†…æ ¸ç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹ï¼š</p>\n</li>\n</ul>\n <figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs apache\"><span class=\"hljs-attribute\">CEF</span> <span class=\"hljs-number\">3</span>.<span class=\"hljs-number\">3071</span>.<span class=\"hljs-number\">1611</span>.g4a19305<br><span class=\"hljs-attribute\">Chromium</span>    <span class=\"hljs-number\">59</span>.<span class=\"hljs-number\">0</span>.<span class=\"hljs-number\">3071</span>.<span class=\"hljs-number\">15</span><br><span class=\"hljs-attribute\">OS</span>  Windows<br><span class=\"hljs-attribute\">WebKit</span>  <span class=\"hljs-number\">537</span>.<span class=\"hljs-number\">36</span> (@b3f9fb3b948d9304d587a127c3e4f47b2ad78927)<br><span class=\"hljs-attribute\">JavaScript</span>  <span class=\"hljs-number\">5.9.211.4</span><br><span class=\"hljs-attribute\">Flash</span>   <br><span class=\"hljs-attribute\">User</span> Agent  Mozilla/<span class=\"hljs-number\">5</span>.<span class=\"hljs-number\">0</span> (Windows NT <span class=\"hljs-number\">10</span>.<span class=\"hljs-number\">0</span>; Win64; x64) AppleWebKit/<span class=\"hljs-number\">537</span>.<span class=\"hljs-number\">36</span> (KHTML, like Gecko) Digital/++UE4+Release-<span class=\"hljs-number\">4</span>.<span class=\"hljs-number\">26</span>-CL-<span class=\"hljs-number\">15973114</span> UnrealEngine/<span class=\"hljs-number\">4</span>.<span class=\"hljs-number\">26</span>.<span class=\"hljs-number\">2</span>-<span class=\"hljs-number\">15973114</span>+++UE4+Release-<span class=\"hljs-number\">4</span>.<span class=\"hljs-number\">26</span> Chrome/<span class=\"hljs-number\">59</span>.<span class=\"hljs-number\">0</span>.<span class=\"hljs-number\">3071</span>.<span class=\"hljs-number\">15</span> Safari/<span class=\"hljs-number\">537</span>.<span class=\"hljs-number\">36</span><br><span class=\"hljs-attribute\">Command</span> Line    <span class=\"hljs-string\">&quot;D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/Win64/UE4Editor.exe&quot;</span> --browser-subprocess-path=<span class=\"hljs-string\">&quot;D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/Win64/UnrealCEFSubProcess.exe&quot;</span> --no-sandbox --product-version=<span class=\"hljs-string\">&quot;Digital/++UE4+Release-4.26-CL-15973114 UnrealEngine/4.26.2-15973114+++UE4+Release-4.26 Chrome/59.0.3071.15&quot;</span> --lang=en --log-file=D:/Projects/digital-factory/Digital/Saved/Logs/cef3.log --log-severity=warning --resources-dir-path=<span class=\"hljs-string\">&quot;D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/ThirdParty/CEF3/Win64/Resources&quot;</span> --locales-dir-path=<span class=\"hljs-string\">&quot;D:/Program Files/Epic Games/UE_4.26/Engine/Binaries/ThirdParty/CEF3/Win64/Resources/locales&quot;</span> --enable-gpu --enable-gpu-compositing --enable-begin-frame-scheduling<br><span class=\"hljs-attribute\">Module</span> Path D:\\Program Files\\Epic Games\\UE_4.<span class=\"hljs-number\">26</span>\\Engine\\Binaries\\ThirdParty\\CEF3\\Win64\\libcef.dll<br><span class=\"hljs-attribute\">Cache</span> Path  D:/***/Saved/webcache<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>é€šè¿‡æŸ¥è¯¢è¯¥æµè§ˆå™¨ç‰ˆæœ¬æ”¯æŒçš„å¯¹åº”åŠŸèƒ½ï¼ˆæŸ¥è¯¢ç½‘ç«™ï¼š<a href=\"http://html5test.com/\">æŸ¥è¯¢æµè§ˆå™¨æ”¯æŒçš„è¯­æ³•ã€APIç­‰</a>)å‘ç°ï¼Œè¯¥æµè§ˆå™¨ä¸æ”¯æŒES moduleè¯­æ³•ï¼Œéœ€è¦å¯¹é¡¹ç›®è¿›è¡Œpolyfillæ‰“è¡¥ä¸ï¼Œè®©UE4æ”¯æŒé¡¹ç›®ä¸­ä¸€äº›æ–°çš„APIã€‚</p>\n</li>\n<li><p><img src=\"/Users/luyao/Desktop/wattman/zongheng/cef3-htm5test.png\" alt=\"cef3-htm5test\"></p>\n</li>\n<li><p>è§£å†³æ–¹æ¡ˆï¼švue-cli4ä¸­ä¼šé»˜è®¤è¿™æ ·å®ƒä¼šæ ¹æ®æºä»£ç ä¸­å‡ºç°çš„è¯­è¨€ç‰¹æ€§è‡ªåŠ¨æ£€æµ‹éœ€è¦çš„ polyfillã€‚è¿™ç¡®ä¿äº†æœ€ç»ˆåŒ…é‡Œ polyfill æ•°é‡çš„æœ€å°åŒ–ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿæ„å‘³ç€<strong>å¦‚æœå…¶ä¸­ä¸€ä¸ªä¾èµ–éœ€è¦ç‰¹æ®Šçš„ polyfillï¼Œé»˜è®¤æƒ…å†µä¸‹ Babel æ— æ³•å°†å…¶æ£€æµ‹å‡ºæ¥ã€‚</strong>ä½¿ç”¨vue-cli4ä¸­çš„transpileDependenciesé€‰é¡¹ï¼Œå¯¹å¯èƒ½æœ‰é€ æˆä¸å…¼å®¹é—®é¢˜çš„ä¾èµ–è¿›è¡Œpolyfillã€‚å¦‚é¡¹ç›®ä¸­å¯¹quasarè¿›è¡Œè½¬æ¢</p>\n</li>\n</ul>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs vue\">transpileDependencies: [&#x27;quasar&#x27; ]<br></code></pre></td></tr></table></figure></li>\n<li><p>h5ç»™ue4ä¼ è¾“æ•°ç»„æ•°æ®æˆ–å¯¹è±¡å¤±è´¥é—®é¢˜</p>\n<ul>\n<li>é—®é¢˜äº§ç”ŸåŸå› ï¼šä¸æµè§ˆå™¨ä¸åç«¯è¿›è¡Œæ•°æ®ä¼ è¾“ç±»ä¼¼ï¼Œh5ä¸ueè¿›è¡Œæ•°æ®ä¼ è¾“ä¹Ÿéœ€è¦å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–ã€‚ç”±äºå¹³æ—¶ä½¿ç”¨axiosè¿›è¡Œç½‘ç»œæ•°æ®è¯·æ±‚ï¼Œå…¶å†…éƒ¨å¯¹ä¼ è¾“çš„æ•°æ®å°±å·²ç»è¿›è¡Œäº†åºåˆ—åŒ–çš„æ“ä½œï¼Œæ­¤å¤„åœ¨ä¸u4é€šä¿¡æ—¶ï¼Œå¹¶ä¸æ˜¯é€šè¿‡axiosï¼Œé—å¿˜äº†å¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–çš„æ“ä½œ</li>\n<li>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨æµè§ˆå™¨çš„APIå¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–æ“ä½œåä¼ ç»™ueï¼šJSON.stringify()</li>\n</ul>\n</li>\n</ol>\n"},{"title":"CommonJSå’ŒESModuleçš„åŒºåˆ«","keywords":"JSæ¨¡å—åŒ–","_content":"\n## CommonJS å’Œ ESModule çš„åŒºåˆ«\n\n### 1.å¼•å…¥ä½ç½®ä¸åŒ\n\n**commonjs**\n\ncommonjs æ˜¯åŠ¨æ€å¯¼å…¥ï¼Œå¯ä»¥åœ¨ä»£ç çš„ä»»ä½•åœ°æ–¹å¼•å…¥\n\n```javascript\nconst flag = true\nif (flag) {\n  const aaa = require('./aaa.js')\n}\n```\n\n**esmodule**\n\nesmodule æ˜¯é™æ€å¯¼å…¥ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºåœ¨ç¼–è¯‘é˜¶æ®µå°±å¯¼å…¥ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ã€å‡½æ•°åµŒå¥—ç­‰æƒ…å†µä¸‹å¯¼å…¥\n\n```javascript\nimport aaa from './aaa.js'\nconst flag = true\nif (flag) {\n  // import aaa from './aaa.js' // ä¼šæŠ¥é”™\n}\n```\n\n### 2.ä½¿ç”¨è¯­æ³•ä¸åŒ\n\n**commonjs**\n\nå¯¼å‡º:\n\n```javascript\n// aaa.js\nconst name = 'kobe'\nconst obj = {\n  age: 18\n}\nmodule.exports = {\n  name,\n  obj\n}\n```\n\nå¯¼å…¥ï¼š\n\n```javascript\n// bbb.js\nconst aaa = require('./aaa.js')\nconsole.log(aaa.name) // kobe\n```\n\n### 3.æ¨¡å—å¯¼å‡ºå¯¼å…¥\n\n**commonjs**\n\ncommonjs å¯¼å‡ºçš„æ˜¯ä¸€ä¸ª module.exports, å¯¼å…¥å…¶å®å°±æ˜¯ç»™å˜é‡èµ‹å€¼(è€Œå€¼å¯ä»¥æ˜¯åŸå§‹ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯åº”ç”¨ç±»å‹)\n\n- å½“ module.exports çš„å€¼æ˜¯æ•°å­—ï¼Œå­—ç¬¦ä¸²ç­‰åŸå§‹ç±»å‹æ—¶ï¼Œèµ‹å€¼æ˜¯å€¼çš„æ‹·è´ï¼Œè¿™æ ·æ‰ä¼šäº§ç”Ÿå¯¼å‡ºå€¼çš„æ”¹å˜ä¸ä¼šå½±å“åˆ°å¯¼å…¥å€¼æ”¹å˜çš„ç°è±¡\n\n```javascript\n  # å¯¼å‡ºæ¨¡å— a.js\n  let title = 'hello hi'\n  setTimeout(() => {\n      title = 'hello hehe'\n  }, 2000)\n  module.exports = title\n\n  # å¯¼å…¥æ¨¡å— b.js\n  const title = require('./a.js')\n  setTimeout(() => {\n     console.log(title)\n  }, 4000)\n  console.log(title)\n\n  # è¾“å‡ºç»“æœ\n  hello hi\n  hello hi\n```\n\n- å¦‚æœ module.exports å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¼å‡ºå€¼çš„æ”¹å˜æ˜¯å¦ä¼šå½±å“åˆ°å¯¼å…¥çš„å€¼ï¼Œè¿™ä¸ªè·Ÿå¯¼å…¥æ—¶èµ‹å€¼çš„æ–¹å¼æ˜¯æœ‰ç›´æ¥å…³ç³»çš„\n\n```javascript\n  # å¯¼å‡ºæ¨¡å— a.js\n  const obj = {\n      title: 'hello hi'\n  }\n  setTimeout(() => {\n      obj.title = 'hello hehe'\n  }, 2000)\n  module.exports = obj\n\n  # å¯¼å…¥æ¨¡å— b.js\n  const obj = require('./a.js')\n  setTimeout(() => {\n     console.log(obj.title)\n  }, 4000)\n  console.log(obj.title)\n\n  # è¾“å‡ºç»“æœ\n  hello hi\n  hello hehe\n\n  å¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼å˜äº†ï¼Œè¯´æ˜æ¨¡å—å†…éƒ¨å€¼çš„å˜åŒ–å¯¼è‡´äº†å¯¼å…¥å¯¹è±¡å€¼çš„å˜åŒ–\n  è¿™é‡Œçš„èµ‹å€¼å®é™…ä¸Šå°±æ˜¯å¼•ç”¨èµ‹å€¼ï¼Œmodule.exportså¯¼å‡ºçš„å¯¹è±¡è¢«èµ‹å€¼åˆ°å¯¼å…¥çš„æ¨¡å—ï¼Œä¸¤è€…æŒ‡å‘åŒä¸€å—å†…å­˜ç©ºé—´\n```\n\n```javascript\n  # å¯¼å‡ºæ¨¡å— a.js\n  const obj = {\n      title: 'hello hi'\n  }\n  setTimeout(() => {\n      obj.title = 'hello hehe'\n  }, 2000)\n  module.exports = obj\n\n  # å¯¼å…¥æ¨¡å— b.js\n  const { title } = require('./a.js')\n  setTimeout(() => {\n     console.log(title)\n  }, 4000)\n  console.log(title)\n\n  # è¾“å‡ºç»“æœ\n  hello hi\n  hello hi\n\n  å¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œè¯´æ˜æ¨¡å—å†…éƒ¨å€¼çš„å˜åŒ–æ²¡æœ‰å¯¼è‡´å¯¼å…¥å€¼çš„å˜åŒ–\n  è¿™é‡Œçš„èµ‹å€¼å®é™…ä¸Šå°±æ˜¯å€¼çš„æ‹·è´ï¼Œé€šè¿‡å¯¹è±¡è§£æ„çš„æ–¹å¼ç›´æ¥ç»™å˜é‡titleèµ‹å€¼ï¼Œæ‰€ä»¥æ¨¡å—å†…éƒ¨å¯¹è±¡å€¼çš„å˜åŒ–ä¸ä¼šå½±å“åˆ°å¯¼å…¥å˜é‡å€¼çš„å˜åŒ–\n```\n\n**esmodule**\n\nesModule æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ª`å€¼çš„å¼•ç”¨`, ä½¿ç”¨çš„æ˜¯åŠ¨æ€ç»‘å®šï¼ŒesModule å¯¼å…¥å¯¼å‡ºçš„å€¼éƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæ‰€ä»¥å¯¼å…¥å€¼ä¼šè·Ÿç€å¯¼å‡ºå€¼å‘ç”Ÿå˜åŒ–\n\nJS å¼•æ“å¯¹è„šæœ¬è¿›è¡Œé™æ€åˆ†æçš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°æ¨¡å—åŠ è½½å‘½ä»¤ importï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªåªè¯»å¼•ç”¨ï¼Œç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œçš„æ—¶å€™ï¼Œå†é€šè¿‡è¿™ä¸ªåªè¯»å¼•ç”¨ï¼Œåˆ°è¢«åŠ è½½çš„æ¨¡å—ä¸­å»å–å€¼ã€‚\n\nesModule å¯¼å…¥çš„åŸºæœ¬ç±»å‹å€¼åœ¨å½“å‰æ¨¡å—ä¸èƒ½ç›´æ¥è¿›è¡Œä¿®æ”¹(ä»£ç ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è°ƒç”¨æ¨¡å—å†…çš„æ–¹æ³•è¿›è¡Œä¿®æ”¹)ï¼Œä¹Ÿå°±æ˜¯è¯´åŸºæœ¬ç±»å‹çš„å€¼åœ¨è¢«å¯¼å…¥çš„æ¨¡å—ä¸­æ˜¯åªè¯»çŠ¶æ€ï¼Œå¯¹äºå¯¼å…¥å¼•ç”¨ç±»å‹çš„å€¼ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œä¿®æ”¹è®¾ç½®ï¼Œä½†æ˜¯ä¸ä¼šå¯¹æ¨¡å—å†…çš„å€¼äº§ç”Ÿä»»ä½•å½±å“\n\n```javascript\n# å¯¼å‡ºæ¨¡å— a.js\nexport let title = 'hello hi'\nconst obj = {\n    name: 'tom'\n}\nexport default obj\nsetTimeout(() => {\n    title = 'hello world'\n    obj.name = 'tony'\n}, 2000)\n\n# å¯¼å…¥æ¨¡å— b.js\nimport obj, { title } from './a.js'\nconsole.log(title)\nconsole.log(obj.name)\nsetTimeout(() => {\n    console.log(title)\n    console.log(obj.name)\n}, 4000)\n\n# è¾“å…¥ç»“æœ\nhello hi\ntom\nhello world\ntony\n\nå¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™æ˜¯å› ä¸ºå¯¼å…¥å’Œå¯¼å‡ºçš„å€¼éƒ½æŒ‡å‘åŒä¸€å†…å­˜åœ°å€ï¼Œå€¼å˜åŒ–ï¼Œå–å€¼ä¹Ÿå°±å‘ç”Ÿå˜åŒ–\n```\n\ncjs è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡éœ€è¦åœ¨æ¨¡å—è„šæœ¬è¿è¡Œå®Œæˆåæ‰èƒ½ç”Ÿæˆï¼Œè€Œ esm è¾“å‡ºçš„æ˜¯é™æ€çš„ï¼Œåœ¨ç¼–è¯‘æ—¶å°±èƒ½ç”Ÿæˆ\n\n### 4.åŠ è½½è¿è¡Œ\n\n**commonjs**\n\ncommonjs æ˜¯åœ¨ä»£ç è¿è¡Œæ—¶åŠ è½½ï¼Œå› ä¸º commonjs æ˜¯å¯¼å‡ºçš„æ•´ä¸ªå¯¹è±¡ï¼Œéœ€è¦åœ¨è„šæœ¬è¿è¡Œå®Œæˆåæ‰èƒ½ç”Ÿæˆ\n\n**esmodule**\n\nesmodule è¾“å‡ºçš„ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯é™æ€åˆ†æç¼–è¯‘æ—¶è¾“å‡ºçš„æ¥å£ï¼Œå®ƒçš„å¯¹å¤–æ¥å£æ˜¯ä¸€ç§é™æ€çš„å®šä¹‰ï¼Œå¯ä»¥ç†è§£ä¸ºç”Ÿæˆä¸€ä¸ªä¸ªå¼•ç”¨å˜é‡ï¼Œåœ¨æ¨¡å—è¯»å–çš„æ—¶å€™å†å»å–\n","source":"_posts/CommonJSå’ŒESModuleçš„åŒºåˆ«.md","raw":"---\ntitle: CommonJSå’ŒESModuleçš„åŒºåˆ«\ntag: JSæ¨¡å—åŒ–\nkeywords: JSæ¨¡å—åŒ–\ncategories: å‰ç«¯å·¥ç¨‹åŒ–\n---\n\n## CommonJS å’Œ ESModule çš„åŒºåˆ«\n\n### 1.å¼•å…¥ä½ç½®ä¸åŒ\n\n**commonjs**\n\ncommonjs æ˜¯åŠ¨æ€å¯¼å…¥ï¼Œå¯ä»¥åœ¨ä»£ç çš„ä»»ä½•åœ°æ–¹å¼•å…¥\n\n```javascript\nconst flag = true\nif (flag) {\n  const aaa = require('./aaa.js')\n}\n```\n\n**esmodule**\n\nesmodule æ˜¯é™æ€å¯¼å…¥ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºåœ¨ç¼–è¯‘é˜¶æ®µå°±å¯¼å…¥ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ã€å‡½æ•°åµŒå¥—ç­‰æƒ…å†µä¸‹å¯¼å…¥\n\n```javascript\nimport aaa from './aaa.js'\nconst flag = true\nif (flag) {\n  // import aaa from './aaa.js' // ä¼šæŠ¥é”™\n}\n```\n\n### 2.ä½¿ç”¨è¯­æ³•ä¸åŒ\n\n**commonjs**\n\nå¯¼å‡º:\n\n```javascript\n// aaa.js\nconst name = 'kobe'\nconst obj = {\n  age: 18\n}\nmodule.exports = {\n  name,\n  obj\n}\n```\n\nå¯¼å…¥ï¼š\n\n```javascript\n// bbb.js\nconst aaa = require('./aaa.js')\nconsole.log(aaa.name) // kobe\n```\n\n### 3.æ¨¡å—å¯¼å‡ºå¯¼å…¥\n\n**commonjs**\n\ncommonjs å¯¼å‡ºçš„æ˜¯ä¸€ä¸ª module.exports, å¯¼å…¥å…¶å®å°±æ˜¯ç»™å˜é‡èµ‹å€¼(è€Œå€¼å¯ä»¥æ˜¯åŸå§‹ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯åº”ç”¨ç±»å‹)\n\n- å½“ module.exports çš„å€¼æ˜¯æ•°å­—ï¼Œå­—ç¬¦ä¸²ç­‰åŸå§‹ç±»å‹æ—¶ï¼Œèµ‹å€¼æ˜¯å€¼çš„æ‹·è´ï¼Œè¿™æ ·æ‰ä¼šäº§ç”Ÿå¯¼å‡ºå€¼çš„æ”¹å˜ä¸ä¼šå½±å“åˆ°å¯¼å…¥å€¼æ”¹å˜çš„ç°è±¡\n\n```javascript\n  # å¯¼å‡ºæ¨¡å— a.js\n  let title = 'hello hi'\n  setTimeout(() => {\n      title = 'hello hehe'\n  }, 2000)\n  module.exports = title\n\n  # å¯¼å…¥æ¨¡å— b.js\n  const title = require('./a.js')\n  setTimeout(() => {\n     console.log(title)\n  }, 4000)\n  console.log(title)\n\n  # è¾“å‡ºç»“æœ\n  hello hi\n  hello hi\n```\n\n- å¦‚æœ module.exports å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¼å‡ºå€¼çš„æ”¹å˜æ˜¯å¦ä¼šå½±å“åˆ°å¯¼å…¥çš„å€¼ï¼Œè¿™ä¸ªè·Ÿå¯¼å…¥æ—¶èµ‹å€¼çš„æ–¹å¼æ˜¯æœ‰ç›´æ¥å…³ç³»çš„\n\n```javascript\n  # å¯¼å‡ºæ¨¡å— a.js\n  const obj = {\n      title: 'hello hi'\n  }\n  setTimeout(() => {\n      obj.title = 'hello hehe'\n  }, 2000)\n  module.exports = obj\n\n  # å¯¼å…¥æ¨¡å— b.js\n  const obj = require('./a.js')\n  setTimeout(() => {\n     console.log(obj.title)\n  }, 4000)\n  console.log(obj.title)\n\n  # è¾“å‡ºç»“æœ\n  hello hi\n  hello hehe\n\n  å¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼å˜äº†ï¼Œè¯´æ˜æ¨¡å—å†…éƒ¨å€¼çš„å˜åŒ–å¯¼è‡´äº†å¯¼å…¥å¯¹è±¡å€¼çš„å˜åŒ–\n  è¿™é‡Œçš„èµ‹å€¼å®é™…ä¸Šå°±æ˜¯å¼•ç”¨èµ‹å€¼ï¼Œmodule.exportså¯¼å‡ºçš„å¯¹è±¡è¢«èµ‹å€¼åˆ°å¯¼å…¥çš„æ¨¡å—ï¼Œä¸¤è€…æŒ‡å‘åŒä¸€å—å†…å­˜ç©ºé—´\n```\n\n```javascript\n  # å¯¼å‡ºæ¨¡å— a.js\n  const obj = {\n      title: 'hello hi'\n  }\n  setTimeout(() => {\n      obj.title = 'hello hehe'\n  }, 2000)\n  module.exports = obj\n\n  # å¯¼å…¥æ¨¡å— b.js\n  const { title } = require('./a.js')\n  setTimeout(() => {\n     console.log(title)\n  }, 4000)\n  console.log(title)\n\n  # è¾“å‡ºç»“æœ\n  hello hi\n  hello hi\n\n  å¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œè¯´æ˜æ¨¡å—å†…éƒ¨å€¼çš„å˜åŒ–æ²¡æœ‰å¯¼è‡´å¯¼å…¥å€¼çš„å˜åŒ–\n  è¿™é‡Œçš„èµ‹å€¼å®é™…ä¸Šå°±æ˜¯å€¼çš„æ‹·è´ï¼Œé€šè¿‡å¯¹è±¡è§£æ„çš„æ–¹å¼ç›´æ¥ç»™å˜é‡titleèµ‹å€¼ï¼Œæ‰€ä»¥æ¨¡å—å†…éƒ¨å¯¹è±¡å€¼çš„å˜åŒ–ä¸ä¼šå½±å“åˆ°å¯¼å…¥å˜é‡å€¼çš„å˜åŒ–\n```\n\n**esmodule**\n\nesModule æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ª`å€¼çš„å¼•ç”¨`, ä½¿ç”¨çš„æ˜¯åŠ¨æ€ç»‘å®šï¼ŒesModule å¯¼å…¥å¯¼å‡ºçš„å€¼éƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæ‰€ä»¥å¯¼å…¥å€¼ä¼šè·Ÿç€å¯¼å‡ºå€¼å‘ç”Ÿå˜åŒ–\n\nJS å¼•æ“å¯¹è„šæœ¬è¿›è¡Œé™æ€åˆ†æçš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°æ¨¡å—åŠ è½½å‘½ä»¤ importï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªåªè¯»å¼•ç”¨ï¼Œç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œçš„æ—¶å€™ï¼Œå†é€šè¿‡è¿™ä¸ªåªè¯»å¼•ç”¨ï¼Œåˆ°è¢«åŠ è½½çš„æ¨¡å—ä¸­å»å–å€¼ã€‚\n\nesModule å¯¼å…¥çš„åŸºæœ¬ç±»å‹å€¼åœ¨å½“å‰æ¨¡å—ä¸èƒ½ç›´æ¥è¿›è¡Œä¿®æ”¹(ä»£ç ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è°ƒç”¨æ¨¡å—å†…çš„æ–¹æ³•è¿›è¡Œä¿®æ”¹)ï¼Œä¹Ÿå°±æ˜¯è¯´åŸºæœ¬ç±»å‹çš„å€¼åœ¨è¢«å¯¼å…¥çš„æ¨¡å—ä¸­æ˜¯åªè¯»çŠ¶æ€ï¼Œå¯¹äºå¯¼å…¥å¼•ç”¨ç±»å‹çš„å€¼ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œä¿®æ”¹è®¾ç½®ï¼Œä½†æ˜¯ä¸ä¼šå¯¹æ¨¡å—å†…çš„å€¼äº§ç”Ÿä»»ä½•å½±å“\n\n```javascript\n# å¯¼å‡ºæ¨¡å— a.js\nexport let title = 'hello hi'\nconst obj = {\n    name: 'tom'\n}\nexport default obj\nsetTimeout(() => {\n    title = 'hello world'\n    obj.name = 'tony'\n}, 2000)\n\n# å¯¼å…¥æ¨¡å— b.js\nimport obj, { title } from './a.js'\nconsole.log(title)\nconsole.log(obj.name)\nsetTimeout(() => {\n    console.log(title)\n    console.log(obj.name)\n}, 4000)\n\n# è¾“å…¥ç»“æœ\nhello hi\ntom\nhello world\ntony\n\nå¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™æ˜¯å› ä¸ºå¯¼å…¥å’Œå¯¼å‡ºçš„å€¼éƒ½æŒ‡å‘åŒä¸€å†…å­˜åœ°å€ï¼Œå€¼å˜åŒ–ï¼Œå–å€¼ä¹Ÿå°±å‘ç”Ÿå˜åŒ–\n```\n\ncjs è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡éœ€è¦åœ¨æ¨¡å—è„šæœ¬è¿è¡Œå®Œæˆåæ‰èƒ½ç”Ÿæˆï¼Œè€Œ esm è¾“å‡ºçš„æ˜¯é™æ€çš„ï¼Œåœ¨ç¼–è¯‘æ—¶å°±èƒ½ç”Ÿæˆ\n\n### 4.åŠ è½½è¿è¡Œ\n\n**commonjs**\n\ncommonjs æ˜¯åœ¨ä»£ç è¿è¡Œæ—¶åŠ è½½ï¼Œå› ä¸º commonjs æ˜¯å¯¼å‡ºçš„æ•´ä¸ªå¯¹è±¡ï¼Œéœ€è¦åœ¨è„šæœ¬è¿è¡Œå®Œæˆåæ‰èƒ½ç”Ÿæˆ\n\n**esmodule**\n\nesmodule è¾“å‡ºçš„ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯é™æ€åˆ†æç¼–è¯‘æ—¶è¾“å‡ºçš„æ¥å£ï¼Œå®ƒçš„å¯¹å¤–æ¥å£æ˜¯ä¸€ç§é™æ€çš„å®šä¹‰ï¼Œå¯ä»¥ç†è§£ä¸ºç”Ÿæˆä¸€ä¸ªä¸ªå¼•ç”¨å˜é‡ï¼Œåœ¨æ¨¡å—è¯»å–çš„æ—¶å€™å†å»å–\n","slug":"CommonJSå’ŒESModuleçš„åŒºåˆ«","published":1,"date":"2023-02-01T06:48:25.881Z","updated":"2023-02-01T07:40:19.010Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9kw000fi024baql32el","content":"<h2 id=\"CommonJS-å’Œ-ESModule-çš„åŒºåˆ«\"><a href=\"#CommonJS-å’Œ-ESModule-çš„åŒºåˆ«\" class=\"headerlink\" title=\"CommonJS å’Œ ESModule çš„åŒºåˆ«\"></a>CommonJS å’Œ ESModule çš„åŒºåˆ«</h2><h3 id=\"1-å¼•å…¥ä½ç½®ä¸åŒ\"><a href=\"#1-å¼•å…¥ä½ç½®ä¸åŒ\" class=\"headerlink\" title=\"1.å¼•å…¥ä½ç½®ä¸åŒ\"></a>1.å¼•å…¥ä½ç½®ä¸åŒ</h3><p><strong>commonjs</strong></p>\n<p>commonjs æ˜¯åŠ¨æ€å¯¼å…¥ï¼Œå¯ä»¥åœ¨ä»£ç çš„ä»»ä½•åœ°æ–¹å¼•å…¥</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> flag = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-keyword\">if</span> (flag) &#123;<br>  <span class=\"hljs-keyword\">const</span> aaa = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;./aaa.js&#x27;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p><strong>esmodule</strong></p>\n<p>esmodule æ˜¯é™æ€å¯¼å…¥ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºåœ¨ç¼–è¯‘é˜¶æ®µå°±å¯¼å…¥ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ã€å‡½æ•°åµŒå¥—ç­‰æƒ…å†µä¸‹å¯¼å…¥</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">import</span> aaa <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;./aaa.js&#x27;</span><br><span class=\"hljs-keyword\">const</span> flag = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-keyword\">if</span> (flag) &#123;<br>  <span class=\"hljs-comment\">// import aaa from &#x27;./aaa.js&#x27; // ä¼šæŠ¥é”™</span><br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-ä½¿ç”¨è¯­æ³•ä¸åŒ\"><a href=\"#2-ä½¿ç”¨è¯­æ³•ä¸åŒ\" class=\"headerlink\" title=\"2.ä½¿ç”¨è¯­æ³•ä¸åŒ\"></a>2.ä½¿ç”¨è¯­æ³•ä¸åŒ</h3><p><strong>commonjs</strong></p>\n<p>å¯¼å‡º:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// aaa.js</span><br><span class=\"hljs-keyword\">const</span> name = <span class=\"hljs-string\">&#x27;kobe&#x27;</span><br><span class=\"hljs-keyword\">const</span> obj = &#123;<br>  <span class=\"hljs-attr\">age</span>: <span class=\"hljs-number\">18</span><br>&#125;<br><span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = &#123;<br>  name,<br>  obj<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>å¯¼å…¥ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// bbb.js</span><br><span class=\"hljs-keyword\">const</span> aaa = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;./aaa.js&#x27;</span>)<br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(aaa.<span class=\"hljs-property\">name</span>) <span class=\"hljs-comment\">// kobe</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-æ¨¡å—å¯¼å‡ºå¯¼å…¥\"><a href=\"#3-æ¨¡å—å¯¼å‡ºå¯¼å…¥\" class=\"headerlink\" title=\"3.æ¨¡å—å¯¼å‡ºå¯¼å…¥\"></a>3.æ¨¡å—å¯¼å‡ºå¯¼å…¥</h3><p><strong>commonjs</strong></p>\n<p>commonjs å¯¼å‡ºçš„æ˜¯ä¸€ä¸ª module.exports, å¯¼å…¥å…¶å®å°±æ˜¯ç»™å˜é‡èµ‹å€¼(è€Œå€¼å¯ä»¥æ˜¯åŸå§‹ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯åº”ç”¨ç±»å‹)</p>\n<ul>\n<li>å½“ module.exports çš„å€¼æ˜¯æ•°å­—ï¼Œå­—ç¬¦ä¸²ç­‰åŸå§‹ç±»å‹æ—¶ï¼Œèµ‹å€¼æ˜¯å€¼çš„æ‹·è´ï¼Œè¿™æ ·æ‰ä¼šäº§ç”Ÿå¯¼å‡ºå€¼çš„æ”¹å˜ä¸ä¼šå½±å“åˆ°å¯¼å…¥å€¼æ”¹å˜çš„ç°è±¡</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"># å¯¼å‡ºæ¨¡å— a.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">let</span> title = <span class=\"hljs-string\">&#x27;hello hi&#x27;</span><br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>    title = <span class=\"hljs-string\">&#x27;hello hehe&#x27;</span><br>&#125;, <span class=\"hljs-number\">2000</span>)<br><span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = title<br><br># å¯¼å…¥æ¨¡å— b.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">const</span> title = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;./a.js&#x27;</span>)<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>   <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br>&#125;, <span class=\"hljs-number\">4000</span>)<br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br><br># è¾“å‡ºç»“æœ<br>hello hi<br>hello hi<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>å¦‚æœ module.exports å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¼å‡ºå€¼çš„æ”¹å˜æ˜¯å¦ä¼šå½±å“åˆ°å¯¼å…¥çš„å€¼ï¼Œè¿™ä¸ªè·Ÿå¯¼å…¥æ—¶èµ‹å€¼çš„æ–¹å¼æ˜¯æœ‰ç›´æ¥å…³ç³»çš„</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"># å¯¼å‡ºæ¨¡å— a.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">const</span> obj = &#123;<br>    <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&#x27;hello hi&#x27;</span><br>&#125;<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>    obj.<span class=\"hljs-property\">title</span> = <span class=\"hljs-string\">&#x27;hello hehe&#x27;</span><br>&#125;, <span class=\"hljs-number\">2000</span>)<br><span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = obj<br><br># å¯¼å…¥æ¨¡å— b.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">const</span> obj = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;./a.js&#x27;</span>)<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>   <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(obj.<span class=\"hljs-property\">title</span>)<br>&#125;, <span class=\"hljs-number\">4000</span>)<br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(obj.<span class=\"hljs-property\">title</span>)<br><br># è¾“å‡ºç»“æœ<br>hello hi<br>hello hehe<br><br>å¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼å˜äº†ï¼Œè¯´æ˜æ¨¡å—å†…éƒ¨å€¼çš„å˜åŒ–å¯¼è‡´äº†å¯¼å…¥å¯¹è±¡å€¼çš„å˜åŒ–<br>è¿™é‡Œçš„èµ‹å€¼å®é™…ä¸Šå°±æ˜¯å¼•ç”¨èµ‹å€¼ï¼Œ<span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span>å¯¼å‡ºçš„å¯¹è±¡è¢«èµ‹å€¼åˆ°å¯¼å…¥çš„æ¨¡å—ï¼Œä¸¤è€…æŒ‡å‘åŒä¸€å—å†…å­˜ç©ºé—´<br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"># å¯¼å‡ºæ¨¡å— a.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">const</span> obj = &#123;<br>    <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&#x27;hello hi&#x27;</span><br>&#125;<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>    obj.<span class=\"hljs-property\">title</span> = <span class=\"hljs-string\">&#x27;hello hehe&#x27;</span><br>&#125;, <span class=\"hljs-number\">2000</span>)<br><span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = obj<br><br># å¯¼å…¥æ¨¡å— b.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">const</span> &#123; title &#125; = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;./a.js&#x27;</span>)<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>   <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br>&#125;, <span class=\"hljs-number\">4000</span>)<br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br><br># è¾“å‡ºç»“æœ<br>hello hi<br>hello hi<br><br>å¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œè¯´æ˜æ¨¡å—å†…éƒ¨å€¼çš„å˜åŒ–æ²¡æœ‰å¯¼è‡´å¯¼å…¥å€¼çš„å˜åŒ–<br>è¿™é‡Œçš„èµ‹å€¼å®é™…ä¸Šå°±æ˜¯å€¼çš„æ‹·è´ï¼Œé€šè¿‡å¯¹è±¡è§£æ„çš„æ–¹å¼ç›´æ¥ç»™å˜é‡titleèµ‹å€¼ï¼Œæ‰€ä»¥æ¨¡å—å†…éƒ¨å¯¹è±¡å€¼çš„å˜åŒ–ä¸ä¼šå½±å“åˆ°å¯¼å…¥å˜é‡å€¼çš„å˜åŒ–<br></code></pre></td></tr></table></figure>\n\n<p><strong>esmodule</strong></p>\n<p>esModule æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ª<code>å€¼çš„å¼•ç”¨</code>, ä½¿ç”¨çš„æ˜¯åŠ¨æ€ç»‘å®šï¼ŒesModule å¯¼å…¥å¯¼å‡ºçš„å€¼éƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæ‰€ä»¥å¯¼å…¥å€¼ä¼šè·Ÿç€å¯¼å‡ºå€¼å‘ç”Ÿå˜åŒ–</p>\n<p>JS å¼•æ“å¯¹è„šæœ¬è¿›è¡Œé™æ€åˆ†æçš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°æ¨¡å—åŠ è½½å‘½ä»¤ importï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªåªè¯»å¼•ç”¨ï¼Œç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œçš„æ—¶å€™ï¼Œå†é€šè¿‡è¿™ä¸ªåªè¯»å¼•ç”¨ï¼Œåˆ°è¢«åŠ è½½çš„æ¨¡å—ä¸­å»å–å€¼ã€‚</p>\n<p>esModule å¯¼å…¥çš„åŸºæœ¬ç±»å‹å€¼åœ¨å½“å‰æ¨¡å—ä¸èƒ½ç›´æ¥è¿›è¡Œä¿®æ”¹(ä»£ç ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è°ƒç”¨æ¨¡å—å†…çš„æ–¹æ³•è¿›è¡Œä¿®æ”¹)ï¼Œä¹Ÿå°±æ˜¯è¯´åŸºæœ¬ç±»å‹çš„å€¼åœ¨è¢«å¯¼å…¥çš„æ¨¡å—ä¸­æ˜¯åªè¯»çŠ¶æ€ï¼Œå¯¹äºå¯¼å…¥å¼•ç”¨ç±»å‹çš„å€¼ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œä¿®æ”¹è®¾ç½®ï¼Œä½†æ˜¯ä¸ä¼šå¯¹æ¨¡å—å†…çš„å€¼äº§ç”Ÿä»»ä½•å½±å“</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"># å¯¼å‡ºæ¨¡å— a.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">let</span> title = <span class=\"hljs-string\">&#x27;hello hi&#x27;</span><br><span class=\"hljs-keyword\">const</span> obj = &#123;<br>    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&#x27;tom&#x27;</span><br>&#125;<br><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> obj<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>    title = <span class=\"hljs-string\">&#x27;hello world&#x27;</span><br>    obj.<span class=\"hljs-property\">name</span> = <span class=\"hljs-string\">&#x27;tony&#x27;</span><br>&#125;, <span class=\"hljs-number\">2000</span>)<br><br># å¯¼å…¥æ¨¡å— b.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">import</span> obj, &#123; title &#125; <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;./a.js&#x27;</span><br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(obj.<span class=\"hljs-property\">name</span>)<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(obj.<span class=\"hljs-property\">name</span>)<br>&#125;, <span class=\"hljs-number\">4000</span>)<br><br># è¾“å…¥ç»“æœ<br>hello hi<br>tom<br>hello world<br>tony<br><br>å¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™æ˜¯å› ä¸ºå¯¼å…¥å’Œå¯¼å‡ºçš„å€¼éƒ½æŒ‡å‘åŒä¸€å†…å­˜åœ°å€ï¼Œå€¼å˜åŒ–ï¼Œå–å€¼ä¹Ÿå°±å‘ç”Ÿå˜åŒ–<br></code></pre></td></tr></table></figure>\n\n<p>cjs è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡éœ€è¦åœ¨æ¨¡å—è„šæœ¬è¿è¡Œå®Œæˆåæ‰èƒ½ç”Ÿæˆï¼Œè€Œ esm è¾“å‡ºçš„æ˜¯é™æ€çš„ï¼Œåœ¨ç¼–è¯‘æ—¶å°±èƒ½ç”Ÿæˆ</p>\n<h3 id=\"4-åŠ è½½è¿è¡Œ\"><a href=\"#4-åŠ è½½è¿è¡Œ\" class=\"headerlink\" title=\"4.åŠ è½½è¿è¡Œ\"></a>4.åŠ è½½è¿è¡Œ</h3><p><strong>commonjs</strong></p>\n<p>commonjs æ˜¯åœ¨ä»£ç è¿è¡Œæ—¶åŠ è½½ï¼Œå› ä¸º commonjs æ˜¯å¯¼å‡ºçš„æ•´ä¸ªå¯¹è±¡ï¼Œéœ€è¦åœ¨è„šæœ¬è¿è¡Œå®Œæˆåæ‰èƒ½ç”Ÿæˆ</p>\n<p><strong>esmodule</strong></p>\n<p>esmodule è¾“å‡ºçš„ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯é™æ€åˆ†æç¼–è¯‘æ—¶è¾“å‡ºçš„æ¥å£ï¼Œå®ƒçš„å¯¹å¤–æ¥å£æ˜¯ä¸€ç§é™æ€çš„å®šä¹‰ï¼Œå¯ä»¥ç†è§£ä¸ºç”Ÿæˆä¸€ä¸ªä¸ªå¼•ç”¨å˜é‡ï¼Œåœ¨æ¨¡å—è¯»å–çš„æ—¶å€™å†å»å–</p>\n","site":{"data":{}},"wordcount":2779,"excerpt":"","more":"<h2 id=\"CommonJS-å’Œ-ESModule-çš„åŒºåˆ«\"><a href=\"#CommonJS-å’Œ-ESModule-çš„åŒºåˆ«\" class=\"headerlink\" title=\"CommonJS å’Œ ESModule çš„åŒºåˆ«\"></a>CommonJS å’Œ ESModule çš„åŒºåˆ«</h2><h3 id=\"1-å¼•å…¥ä½ç½®ä¸åŒ\"><a href=\"#1-å¼•å…¥ä½ç½®ä¸åŒ\" class=\"headerlink\" title=\"1.å¼•å…¥ä½ç½®ä¸åŒ\"></a>1.å¼•å…¥ä½ç½®ä¸åŒ</h3><p><strong>commonjs</strong></p>\n<p>commonjs æ˜¯åŠ¨æ€å¯¼å…¥ï¼Œå¯ä»¥åœ¨ä»£ç çš„ä»»ä½•åœ°æ–¹å¼•å…¥</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> flag = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-keyword\">if</span> (flag) &#123;<br>  <span class=\"hljs-keyword\">const</span> aaa = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;./aaa.js&#x27;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p><strong>esmodule</strong></p>\n<p>esmodule æ˜¯é™æ€å¯¼å…¥ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºåœ¨ç¼–è¯‘é˜¶æ®µå°±å¯¼å…¥ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨æ¡ä»¶è¯­å¥ã€å‡½æ•°åµŒå¥—ç­‰æƒ…å†µä¸‹å¯¼å…¥</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">import</span> aaa <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;./aaa.js&#x27;</span><br><span class=\"hljs-keyword\">const</span> flag = <span class=\"hljs-literal\">true</span><br><span class=\"hljs-keyword\">if</span> (flag) &#123;<br>  <span class=\"hljs-comment\">// import aaa from &#x27;./aaa.js&#x27; // ä¼šæŠ¥é”™</span><br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-ä½¿ç”¨è¯­æ³•ä¸åŒ\"><a href=\"#2-ä½¿ç”¨è¯­æ³•ä¸åŒ\" class=\"headerlink\" title=\"2.ä½¿ç”¨è¯­æ³•ä¸åŒ\"></a>2.ä½¿ç”¨è¯­æ³•ä¸åŒ</h3><p><strong>commonjs</strong></p>\n<p>å¯¼å‡º:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// aaa.js</span><br><span class=\"hljs-keyword\">const</span> name = <span class=\"hljs-string\">&#x27;kobe&#x27;</span><br><span class=\"hljs-keyword\">const</span> obj = &#123;<br>  <span class=\"hljs-attr\">age</span>: <span class=\"hljs-number\">18</span><br>&#125;<br><span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = &#123;<br>  name,<br>  obj<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>å¯¼å…¥ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// bbb.js</span><br><span class=\"hljs-keyword\">const</span> aaa = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;./aaa.js&#x27;</span>)<br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(aaa.<span class=\"hljs-property\">name</span>) <span class=\"hljs-comment\">// kobe</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-æ¨¡å—å¯¼å‡ºå¯¼å…¥\"><a href=\"#3-æ¨¡å—å¯¼å‡ºå¯¼å…¥\" class=\"headerlink\" title=\"3.æ¨¡å—å¯¼å‡ºå¯¼å…¥\"></a>3.æ¨¡å—å¯¼å‡ºå¯¼å…¥</h3><p><strong>commonjs</strong></p>\n<p>commonjs å¯¼å‡ºçš„æ˜¯ä¸€ä¸ª module.exports, å¯¼å…¥å…¶å®å°±æ˜¯ç»™å˜é‡èµ‹å€¼(è€Œå€¼å¯ä»¥æ˜¯åŸå§‹ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯åº”ç”¨ç±»å‹)</p>\n<ul>\n<li>å½“ module.exports çš„å€¼æ˜¯æ•°å­—ï¼Œå­—ç¬¦ä¸²ç­‰åŸå§‹ç±»å‹æ—¶ï¼Œèµ‹å€¼æ˜¯å€¼çš„æ‹·è´ï¼Œè¿™æ ·æ‰ä¼šäº§ç”Ÿå¯¼å‡ºå€¼çš„æ”¹å˜ä¸ä¼šå½±å“åˆ°å¯¼å…¥å€¼æ”¹å˜çš„ç°è±¡</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"># å¯¼å‡ºæ¨¡å— a.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">let</span> title = <span class=\"hljs-string\">&#x27;hello hi&#x27;</span><br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>    title = <span class=\"hljs-string\">&#x27;hello hehe&#x27;</span><br>&#125;, <span class=\"hljs-number\">2000</span>)<br><span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = title<br><br># å¯¼å…¥æ¨¡å— b.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">const</span> title = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;./a.js&#x27;</span>)<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>   <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br>&#125;, <span class=\"hljs-number\">4000</span>)<br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br><br># è¾“å‡ºç»“æœ<br>hello hi<br>hello hi<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>å¦‚æœ module.exports å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¼å‡ºå€¼çš„æ”¹å˜æ˜¯å¦ä¼šå½±å“åˆ°å¯¼å…¥çš„å€¼ï¼Œè¿™ä¸ªè·Ÿå¯¼å…¥æ—¶èµ‹å€¼çš„æ–¹å¼æ˜¯æœ‰ç›´æ¥å…³ç³»çš„</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"># å¯¼å‡ºæ¨¡å— a.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">const</span> obj = &#123;<br>    <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&#x27;hello hi&#x27;</span><br>&#125;<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>    obj.<span class=\"hljs-property\">title</span> = <span class=\"hljs-string\">&#x27;hello hehe&#x27;</span><br>&#125;, <span class=\"hljs-number\">2000</span>)<br><span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = obj<br><br># å¯¼å…¥æ¨¡å— b.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">const</span> obj = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;./a.js&#x27;</span>)<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>   <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(obj.<span class=\"hljs-property\">title</span>)<br>&#125;, <span class=\"hljs-number\">4000</span>)<br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(obj.<span class=\"hljs-property\">title</span>)<br><br># è¾“å‡ºç»“æœ<br>hello hi<br>hello hehe<br><br>å¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼å˜äº†ï¼Œè¯´æ˜æ¨¡å—å†…éƒ¨å€¼çš„å˜åŒ–å¯¼è‡´äº†å¯¼å…¥å¯¹è±¡å€¼çš„å˜åŒ–<br>è¿™é‡Œçš„èµ‹å€¼å®é™…ä¸Šå°±æ˜¯å¼•ç”¨èµ‹å€¼ï¼Œ<span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span>å¯¼å‡ºçš„å¯¹è±¡è¢«èµ‹å€¼åˆ°å¯¼å…¥çš„æ¨¡å—ï¼Œä¸¤è€…æŒ‡å‘åŒä¸€å—å†…å­˜ç©ºé—´<br></code></pre></td></tr></table></figure>\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"># å¯¼å‡ºæ¨¡å— a.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">const</span> obj = &#123;<br>    <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&#x27;hello hi&#x27;</span><br>&#125;<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>    obj.<span class=\"hljs-property\">title</span> = <span class=\"hljs-string\">&#x27;hello hehe&#x27;</span><br>&#125;, <span class=\"hljs-number\">2000</span>)<br><span class=\"hljs-variable language_\">module</span>.<span class=\"hljs-property\">exports</span> = obj<br><br># å¯¼å…¥æ¨¡å— b.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">const</span> &#123; title &#125; = <span class=\"hljs-built_in\">require</span>(<span class=\"hljs-string\">&#x27;./a.js&#x27;</span>)<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>   <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br>&#125;, <span class=\"hljs-number\">4000</span>)<br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br><br># è¾“å‡ºç»“æœ<br>hello hi<br>hello hi<br><br>å¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œè¯´æ˜æ¨¡å—å†…éƒ¨å€¼çš„å˜åŒ–æ²¡æœ‰å¯¼è‡´å¯¼å…¥å€¼çš„å˜åŒ–<br>è¿™é‡Œçš„èµ‹å€¼å®é™…ä¸Šå°±æ˜¯å€¼çš„æ‹·è´ï¼Œé€šè¿‡å¯¹è±¡è§£æ„çš„æ–¹å¼ç›´æ¥ç»™å˜é‡titleèµ‹å€¼ï¼Œæ‰€ä»¥æ¨¡å—å†…éƒ¨å¯¹è±¡å€¼çš„å˜åŒ–ä¸ä¼šå½±å“åˆ°å¯¼å…¥å˜é‡å€¼çš„å˜åŒ–<br></code></pre></td></tr></table></figure>\n\n<p><strong>esmodule</strong></p>\n<p>esModule æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ª<code>å€¼çš„å¼•ç”¨</code>, ä½¿ç”¨çš„æ˜¯åŠ¨æ€ç»‘å®šï¼ŒesModule å¯¼å…¥å¯¼å‡ºçš„å€¼éƒ½æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæ‰€ä»¥å¯¼å…¥å€¼ä¼šè·Ÿç€å¯¼å‡ºå€¼å‘ç”Ÿå˜åŒ–</p>\n<p>JS å¼•æ“å¯¹è„šæœ¬è¿›è¡Œé™æ€åˆ†æçš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°æ¨¡å—åŠ è½½å‘½ä»¤ importï¼Œå°±ä¼šç”Ÿæˆä¸€ä¸ªåªè¯»å¼•ç”¨ï¼Œç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œçš„æ—¶å€™ï¼Œå†é€šè¿‡è¿™ä¸ªåªè¯»å¼•ç”¨ï¼Œåˆ°è¢«åŠ è½½çš„æ¨¡å—ä¸­å»å–å€¼ã€‚</p>\n<p>esModule å¯¼å…¥çš„åŸºæœ¬ç±»å‹å€¼åœ¨å½“å‰æ¨¡å—ä¸èƒ½ç›´æ¥è¿›è¡Œä¿®æ”¹(ä»£ç ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è°ƒç”¨æ¨¡å—å†…çš„æ–¹æ³•è¿›è¡Œä¿®æ”¹)ï¼Œä¹Ÿå°±æ˜¯è¯´åŸºæœ¬ç±»å‹çš„å€¼åœ¨è¢«å¯¼å…¥çš„æ¨¡å—ä¸­æ˜¯åªè¯»çŠ¶æ€ï¼Œå¯¹äºå¯¼å…¥å¼•ç”¨ç±»å‹çš„å€¼ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œä¿®æ”¹è®¾ç½®ï¼Œä½†æ˜¯ä¸ä¼šå¯¹æ¨¡å—å†…çš„å€¼äº§ç”Ÿä»»ä½•å½±å“</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"># å¯¼å‡ºæ¨¡å— a.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">let</span> title = <span class=\"hljs-string\">&#x27;hello hi&#x27;</span><br><span class=\"hljs-keyword\">const</span> obj = &#123;<br>    <span class=\"hljs-attr\">name</span>: <span class=\"hljs-string\">&#x27;tom&#x27;</span><br>&#125;<br><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> obj<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>    title = <span class=\"hljs-string\">&#x27;hello world&#x27;</span><br>    obj.<span class=\"hljs-property\">name</span> = <span class=\"hljs-string\">&#x27;tony&#x27;</span><br>&#125;, <span class=\"hljs-number\">2000</span>)<br><br># å¯¼å…¥æ¨¡å— b.<span class=\"hljs-property\">js</span><br><span class=\"hljs-keyword\">import</span> obj, &#123; title &#125; <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;./a.js&#x27;</span><br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br><span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(obj.<span class=\"hljs-property\">name</span>)<br><span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(title)<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(obj.<span class=\"hljs-property\">name</span>)<br>&#125;, <span class=\"hljs-number\">4000</span>)<br><br># è¾“å…¥ç»“æœ<br>hello hi<br>tom<br>hello world<br>tony<br><br>å¯ä»¥çœ‹å‡ºè¾“å‡ºçš„å€¼å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™æ˜¯å› ä¸ºå¯¼å…¥å’Œå¯¼å‡ºçš„å€¼éƒ½æŒ‡å‘åŒä¸€å†…å­˜åœ°å€ï¼Œå€¼å˜åŒ–ï¼Œå–å€¼ä¹Ÿå°±å‘ç”Ÿå˜åŒ–<br></code></pre></td></tr></table></figure>\n\n<p>cjs è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡éœ€è¦åœ¨æ¨¡å—è„šæœ¬è¿è¡Œå®Œæˆåæ‰èƒ½ç”Ÿæˆï¼Œè€Œ esm è¾“å‡ºçš„æ˜¯é™æ€çš„ï¼Œåœ¨ç¼–è¯‘æ—¶å°±èƒ½ç”Ÿæˆ</p>\n<h3 id=\"4-åŠ è½½è¿è¡Œ\"><a href=\"#4-åŠ è½½è¿è¡Œ\" class=\"headerlink\" title=\"4.åŠ è½½è¿è¡Œ\"></a>4.åŠ è½½è¿è¡Œ</h3><p><strong>commonjs</strong></p>\n<p>commonjs æ˜¯åœ¨ä»£ç è¿è¡Œæ—¶åŠ è½½ï¼Œå› ä¸º commonjs æ˜¯å¯¼å‡ºçš„æ•´ä¸ªå¯¹è±¡ï¼Œéœ€è¦åœ¨è„šæœ¬è¿è¡Œå®Œæˆåæ‰èƒ½ç”Ÿæˆ</p>\n<p><strong>esmodule</strong></p>\n<p>esmodule è¾“å‡ºçš„ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯é™æ€åˆ†æç¼–è¯‘æ—¶è¾“å‡ºçš„æ¥å£ï¼Œå®ƒçš„å¯¹å¤–æ¥å£æ˜¯ä¸€ç§é™æ€çš„å®šä¹‰ï¼Œå¯ä»¥ç†è§£ä¸ºç”Ÿæˆä¸€ä¸ªä¸ªå¼•ç”¨å˜é‡ï¼Œåœ¨æ¨¡å—è¯»å–çš„æ—¶å€™å†å»å–</p>\n"},{"title":"JS é«˜çº§","keywords":"Javascript","_content":"\n## ä¸€ã€æ·±å…¥ javascript ä¸è¿è¡ŒåŸç†\n\n### 1.V8 å¼•æ“çš„åŸç†\n\n- V8 æ˜¯ C++ç¼–å†™çš„ Google å¼€æºé«˜æ€§èƒ½ JavaScript å’Œ WebAssembly å¼•æ“ï¼Œç”¨æˆ· Chrome å’Œ nodejs ç­‰\n\n- å®ƒå®ç° ECMAScript å’Œ WebAssemblyï¼Œå¹¶åœ¨ Windows 7 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ŒmacOS 10.12+å’Œä½¿ç”¨ x64ï¼ŒIA-32ï¼Œ ARM æˆ– MIPS å¤„ç†å™¨çš„ Linux ç³»ç»Ÿä¸Šè¿è¡Œ\n- V8 å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä¹Ÿå¯ä»¥åµŒå…¥åˆ°ä»»ä½• C ++åº”ç”¨ç¨‹åºä¸­\n\n### 2.V8 å¼•æ“çš„æ¶æ„\n\n- parse æ¨¡å—å°† javascript ä»£ç è½¬æ¢æˆ ast æŠ½è±¡è¯­æ³•æ ‘ï¼Œè¿™æ˜¯å› ä¸ºè§£é‡Šå™¨å¹¶ä¸ç›´æ¥è®¤è¯† javascript ä»£ç \n- Ignition æ˜¯ä¸€ä¸ªè§£é‡Šå™¨ï¼Œä¼šå°† ast è½¬æ¢æˆ ByteCode å­—èŠ‚ç \n- TurboFan æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ï¼Œå¯ä»¥å°†å­—èŠ‚ç å˜å¼‚æˆ CPU å¯ä»¥ç›´æ¥æ‰§è¡Œçš„æœºå™¨ç  ![1](./images/1.png)\n\n### 3.V8 æ‰§è¡Œçš„ç»†èŠ‚\n\n- Blink å°†è§£æ HTML æ–‡ä»¶æ—¶ï¼Œé‡åˆ° Javascript å°†æºç äº¤ç»™ V8 å¼•æ“ï¼ŒStream è·å–åˆ°æºç å¹¶ä¸”è¿›è¡Œç¼–ç è½¬æ¢\n- Scanner ä¼šè¿›è¡Œè¯æ³•åˆ†æï¼Œè¯æ³•åˆ†æä¼šå°†ä»£ç è½¬æ¢æˆ tokens\n- æ¥ä¸‹æ¥ tokens ç»è¿‡ Parser å’Œ PreParser æ¨¡å—è½¬æ¢æˆ AST æ ‘\n  - Parser å°±æ˜¯å°† tokens è½¬æˆ AST æ ‘ç»“æ„\n  - PreParser ç§°ä¹‹ä¸ºé¢„è§£æï¼Œä¸ºä»€ä¹ˆéœ€è¦é¢„è§£æå‘¢ï¼Ÿ\n    - è¿™æ˜¯å› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„ Javscript ä»£ç ï¼Œåœ¨ä¸€å¼€å§‹å°±ä¼šè¢«æ‰§è¡Œã€‚å¯¹æ‰€æœ‰çš„ Javascript ä»£ç è¿›è¡Œè§£æï¼Œå¿…ç„¶ä¼šå½±å“ç½‘é¡µçš„è¿è¡Œæ•ˆç‡\n    - æ‰€ä»¥ V8 å¼•æ“å°±å®ç°äº† Lazy Parsingï¼ˆå»¶è¿Ÿè§£æï¼‰çš„æ–¹æ¡ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†ä¸å¿…è¦çš„å‡½æ•°è¿›è¡Œé¢„è§£æï¼Œä¹Ÿå°±æ˜¯åªè§£ææš‚æ—¶éœ€è¦çš„å†…å®¹ï¼Œè€Œå¯¹å‡½æ•°çš„å…¨é‡è§£æå°±æ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶æ‰ä¼šè¿›è¡Œ\n    - æ¯”å¦‚æˆ‘ä»¬åœ¨ä¸€ä¸ªå‡½æ•° outer å†…éƒ¨å®šä¹‰äº†å¦å¤–ä¸€ä¸ªå‡½æ•° innerï¼Œé‚£ä¹ˆ inner å‡½æ•°å°±ä¼šè¿›è¡Œé¢„è§£æ\n- ç”Ÿæˆ AST æ ‘åï¼Œä¼šè¢« Ignition æ¨¡å—ä¸“ç¨‹å­—èŠ‚ç ï¼ˆbytecodeï¼‰ï¼Œä¹‹åçš„è¿‡ç¨‹å°±æ˜¯ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹\n\n### 4.Javascript çš„æ‰§è¡Œè¿‡ç¨‹\n\n1. åˆå§‹åŒ–å…¨å±€å¯¹è±¡\n   - js å¼•æ“åœ¨æ‰§è¡Œä»£ç ä¹‹å‰ï¼Œä¼šåœ¨å †å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼šGlobal Objectï¼ˆGOï¼‰\n     - è¯¥å¯¹è±¡æ‰€æœ‰çš„ä½œç”¨åŸŸï¼ˆscopeï¼‰éƒ½å¯ä»¥è®¿é—®\n     - é‡Œé¢ä¼šåŒ…å« Dateã€Arrayã€Stringã€Numberã€setTimeoutã€setInteval ç­‰ç­‰å…¨å±€å±æ€§ AA å·±\n2. åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ\n   - js å¼•æ“å†…éƒ¨æœ‰ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution Context Stackï¼Œ ç®€ç§° ECSï¼‰ï¼Œå®ƒæ˜¯ç”¨äºæ‰§è¡Œä»£ç çš„è°ƒç”¨æ ˆï¼ˆæ‰§è¡Œæ ˆï¼‰\n   - é‚£ä¹ˆç°åœ¨å®ƒè¦æ‰§è¡Œè°å‘¢ï¼Ÿæ‰§è¡Œçš„æ˜¯å…¨å±€çš„ä»£ç å—ï¼š\n     - å…¨å±€çš„ä»£ç å—ä¸ºäº†æ‰§è¡Œä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ Global Execution Contextï¼ˆGECï¼‰ï¼ŒGEC ä¸­ä¼šåˆ›å»ºä¸€ä¸ª VO å¯¹è±¡ï¼ˆå°±æ˜¯ GO å¯¹è±¡ï¼‰\n     - GEC ä¼šæ”¾åˆ° ECS ä¸­æ‰§è¡Œ\n   - GEC è¢«æ”¾å…¥åˆ° ECS é‡Œé¢åŒ…å«ä¸¤ä¸ªå†…å®¹ï¼š\n     - ç¬¬ä¸€éƒ¨åˆ†ï¼šåœ¨ä»£ç æ‰§è¡Œå‰ï¼Œåœ¨ parser è½¬æˆ AST çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå°†å…¨å±€å®šä¹‰çš„å˜é‡ã€å‡½æ•°ç­‰åŠ å…¥åˆ° GlobalObject ä¸­ï¼Œä½†æ˜¯åªæ˜¯å£°æ˜ï¼Œä¸ä¼šèµ‹å€¼ã€‚è¿™ä¸ªè¿‡ç¨‹ä¹Ÿç§°ä½œæ˜¯ä½œç”¨åŸŸæå‡\n     - ç¬¬äºŒéƒ¨åˆ†ï¼šåœ¨ä»£ç æ‰§è¡Œä¸­ï¼Œå¯¹å˜é‡èµ‹å€¼ï¼Œæˆ–è€…æ‰§è¡Œå…¶ä»–çš„å‡½æ•°\n3. é‡åˆ°å‡½æ•°åˆ›å»ºå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡\n   - åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­æ‰§è¡Œåˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå°±ä¼šæ ¹æ®å‡½æ•°ä½“åˆ›å»ºä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆFunctional Execution Contextï¼Œ ç®€ç§° FECï¼‰ï¼Œå¹¶ä¸”å‹å…¥åˆ° EC Stack ä¸­\n   - FEC åŒ…å«ä¸‰éƒ¨åˆ†å†…å®¹ï¼š\n     - ç¬¬ä¸€éƒ¨åˆ†ï¼šåœ¨è§£æå‡½æ•°ç§°ä¸º AST æ ‘ç»“æ„æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª Activation Objectï¼ˆAOï¼‰\n       - AO ä¸­åŒ…å«å½¢å‚ã€argumentsã€å‡½æ•°å®šä¹‰å’ŒæŒ‡å‘å‡½æ•°å¯¹è±¡ã€å®šä¹‰çš„å˜é‡\n     - ç¬¬äºŒéƒ¨åˆ†ï¼šä½œç”¨åŸŸé“¾ï¼Œç”± VOï¼ˆåœ¨å‡½æ•°ä¸­å°±æ˜¯ AO å¯¹è±¡ï¼‰å’Œçˆ¶çº§ VO ç»„æˆï¼ŒæŸ¥æ‰¾æ—¶ä¼šä¸€å±‚å±‚æŸ¥æ‰¾ï¼ˆå‡½æ•°çš„çˆ¶çº§ä½œç”¨åŸŸ Parent Scope å’Œå‡½æ•°çš„å®šä¹‰ä½ç½®æœ‰å…³ç³»ï¼Œå’Œè°ƒç”¨ä½ç½®æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼‰\n     - ç¬¬ä¸‰éƒ¨åˆ†ï¼šthis ç»‘å®šçš„å€¼\n\n## äºŒã€JS çš„å†…å­˜ç®¡ç†å’Œé—­åŒ…\n\n### 1.è®¤è¯†å†…å­˜ç®¡ç†\n\n- ä¸ç®¡ä»€ä¹ˆæ ·çš„ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨**ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½æ˜¯éœ€è¦ç»™å®ƒåˆ†é…å†…å­˜**çš„ï¼Œä¸åŒçš„æ˜¯**æŸäº›ç¼–ç¨‹è¯­è¨€**éœ€è¦æˆ‘ä»¬**è‡ªå·±æ‰‹åŠ¨**\n\n  **çš„ç®¡ç†å†…å­˜**ï¼Œ**æŸäº›ç¼–ç¨‹è¯­è¨€**ä¼šå¯ä»¥**è‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ç®¡ç†å†…å­˜**\n\n- ä¸ç®¡ä»¥ä»€ä¹ˆæ ·çš„æ–¹å¼æ¥ç®¡ç†å†…å­˜ï¼Œ**å†…å­˜çš„ç®¡ç†éƒ½ä¼šæœ‰å¦‚ä¸‹çš„ç”Ÿå‘½å‘¨æœŸ**ï¼š\n\n  - ç¬¬ä¸€æ­¥ï¼šåˆ†é…ç”³è¯·ä½ éœ€è¦çš„å†…å­˜ï¼ˆç”³è¯·ï¼‰ï¼›\n  - ç¬¬äºŒæ­¥ï¼šä½¿ç”¨åˆ†é…çš„å†…å­˜ï¼ˆå­˜æ”¾ä¸€äº›ä¸œè¥¿ï¼Œæ¯”å¦‚å¯¹è±¡ç­‰ï¼‰ï¼›\n  - ç¬¬ä¸‰æ­¥ï¼šä¸éœ€è¦ä½¿ç”¨æ—¶ï¼Œå¯¹å…¶è¿›è¡Œé‡Šæ”¾ï¼›\n\n- **ä¸åŒçš„ç¼–ç¨‹è¯­è¨€å¯¹äºç¬¬ä¸€æ­¥å’Œç¬¬ä¸‰æ­¥ä¼šæœ‰ä¸åŒçš„å®ç°ï¼š**\n\n- æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼šæ¯”å¦‚ Cã€C++ï¼ŒåŒ…æ‹¬æ—©æœŸçš„ OCï¼Œéƒ½æ˜¯éœ€è¦æ‰‹åŠ¨æ¥ç®¡ç†å†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾çš„ï¼ˆmalloc å’Œ free å‡½æ•°ï¼‰\n- è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼šæ¯”å¦‚ Javaã€JavaScriptã€Pythonã€Swiftã€Dart ç­‰ï¼Œå®ƒä»¬æœ‰è‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ç®¡ç†å†…å­˜ï¼›\n\n- æˆ‘ä»¬å¯ä»¥çŸ¥é“ JavaScript é€šå¸¸æƒ…å†µä¸‹æ˜¯ä¸éœ€è¦æ‰‹åŠ¨æ¥ç®¡ç†çš„ã€‚\n\n### 2.JS çš„å†…å­˜ç®¡ç†\n\n- javascript ä¼šåœ¨å®šä¹‰å˜é‡æ—¶åˆ†é…å†…å­˜\n  - å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¼šåœ¨æ ˆç©ºé—´åˆ†é…å†…å­˜\n  - å¯¹äºå¤æ‚æ•°æ®ç±»å‹ï¼Œä¼šåœ¨å †ç©ºé—´å¼€è¾Ÿå†…å­˜ï¼Œå¹¶å°†è¿™å—ç©ºé—´çš„æŒ‡é’ˆè¿”å›ç»™å€¼å˜é‡å¼•ç”¨\n\n### 3.JS çš„åƒåœ¾å›æ”¶\n\n- å› ä¸º**å†…å­˜çš„å¤§å°æ˜¯æœ‰é™**çš„ï¼Œæ‰€ä»¥å½“**å†…å­˜ä¸å†éœ€è¦çš„æ—¶å€™**ï¼Œæˆ‘ä»¬éœ€è¦**å¯¹å…¶è¿›è¡Œé‡Šæ”¾**ï¼Œä»¥ä¾¿è…¾å‡º**æ›´å¤šçš„å†…å­˜ç©ºé—´**\n- JS æœ‰è‡ªå·±çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼Œç®€ç§° GCï¼‰\n- å¯¹äºé‚£äº›ä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼Œæˆ‘ä»¬éƒ½ç§°ä¹‹ä¸ºæ˜¯åƒåœ¾ï¼Œå®ƒéœ€è¦è¢«å›æ”¶ï¼Œä»¥é‡Šæ”¾æ›´å¤šçš„å†…å­˜ç©ºé—´\n\n### 4.å¸¸è§çš„ GC ç®—æ³•\n\n1. å¼•ç”¨è®¡æ•°ç®—æ³•\n\n   - å½“ä¸€ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªå¼•ç”¨æŒ‡å‘å®ƒæ—¶ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨å°±+1ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ä¸º 0 æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡å°±å¯ä»¥è¢«é”€\n\n     æ¯æ‰\n\n   - p è¿™ä¸ªç®—æ³•æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å¼Šç«¯å°±æ˜¯ä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨\n\n2. æ ‡è®°æ¸…é™¤\n\n   - è¿™ä¸ªç®—æ³•æ˜¯è®¾ç½®ä¸€ä¸ªæ ¹å¯¹è±¡ï¼ˆroot objectï¼‰ï¼Œåƒåœ¾å›æ”¶å™¨ä¼šå®šæœŸä»è¿™ä¸ªæ ¹å¼€å§‹ï¼Œæ‰¾æ‰€æœ‰ä»æ ¹å¼€å§‹æœ‰å¼•ç”¨åˆ°çš„å¯¹è±¡ï¼Œå¯¹\n\n     äºå“ªäº›æ²¡æœ‰å¼•ç”¨åˆ°çš„å¯¹è±¡ï¼Œå°±è®¤ä¸ºæ˜¯ä¸å¯ç”¨çš„å¯¹è±¡\n\n   - è¿™ä¸ªç®—æ³•å¯ä»¥å¾ˆå¥½çš„è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜\n\n   - JS å¼•æ“æ¯”è¾ƒå¹¿æ³›çš„é‡‡ç”¨çš„å°±æ˜¯æ ‡è®°æ¸…é™¤ç®—æ³•ï¼Œå½“ç„¶ç±»ä¼¼äº V8 å¼•æ“ä¸ºäº†è¿›è¡Œæ›´å¥½çš„ä¼˜åŒ–ï¼Œå®ƒåœ¨ç®—æ³•çš„å®ç°ç»†èŠ‚ä¸Šä¹Ÿä¼šç»“åˆ\n\n     ä¸€äº›å…¶ä»–çš„ç®—æ³•ã€‚\n\n## ä¸‰ã€JS ä¸­é—­åŒ…çš„å®šä¹‰\n\n- è¿™é‡Œå…ˆæ¥çœ‹ä¸€ä¸‹é—­åŒ…çš„å®šä¹‰ï¼Œåˆ†æˆä¸¤ä¸ªï¼šåœ¨è®¡ç®—æœºç§‘å­¦ä¸­å’Œåœ¨ JavaScript ä¸­ã€‚\n- åœ¨è®¡ç®—æœºç§‘å­¦ä¸­å¯¹é—­åŒ…çš„å®šä¹‰ï¼ˆç»´åŸºç™¾ç§‘ï¼‰ï¼š\n\n  - é—­åŒ…ï¼ˆè‹±è¯­ï¼šClosureï¼‰ï¼Œåˆç§°**è¯æ³•é—­åŒ…**ï¼ˆLexical Closureï¼‰æˆ–**å‡½æ•°é—­åŒ…**ï¼ˆfunction closuresï¼‰ï¼›\n  - æ˜¯åœ¨æ”¯æŒ **å¤´ç­‰å‡½æ•°** çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå®ç°è¯æ³•ç»‘å®šçš„ä¸€ç§æŠ€æœ¯ï¼›\n  - é—­åŒ…åœ¨å®ç°ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œå®ƒå­˜å‚¨äº†ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªå…³è”çš„ç¯å¢ƒï¼ˆç›¸å½“äºä¸€ä¸ªç¬¦å·æŸ¥æ‰¾è¡¨ï¼‰ï¼›\n  - é—­åŒ…è·Ÿå‡½æ•°æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼Œå½“æ•æ‰é—­åŒ…çš„æ—¶å€™ï¼Œå®ƒçš„ **è‡ªç”±å˜é‡** ä¼šåœ¨è¡¥å……æ—¶è¢«ç¡®å®šï¼Œè¿™æ ·å³ä½¿è„±ç¦»äº†æ•æ‰æ—¶çš„ä¸Šä¸‹æ–‡ï¼Œå®ƒä¹Ÿèƒ½ç…§å¸¸è¿è¡Œï¼›\n\n- é—­åŒ…çš„æ¦‚å¿µå‡ºç°äº 60 å¹´ä»£ï¼Œæœ€æ—©å®ç°é—­åŒ…çš„ç¨‹åºæ˜¯ Schemeï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç†è§£ä¸ºä»€ä¹ˆ JavaScript ä¸­æœ‰é—­åŒ…ï¼š\n\n  - å› ä¸º JavaScript ä¸­æœ‰å¤§é‡çš„è®¾è®¡æ˜¯æ¥æºäº Scheme çš„ï¼›\n\n- æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ MDN å¯¹ JavaScript é—­åŒ…çš„è§£é‡Šï¼š\n\n  - ä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆ**lexical environmentï¼Œè¯æ³•ç¯å¢ƒ**ï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯**é—­åŒ…**ï¼ˆ**closure**ï¼‰ï¼›\n  - ä¹Ÿå°±æ˜¯è¯´ï¼Œé—­åŒ…è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸï¼›\n  - åœ¨ JavaScript ä¸­ï¼Œæ¯å½“åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé—­åŒ…å°±ä¼šåœ¨å‡½æ•°åˆ›å»ºçš„åŒæ—¶è¢«åˆ›å»ºå‡ºæ¥ï¼›\n\n- é‚£ä¹ˆæˆ‘çš„ç†è§£å’Œæ€»ç»“ï¼š\n- ä¸€ä¸ªæ™®é€šçš„å‡½æ•° functionï¼Œå¦‚æœå®ƒå¯ä»¥è®¿é—®å¤–å±‚ä½œç”¨äºçš„è‡ªç”±å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ˜¯ä¸€ä¸ªé—­åŒ…ï¼›\n- ä»å¹¿ä¹‰çš„è§’åº¦æ¥è¯´ï¼šJavaScript ä¸­çš„å‡½æ•°éƒ½æ˜¯é—­åŒ…ï¼›\n- ä»ç‹­ä¹‰çš„è§’åº¦æ¥è¯´ï¼šJavaScript ä¸­ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœè®¿é—®äº†å¤–å±‚ä½œç”¨äºçš„å˜é‡ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªé—­åŒ…ï¼›\n\n## å››ã€JS ä¸­çš„ this æŒ‡å‘\n\n### 1.this çš„ç»‘å®šè§„å¾‹\n\n1. å‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼ŒJavaScript ä¼šé»˜è®¤ç»™ this ç»‘å®šä¸€ä¸ªå€¼ï¼›\n2. this çš„ç»‘å®šå’Œå®šä¹‰çš„ä½ç½®ï¼ˆç¼–å†™çš„ä½ç½®ï¼‰æ²¡æœ‰å…³ç³»ï¼›\n3. this çš„ç»‘å®šå’Œè°ƒç”¨æ–¹å¼ä»¥åŠè°ƒç”¨çš„ä½ç½®æœ‰å…³ç³»ï¼›\n4. this æ˜¯åœ¨è¿è¡Œæ—¶è¢«ç»‘å®šçš„ï¼›\n\n### 2.this çš„ç»‘å®šè§„åˆ™\n\n- é»˜è®¤ç»‘å®šï¼ˆä¼˜å…ˆçº§æœ€ä½ï¼‰ï¼šç‹¬ç«‹å‡½æ•°è°ƒç”¨\n- éšå¼ç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºé»˜è®¤ç»‘å®šï¼‰ï¼šobj.fn()\n- æ˜¾ç¤ºç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºéšå¼ç»‘å®šï¼‰ï¼šapplyã€callã€bind ç­‰\n- new ç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºæ˜¾ç¤ºç»‘å®šï¼‰ï¼šnew Foo()\n\n## äº”ã€æ‰‹å†™ callã€apply å’Œ bind\n\n### 1.call å‡½æ•°çš„å®ç°\n\n```javascript\nFunction.prototype.lyCall = function (thisArg, ...args) {\n  // 1.å¤„ç†thisArg\n  thisArg = thisArg !== undefined && thisArg !== null ? Object(thisArg) : window\n  // 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°\n  const key = Symbol()\n  thisArg[key] = this\n  const result = thisArg[key](...args)\n  delete thisArg[key]\n  // 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ\n  return result\n}\n```\n\n### 2.apply å‡½æ•°çš„å®ç°\n\n```javascript\nFunction.prototype.lyApply = function (thisArg, argArray) {\n  // 1.å¤„ç†thisArg\n  thisArg = thisArg !== undefined && thisArg !== null ? Object(thisArg) : window\n  // 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°\n  const key = Symbol()\n  thisArg[key] = this\n  argArray = argArray || []\n  const result = thisArg[key](...argArray)\n  delete thisArg[key]\n  // 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ\n  return result\n}\n```\n\n### 3.bind å‡½æ•°çš„å®ç°\n\n```javascript\nFunction.prototype.lyBind = function (thisArg, ...args) {\n  return function (...bindArgs) {\n    // 1.å¤„ç†thisArg\n    thisArg = thisArg !== undefined && thisArg !== null ? Object(thisArg) : window\n    // 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°\n    const key = Symbol()\n    thisArg[key] = this\n    const result = thisArg[key]([...args, ...bindArgs])\n    delete thisArg[key]\n    // 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ\n    return result\n  }\n}\n```\n\n## å…­ã€å‡½æ•°ç§‘é‡ŒåŒ–\n\n### 1.å‡½æ•°ç§‘é‡ŒåŒ–çš„æ¦‚å¿µ\n\nä¸€ä¸ªæ¥æ”¶å¤šä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå˜æˆä¸€ä¸ªå¯ä»¥åªæ¥æ”¶éƒ¨åˆ†å‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ¥æ”¶å‰©ä½™å‚æ•°çš„å‡½æ•°çš„å‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹å°±å«ç§‘é‡ŒåŒ–\n\n### 2.å‡½æ•°ç§‘é‡ŒåŒ–çš„å®ç°\n\n```javascript\nfunction curring(fn) {\n  const curriedFn = function (...args) {\n    if (args.length >= fn.length) {\n      // æœ¬æ¬¡å‡½æ•°è°ƒç”¨ä¼ å…¥çš„å‚æ•°ä¸ªæ•°å·²ç»è¾¾åˆ°éœ€è¦æ‰§è¡Œå‡½æ•°çš„æœ€å¤§å‚æ•°é•¿åº¦ï¼Œç›´æ¥æ‰§è¡Œè¯¥å‡½æ•°\n      return fn.apply(this, args)\n    } else {\n      // æœ¬æ¬¡å‡½æ•°è°ƒç”¨ä¼ å…¥çš„å‚æ•°ä¸ªæ•°æ²¡æœ‰è¾¾åˆ°éœ€è¦æ‰§è¡Œå‡½æ•°çš„æœ€å¤§å‚æ•°é•¿åº¦ï¼Œè¿”å›ä¸€ä¸ªæ¥æ”¶å‰©ä½™å‚æ•°çš„å‡½æ•°\n      return function (...restArgs) {\n        return curriedFn.apply(this, [...args, ...restArgs])\n      }\n    }\n  }\n\n  return curriedFn\n}\n```\n\n## ä¸ƒã€ç»„åˆå‡½æ•°\n\n### 1.ç»„åˆå‡½æ•°çš„æ¦‚å¿µ\n\nå°†å¤šä¸ªéœ€è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œç»„åˆåˆ°ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œå‡½æ•°å†…éƒ¨ä¼šè‡ªåŠ¨ä¾æ¬¡è°ƒç”¨ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å¯¹å‡½æ•°çš„ç»„åˆï¼Œè¿™ä¸ªå‡½æ•°å°±ç§°ä¸ºç»„åˆå‡½æ•°\n\n### 2.é€šç”¨ç»„åˆå‡½æ•°çš„å®ç°\n\n```javascript\nfunction compose(...fns) {\n  fns.forEach((fn) => {\n    if (typeof fn !== 'function') {\n      throw new Error('Expected arguments are function!')\n    }\n  })\n  const list = fns.slice()\n  return function (...args) {\n    let result = list.shift().apply(this, args)\n    while (list.length > 0) {\n      result = list.shift().call(this, result)\n    }\n    return result\n  }\n}\n```\n\n## å…«ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ç»ˆæ–¹æ¡ˆï¼‰\n\n```javascript\n// å¯„ç”Ÿå¼ç»§æ‰¿-å¯¹è±¡\nfunction createObject(o) {\n  function Fn() {}\n  Fn.prototype = o\n  return new Fn()\n}\n\nfunction inheritPrototype(subType, superType) {\n  // subType.prototype = Object.create(superType.prototype) // å­ç±»æ˜¾å¼åŸå‹æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œæ–°å¯¹è±¡__proto__æŒ‡å‘çˆ¶ç±»æ˜¾ç¤ºåŸå‹\n  subType.prototype = createObject(superType.prototype)\n  // å­ç±»æ˜¾ç¤ºåŸå‹çš„æ„é€ å‡½æ•°æŒ‡å‘è‡ªå·±\n  Object.defineProperty(subType.prototype, 'constuctor', {\n    configurable: true,\n    enumerable: false,\n    writable: true,\n    value: subType\n  })\n}\n// çˆ¶ç±»\nfunction Person(name) {\n  this.name = name\n}\nPerson.prototype.eating = function () {\n  console.log('eating')\n}\n// å­ç±»\nfunction Student(sno) {\n  // ç»§æ‰¿çˆ¶ç±»å±æ€§\n  Person.call(this, name)\n  this.sno = sno\n}\n// ç»§æ‰¿çˆ¶ç±»æ–¹æ³•\ninheritPrototype(Student, Person)\n```\n\n## ä¹ã€æ‰‹å†™ instanceof\n\n```javascript\nfunction _instanceof(a, b) {\n  while (a.__proto__) {\n    if (a.__proto__ === b.prototype) {\n      return true\n    }\n    a = a.__proto__\n  }\n  return false\n}\n```\n\n## åã€æ‰‹å†™ new æ“ä½œç¬¦\n\n```javascript\nfunction _new(constructor, ...args) {\n  let instance = Object.create(constructor.prototype)\n  const res = constuctor.apply(instance, args)\n  // æ„é€ å‡½æ•°æœ‰æ˜ç¡®çš„è¿”å›å€¼ä¸”è¿”å›å€¼æ˜¯Objectæ—¶ï¼Œç›´æ¥è¿”å›æ„é€ å‡½æ•°çš„è¿”å›ç»“æœ\n  return res instanceof Object ? res : instance\n}\n```\n\n## åä¸€ã€å“åº”å¼åŸç†å®ç°\n\n```javascript\n// Depç±»å­˜å‚¨å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰\nclass Dep {\n  subscribers = new Set()\n  addEffect() {\n    activeEffect && this.subscribers.add(activeEffect)\n  }\n  notify() {\n    this.subscribers.forEach((effect) => effect())\n  }\n}\n\n// å½“å‰éœ€è¦æ”¶é›†çš„å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰\nlet activeEffect = null\n// ç¬¬ä¸€æ¬¡æ‰§è¡Œå“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰ï¼Œå¹¶è§¦å‘å¯¹åº”çš„è¿½è¸ªæ”¶é›†æ“ä½œ\nconst watchEffect = (fn) => {\n  activeEffect = fn\n  fn()\n  activeEffect = null\n}\n\n// WeakMap: { obj -> Map }  Map: { objå±æ€§ -> depå¯¹è±¡(å­˜å‚¨å“åº”å¼å‡½æ•°,å¹¶æä¾›è§¦å‘æ–¹æ³•) }\nconst weakMap = new WeakMap()\n// æ”¶é›†å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰\nconst track = (target, key) => {\n  let targetMap = weakMap.get(target)\n  if (!targetMap) {\n    targetMap = new Map()\n    weakMap.set(target, targetMap)\n  }\n  let dep = targetMap.get(key)\n  if (!dep) {\n    dep = new Dep()\n    targetMap.set(key, dep)\n  }\n  dep.addEffect()\n}\n// è§¦å‘å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰\nconst trigger = (target, key) => {\n  const targetMap = weakMap.get(target)\n  if (!targetMap) return\n  const dep = targetMap.get(key)\n  dep?.notify()\n}\n\n// åˆ›å»ºä»£ç†å¯¹è±¡\nconst reactive = (o) => {\n  return new Proxy(o, {\n    get(target, key, receiver) {\n      track(target, key)\n      return Reflect.get(target, key, receiver)\n    },\n    set(target, key, newValue, receiver) {\n      trigger(target, key)\n      Reflect.set(target, key, newValue, receiver)\n    }\n  })\n}\n```\n\n## åäºŒã€æ‰‹å†™ç®€æ˜“ç‰ˆ promise å®ç°\n\n```javascript\nconst PROMISE_STATUS_PENDING = 'pending'\nconst PROMISE_STATUS_FULFILLED = 'fulfilled'\nconst PROMISE_STATUS_REJECTED = 'rejected'\n\nconst execCallbackWithCatchErr = (execFn, value, resolve, reject) => {\n  try {\n    const result = execFn(value)\n    resolve(result)\n  } catch (err) {\n    reject(err)\n  }\n}\n\nclass LyPromise {\n  status = PROMISE_STATUS_PENDING\n  value = undefined\n  reason = undefined\n  onfulfilledCallbacks = []\n  onrejectedCallbacks = []\n  constructor(executor) {\n    const resolve = (value) => {\n      if (this.status === PROMISE_STATUS_PENDING) {\n        queueMicrotask(() => {\n          if (this.status !== PROMISE_STATUS_PENDING) return\n          this.status = PROMISE_STATUS_FULFILLED\n          this.value = value\n          this.onfulfilledCallbacks.forEach((callback) => {\n            callback(this.value)\n          })\n        })\n      }\n    }\n    const reject = (reason) => {\n      if (this.status === PROMISE_STATUS_PENDING) {\n        queueMicrotask(() => {\n          if (this.status !== PROMISE_STATUS_PENDING) return\n          this.status = PROMISE_STATUS_REJECTED\n          this.reason = reason\n          this.onrejectedCallbacks.forEach((callback) => {\n            callback(this.reason)\n          })\n        })\n      }\n    }\n\n    try {\n      executor(resolve, reject)\n    } catch (err) {\n      reject(err)\n    }\n  }\n\n  then(onfulfilled, onrejected) {\n    return new LyPromise((resolve, reject) => {\n      onfulfilled =\n        onfulfilled ||\n        ((res) => {\n          return res\n        })\n      onrejected =\n        onrejected ||\n        ((err) => {\n          throw err\n        })\n\n      switch (this.status) {\n        case PROMISE_STATUS_PENDING:\n          this.onfulfilledCallbacks.push(() => {\n            execCallbackWithCatchErr(onfulfilled, this.value, resolve, reject)\n          })\n          this.onrejectedCallbacks.push(() => {\n            execCallbackWithCatchErr(onrejected, this.reason, resolve, reject)\n          })\n          break\n        case PROMISE_STATUS_FULFILLED:\n          execCallbackWithCatchErr(onfulfilled, this.value, resolve, reject)\n          break\n        case PROMISE_STATUS_REJECTED:\n          execCallbackWithCatchErr(onrejected, this.reason, resolve, reject)\n          break\n      }\n    })\n  }\n\n  catch(onrejected) {\n    return this.then(undefined, onrejected)\n  }\n\n  finally(onfinally) {\n    return this.then(onfinally, onfinally)\n  }\n\n  static resolve(value) {\n    return new LyPromise((resolve) => resolve(value))\n  }\n\n  static reject(reason) {\n    return new LyPromise((resolve, reject) => reject(reason))\n  }\n\n  static all(promises) {\n    return new Promise((resolve, reject) => {\n      let values = []\n      promises.forEach((promise) => {\n        promise.then((res) => {\n          values.push(res)\n          if (values.length === promises.length) resolve(values)\n        }, reject)\n      })\n    })\n  }\n\n  static allSettled(promises) {\n    return new Promise((resolve, reject) => {\n      let result = []\n      promises.forEach((promise) => {\n        promise.then(\n          (res) => {\n            result.push({\n              status: PROMISE_STATUS_FULFILLED,\n              value: res\n            })\n            if (result.length === promises.length) resolve(result)\n          },\n          (err) => {\n            result.push({\n              status: PROMISE_STATUS_REJECTED,\n              reason: err\n            })\n            if (result.length === promises.length) resolve(result)\n          }\n        )\n      })\n    })\n  }\n\n  static race(promises) {\n    return new LyPromise((resolve, reject) => {\n      promises.forEach((promise) => {\n        promise.then(resolve, reject)\n      })\n    })\n  }\n\n  static any(promises) {\n    return new LyPromise((resolve, reject) => {\n      let reasons = []\n      promises.forEach((promise) => {\n        promise.then(resolve, (err) => {\n          reasons.push(err)\n          if (reasons.length === promises.length) {\n            reject(new AggregateError(reasons))\n          }\n        })\n      })\n    })\n  }\n}\n```\n\n## åä¸‰ã€å¼‚æ­¥æ–¹æ¡ˆï¼šPromise+Generator\n\n```javascript\nfunction requestData(url) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(url)\n    }, 2000)\n  })\n}\n\n// ç”Ÿæˆå™¨\nfunction* getData() {\n  const res1 = yield requestData('coder')\n  const res2 = yield requestData(res1 + '111')\n  const res3 = yield requestData(res2 + '222')\n  const res4 = yield requestData(res3 + '333')\n  console.log(res4)\n}\n\n// è‡ªåŠ¨é€’å½’æ‰§è¡Œç”Ÿæˆå™¨\nfunction co(genFn) {\n  const generator = genFn()\n  const exec = (res) => {\n    const result = generator.next(res)\n    if (result.done) {\n      return result.value\n    }\n    result.value.then((res) => {\n      exec(res)\n    })\n  }\n  exec()\n}\n\nco(getData)\n```\n\n## åäºŒã€æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµ\n\n### 1.é˜²æŠ–\n\n```javascript\nfunction debounce(fn, delay, immediate = false) {\n  let timer = null\n  let isInvoke = false\n  const _debounce = (...args) {\n    if(timer) clearTimeout(timer)\n    if(immediate && !isInvoke) {\n      fn.apply(this, args)\n      isInvoke = true\n    }\n    timer = setTimeout(() => {\n      timer = null\n      isInvoke = false\n      fn.apply(this, args)\n    }, delay)\n  }\n\n  _debounce.cancel = () => {\n     if(timer) clearTimeout(timer)\n     timer = null\n     isInvoke = false\n  }\n\n  return _debounce\n}\n```\n\n### 2.èŠ‚æµ\n\n```javascript\nfunction throttle(fn, interval, options = { leading: true, trailing: true }) {\n  let last = 0\n  timer = null\n  const { leading, trailing } = options\n  const _throttle = function (...args) {\n    let now = Date.now()\n    if (!last && !leading) last = now\n    const remainTime = interval - (now - last)\n    if (remainTime <= 0) {\n      fn.apply(fn, args)\n      last = now\n      return\n    }\n    if (trailing) {\n      if (timer) {\n        clearTimeout(timer)\n        timer = null\n      }\n      timer = setTimeout(() => {\n        fn.apply(fn, args)\n        timer = null\n        last = !leading ? 0 : Date.now()\n      }, remainTime)\n    }\n  }\n  _throttle.cancel = function () {\n    if (timer) {\n      clearTimeout(timer)\n      timer = null\n    }\n  }\n  return _throttle\n}\n```\n\n## åä¸‰ã€æ·±æ‹·è´\n\n```javascript\nfunction isObject(o) {\n  const type = typeof o\n  return o !== null && (type === 'object' || type === 'function')\n}\nfunction deepClone(originValue, weakMap = new WeakMap()) {\n  // å¤„ç†æ•°ç»„æ ¼å¼\n  const newObj = Array.isArray(originValue) ? [] : {}\n  // å¤„ç†ç®€å•æ•°æ®ç±»å‹\n  if (!isObject(originValue)) return originValue\n  // å¤„ç†å‡½æ•°ç±»å‹,ä¸éœ€è¦æ·±æ‹·è´ï¼Œç›´æ¥è¿”å›\n  if (typeof originValue === 'function') return originValue\n  // å¤„ç†Symbolç±»å‹ï¼Œè¿”å›ä¸€ä¸ªç›¸åŒdescriptionçš„Symbol\n  if (typeof originValue === 'symbol') return Symbol(originValue.description)\n  // å¤„ç†Setç±»å‹\n  if (originValue instanceof Set) return new Set([...originValue])\n  // å¤„ç†Mapç±»å‹\n  if (originValue instanceof Map) return new Set([...originValue])\n\n  // è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜\n  if (weakMap.has(originValue)) {\n    return weakMap.get(originValue)\n  }\n  weakMap.set(originValue, newObj)\n\n  for (const key in originValue) {\n    newObj[key] = deepClone(originValue[key], weakMap)\n  }\n  // å¤„ç†Symbolç±»å‹ä½œä¸ºkey\n  const symbolKeys = Object.getOwnPropertySymbols(originValue)\n  for (const sKey in symbolKeys) {\n    newObj[sKey] = deepClone(originValue[sKey], weakMap)\n  }\n\n  return newObj\n}\n```\n\n## åå››ã€äº‹ä»¶æ€»çº¿\n\n```javascript\nclass LyEventBus {\n  constructor() {\n    this.eventBus = {}\n  }\n\n  on(eventName, eventCallBack, thisArg) {\n    let handlers = this.eventBus[eventName]\n    if (!handlers) handlers = []\n    handlers.push({\n      eventCallBack,\n      thisArg\n    })\n    this.eventBus[eventName] = handlers\n  }\n\n  emit(eventName, ...payload) {\n    const handlers = this.eventBus[eventName]\n    if (!handlers) return\n    handlers.forEach((handler) => {\n      handler.eventCallBack.apply(handler.thisArg, payload)\n    })\n  }\n\n  off(eventName, eventCallBack) {\n    const handlers = this.eventBus[eventName]\n    if (!handlers) return\n    const copyHandlers = [...handlers]\n    copyHandlers.forEach((handler) => {\n      if (handler.eventCallBack === eventCallBack) {\n        const index = handlers.indexOf(handler)\n        handlers.splice(index, 1)\n      }\n    })\n  }\n}\n```\n\n## åäº”ã€å¿«é€Ÿæ’åº\n\n```javascript\nfunction quickSort(arr, func = (a, b) => a - b) {\n  if (!arr || !arr.length) return [] // ç¡®ä¿ä¼ å…¥çš„æ˜¯æ•°ç»„\n  if (arr.length === 1) return arr // è·³å‡ºé€’å½’æ¡ä»¶\n  const pivot = arr[0] // é€‰å–åŸºå‡†å…ƒç´ \n  // å°äºåŸºå‡†å…ƒç´ çš„å…ƒç´ é›†åˆ\n  const smallSet = arr.slice(1).filter((item) => quickSort(item, pivot) < 0)\n  // å¤§äºåŸºå‡†å…ƒç´ çš„å…ƒç´ é›†åˆ\n  const bigSet = arr.slice(1).filter((item) => quickSort(item, pivot) > 0)\n  return quickSort(smallSet, func).concat([pivot]).concat(quickSort(bigSet, func))\n}\n```\n","source":"_posts/jsé«˜çº§.md","raw":"---\n\ntitle: JS é«˜çº§\ntag: Javascript\nkeywords: Javascript\ncategories: Javascript\n\n---\n\n## ä¸€ã€æ·±å…¥ javascript ä¸è¿è¡ŒåŸç†\n\n### 1.V8 å¼•æ“çš„åŸç†\n\n- V8 æ˜¯ C++ç¼–å†™çš„ Google å¼€æºé«˜æ€§èƒ½ JavaScript å’Œ WebAssembly å¼•æ“ï¼Œç”¨æˆ· Chrome å’Œ nodejs ç­‰\n\n- å®ƒå®ç° ECMAScript å’Œ WebAssemblyï¼Œå¹¶åœ¨ Windows 7 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ŒmacOS 10.12+å’Œä½¿ç”¨ x64ï¼ŒIA-32ï¼Œ ARM æˆ– MIPS å¤„ç†å™¨çš„ Linux ç³»ç»Ÿä¸Šè¿è¡Œ\n- V8 å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä¹Ÿå¯ä»¥åµŒå…¥åˆ°ä»»ä½• C ++åº”ç”¨ç¨‹åºä¸­\n\n### 2.V8 å¼•æ“çš„æ¶æ„\n\n- parse æ¨¡å—å°† javascript ä»£ç è½¬æ¢æˆ ast æŠ½è±¡è¯­æ³•æ ‘ï¼Œè¿™æ˜¯å› ä¸ºè§£é‡Šå™¨å¹¶ä¸ç›´æ¥è®¤è¯† javascript ä»£ç \n- Ignition æ˜¯ä¸€ä¸ªè§£é‡Šå™¨ï¼Œä¼šå°† ast è½¬æ¢æˆ ByteCode å­—èŠ‚ç \n- TurboFan æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ï¼Œå¯ä»¥å°†å­—èŠ‚ç å˜å¼‚æˆ CPU å¯ä»¥ç›´æ¥æ‰§è¡Œçš„æœºå™¨ç  ![1](./images/1.png)\n\n### 3.V8 æ‰§è¡Œçš„ç»†èŠ‚\n\n- Blink å°†è§£æ HTML æ–‡ä»¶æ—¶ï¼Œé‡åˆ° Javascript å°†æºç äº¤ç»™ V8 å¼•æ“ï¼ŒStream è·å–åˆ°æºç å¹¶ä¸”è¿›è¡Œç¼–ç è½¬æ¢\n- Scanner ä¼šè¿›è¡Œè¯æ³•åˆ†æï¼Œè¯æ³•åˆ†æä¼šå°†ä»£ç è½¬æ¢æˆ tokens\n- æ¥ä¸‹æ¥ tokens ç»è¿‡ Parser å’Œ PreParser æ¨¡å—è½¬æ¢æˆ AST æ ‘\n  - Parser å°±æ˜¯å°† tokens è½¬æˆ AST æ ‘ç»“æ„\n  - PreParser ç§°ä¹‹ä¸ºé¢„è§£æï¼Œä¸ºä»€ä¹ˆéœ€è¦é¢„è§£æå‘¢ï¼Ÿ\n    - è¿™æ˜¯å› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„ Javscript ä»£ç ï¼Œåœ¨ä¸€å¼€å§‹å°±ä¼šè¢«æ‰§è¡Œã€‚å¯¹æ‰€æœ‰çš„ Javascript ä»£ç è¿›è¡Œè§£æï¼Œå¿…ç„¶ä¼šå½±å“ç½‘é¡µçš„è¿è¡Œæ•ˆç‡\n    - æ‰€ä»¥ V8 å¼•æ“å°±å®ç°äº† Lazy Parsingï¼ˆå»¶è¿Ÿè§£æï¼‰çš„æ–¹æ¡ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†ä¸å¿…è¦çš„å‡½æ•°è¿›è¡Œé¢„è§£æï¼Œä¹Ÿå°±æ˜¯åªè§£ææš‚æ—¶éœ€è¦çš„å†…å®¹ï¼Œè€Œå¯¹å‡½æ•°çš„å…¨é‡è§£æå°±æ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶æ‰ä¼šè¿›è¡Œ\n    - æ¯”å¦‚æˆ‘ä»¬åœ¨ä¸€ä¸ªå‡½æ•° outer å†…éƒ¨å®šä¹‰äº†å¦å¤–ä¸€ä¸ªå‡½æ•° innerï¼Œé‚£ä¹ˆ inner å‡½æ•°å°±ä¼šè¿›è¡Œé¢„è§£æ\n- ç”Ÿæˆ AST æ ‘åï¼Œä¼šè¢« Ignition æ¨¡å—ä¸“ç¨‹å­—èŠ‚ç ï¼ˆbytecodeï¼‰ï¼Œä¹‹åçš„è¿‡ç¨‹å°±æ˜¯ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹\n\n### 4.Javascript çš„æ‰§è¡Œè¿‡ç¨‹\n\n1. åˆå§‹åŒ–å…¨å±€å¯¹è±¡\n   - js å¼•æ“åœ¨æ‰§è¡Œä»£ç ä¹‹å‰ï¼Œä¼šåœ¨å †å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼šGlobal Objectï¼ˆGOï¼‰\n     - è¯¥å¯¹è±¡æ‰€æœ‰çš„ä½œç”¨åŸŸï¼ˆscopeï¼‰éƒ½å¯ä»¥è®¿é—®\n     - é‡Œé¢ä¼šåŒ…å« Dateã€Arrayã€Stringã€Numberã€setTimeoutã€setInteval ç­‰ç­‰å…¨å±€å±æ€§ AA å·±\n2. åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ\n   - js å¼•æ“å†…éƒ¨æœ‰ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution Context Stackï¼Œ ç®€ç§° ECSï¼‰ï¼Œå®ƒæ˜¯ç”¨äºæ‰§è¡Œä»£ç çš„è°ƒç”¨æ ˆï¼ˆæ‰§è¡Œæ ˆï¼‰\n   - é‚£ä¹ˆç°åœ¨å®ƒè¦æ‰§è¡Œè°å‘¢ï¼Ÿæ‰§è¡Œçš„æ˜¯å…¨å±€çš„ä»£ç å—ï¼š\n     - å…¨å±€çš„ä»£ç å—ä¸ºäº†æ‰§è¡Œä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ Global Execution Contextï¼ˆGECï¼‰ï¼ŒGEC ä¸­ä¼šåˆ›å»ºä¸€ä¸ª VO å¯¹è±¡ï¼ˆå°±æ˜¯ GO å¯¹è±¡ï¼‰\n     - GEC ä¼šæ”¾åˆ° ECS ä¸­æ‰§è¡Œ\n   - GEC è¢«æ”¾å…¥åˆ° ECS é‡Œé¢åŒ…å«ä¸¤ä¸ªå†…å®¹ï¼š\n     - ç¬¬ä¸€éƒ¨åˆ†ï¼šåœ¨ä»£ç æ‰§è¡Œå‰ï¼Œåœ¨ parser è½¬æˆ AST çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå°†å…¨å±€å®šä¹‰çš„å˜é‡ã€å‡½æ•°ç­‰åŠ å…¥åˆ° GlobalObject ä¸­ï¼Œä½†æ˜¯åªæ˜¯å£°æ˜ï¼Œä¸ä¼šèµ‹å€¼ã€‚è¿™ä¸ªè¿‡ç¨‹ä¹Ÿç§°ä½œæ˜¯ä½œç”¨åŸŸæå‡\n     - ç¬¬äºŒéƒ¨åˆ†ï¼šåœ¨ä»£ç æ‰§è¡Œä¸­ï¼Œå¯¹å˜é‡èµ‹å€¼ï¼Œæˆ–è€…æ‰§è¡Œå…¶ä»–çš„å‡½æ•°\n3. é‡åˆ°å‡½æ•°åˆ›å»ºå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡\n   - åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­æ‰§è¡Œåˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå°±ä¼šæ ¹æ®å‡½æ•°ä½“åˆ›å»ºä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆFunctional Execution Contextï¼Œ ç®€ç§° FECï¼‰ï¼Œå¹¶ä¸”å‹å…¥åˆ° EC Stack ä¸­\n   - FEC åŒ…å«ä¸‰éƒ¨åˆ†å†…å®¹ï¼š\n     - ç¬¬ä¸€éƒ¨åˆ†ï¼šåœ¨è§£æå‡½æ•°ç§°ä¸º AST æ ‘ç»“æ„æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª Activation Objectï¼ˆAOï¼‰\n       - AO ä¸­åŒ…å«å½¢å‚ã€argumentsã€å‡½æ•°å®šä¹‰å’ŒæŒ‡å‘å‡½æ•°å¯¹è±¡ã€å®šä¹‰çš„å˜é‡\n     - ç¬¬äºŒéƒ¨åˆ†ï¼šä½œç”¨åŸŸé“¾ï¼Œç”± VOï¼ˆåœ¨å‡½æ•°ä¸­å°±æ˜¯ AO å¯¹è±¡ï¼‰å’Œçˆ¶çº§ VO ç»„æˆï¼ŒæŸ¥æ‰¾æ—¶ä¼šä¸€å±‚å±‚æŸ¥æ‰¾ï¼ˆå‡½æ•°çš„çˆ¶çº§ä½œç”¨åŸŸ Parent Scope å’Œå‡½æ•°çš„å®šä¹‰ä½ç½®æœ‰å…³ç³»ï¼Œå’Œè°ƒç”¨ä½ç½®æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼‰\n     - ç¬¬ä¸‰éƒ¨åˆ†ï¼šthis ç»‘å®šçš„å€¼\n\n## äºŒã€JS çš„å†…å­˜ç®¡ç†å’Œé—­åŒ…\n\n### 1.è®¤è¯†å†…å­˜ç®¡ç†\n\n- ä¸ç®¡ä»€ä¹ˆæ ·çš„ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨**ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½æ˜¯éœ€è¦ç»™å®ƒåˆ†é…å†…å­˜**çš„ï¼Œä¸åŒçš„æ˜¯**æŸäº›ç¼–ç¨‹è¯­è¨€**éœ€è¦æˆ‘ä»¬**è‡ªå·±æ‰‹åŠ¨**\n\n  **çš„ç®¡ç†å†…å­˜**ï¼Œ**æŸäº›ç¼–ç¨‹è¯­è¨€**ä¼šå¯ä»¥**è‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ç®¡ç†å†…å­˜**\n\n- ä¸ç®¡ä»¥ä»€ä¹ˆæ ·çš„æ–¹å¼æ¥ç®¡ç†å†…å­˜ï¼Œ**å†…å­˜çš„ç®¡ç†éƒ½ä¼šæœ‰å¦‚ä¸‹çš„ç”Ÿå‘½å‘¨æœŸ**ï¼š\n\n  - ç¬¬ä¸€æ­¥ï¼šåˆ†é…ç”³è¯·ä½ éœ€è¦çš„å†…å­˜ï¼ˆç”³è¯·ï¼‰ï¼›\n  - ç¬¬äºŒæ­¥ï¼šä½¿ç”¨åˆ†é…çš„å†…å­˜ï¼ˆå­˜æ”¾ä¸€äº›ä¸œè¥¿ï¼Œæ¯”å¦‚å¯¹è±¡ç­‰ï¼‰ï¼›\n  - ç¬¬ä¸‰æ­¥ï¼šä¸éœ€è¦ä½¿ç”¨æ—¶ï¼Œå¯¹å…¶è¿›è¡Œé‡Šæ”¾ï¼›\n\n- **ä¸åŒçš„ç¼–ç¨‹è¯­è¨€å¯¹äºç¬¬ä¸€æ­¥å’Œç¬¬ä¸‰æ­¥ä¼šæœ‰ä¸åŒçš„å®ç°ï¼š**\n\n- æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼šæ¯”å¦‚ Cã€C++ï¼ŒåŒ…æ‹¬æ—©æœŸçš„ OCï¼Œéƒ½æ˜¯éœ€è¦æ‰‹åŠ¨æ¥ç®¡ç†å†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾çš„ï¼ˆmalloc å’Œ free å‡½æ•°ï¼‰\n- è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼šæ¯”å¦‚ Javaã€JavaScriptã€Pythonã€Swiftã€Dart ç­‰ï¼Œå®ƒä»¬æœ‰è‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ç®¡ç†å†…å­˜ï¼›\n\n- æˆ‘ä»¬å¯ä»¥çŸ¥é“ JavaScript é€šå¸¸æƒ…å†µä¸‹æ˜¯ä¸éœ€è¦æ‰‹åŠ¨æ¥ç®¡ç†çš„ã€‚\n\n### 2.JS çš„å†…å­˜ç®¡ç†\n\n- javascript ä¼šåœ¨å®šä¹‰å˜é‡æ—¶åˆ†é…å†…å­˜\n  - å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¼šåœ¨æ ˆç©ºé—´åˆ†é…å†…å­˜\n  - å¯¹äºå¤æ‚æ•°æ®ç±»å‹ï¼Œä¼šåœ¨å †ç©ºé—´å¼€è¾Ÿå†…å­˜ï¼Œå¹¶å°†è¿™å—ç©ºé—´çš„æŒ‡é’ˆè¿”å›ç»™å€¼å˜é‡å¼•ç”¨\n\n### 3.JS çš„åƒåœ¾å›æ”¶\n\n- å› ä¸º**å†…å­˜çš„å¤§å°æ˜¯æœ‰é™**çš„ï¼Œæ‰€ä»¥å½“**å†…å­˜ä¸å†éœ€è¦çš„æ—¶å€™**ï¼Œæˆ‘ä»¬éœ€è¦**å¯¹å…¶è¿›è¡Œé‡Šæ”¾**ï¼Œä»¥ä¾¿è…¾å‡º**æ›´å¤šçš„å†…å­˜ç©ºé—´**\n- JS æœ‰è‡ªå·±çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼Œç®€ç§° GCï¼‰\n- å¯¹äºé‚£äº›ä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼Œæˆ‘ä»¬éƒ½ç§°ä¹‹ä¸ºæ˜¯åƒåœ¾ï¼Œå®ƒéœ€è¦è¢«å›æ”¶ï¼Œä»¥é‡Šæ”¾æ›´å¤šçš„å†…å­˜ç©ºé—´\n\n### 4.å¸¸è§çš„ GC ç®—æ³•\n\n1. å¼•ç”¨è®¡æ•°ç®—æ³•\n\n   - å½“ä¸€ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªå¼•ç”¨æŒ‡å‘å®ƒæ—¶ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨å°±+1ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ä¸º 0 æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡å°±å¯ä»¥è¢«é”€\n\n     æ¯æ‰\n\n   - p è¿™ä¸ªç®—æ³•æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å¼Šç«¯å°±æ˜¯ä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨\n\n2. æ ‡è®°æ¸…é™¤\n\n   - è¿™ä¸ªç®—æ³•æ˜¯è®¾ç½®ä¸€ä¸ªæ ¹å¯¹è±¡ï¼ˆroot objectï¼‰ï¼Œåƒåœ¾å›æ”¶å™¨ä¼šå®šæœŸä»è¿™ä¸ªæ ¹å¼€å§‹ï¼Œæ‰¾æ‰€æœ‰ä»æ ¹å¼€å§‹æœ‰å¼•ç”¨åˆ°çš„å¯¹è±¡ï¼Œå¯¹\n\n     äºå“ªäº›æ²¡æœ‰å¼•ç”¨åˆ°çš„å¯¹è±¡ï¼Œå°±è®¤ä¸ºæ˜¯ä¸å¯ç”¨çš„å¯¹è±¡\n\n   - è¿™ä¸ªç®—æ³•å¯ä»¥å¾ˆå¥½çš„è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜\n\n   - JS å¼•æ“æ¯”è¾ƒå¹¿æ³›çš„é‡‡ç”¨çš„å°±æ˜¯æ ‡è®°æ¸…é™¤ç®—æ³•ï¼Œå½“ç„¶ç±»ä¼¼äº V8 å¼•æ“ä¸ºäº†è¿›è¡Œæ›´å¥½çš„ä¼˜åŒ–ï¼Œå®ƒåœ¨ç®—æ³•çš„å®ç°ç»†èŠ‚ä¸Šä¹Ÿä¼šç»“åˆ\n\n     ä¸€äº›å…¶ä»–çš„ç®—æ³•ã€‚\n\n## ä¸‰ã€JS ä¸­é—­åŒ…çš„å®šä¹‰\n\n- è¿™é‡Œå…ˆæ¥çœ‹ä¸€ä¸‹é—­åŒ…çš„å®šä¹‰ï¼Œåˆ†æˆä¸¤ä¸ªï¼šåœ¨è®¡ç®—æœºç§‘å­¦ä¸­å’Œåœ¨ JavaScript ä¸­ã€‚\n- åœ¨è®¡ç®—æœºç§‘å­¦ä¸­å¯¹é—­åŒ…çš„å®šä¹‰ï¼ˆç»´åŸºç™¾ç§‘ï¼‰ï¼š\n\n  - é—­åŒ…ï¼ˆè‹±è¯­ï¼šClosureï¼‰ï¼Œåˆç§°**è¯æ³•é—­åŒ…**ï¼ˆLexical Closureï¼‰æˆ–**å‡½æ•°é—­åŒ…**ï¼ˆfunction closuresï¼‰ï¼›\n  - æ˜¯åœ¨æ”¯æŒ **å¤´ç­‰å‡½æ•°** çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå®ç°è¯æ³•ç»‘å®šçš„ä¸€ç§æŠ€æœ¯ï¼›\n  - é—­åŒ…åœ¨å®ç°ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œå®ƒå­˜å‚¨äº†ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªå…³è”çš„ç¯å¢ƒï¼ˆç›¸å½“äºä¸€ä¸ªç¬¦å·æŸ¥æ‰¾è¡¨ï¼‰ï¼›\n  - é—­åŒ…è·Ÿå‡½æ•°æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼Œå½“æ•æ‰é—­åŒ…çš„æ—¶å€™ï¼Œå®ƒçš„ **è‡ªç”±å˜é‡** ä¼šåœ¨è¡¥å……æ—¶è¢«ç¡®å®šï¼Œè¿™æ ·å³ä½¿è„±ç¦»äº†æ•æ‰æ—¶çš„ä¸Šä¸‹æ–‡ï¼Œå®ƒä¹Ÿèƒ½ç…§å¸¸è¿è¡Œï¼›\n\n- é—­åŒ…çš„æ¦‚å¿µå‡ºç°äº 60 å¹´ä»£ï¼Œæœ€æ—©å®ç°é—­åŒ…çš„ç¨‹åºæ˜¯ Schemeï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç†è§£ä¸ºä»€ä¹ˆ JavaScript ä¸­æœ‰é—­åŒ…ï¼š\n\n  - å› ä¸º JavaScript ä¸­æœ‰å¤§é‡çš„è®¾è®¡æ˜¯æ¥æºäº Scheme çš„ï¼›\n\n- æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ MDN å¯¹ JavaScript é—­åŒ…çš„è§£é‡Šï¼š\n\n  - ä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆ**lexical environmentï¼Œè¯æ³•ç¯å¢ƒ**ï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯**é—­åŒ…**ï¼ˆ**closure**ï¼‰ï¼›\n  - ä¹Ÿå°±æ˜¯è¯´ï¼Œé—­åŒ…è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸï¼›\n  - åœ¨ JavaScript ä¸­ï¼Œæ¯å½“åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé—­åŒ…å°±ä¼šåœ¨å‡½æ•°åˆ›å»ºçš„åŒæ—¶è¢«åˆ›å»ºå‡ºæ¥ï¼›\n\n- é‚£ä¹ˆæˆ‘çš„ç†è§£å’Œæ€»ç»“ï¼š\n- ä¸€ä¸ªæ™®é€šçš„å‡½æ•° functionï¼Œå¦‚æœå®ƒå¯ä»¥è®¿é—®å¤–å±‚ä½œç”¨äºçš„è‡ªç”±å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ˜¯ä¸€ä¸ªé—­åŒ…ï¼›\n- ä»å¹¿ä¹‰çš„è§’åº¦æ¥è¯´ï¼šJavaScript ä¸­çš„å‡½æ•°éƒ½æ˜¯é—­åŒ…ï¼›\n- ä»ç‹­ä¹‰çš„è§’åº¦æ¥è¯´ï¼šJavaScript ä¸­ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœè®¿é—®äº†å¤–å±‚ä½œç”¨äºçš„å˜é‡ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªé—­åŒ…ï¼›\n\n## å››ã€JS ä¸­çš„ this æŒ‡å‘\n\n### 1.this çš„ç»‘å®šè§„å¾‹\n\n1. å‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼ŒJavaScript ä¼šé»˜è®¤ç»™ this ç»‘å®šä¸€ä¸ªå€¼ï¼›\n2. this çš„ç»‘å®šå’Œå®šä¹‰çš„ä½ç½®ï¼ˆç¼–å†™çš„ä½ç½®ï¼‰æ²¡æœ‰å…³ç³»ï¼›\n3. this çš„ç»‘å®šå’Œè°ƒç”¨æ–¹å¼ä»¥åŠè°ƒç”¨çš„ä½ç½®æœ‰å…³ç³»ï¼›\n4. this æ˜¯åœ¨è¿è¡Œæ—¶è¢«ç»‘å®šçš„ï¼›\n\n### 2.this çš„ç»‘å®šè§„åˆ™\n\n- é»˜è®¤ç»‘å®šï¼ˆä¼˜å…ˆçº§æœ€ä½ï¼‰ï¼šç‹¬ç«‹å‡½æ•°è°ƒç”¨\n- éšå¼ç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºé»˜è®¤ç»‘å®šï¼‰ï¼šobj.fn()\n- æ˜¾ç¤ºç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºéšå¼ç»‘å®šï¼‰ï¼šapplyã€callã€bind ç­‰\n- new ç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºæ˜¾ç¤ºç»‘å®šï¼‰ï¼šnew Foo()\n\n## äº”ã€æ‰‹å†™ callã€apply å’Œ bind\n\n### 1.call å‡½æ•°çš„å®ç°\n\n```javascript\nFunction.prototype.lyCall = function (thisArg, ...args) {\n  // 1.å¤„ç†thisArg\n  thisArg = thisArg !== undefined && thisArg !== null ? Object(thisArg) : window\n  // 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°\n  const key = Symbol()\n  thisArg[key] = this\n  const result = thisArg[key](...args)\n  delete thisArg[key]\n  // 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ\n  return result\n}\n```\n\n### 2.apply å‡½æ•°çš„å®ç°\n\n```javascript\nFunction.prototype.lyApply = function (thisArg, argArray) {\n  // 1.å¤„ç†thisArg\n  thisArg = thisArg !== undefined && thisArg !== null ? Object(thisArg) : window\n  // 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°\n  const key = Symbol()\n  thisArg[key] = this\n  argArray = argArray || []\n  const result = thisArg[key](...argArray)\n  delete thisArg[key]\n  // 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ\n  return result\n}\n```\n\n### 3.bind å‡½æ•°çš„å®ç°\n\n```javascript\nFunction.prototype.lyBind = function (thisArg, ...args) {\n  return function (...bindArgs) {\n    // 1.å¤„ç†thisArg\n    thisArg = thisArg !== undefined && thisArg !== null ? Object(thisArg) : window\n    // 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°\n    const key = Symbol()\n    thisArg[key] = this\n    const result = thisArg[key]([...args, ...bindArgs])\n    delete thisArg[key]\n    // 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ\n    return result\n  }\n}\n```\n\n## å…­ã€å‡½æ•°ç§‘é‡ŒåŒ–\n\n### 1.å‡½æ•°ç§‘é‡ŒåŒ–çš„æ¦‚å¿µ\n\nä¸€ä¸ªæ¥æ”¶å¤šä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå˜æˆä¸€ä¸ªå¯ä»¥åªæ¥æ”¶éƒ¨åˆ†å‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ¥æ”¶å‰©ä½™å‚æ•°çš„å‡½æ•°çš„å‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹å°±å«ç§‘é‡ŒåŒ–\n\n### 2.å‡½æ•°ç§‘é‡ŒåŒ–çš„å®ç°\n\n```javascript\nfunction curring(fn) {\n  const curriedFn = function (...args) {\n    if (args.length >= fn.length) {\n      // æœ¬æ¬¡å‡½æ•°è°ƒç”¨ä¼ å…¥çš„å‚æ•°ä¸ªæ•°å·²ç»è¾¾åˆ°éœ€è¦æ‰§è¡Œå‡½æ•°çš„æœ€å¤§å‚æ•°é•¿åº¦ï¼Œç›´æ¥æ‰§è¡Œè¯¥å‡½æ•°\n      return fn.apply(this, args)\n    } else {\n      // æœ¬æ¬¡å‡½æ•°è°ƒç”¨ä¼ å…¥çš„å‚æ•°ä¸ªæ•°æ²¡æœ‰è¾¾åˆ°éœ€è¦æ‰§è¡Œå‡½æ•°çš„æœ€å¤§å‚æ•°é•¿åº¦ï¼Œè¿”å›ä¸€ä¸ªæ¥æ”¶å‰©ä½™å‚æ•°çš„å‡½æ•°\n      return function (...restArgs) {\n        return curriedFn.apply(this, [...args, ...restArgs])\n      }\n    }\n  }\n\n  return curriedFn\n}\n```\n\n## ä¸ƒã€ç»„åˆå‡½æ•°\n\n### 1.ç»„åˆå‡½æ•°çš„æ¦‚å¿µ\n\nå°†å¤šä¸ªéœ€è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œç»„åˆåˆ°ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œå‡½æ•°å†…éƒ¨ä¼šè‡ªåŠ¨ä¾æ¬¡è°ƒç”¨ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å¯¹å‡½æ•°çš„ç»„åˆï¼Œè¿™ä¸ªå‡½æ•°å°±ç§°ä¸ºç»„åˆå‡½æ•°\n\n### 2.é€šç”¨ç»„åˆå‡½æ•°çš„å®ç°\n\n```javascript\nfunction compose(...fns) {\n  fns.forEach((fn) => {\n    if (typeof fn !== 'function') {\n      throw new Error('Expected arguments are function!')\n    }\n  })\n  const list = fns.slice()\n  return function (...args) {\n    let result = list.shift().apply(this, args)\n    while (list.length > 0) {\n      result = list.shift().call(this, result)\n    }\n    return result\n  }\n}\n```\n\n## å…«ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ç»ˆæ–¹æ¡ˆï¼‰\n\n```javascript\n// å¯„ç”Ÿå¼ç»§æ‰¿-å¯¹è±¡\nfunction createObject(o) {\n  function Fn() {}\n  Fn.prototype = o\n  return new Fn()\n}\n\nfunction inheritPrototype(subType, superType) {\n  // subType.prototype = Object.create(superType.prototype) // å­ç±»æ˜¾å¼åŸå‹æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œæ–°å¯¹è±¡__proto__æŒ‡å‘çˆ¶ç±»æ˜¾ç¤ºåŸå‹\n  subType.prototype = createObject(superType.prototype)\n  // å­ç±»æ˜¾ç¤ºåŸå‹çš„æ„é€ å‡½æ•°æŒ‡å‘è‡ªå·±\n  Object.defineProperty(subType.prototype, 'constuctor', {\n    configurable: true,\n    enumerable: false,\n    writable: true,\n    value: subType\n  })\n}\n// çˆ¶ç±»\nfunction Person(name) {\n  this.name = name\n}\nPerson.prototype.eating = function () {\n  console.log('eating')\n}\n// å­ç±»\nfunction Student(sno) {\n  // ç»§æ‰¿çˆ¶ç±»å±æ€§\n  Person.call(this, name)\n  this.sno = sno\n}\n// ç»§æ‰¿çˆ¶ç±»æ–¹æ³•\ninheritPrototype(Student, Person)\n```\n\n## ä¹ã€æ‰‹å†™ instanceof\n\n```javascript\nfunction _instanceof(a, b) {\n  while (a.__proto__) {\n    if (a.__proto__ === b.prototype) {\n      return true\n    }\n    a = a.__proto__\n  }\n  return false\n}\n```\n\n## åã€æ‰‹å†™ new æ“ä½œç¬¦\n\n```javascript\nfunction _new(constructor, ...args) {\n  let instance = Object.create(constructor.prototype)\n  const res = constuctor.apply(instance, args)\n  // æ„é€ å‡½æ•°æœ‰æ˜ç¡®çš„è¿”å›å€¼ä¸”è¿”å›å€¼æ˜¯Objectæ—¶ï¼Œç›´æ¥è¿”å›æ„é€ å‡½æ•°çš„è¿”å›ç»“æœ\n  return res instanceof Object ? res : instance\n}\n```\n\n## åä¸€ã€å“åº”å¼åŸç†å®ç°\n\n```javascript\n// Depç±»å­˜å‚¨å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰\nclass Dep {\n  subscribers = new Set()\n  addEffect() {\n    activeEffect && this.subscribers.add(activeEffect)\n  }\n  notify() {\n    this.subscribers.forEach((effect) => effect())\n  }\n}\n\n// å½“å‰éœ€è¦æ”¶é›†çš„å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰\nlet activeEffect = null\n// ç¬¬ä¸€æ¬¡æ‰§è¡Œå“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰ï¼Œå¹¶è§¦å‘å¯¹åº”çš„è¿½è¸ªæ”¶é›†æ“ä½œ\nconst watchEffect = (fn) => {\n  activeEffect = fn\n  fn()\n  activeEffect = null\n}\n\n// WeakMap: { obj -> Map }  Map: { objå±æ€§ -> depå¯¹è±¡(å­˜å‚¨å“åº”å¼å‡½æ•°,å¹¶æä¾›è§¦å‘æ–¹æ³•) }\nconst weakMap = new WeakMap()\n// æ”¶é›†å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰\nconst track = (target, key) => {\n  let targetMap = weakMap.get(target)\n  if (!targetMap) {\n    targetMap = new Map()\n    weakMap.set(target, targetMap)\n  }\n  let dep = targetMap.get(key)\n  if (!dep) {\n    dep = new Dep()\n    targetMap.set(key, dep)\n  }\n  dep.addEffect()\n}\n// è§¦å‘å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰\nconst trigger = (target, key) => {\n  const targetMap = weakMap.get(target)\n  if (!targetMap) return\n  const dep = targetMap.get(key)\n  dep?.notify()\n}\n\n// åˆ›å»ºä»£ç†å¯¹è±¡\nconst reactive = (o) => {\n  return new Proxy(o, {\n    get(target, key, receiver) {\n      track(target, key)\n      return Reflect.get(target, key, receiver)\n    },\n    set(target, key, newValue, receiver) {\n      trigger(target, key)\n      Reflect.set(target, key, newValue, receiver)\n    }\n  })\n}\n```\n\n## åäºŒã€æ‰‹å†™ç®€æ˜“ç‰ˆ promise å®ç°\n\n```javascript\nconst PROMISE_STATUS_PENDING = 'pending'\nconst PROMISE_STATUS_FULFILLED = 'fulfilled'\nconst PROMISE_STATUS_REJECTED = 'rejected'\n\nconst execCallbackWithCatchErr = (execFn, value, resolve, reject) => {\n  try {\n    const result = execFn(value)\n    resolve(result)\n  } catch (err) {\n    reject(err)\n  }\n}\n\nclass LyPromise {\n  status = PROMISE_STATUS_PENDING\n  value = undefined\n  reason = undefined\n  onfulfilledCallbacks = []\n  onrejectedCallbacks = []\n  constructor(executor) {\n    const resolve = (value) => {\n      if (this.status === PROMISE_STATUS_PENDING) {\n        queueMicrotask(() => {\n          if (this.status !== PROMISE_STATUS_PENDING) return\n          this.status = PROMISE_STATUS_FULFILLED\n          this.value = value\n          this.onfulfilledCallbacks.forEach((callback) => {\n            callback(this.value)\n          })\n        })\n      }\n    }\n    const reject = (reason) => {\n      if (this.status === PROMISE_STATUS_PENDING) {\n        queueMicrotask(() => {\n          if (this.status !== PROMISE_STATUS_PENDING) return\n          this.status = PROMISE_STATUS_REJECTED\n          this.reason = reason\n          this.onrejectedCallbacks.forEach((callback) => {\n            callback(this.reason)\n          })\n        })\n      }\n    }\n\n    try {\n      executor(resolve, reject)\n    } catch (err) {\n      reject(err)\n    }\n  }\n\n  then(onfulfilled, onrejected) {\n    return new LyPromise((resolve, reject) => {\n      onfulfilled =\n        onfulfilled ||\n        ((res) => {\n          return res\n        })\n      onrejected =\n        onrejected ||\n        ((err) => {\n          throw err\n        })\n\n      switch (this.status) {\n        case PROMISE_STATUS_PENDING:\n          this.onfulfilledCallbacks.push(() => {\n            execCallbackWithCatchErr(onfulfilled, this.value, resolve, reject)\n          })\n          this.onrejectedCallbacks.push(() => {\n            execCallbackWithCatchErr(onrejected, this.reason, resolve, reject)\n          })\n          break\n        case PROMISE_STATUS_FULFILLED:\n          execCallbackWithCatchErr(onfulfilled, this.value, resolve, reject)\n          break\n        case PROMISE_STATUS_REJECTED:\n          execCallbackWithCatchErr(onrejected, this.reason, resolve, reject)\n          break\n      }\n    })\n  }\n\n  catch(onrejected) {\n    return this.then(undefined, onrejected)\n  }\n\n  finally(onfinally) {\n    return this.then(onfinally, onfinally)\n  }\n\n  static resolve(value) {\n    return new LyPromise((resolve) => resolve(value))\n  }\n\n  static reject(reason) {\n    return new LyPromise((resolve, reject) => reject(reason))\n  }\n\n  static all(promises) {\n    return new Promise((resolve, reject) => {\n      let values = []\n      promises.forEach((promise) => {\n        promise.then((res) => {\n          values.push(res)\n          if (values.length === promises.length) resolve(values)\n        }, reject)\n      })\n    })\n  }\n\n  static allSettled(promises) {\n    return new Promise((resolve, reject) => {\n      let result = []\n      promises.forEach((promise) => {\n        promise.then(\n          (res) => {\n            result.push({\n              status: PROMISE_STATUS_FULFILLED,\n              value: res\n            })\n            if (result.length === promises.length) resolve(result)\n          },\n          (err) => {\n            result.push({\n              status: PROMISE_STATUS_REJECTED,\n              reason: err\n            })\n            if (result.length === promises.length) resolve(result)\n          }\n        )\n      })\n    })\n  }\n\n  static race(promises) {\n    return new LyPromise((resolve, reject) => {\n      promises.forEach((promise) => {\n        promise.then(resolve, reject)\n      })\n    })\n  }\n\n  static any(promises) {\n    return new LyPromise((resolve, reject) => {\n      let reasons = []\n      promises.forEach((promise) => {\n        promise.then(resolve, (err) => {\n          reasons.push(err)\n          if (reasons.length === promises.length) {\n            reject(new AggregateError(reasons))\n          }\n        })\n      })\n    })\n  }\n}\n```\n\n## åä¸‰ã€å¼‚æ­¥æ–¹æ¡ˆï¼šPromise+Generator\n\n```javascript\nfunction requestData(url) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(url)\n    }, 2000)\n  })\n}\n\n// ç”Ÿæˆå™¨\nfunction* getData() {\n  const res1 = yield requestData('coder')\n  const res2 = yield requestData(res1 + '111')\n  const res3 = yield requestData(res2 + '222')\n  const res4 = yield requestData(res3 + '333')\n  console.log(res4)\n}\n\n// è‡ªåŠ¨é€’å½’æ‰§è¡Œç”Ÿæˆå™¨\nfunction co(genFn) {\n  const generator = genFn()\n  const exec = (res) => {\n    const result = generator.next(res)\n    if (result.done) {\n      return result.value\n    }\n    result.value.then((res) => {\n      exec(res)\n    })\n  }\n  exec()\n}\n\nco(getData)\n```\n\n## åäºŒã€æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµ\n\n### 1.é˜²æŠ–\n\n```javascript\nfunction debounce(fn, delay, immediate = false) {\n  let timer = null\n  let isInvoke = false\n  const _debounce = (...args) {\n    if(timer) clearTimeout(timer)\n    if(immediate && !isInvoke) {\n      fn.apply(this, args)\n      isInvoke = true\n    }\n    timer = setTimeout(() => {\n      timer = null\n      isInvoke = false\n      fn.apply(this, args)\n    }, delay)\n  }\n\n  _debounce.cancel = () => {\n     if(timer) clearTimeout(timer)\n     timer = null\n     isInvoke = false\n  }\n\n  return _debounce\n}\n```\n\n### 2.èŠ‚æµ\n\n```javascript\nfunction throttle(fn, interval, options = { leading: true, trailing: true }) {\n  let last = 0\n  timer = null\n  const { leading, trailing } = options\n  const _throttle = function (...args) {\n    let now = Date.now()\n    if (!last && !leading) last = now\n    const remainTime = interval - (now - last)\n    if (remainTime <= 0) {\n      fn.apply(fn, args)\n      last = now\n      return\n    }\n    if (trailing) {\n      if (timer) {\n        clearTimeout(timer)\n        timer = null\n      }\n      timer = setTimeout(() => {\n        fn.apply(fn, args)\n        timer = null\n        last = !leading ? 0 : Date.now()\n      }, remainTime)\n    }\n  }\n  _throttle.cancel = function () {\n    if (timer) {\n      clearTimeout(timer)\n      timer = null\n    }\n  }\n  return _throttle\n}\n```\n\n## åä¸‰ã€æ·±æ‹·è´\n\n```javascript\nfunction isObject(o) {\n  const type = typeof o\n  return o !== null && (type === 'object' || type === 'function')\n}\nfunction deepClone(originValue, weakMap = new WeakMap()) {\n  // å¤„ç†æ•°ç»„æ ¼å¼\n  const newObj = Array.isArray(originValue) ? [] : {}\n  // å¤„ç†ç®€å•æ•°æ®ç±»å‹\n  if (!isObject(originValue)) return originValue\n  // å¤„ç†å‡½æ•°ç±»å‹,ä¸éœ€è¦æ·±æ‹·è´ï¼Œç›´æ¥è¿”å›\n  if (typeof originValue === 'function') return originValue\n  // å¤„ç†Symbolç±»å‹ï¼Œè¿”å›ä¸€ä¸ªç›¸åŒdescriptionçš„Symbol\n  if (typeof originValue === 'symbol') return Symbol(originValue.description)\n  // å¤„ç†Setç±»å‹\n  if (originValue instanceof Set) return new Set([...originValue])\n  // å¤„ç†Mapç±»å‹\n  if (originValue instanceof Map) return new Set([...originValue])\n\n  // è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜\n  if (weakMap.has(originValue)) {\n    return weakMap.get(originValue)\n  }\n  weakMap.set(originValue, newObj)\n\n  for (const key in originValue) {\n    newObj[key] = deepClone(originValue[key], weakMap)\n  }\n  // å¤„ç†Symbolç±»å‹ä½œä¸ºkey\n  const symbolKeys = Object.getOwnPropertySymbols(originValue)\n  for (const sKey in symbolKeys) {\n    newObj[sKey] = deepClone(originValue[sKey], weakMap)\n  }\n\n  return newObj\n}\n```\n\n## åå››ã€äº‹ä»¶æ€»çº¿\n\n```javascript\nclass LyEventBus {\n  constructor() {\n    this.eventBus = {}\n  }\n\n  on(eventName, eventCallBack, thisArg) {\n    let handlers = this.eventBus[eventName]\n    if (!handlers) handlers = []\n    handlers.push({\n      eventCallBack,\n      thisArg\n    })\n    this.eventBus[eventName] = handlers\n  }\n\n  emit(eventName, ...payload) {\n    const handlers = this.eventBus[eventName]\n    if (!handlers) return\n    handlers.forEach((handler) => {\n      handler.eventCallBack.apply(handler.thisArg, payload)\n    })\n  }\n\n  off(eventName, eventCallBack) {\n    const handlers = this.eventBus[eventName]\n    if (!handlers) return\n    const copyHandlers = [...handlers]\n    copyHandlers.forEach((handler) => {\n      if (handler.eventCallBack === eventCallBack) {\n        const index = handlers.indexOf(handler)\n        handlers.splice(index, 1)\n      }\n    })\n  }\n}\n```\n\n## åäº”ã€å¿«é€Ÿæ’åº\n\n```javascript\nfunction quickSort(arr, func = (a, b) => a - b) {\n  if (!arr || !arr.length) return [] // ç¡®ä¿ä¼ å…¥çš„æ˜¯æ•°ç»„\n  if (arr.length === 1) return arr // è·³å‡ºé€’å½’æ¡ä»¶\n  const pivot = arr[0] // é€‰å–åŸºå‡†å…ƒç´ \n  // å°äºåŸºå‡†å…ƒç´ çš„å…ƒç´ é›†åˆ\n  const smallSet = arr.slice(1).filter((item) => quickSort(item, pivot) < 0)\n  // å¤§äºåŸºå‡†å…ƒç´ çš„å…ƒç´ é›†åˆ\n  const bigSet = arr.slice(1).filter((item) => quickSort(item, pivot) > 0)\n  return quickSort(smallSet, func).concat([pivot]).concat(quickSort(bigSet, func))\n}\n```\n","slug":"jsé«˜çº§","published":1,"date":"2022-11-01T06:32:50.800Z","updated":"2022-11-01T07:13:53.122Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9kx000gi024ed3m1f2f","content":"<h2 id=\"ä¸€ã€æ·±å…¥-javascript-ä¸è¿è¡ŒåŸç†\"><a href=\"#ä¸€ã€æ·±å…¥-javascript-ä¸è¿è¡ŒåŸç†\" class=\"headerlink\" title=\"ä¸€ã€æ·±å…¥ javascript ä¸è¿è¡ŒåŸç†\"></a>ä¸€ã€æ·±å…¥ javascript ä¸è¿è¡ŒåŸç†</h2><h3 id=\"1-V8-å¼•æ“çš„åŸç†\"><a href=\"#1-V8-å¼•æ“çš„åŸç†\" class=\"headerlink\" title=\"1.V8 å¼•æ“çš„åŸç†\"></a>1.V8 å¼•æ“çš„åŸç†</h3><ul>\n<li><p>V8 æ˜¯ C++ç¼–å†™çš„ Google å¼€æºé«˜æ€§èƒ½ JavaScript å’Œ WebAssembly å¼•æ“ï¼Œç”¨æˆ· Chrome å’Œ nodejs ç­‰</p>\n</li>\n<li><p>å®ƒå®ç° ECMAScript å’Œ WebAssemblyï¼Œå¹¶åœ¨ Windows 7 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ŒmacOS 10.12+å’Œä½¿ç”¨ x64ï¼ŒIA-32ï¼Œ ARM æˆ– MIPS å¤„ç†å™¨çš„ Linux ç³»ç»Ÿä¸Šè¿è¡Œ</p>\n</li>\n<li><p>V8 å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä¹Ÿå¯ä»¥åµŒå…¥åˆ°ä»»ä½• C ++åº”ç”¨ç¨‹åºä¸­</p>\n</li>\n</ul>\n<h3 id=\"2-V8-å¼•æ“çš„æ¶æ„\"><a href=\"#2-V8-å¼•æ“çš„æ¶æ„\" class=\"headerlink\" title=\"2.V8 å¼•æ“çš„æ¶æ„\"></a>2.V8 å¼•æ“çš„æ¶æ„</h3><ul>\n<li>parse æ¨¡å—å°† javascript ä»£ç è½¬æ¢æˆ ast æŠ½è±¡è¯­æ³•æ ‘ï¼Œè¿™æ˜¯å› ä¸ºè§£é‡Šå™¨å¹¶ä¸ç›´æ¥è®¤è¯† javascript ä»£ç </li>\n<li>Ignition æ˜¯ä¸€ä¸ªè§£é‡Šå™¨ï¼Œä¼šå°† ast è½¬æ¢æˆ ByteCode å­—èŠ‚ç </li>\n<li>TurboFan æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ï¼Œå¯ä»¥å°†å­—èŠ‚ç å˜å¼‚æˆ CPU å¯ä»¥ç›´æ¥æ‰§è¡Œçš„æœºå™¨ç  <img src=\"./images/1.png\" alt=\"1\"></li>\n</ul>\n<h3 id=\"3-V8-æ‰§è¡Œçš„ç»†èŠ‚\"><a href=\"#3-V8-æ‰§è¡Œçš„ç»†èŠ‚\" class=\"headerlink\" title=\"3.V8 æ‰§è¡Œçš„ç»†èŠ‚\"></a>3.V8 æ‰§è¡Œçš„ç»†èŠ‚</h3><ul>\n<li>Blink å°†è§£æ HTML æ–‡ä»¶æ—¶ï¼Œé‡åˆ° Javascript å°†æºç äº¤ç»™ V8 å¼•æ“ï¼ŒStream è·å–åˆ°æºç å¹¶ä¸”è¿›è¡Œç¼–ç è½¬æ¢</li>\n<li>Scanner ä¼šè¿›è¡Œè¯æ³•åˆ†æï¼Œè¯æ³•åˆ†æä¼šå°†ä»£ç è½¬æ¢æˆ tokens</li>\n<li>æ¥ä¸‹æ¥ tokens ç»è¿‡ Parser å’Œ PreParser æ¨¡å—è½¬æ¢æˆ AST æ ‘<ul>\n<li>Parser å°±æ˜¯å°† tokens è½¬æˆ AST æ ‘ç»“æ„</li>\n<li>PreParser ç§°ä¹‹ä¸ºé¢„è§£æï¼Œä¸ºä»€ä¹ˆéœ€è¦é¢„è§£æå‘¢ï¼Ÿ<ul>\n<li>è¿™æ˜¯å› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„ Javscript ä»£ç ï¼Œåœ¨ä¸€å¼€å§‹å°±ä¼šè¢«æ‰§è¡Œã€‚å¯¹æ‰€æœ‰çš„ Javascript ä»£ç è¿›è¡Œè§£æï¼Œå¿…ç„¶ä¼šå½±å“ç½‘é¡µçš„è¿è¡Œæ•ˆç‡</li>\n<li>æ‰€ä»¥ V8 å¼•æ“å°±å®ç°äº† Lazy Parsingï¼ˆå»¶è¿Ÿè§£æï¼‰çš„æ–¹æ¡ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†ä¸å¿…è¦çš„å‡½æ•°è¿›è¡Œé¢„è§£æï¼Œä¹Ÿå°±æ˜¯åªè§£ææš‚æ—¶éœ€è¦çš„å†…å®¹ï¼Œè€Œå¯¹å‡½æ•°çš„å…¨é‡è§£æå°±æ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶æ‰ä¼šè¿›è¡Œ</li>\n<li>æ¯”å¦‚æˆ‘ä»¬åœ¨ä¸€ä¸ªå‡½æ•° outer å†…éƒ¨å®šä¹‰äº†å¦å¤–ä¸€ä¸ªå‡½æ•° innerï¼Œé‚£ä¹ˆ inner å‡½æ•°å°±ä¼šè¿›è¡Œé¢„è§£æ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ç”Ÿæˆ AST æ ‘åï¼Œä¼šè¢« Ignition æ¨¡å—ä¸“ç¨‹å­—èŠ‚ç ï¼ˆbytecodeï¼‰ï¼Œä¹‹åçš„è¿‡ç¨‹å°±æ˜¯ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹</li>\n</ul>\n<h3 id=\"4-Javascript-çš„æ‰§è¡Œè¿‡ç¨‹\"><a href=\"#4-Javascript-çš„æ‰§è¡Œè¿‡ç¨‹\" class=\"headerlink\" title=\"4.Javascript çš„æ‰§è¡Œè¿‡ç¨‹\"></a>4.Javascript çš„æ‰§è¡Œè¿‡ç¨‹</h3><ol>\n<li>åˆå§‹åŒ–å…¨å±€å¯¹è±¡<ul>\n<li>js å¼•æ“åœ¨æ‰§è¡Œä»£ç ä¹‹å‰ï¼Œä¼šåœ¨å †å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼šGlobal Objectï¼ˆGOï¼‰<ul>\n<li>è¯¥å¯¹è±¡æ‰€æœ‰çš„ä½œç”¨åŸŸï¼ˆscopeï¼‰éƒ½å¯ä»¥è®¿é—®</li>\n<li>é‡Œé¢ä¼šåŒ…å« Dateã€Arrayã€Stringã€Numberã€setTimeoutã€setInteval ç­‰ç­‰å…¨å±€å±æ€§ AA å·±</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ<ul>\n<li>js å¼•æ“å†…éƒ¨æœ‰ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution Context Stackï¼Œ ç®€ç§° ECSï¼‰ï¼Œå®ƒæ˜¯ç”¨äºæ‰§è¡Œä»£ç çš„è°ƒç”¨æ ˆï¼ˆæ‰§è¡Œæ ˆï¼‰</li>\n<li>é‚£ä¹ˆç°åœ¨å®ƒè¦æ‰§è¡Œè°å‘¢ï¼Ÿæ‰§è¡Œçš„æ˜¯å…¨å±€çš„ä»£ç å—ï¼š<ul>\n<li>å…¨å±€çš„ä»£ç å—ä¸ºäº†æ‰§è¡Œä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ Global Execution Contextï¼ˆGECï¼‰ï¼ŒGEC ä¸­ä¼šåˆ›å»ºä¸€ä¸ª VO å¯¹è±¡ï¼ˆå°±æ˜¯ GO å¯¹è±¡ï¼‰</li>\n<li>GEC ä¼šæ”¾åˆ° ECS ä¸­æ‰§è¡Œ</li>\n</ul>\n</li>\n<li>GEC è¢«æ”¾å…¥åˆ° ECS é‡Œé¢åŒ…å«ä¸¤ä¸ªå†…å®¹ï¼š<ul>\n<li>ç¬¬ä¸€éƒ¨åˆ†ï¼šåœ¨ä»£ç æ‰§è¡Œå‰ï¼Œåœ¨ parser è½¬æˆ AST çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå°†å…¨å±€å®šä¹‰çš„å˜é‡ã€å‡½æ•°ç­‰åŠ å…¥åˆ° GlobalObject ä¸­ï¼Œä½†æ˜¯åªæ˜¯å£°æ˜ï¼Œä¸ä¼šèµ‹å€¼ã€‚è¿™ä¸ªè¿‡ç¨‹ä¹Ÿç§°ä½œæ˜¯ä½œç”¨åŸŸæå‡</li>\n<li>ç¬¬äºŒéƒ¨åˆ†ï¼šåœ¨ä»£ç æ‰§è¡Œä¸­ï¼Œå¯¹å˜é‡èµ‹å€¼ï¼Œæˆ–è€…æ‰§è¡Œå…¶ä»–çš„å‡½æ•°</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>é‡åˆ°å‡½æ•°åˆ›å»ºå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡<ul>\n<li>åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­æ‰§è¡Œåˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå°±ä¼šæ ¹æ®å‡½æ•°ä½“åˆ›å»ºä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆFunctional Execution Contextï¼Œ ç®€ç§° FECï¼‰ï¼Œå¹¶ä¸”å‹å…¥åˆ° EC Stack ä¸­</li>\n<li>FEC åŒ…å«ä¸‰éƒ¨åˆ†å†…å®¹ï¼š<ul>\n<li>ç¬¬ä¸€éƒ¨åˆ†ï¼šåœ¨è§£æå‡½æ•°ç§°ä¸º AST æ ‘ç»“æ„æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª Activation Objectï¼ˆAOï¼‰<ul>\n<li>AO ä¸­åŒ…å«å½¢å‚ã€argumentsã€å‡½æ•°å®šä¹‰å’ŒæŒ‡å‘å‡½æ•°å¯¹è±¡ã€å®šä¹‰çš„å˜é‡</li>\n</ul>\n</li>\n<li>ç¬¬äºŒéƒ¨åˆ†ï¼šä½œç”¨åŸŸé“¾ï¼Œç”± VOï¼ˆåœ¨å‡½æ•°ä¸­å°±æ˜¯ AO å¯¹è±¡ï¼‰å’Œçˆ¶çº§ VO ç»„æˆï¼ŒæŸ¥æ‰¾æ—¶ä¼šä¸€å±‚å±‚æŸ¥æ‰¾ï¼ˆå‡½æ•°çš„çˆ¶çº§ä½œç”¨åŸŸ Parent Scope å’Œå‡½æ•°çš„å®šä¹‰ä½ç½®æœ‰å…³ç³»ï¼Œå’Œè°ƒç”¨ä½ç½®æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼‰</li>\n<li>ç¬¬ä¸‰éƒ¨åˆ†ï¼šthis ç»‘å®šçš„å€¼</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"äºŒã€JS-çš„å†…å­˜ç®¡ç†å’Œé—­åŒ…\"><a href=\"#äºŒã€JS-çš„å†…å­˜ç®¡ç†å’Œé—­åŒ…\" class=\"headerlink\" title=\"äºŒã€JS çš„å†…å­˜ç®¡ç†å’Œé—­åŒ…\"></a>äºŒã€JS çš„å†…å­˜ç®¡ç†å’Œé—­åŒ…</h2><h3 id=\"1-è®¤è¯†å†…å­˜ç®¡ç†\"><a href=\"#1-è®¤è¯†å†…å­˜ç®¡ç†\" class=\"headerlink\" title=\"1.è®¤è¯†å†…å­˜ç®¡ç†\"></a>1.è®¤è¯†å†…å­˜ç®¡ç†</h3><ul>\n<li><p>ä¸ç®¡ä»€ä¹ˆæ ·çš„ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨<strong>ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½æ˜¯éœ€è¦ç»™å®ƒåˆ†é…å†…å­˜</strong>çš„ï¼Œä¸åŒçš„æ˜¯<strong>æŸäº›ç¼–ç¨‹è¯­è¨€</strong>éœ€è¦æˆ‘ä»¬<strong>è‡ªå·±æ‰‹åŠ¨</strong></p>\n<p><strong>çš„ç®¡ç†å†…å­˜</strong>ï¼Œ<strong>æŸäº›ç¼–ç¨‹è¯­è¨€</strong>ä¼šå¯ä»¥<strong>è‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ç®¡ç†å†…å­˜</strong></p>\n</li>\n<li><p>ä¸ç®¡ä»¥ä»€ä¹ˆæ ·çš„æ–¹å¼æ¥ç®¡ç†å†…å­˜ï¼Œ<strong>å†…å­˜çš„ç®¡ç†éƒ½ä¼šæœ‰å¦‚ä¸‹çš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼š</p>\n<ul>\n<li>ç¬¬ä¸€æ­¥ï¼šåˆ†é…ç”³è¯·ä½ éœ€è¦çš„å†…å­˜ï¼ˆç”³è¯·ï¼‰ï¼›</li>\n<li>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨åˆ†é…çš„å†…å­˜ï¼ˆå­˜æ”¾ä¸€äº›ä¸œè¥¿ï¼Œæ¯”å¦‚å¯¹è±¡ç­‰ï¼‰ï¼›</li>\n<li>ç¬¬ä¸‰æ­¥ï¼šä¸éœ€è¦ä½¿ç”¨æ—¶ï¼Œå¯¹å…¶è¿›è¡Œé‡Šæ”¾ï¼›</li>\n</ul>\n</li>\n<li><p><strong>ä¸åŒçš„ç¼–ç¨‹è¯­è¨€å¯¹äºç¬¬ä¸€æ­¥å’Œç¬¬ä¸‰æ­¥ä¼šæœ‰ä¸åŒçš„å®ç°ï¼š</strong></p>\n</li>\n<li><p>æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼šæ¯”å¦‚ Cã€C++ï¼ŒåŒ…æ‹¬æ—©æœŸçš„ OCï¼Œéƒ½æ˜¯éœ€è¦æ‰‹åŠ¨æ¥ç®¡ç†å†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾çš„ï¼ˆmalloc å’Œ free å‡½æ•°ï¼‰</p>\n</li>\n<li><p>è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼šæ¯”å¦‚ Javaã€JavaScriptã€Pythonã€Swiftã€Dart ç­‰ï¼Œå®ƒä»¬æœ‰è‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ç®¡ç†å†…å­˜ï¼›</p>\n</li>\n<li><p>æˆ‘ä»¬å¯ä»¥çŸ¥é“ JavaScript é€šå¸¸æƒ…å†µä¸‹æ˜¯ä¸éœ€è¦æ‰‹åŠ¨æ¥ç®¡ç†çš„ã€‚</p>\n</li>\n</ul>\n<h3 id=\"2-JS-çš„å†…å­˜ç®¡ç†\"><a href=\"#2-JS-çš„å†…å­˜ç®¡ç†\" class=\"headerlink\" title=\"2.JS çš„å†…å­˜ç®¡ç†\"></a>2.JS çš„å†…å­˜ç®¡ç†</h3><ul>\n<li>javascript ä¼šåœ¨å®šä¹‰å˜é‡æ—¶åˆ†é…å†…å­˜<ul>\n<li>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¼šåœ¨æ ˆç©ºé—´åˆ†é…å†…å­˜</li>\n<li>å¯¹äºå¤æ‚æ•°æ®ç±»å‹ï¼Œä¼šåœ¨å †ç©ºé—´å¼€è¾Ÿå†…å­˜ï¼Œå¹¶å°†è¿™å—ç©ºé—´çš„æŒ‡é’ˆè¿”å›ç»™å€¼å˜é‡å¼•ç”¨</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3-JS-çš„åƒåœ¾å›æ”¶\"><a href=\"#3-JS-çš„åƒåœ¾å›æ”¶\" class=\"headerlink\" title=\"3.JS çš„åƒåœ¾å›æ”¶\"></a>3.JS çš„åƒåœ¾å›æ”¶</h3><ul>\n<li>å› ä¸º<strong>å†…å­˜çš„å¤§å°æ˜¯æœ‰é™</strong>çš„ï¼Œæ‰€ä»¥å½“<strong>å†…å­˜ä¸å†éœ€è¦çš„æ—¶å€™</strong>ï¼Œæˆ‘ä»¬éœ€è¦<strong>å¯¹å…¶è¿›è¡Œé‡Šæ”¾</strong>ï¼Œä»¥ä¾¿è…¾å‡º<strong>æ›´å¤šçš„å†…å­˜ç©ºé—´</strong></li>\n<li>JS æœ‰è‡ªå·±çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼Œç®€ç§° GCï¼‰</li>\n<li>å¯¹äºé‚£äº›ä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼Œæˆ‘ä»¬éƒ½ç§°ä¹‹ä¸ºæ˜¯åƒåœ¾ï¼Œå®ƒéœ€è¦è¢«å›æ”¶ï¼Œä»¥é‡Šæ”¾æ›´å¤šçš„å†…å­˜ç©ºé—´</li>\n</ul>\n<h3 id=\"4-å¸¸è§çš„-GC-ç®—æ³•\"><a href=\"#4-å¸¸è§çš„-GC-ç®—æ³•\" class=\"headerlink\" title=\"4.å¸¸è§çš„ GC ç®—æ³•\"></a>4.å¸¸è§çš„ GC ç®—æ³•</h3><ol>\n<li><p>å¼•ç”¨è®¡æ•°ç®—æ³•</p>\n<ul>\n<li><p>å½“ä¸€ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªå¼•ç”¨æŒ‡å‘å®ƒæ—¶ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨å°±+1ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ä¸º 0 æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡å°±å¯ä»¥è¢«é”€</p>\n<p>æ¯æ‰</p>\n</li>\n<li><p>p è¿™ä¸ªç®—æ³•æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å¼Šç«¯å°±æ˜¯ä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨</p>\n</li>\n</ul>\n</li>\n<li><p>æ ‡è®°æ¸…é™¤</p>\n<ul>\n<li><p>è¿™ä¸ªç®—æ³•æ˜¯è®¾ç½®ä¸€ä¸ªæ ¹å¯¹è±¡ï¼ˆroot objectï¼‰ï¼Œåƒåœ¾å›æ”¶å™¨ä¼šå®šæœŸä»è¿™ä¸ªæ ¹å¼€å§‹ï¼Œæ‰¾æ‰€æœ‰ä»æ ¹å¼€å§‹æœ‰å¼•ç”¨åˆ°çš„å¯¹è±¡ï¼Œå¯¹</p>\n<p>äºå“ªäº›æ²¡æœ‰å¼•ç”¨åˆ°çš„å¯¹è±¡ï¼Œå°±è®¤ä¸ºæ˜¯ä¸å¯ç”¨çš„å¯¹è±¡</p>\n</li>\n<li><p>è¿™ä¸ªç®—æ³•å¯ä»¥å¾ˆå¥½çš„è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜</p>\n</li>\n<li><p>JS å¼•æ“æ¯”è¾ƒå¹¿æ³›çš„é‡‡ç”¨çš„å°±æ˜¯æ ‡è®°æ¸…é™¤ç®—æ³•ï¼Œå½“ç„¶ç±»ä¼¼äº V8 å¼•æ“ä¸ºäº†è¿›è¡Œæ›´å¥½çš„ä¼˜åŒ–ï¼Œå®ƒåœ¨ç®—æ³•çš„å®ç°ç»†èŠ‚ä¸Šä¹Ÿä¼šç»“åˆ</p>\n<p>ä¸€äº›å…¶ä»–çš„ç®—æ³•ã€‚</p>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"ä¸‰ã€JS-ä¸­é—­åŒ…çš„å®šä¹‰\"><a href=\"#ä¸‰ã€JS-ä¸­é—­åŒ…çš„å®šä¹‰\" class=\"headerlink\" title=\"ä¸‰ã€JS ä¸­é—­åŒ…çš„å®šä¹‰\"></a>ä¸‰ã€JS ä¸­é—­åŒ…çš„å®šä¹‰</h2><ul>\n<li><p>è¿™é‡Œå…ˆæ¥çœ‹ä¸€ä¸‹é—­åŒ…çš„å®šä¹‰ï¼Œåˆ†æˆä¸¤ä¸ªï¼šåœ¨è®¡ç®—æœºç§‘å­¦ä¸­å’Œåœ¨ JavaScript ä¸­ã€‚</p>\n</li>\n<li><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­å¯¹é—­åŒ…çš„å®šä¹‰ï¼ˆç»´åŸºç™¾ç§‘ï¼‰ï¼š</p>\n<ul>\n<li>é—­åŒ…ï¼ˆè‹±è¯­ï¼šClosureï¼‰ï¼Œåˆç§°<strong>è¯æ³•é—­åŒ…</strong>ï¼ˆLexical Closureï¼‰æˆ–<strong>å‡½æ•°é—­åŒ…</strong>ï¼ˆfunction closuresï¼‰ï¼›</li>\n<li>æ˜¯åœ¨æ”¯æŒ <strong>å¤´ç­‰å‡½æ•°</strong> çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå®ç°è¯æ³•ç»‘å®šçš„ä¸€ç§æŠ€æœ¯ï¼›</li>\n<li>é—­åŒ…åœ¨å®ç°ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œå®ƒå­˜å‚¨äº†ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªå…³è”çš„ç¯å¢ƒï¼ˆç›¸å½“äºä¸€ä¸ªç¬¦å·æŸ¥æ‰¾è¡¨ï¼‰ï¼›</li>\n<li>é—­åŒ…è·Ÿå‡½æ•°æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼Œå½“æ•æ‰é—­åŒ…çš„æ—¶å€™ï¼Œå®ƒçš„ <strong>è‡ªç”±å˜é‡</strong> ä¼šåœ¨è¡¥å……æ—¶è¢«ç¡®å®šï¼Œè¿™æ ·å³ä½¿è„±ç¦»äº†æ•æ‰æ—¶çš„ä¸Šä¸‹æ–‡ï¼Œå®ƒä¹Ÿèƒ½ç…§å¸¸è¿è¡Œï¼›</li>\n</ul>\n</li>\n<li><p>é—­åŒ…çš„æ¦‚å¿µå‡ºç°äº 60 å¹´ä»£ï¼Œæœ€æ—©å®ç°é—­åŒ…çš„ç¨‹åºæ˜¯ Schemeï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç†è§£ä¸ºä»€ä¹ˆ JavaScript ä¸­æœ‰é—­åŒ…ï¼š</p>\n<ul>\n<li>å› ä¸º JavaScript ä¸­æœ‰å¤§é‡çš„è®¾è®¡æ˜¯æ¥æºäº Scheme çš„ï¼›</li>\n</ul>\n</li>\n<li><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ MDN å¯¹ JavaScript é—­åŒ…çš„è§£é‡Šï¼š</p>\n<ul>\n<li>ä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆ<strong>lexical environmentï¼Œè¯æ³•ç¯å¢ƒ</strong>ï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯<strong>é—­åŒ…</strong>ï¼ˆ<strong>closure</strong>ï¼‰ï¼›</li>\n<li>ä¹Ÿå°±æ˜¯è¯´ï¼Œé—­åŒ…è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸï¼›</li>\n<li>åœ¨ JavaScript ä¸­ï¼Œæ¯å½“åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé—­åŒ…å°±ä¼šåœ¨å‡½æ•°åˆ›å»ºçš„åŒæ—¶è¢«åˆ›å»ºå‡ºæ¥ï¼›</li>\n</ul>\n</li>\n<li><p>é‚£ä¹ˆæˆ‘çš„ç†è§£å’Œæ€»ç»“ï¼š</p>\n</li>\n<li><p>ä¸€ä¸ªæ™®é€šçš„å‡½æ•° functionï¼Œå¦‚æœå®ƒå¯ä»¥è®¿é—®å¤–å±‚ä½œç”¨äºçš„è‡ªç”±å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ˜¯ä¸€ä¸ªé—­åŒ…ï¼›</p>\n</li>\n<li><p>ä»å¹¿ä¹‰çš„è§’åº¦æ¥è¯´ï¼šJavaScript ä¸­çš„å‡½æ•°éƒ½æ˜¯é—­åŒ…ï¼›</p>\n</li>\n<li><p>ä»ç‹­ä¹‰çš„è§’åº¦æ¥è¯´ï¼šJavaScript ä¸­ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœè®¿é—®äº†å¤–å±‚ä½œç”¨äºçš„å˜é‡ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªé—­åŒ…ï¼›</p>\n</li>\n</ul>\n<h2 id=\"å››ã€JS-ä¸­çš„-this-æŒ‡å‘\"><a href=\"#å››ã€JS-ä¸­çš„-this-æŒ‡å‘\" class=\"headerlink\" title=\"å››ã€JS ä¸­çš„ this æŒ‡å‘\"></a>å››ã€JS ä¸­çš„ this æŒ‡å‘</h2><h3 id=\"1-this-çš„ç»‘å®šè§„å¾‹\"><a href=\"#1-this-çš„ç»‘å®šè§„å¾‹\" class=\"headerlink\" title=\"1.this çš„ç»‘å®šè§„å¾‹\"></a>1.this çš„ç»‘å®šè§„å¾‹</h3><ol>\n<li>å‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼ŒJavaScript ä¼šé»˜è®¤ç»™ this ç»‘å®šä¸€ä¸ªå€¼ï¼›</li>\n<li>this çš„ç»‘å®šå’Œå®šä¹‰çš„ä½ç½®ï¼ˆç¼–å†™çš„ä½ç½®ï¼‰æ²¡æœ‰å…³ç³»ï¼›</li>\n<li>this çš„ç»‘å®šå’Œè°ƒç”¨æ–¹å¼ä»¥åŠè°ƒç”¨çš„ä½ç½®æœ‰å…³ç³»ï¼›</li>\n<li>this æ˜¯åœ¨è¿è¡Œæ—¶è¢«ç»‘å®šçš„ï¼›</li>\n</ol>\n<h3 id=\"2-this-çš„ç»‘å®šè§„åˆ™\"><a href=\"#2-this-çš„ç»‘å®šè§„åˆ™\" class=\"headerlink\" title=\"2.this çš„ç»‘å®šè§„åˆ™\"></a>2.this çš„ç»‘å®šè§„åˆ™</h3><ul>\n<li>é»˜è®¤ç»‘å®šï¼ˆä¼˜å…ˆçº§æœ€ä½ï¼‰ï¼šç‹¬ç«‹å‡½æ•°è°ƒç”¨</li>\n<li>éšå¼ç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºé»˜è®¤ç»‘å®šï¼‰ï¼šobj.fn()</li>\n<li>æ˜¾ç¤ºç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºéšå¼ç»‘å®šï¼‰ï¼šapplyã€callã€bind ç­‰</li>\n<li>new ç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºæ˜¾ç¤ºç»‘å®šï¼‰ï¼šnew Foo()</li>\n</ul>\n<h2 id=\"äº”ã€æ‰‹å†™-callã€apply-å’Œ-bind\"><a href=\"#äº”ã€æ‰‹å†™-callã€apply-å’Œ-bind\" class=\"headerlink\" title=\"äº”ã€æ‰‹å†™ callã€apply å’Œ bind\"></a>äº”ã€æ‰‹å†™ callã€apply å’Œ bind</h2><h3 id=\"1-call-å‡½æ•°çš„å®ç°\"><a href=\"#1-call-å‡½æ•°çš„å®ç°\" class=\"headerlink\" title=\"1.call å‡½æ•°çš„å®ç°\"></a>1.call å‡½æ•°çš„å®ç°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-title class_\">Function</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">lyCall</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">thisArg, ...args</span>) &#123;<br>  <span class=\"hljs-comment\">// 1.å¤„ç†thisArg</span><br>  thisArg = thisArg !== <span class=\"hljs-literal\">undefined</span> &amp;&amp; thisArg !== <span class=\"hljs-literal\">null</span> ? <span class=\"hljs-title class_\">Object</span>(thisArg) : <span class=\"hljs-variable language_\">window</span><br>  <span class=\"hljs-comment\">// 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°</span><br>  <span class=\"hljs-keyword\">const</span> key = <span class=\"hljs-title class_\">Symbol</span>()<br>  thisArg[key] = <span class=\"hljs-variable language_\">this</span><br>  <span class=\"hljs-keyword\">const</span> result = thisArg[key](...args)<br>  <span class=\"hljs-keyword\">delete</span> thisArg[key]<br>  <span class=\"hljs-comment\">// 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ</span><br>  <span class=\"hljs-keyword\">return</span> result<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-apply-å‡½æ•°çš„å®ç°\"><a href=\"#2-apply-å‡½æ•°çš„å®ç°\" class=\"headerlink\" title=\"2.apply å‡½æ•°çš„å®ç°\"></a>2.apply å‡½æ•°çš„å®ç°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-title class_\">Function</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">lyApply</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">thisArg, argArray</span>) &#123;<br>  <span class=\"hljs-comment\">// 1.å¤„ç†thisArg</span><br>  thisArg = thisArg !== <span class=\"hljs-literal\">undefined</span> &amp;&amp; thisArg !== <span class=\"hljs-literal\">null</span> ? <span class=\"hljs-title class_\">Object</span>(thisArg) : <span class=\"hljs-variable language_\">window</span><br>  <span class=\"hljs-comment\">// 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°</span><br>  <span class=\"hljs-keyword\">const</span> key = <span class=\"hljs-title class_\">Symbol</span>()<br>  thisArg[key] = <span class=\"hljs-variable language_\">this</span><br>  argArray = argArray || []<br>  <span class=\"hljs-keyword\">const</span> result = thisArg[key](...argArray)<br>  <span class=\"hljs-keyword\">delete</span> thisArg[key]<br>  <span class=\"hljs-comment\">// 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ</span><br>  <span class=\"hljs-keyword\">return</span> result<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-bind-å‡½æ•°çš„å®ç°\"><a href=\"#3-bind-å‡½æ•°çš„å®ç°\" class=\"headerlink\" title=\"3.bind å‡½æ•°çš„å®ç°\"></a>3.bind å‡½æ•°çš„å®ç°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-title class_\">Function</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">lyBind</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">thisArg, ...args</span>) &#123;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">...bindArgs</span>) &#123;<br>    <span class=\"hljs-comment\">// 1.å¤„ç†thisArg</span><br>    thisArg = thisArg !== <span class=\"hljs-literal\">undefined</span> &amp;&amp; thisArg !== <span class=\"hljs-literal\">null</span> ? <span class=\"hljs-title class_\">Object</span>(thisArg) : <span class=\"hljs-variable language_\">window</span><br>    <span class=\"hljs-comment\">// 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°</span><br>    <span class=\"hljs-keyword\">const</span> key = <span class=\"hljs-title class_\">Symbol</span>()<br>    thisArg[key] = <span class=\"hljs-variable language_\">this</span><br>    <span class=\"hljs-keyword\">const</span> result = thisArg[key]([...args, ...bindArgs])<br>    <span class=\"hljs-keyword\">delete</span> thisArg[key]<br>    <span class=\"hljs-comment\">// 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ</span><br>    <span class=\"hljs-keyword\">return</span> result<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"å…­ã€å‡½æ•°ç§‘é‡ŒåŒ–\"><a href=\"#å…­ã€å‡½æ•°ç§‘é‡ŒåŒ–\" class=\"headerlink\" title=\"å…­ã€å‡½æ•°ç§‘é‡ŒåŒ–\"></a>å…­ã€å‡½æ•°ç§‘é‡ŒåŒ–</h2><h3 id=\"1-å‡½æ•°ç§‘é‡ŒåŒ–çš„æ¦‚å¿µ\"><a href=\"#1-å‡½æ•°ç§‘é‡ŒåŒ–çš„æ¦‚å¿µ\" class=\"headerlink\" title=\"1.å‡½æ•°ç§‘é‡ŒåŒ–çš„æ¦‚å¿µ\"></a>1.å‡½æ•°ç§‘é‡ŒåŒ–çš„æ¦‚å¿µ</h3><p>ä¸€ä¸ªæ¥æ”¶å¤šä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå˜æˆä¸€ä¸ªå¯ä»¥åªæ¥æ”¶éƒ¨åˆ†å‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ¥æ”¶å‰©ä½™å‚æ•°çš„å‡½æ•°çš„å‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹å°±å«ç§‘é‡ŒåŒ–</p>\n<h3 id=\"2-å‡½æ•°ç§‘é‡ŒåŒ–çš„å®ç°\"><a href=\"#2-å‡½æ•°ç§‘é‡ŒåŒ–çš„å®ç°\" class=\"headerlink\" title=\"2.å‡½æ•°ç§‘é‡ŒåŒ–çš„å®ç°\"></a>2.å‡½æ•°ç§‘é‡ŒåŒ–çš„å®ç°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">curring</span>(<span class=\"hljs-params\">fn</span>) &#123;<br>  <span class=\"hljs-keyword\">const</span> curriedFn = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">...args</span>) &#123;<br>    <span class=\"hljs-keyword\">if</span> (args.<span class=\"hljs-property\">length</span> &gt;= fn.<span class=\"hljs-property\">length</span>) &#123;<br>      <span class=\"hljs-comment\">// æœ¬æ¬¡å‡½æ•°è°ƒç”¨ä¼ å…¥çš„å‚æ•°ä¸ªæ•°å·²ç»è¾¾åˆ°éœ€è¦æ‰§è¡Œå‡½æ•°çš„æœ€å¤§å‚æ•°é•¿åº¦ï¼Œç›´æ¥æ‰§è¡Œè¯¥å‡½æ•°</span><br>      <span class=\"hljs-keyword\">return</span> fn.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, args)<br>    &#125; <span class=\"hljs-keyword\">else</span> &#123;<br>      <span class=\"hljs-comment\">// æœ¬æ¬¡å‡½æ•°è°ƒç”¨ä¼ å…¥çš„å‚æ•°ä¸ªæ•°æ²¡æœ‰è¾¾åˆ°éœ€è¦æ‰§è¡Œå‡½æ•°çš„æœ€å¤§å‚æ•°é•¿åº¦ï¼Œè¿”å›ä¸€ä¸ªæ¥æ”¶å‰©ä½™å‚æ•°çš„å‡½æ•°</span><br>      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">...restArgs</span>) &#123;<br>        <span class=\"hljs-keyword\">return</span> curriedFn.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, [...args, ...restArgs])<br>      &#125;<br>    &#125;<br>  &#125;<br><br>  <span class=\"hljs-keyword\">return</span> curriedFn<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸ƒã€ç»„åˆå‡½æ•°\"><a href=\"#ä¸ƒã€ç»„åˆå‡½æ•°\" class=\"headerlink\" title=\"ä¸ƒã€ç»„åˆå‡½æ•°\"></a>ä¸ƒã€ç»„åˆå‡½æ•°</h2><h3 id=\"1-ç»„åˆå‡½æ•°çš„æ¦‚å¿µ\"><a href=\"#1-ç»„åˆå‡½æ•°çš„æ¦‚å¿µ\" class=\"headerlink\" title=\"1.ç»„åˆå‡½æ•°çš„æ¦‚å¿µ\"></a>1.ç»„åˆå‡½æ•°çš„æ¦‚å¿µ</h3><p>å°†å¤šä¸ªéœ€è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œç»„åˆåˆ°ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œå‡½æ•°å†…éƒ¨ä¼šè‡ªåŠ¨ä¾æ¬¡è°ƒç”¨ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å¯¹å‡½æ•°çš„ç»„åˆï¼Œè¿™ä¸ªå‡½æ•°å°±ç§°ä¸ºç»„åˆå‡½æ•°</p>\n<h3 id=\"2-é€šç”¨ç»„åˆå‡½æ•°çš„å®ç°\"><a href=\"#2-é€šç”¨ç»„åˆå‡½æ•°çš„å®ç°\" class=\"headerlink\" title=\"2.é€šç”¨ç»„åˆå‡½æ•°çš„å®ç°\"></a>2.é€šç”¨ç»„åˆå‡½æ•°çš„å®ç°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">compose</span>(<span class=\"hljs-params\">...fns</span>) &#123;<br>  fns.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">fn</span>) =&gt;</span> &#123;<br>    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> fn !== <span class=\"hljs-string\">&#x27;function&#x27;</span>) &#123;<br>      <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&#x27;Expected arguments are function!&#x27;</span>)<br>    &#125;<br>  &#125;)<br>  <span class=\"hljs-keyword\">const</span> list = fns.<span class=\"hljs-title function_\">slice</span>()<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">...args</span>) &#123;<br>    <span class=\"hljs-keyword\">let</span> result = list.<span class=\"hljs-title function_\">shift</span>().<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, args)<br>    <span class=\"hljs-keyword\">while</span> (list.<span class=\"hljs-property\">length</span> &gt; <span class=\"hljs-number\">0</span>) &#123;<br>      result = list.<span class=\"hljs-title function_\">shift</span>().<span class=\"hljs-title function_\">call</span>(<span class=\"hljs-variable language_\">this</span>, result)<br>    &#125;<br>    <span class=\"hljs-keyword\">return</span> result<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"å…«ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ç»ˆæ–¹æ¡ˆï¼‰\"><a href=\"#å…«ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ç»ˆæ–¹æ¡ˆï¼‰\" class=\"headerlink\" title=\"å…«ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ç»ˆæ–¹æ¡ˆï¼‰\"></a>å…«ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ç»ˆæ–¹æ¡ˆï¼‰</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// å¯„ç”Ÿå¼ç»§æ‰¿-å¯¹è±¡</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createObject</span>(<span class=\"hljs-params\">o</span>) &#123;<br>  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Fn</span>(<span class=\"hljs-params\"></span>) &#123;&#125;<br>  <span class=\"hljs-title class_\">Fn</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span> = o<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Fn</span>()<br>&#125;<br><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">inheritPrototype</span>(<span class=\"hljs-params\">subType, superType</span>) &#123;<br>  <span class=\"hljs-comment\">// subType.prototype = Object.create(superType.prototype) // å­ç±»æ˜¾å¼åŸå‹æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œæ–°å¯¹è±¡__proto__æŒ‡å‘çˆ¶ç±»æ˜¾ç¤ºåŸå‹</span><br>  subType.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span> = <span class=\"hljs-title function_\">createObject</span>(superType.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>)<br>  <span class=\"hljs-comment\">// å­ç±»æ˜¾ç¤ºåŸå‹çš„æ„é€ å‡½æ•°æŒ‡å‘è‡ªå·±</span><br>  <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(subType.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>, <span class=\"hljs-string\">&#x27;constuctor&#x27;</span>, &#123;<br>    <span class=\"hljs-attr\">configurable</span>: <span class=\"hljs-literal\">true</span>,<br>    <span class=\"hljs-attr\">enumerable</span>: <span class=\"hljs-literal\">false</span>,<br>    <span class=\"hljs-attr\">writable</span>: <span class=\"hljs-literal\">true</span>,<br>    <span class=\"hljs-attr\">value</span>: subType<br>  &#125;)<br>&#125;<br><span class=\"hljs-comment\">// çˆ¶ç±»</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Person</span>(<span class=\"hljs-params\">name</span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">name</span> = name<br>&#125;<br><span class=\"hljs-title class_\">Person</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">eating</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;eating&#x27;</span>)<br>&#125;<br><span class=\"hljs-comment\">// å­ç±»</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Student</span>(<span class=\"hljs-params\">sno</span>) &#123;<br>  <span class=\"hljs-comment\">// ç»§æ‰¿çˆ¶ç±»å±æ€§</span><br>  <span class=\"hljs-title class_\">Person</span>.<span class=\"hljs-title function_\">call</span>(<span class=\"hljs-variable language_\">this</span>, name)<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">sno</span> = sno<br>&#125;<br><span class=\"hljs-comment\">// ç»§æ‰¿çˆ¶ç±»æ–¹æ³•</span><br><span class=\"hljs-title function_\">inheritPrototype</span>(<span class=\"hljs-title class_\">Student</span>, <span class=\"hljs-title class_\">Person</span>)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ä¹ã€æ‰‹å†™-instanceof\"><a href=\"#ä¹ã€æ‰‹å†™-instanceof\" class=\"headerlink\" title=\"ä¹ã€æ‰‹å†™ instanceof\"></a>ä¹ã€æ‰‹å†™ instanceof</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">_instanceof</span>(<span class=\"hljs-params\">a, b</span>) &#123;<br>  <span class=\"hljs-keyword\">while</span> (a.<span class=\"hljs-property\">__proto__</span>) &#123;<br>    <span class=\"hljs-keyword\">if</span> (a.<span class=\"hljs-property\">__proto__</span> === b.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>) &#123;<br>      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span><br>    &#125;<br>    a = a.<span class=\"hljs-property\">__proto__</span><br>  &#125;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span><br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åã€æ‰‹å†™-new-æ“ä½œç¬¦\"><a href=\"#åã€æ‰‹å†™-new-æ“ä½œç¬¦\" class=\"headerlink\" title=\"åã€æ‰‹å†™ new æ“ä½œç¬¦\"></a>åã€æ‰‹å†™ new æ“ä½œç¬¦</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">_new</span>(<span class=\"hljs-params\">constructor, ...args</span>) &#123;<br>  <span class=\"hljs-keyword\">let</span> instance = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(constructor.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>)<br>  <span class=\"hljs-keyword\">const</span> res = constuctor.<span class=\"hljs-title function_\">apply</span>(instance, args)<br>  <span class=\"hljs-comment\">// æ„é€ å‡½æ•°æœ‰æ˜ç¡®çš„è¿”å›å€¼ä¸”è¿”å›å€¼æ˜¯Objectæ—¶ï¼Œç›´æ¥è¿”å›æ„é€ å‡½æ•°çš„è¿”å›ç»“æœ</span><br>  <span class=\"hljs-keyword\">return</span> res <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">Object</span> ? res : instance<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åä¸€ã€å“åº”å¼åŸç†å®ç°\"><a href=\"#åä¸€ã€å“åº”å¼åŸç†å®ç°\" class=\"headerlink\" title=\"åä¸€ã€å“åº”å¼åŸç†å®ç°\"></a>åä¸€ã€å“åº”å¼åŸç†å®ç°</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// Depç±»å­˜å‚¨å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰</span><br><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Dep</span> &#123;<br>  subscribers = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Set</span>()<br>  <span class=\"hljs-title function_\">addEffect</span>(<span class=\"hljs-params\"></span>) &#123;<br>    activeEffect &amp;&amp; <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">subscribers</span>.<span class=\"hljs-title function_\">add</span>(activeEffect)<br>  &#125;<br>  <span class=\"hljs-title function_\">notify</span>(<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">subscribers</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">effect</span>) =&gt;</span> <span class=\"hljs-title function_\">effect</span>())<br>  &#125;<br>&#125;<br><br><span class=\"hljs-comment\">// å½“å‰éœ€è¦æ”¶é›†çš„å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰</span><br><span class=\"hljs-keyword\">let</span> activeEffect = <span class=\"hljs-literal\">null</span><br><span class=\"hljs-comment\">// ç¬¬ä¸€æ¬¡æ‰§è¡Œå“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰ï¼Œå¹¶è§¦å‘å¯¹åº”çš„è¿½è¸ªæ”¶é›†æ“ä½œ</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">watchEffect</span> = (<span class=\"hljs-params\">fn</span>) =&gt; &#123;<br>  activeEffect = fn<br>  <span class=\"hljs-title function_\">fn</span>()<br>  activeEffect = <span class=\"hljs-literal\">null</span><br>&#125;<br><br><span class=\"hljs-comment\">// WeakMap: &#123; obj -&gt; Map &#125;  Map: &#123; objå±æ€§ -&gt; depå¯¹è±¡(å­˜å‚¨å“åº”å¼å‡½æ•°,å¹¶æä¾›è§¦å‘æ–¹æ³•) &#125;</span><br><span class=\"hljs-keyword\">const</span> weakMap = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">WeakMap</span>()<br><span class=\"hljs-comment\">// æ”¶é›†å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">track</span> = (<span class=\"hljs-params\">target, key</span>) =&gt; &#123;<br>  <span class=\"hljs-keyword\">let</span> targetMap = weakMap.<span class=\"hljs-title function_\">get</span>(target)<br>  <span class=\"hljs-keyword\">if</span> (!targetMap) &#123;<br>    targetMap = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Map</span>()<br>    weakMap.<span class=\"hljs-title function_\">set</span>(target, targetMap)<br>  &#125;<br>  <span class=\"hljs-keyword\">let</span> dep = targetMap.<span class=\"hljs-title function_\">get</span>(key)<br>  <span class=\"hljs-keyword\">if</span> (!dep) &#123;<br>    dep = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Dep</span>()<br>    targetMap.<span class=\"hljs-title function_\">set</span>(key, dep)<br>  &#125;<br>  dep.<span class=\"hljs-title function_\">addEffect</span>()<br>&#125;<br><span class=\"hljs-comment\">// è§¦å‘å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">trigger</span> = (<span class=\"hljs-params\">target, key</span>) =&gt; &#123;<br>  <span class=\"hljs-keyword\">const</span> targetMap = weakMap.<span class=\"hljs-title function_\">get</span>(target)<br>  <span class=\"hljs-keyword\">if</span> (!targetMap) <span class=\"hljs-keyword\">return</span><br>  <span class=\"hljs-keyword\">const</span> dep = targetMap.<span class=\"hljs-title function_\">get</span>(key)<br>  dep?.<span class=\"hljs-title function_\">notify</span>()<br>&#125;<br><br><span class=\"hljs-comment\">// åˆ›å»ºä»£ç†å¯¹è±¡</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">reactive</span> = (<span class=\"hljs-params\">o</span>) =&gt; &#123;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(o, &#123;<br>    <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-params\">target, key, receiver</span>) &#123;<br>      <span class=\"hljs-title function_\">track</span>(target, key)<br>      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">get</span>(target, key, receiver)<br>    &#125;,<br>    <span class=\"hljs-title function_\">set</span>(<span class=\"hljs-params\">target, key, newValue, receiver</span>) &#123;<br>      <span class=\"hljs-title function_\">trigger</span>(target, key)<br>      <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">set</span>(target, key, newValue, receiver)<br>    &#125;<br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åäºŒã€æ‰‹å†™ç®€æ˜“ç‰ˆ-promise-å®ç°\"><a href=\"#åäºŒã€æ‰‹å†™ç®€æ˜“ç‰ˆ-promise-å®ç°\" class=\"headerlink\" title=\"åäºŒã€æ‰‹å†™ç®€æ˜“ç‰ˆ promise å®ç°\"></a>åäºŒã€æ‰‹å†™ç®€æ˜“ç‰ˆ promise å®ç°</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span> = <span class=\"hljs-string\">&#x27;pending&#x27;</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">PROMISE_STATUS_FULFILLED</span> = <span class=\"hljs-string\">&#x27;fulfilled&#x27;</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">PROMISE_STATUS_REJECTED</span> = <span class=\"hljs-string\">&#x27;rejected&#x27;</span><br><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">execCallbackWithCatchErr</span> = (<span class=\"hljs-params\">execFn, value, resolve, reject</span>) =&gt; &#123;<br>  <span class=\"hljs-keyword\">try</span> &#123;<br>    <span class=\"hljs-keyword\">const</span> result = <span class=\"hljs-title function_\">execFn</span>(value)<br>    <span class=\"hljs-title function_\">resolve</span>(result)<br>  &#125; <span class=\"hljs-keyword\">catch</span> (err) &#123;<br>    <span class=\"hljs-title function_\">reject</span>(err)<br>  &#125;<br>&#125;<br><br><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">LyPromise</span> &#123;<br>  status = <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span><br>  value = <span class=\"hljs-literal\">undefined</span><br>  reason = <span class=\"hljs-literal\">undefined</span><br>  onfulfilledCallbacks = []<br>  onrejectedCallbacks = []<br>  <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">executor</span>) &#123;<br>    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">resolve</span> = (<span class=\"hljs-params\">value</span>) =&gt; &#123;<br>      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> === <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span>) &#123;<br>        <span class=\"hljs-title function_\">queueMicrotask</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>          <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> !== <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span>) <span class=\"hljs-keyword\">return</span><br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> = <span class=\"hljs-variable constant_\">PROMISE_STATUS_FULFILLED</span><br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">value</span> = value<br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">onfulfilledCallbacks</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">callback</span>) =&gt;</span> &#123;<br>            <span class=\"hljs-title function_\">callback</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">value</span>)<br>          &#125;)<br>        &#125;)<br>      &#125;<br>    &#125;<br>    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">reject</span> = (<span class=\"hljs-params\">reason</span>) =&gt; &#123;<br>      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> === <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span>) &#123;<br>        <span class=\"hljs-title function_\">queueMicrotask</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>          <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> !== <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span>) <span class=\"hljs-keyword\">return</span><br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> = <span class=\"hljs-variable constant_\">PROMISE_STATUS_REJECTED</span><br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">reason</span> = reason<br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">onrejectedCallbacks</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">callback</span>) =&gt;</span> &#123;<br>            <span class=\"hljs-title function_\">callback</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">reason</span>)<br>          &#125;)<br>        &#125;)<br>      &#125;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">try</span> &#123;<br>      <span class=\"hljs-title function_\">executor</span>(resolve, reject)<br>    &#125; <span class=\"hljs-keyword\">catch</span> (err) &#123;<br>      <span class=\"hljs-title function_\">reject</span>(err)<br>    &#125;<br>  &#125;<br><br>  <span class=\"hljs-title function_\">then</span>(<span class=\"hljs-params\">onfulfilled, onrejected</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LyPromise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>      onfulfilled =<br>        onfulfilled ||<br>        (<span class=\"hljs-function\">(<span class=\"hljs-params\">res</span>) =&gt;</span> &#123;<br>          <span class=\"hljs-keyword\">return</span> res<br>        &#125;)<br>      onrejected =<br>        onrejected ||<br>        (<span class=\"hljs-function\">(<span class=\"hljs-params\">err</span>) =&gt;</span> &#123;<br>          <span class=\"hljs-keyword\">throw</span> err<br>        &#125;)<br><br>      <span class=\"hljs-keyword\">switch</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span>) &#123;<br>        <span class=\"hljs-keyword\">case</span> <span class=\"hljs-attr\">PROMISE_STATUS_PENDING</span>:<br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">onfulfilledCallbacks</span>.<span class=\"hljs-title function_\">push</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>            <span class=\"hljs-title function_\">execCallbackWithCatchErr</span>(onfulfilled, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">value</span>, resolve, reject)<br>          &#125;)<br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">onrejectedCallbacks</span>.<span class=\"hljs-title function_\">push</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>            <span class=\"hljs-title function_\">execCallbackWithCatchErr</span>(onrejected, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">reason</span>, resolve, reject)<br>          &#125;)<br>          <span class=\"hljs-keyword\">break</span><br>        <span class=\"hljs-keyword\">case</span> <span class=\"hljs-attr\">PROMISE_STATUS_FULFILLED</span>:<br>          <span class=\"hljs-title function_\">execCallbackWithCatchErr</span>(onfulfilled, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">value</span>, resolve, reject)<br>          <span class=\"hljs-keyword\">break</span><br>        <span class=\"hljs-keyword\">case</span> <span class=\"hljs-attr\">PROMISE_STATUS_REJECTED</span>:<br>          <span class=\"hljs-title function_\">execCallbackWithCatchErr</span>(onrejected, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">reason</span>, resolve, reject)<br>          <span class=\"hljs-keyword\">break</span><br>      &#125;<br>    &#125;)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">catch</span>(onrejected) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-literal\">undefined</span>, onrejected)<br>  &#125;<br><br>  <span class=\"hljs-title function_\">finally</span>(<span class=\"hljs-params\">onfinally</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">then</span>(onfinally, onfinally)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">resolve</span>(<span class=\"hljs-params\">value</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LyPromise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve</span>) =&gt;</span> <span class=\"hljs-title function_\">resolve</span>(value))<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-params\">reason</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LyPromise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> <span class=\"hljs-title function_\">reject</span>(reason))<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">all</span>(<span class=\"hljs-params\">promises</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class=\"hljs-keyword\">let</span> values = []<br>      promises.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">promise</span>) =&gt;</span> &#123;<br>        promise.<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">res</span>) =&gt;</span> &#123;<br>          values.<span class=\"hljs-title function_\">push</span>(res)<br>          <span class=\"hljs-keyword\">if</span> (values.<span class=\"hljs-property\">length</span> === promises.<span class=\"hljs-property\">length</span>) <span class=\"hljs-title function_\">resolve</span>(values)<br>        &#125;, reject)<br>      &#125;)<br>    &#125;)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">allSettled</span>(<span class=\"hljs-params\">promises</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class=\"hljs-keyword\">let</span> result = []<br>      promises.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">promise</span>) =&gt;</span> &#123;<br>        promise.<span class=\"hljs-title function_\">then</span>(<br>          <span class=\"hljs-function\">(<span class=\"hljs-params\">res</span>) =&gt;</span> &#123;<br>            result.<span class=\"hljs-title function_\">push</span>(&#123;<br>              <span class=\"hljs-attr\">status</span>: <span class=\"hljs-variable constant_\">PROMISE_STATUS_FULFILLED</span>,<br>              <span class=\"hljs-attr\">value</span>: res<br>            &#125;)<br>            <span class=\"hljs-keyword\">if</span> (result.<span class=\"hljs-property\">length</span> === promises.<span class=\"hljs-property\">length</span>) <span class=\"hljs-title function_\">resolve</span>(result)<br>          &#125;,<br>          <span class=\"hljs-function\">(<span class=\"hljs-params\">err</span>) =&gt;</span> &#123;<br>            result.<span class=\"hljs-title function_\">push</span>(&#123;<br>              <span class=\"hljs-attr\">status</span>: <span class=\"hljs-variable constant_\">PROMISE_STATUS_REJECTED</span>,<br>              <span class=\"hljs-attr\">reason</span>: err<br>            &#125;)<br>            <span class=\"hljs-keyword\">if</span> (result.<span class=\"hljs-property\">length</span> === promises.<span class=\"hljs-property\">length</span>) <span class=\"hljs-title function_\">resolve</span>(result)<br>          &#125;<br>        )<br>      &#125;)<br>    &#125;)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">race</span>(<span class=\"hljs-params\">promises</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LyPromise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>      promises.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">promise</span>) =&gt;</span> &#123;<br>        promise.<span class=\"hljs-title function_\">then</span>(resolve, reject)<br>      &#125;)<br>    &#125;)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">any</span>(<span class=\"hljs-params\">promises</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LyPromise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class=\"hljs-keyword\">let</span> reasons = []<br>      promises.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">promise</span>) =&gt;</span> &#123;<br>        promise.<span class=\"hljs-title function_\">then</span>(resolve, <span class=\"hljs-function\">(<span class=\"hljs-params\">err</span>) =&gt;</span> &#123;<br>          reasons.<span class=\"hljs-title function_\">push</span>(err)<br>          <span class=\"hljs-keyword\">if</span> (reasons.<span class=\"hljs-property\">length</span> === promises.<span class=\"hljs-property\">length</span>) &#123;<br>            <span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">AggregateError</span>(reasons))<br>          &#125;<br>        &#125;)<br>      &#125;)<br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åä¸‰ã€å¼‚æ­¥æ–¹æ¡ˆï¼šPromise-Generator\"><a href=\"#åä¸‰ã€å¼‚æ­¥æ–¹æ¡ˆï¼šPromise-Generator\" class=\"headerlink\" title=\"åä¸‰ã€å¼‚æ­¥æ–¹æ¡ˆï¼šPromise+Generator\"></a>åä¸‰ã€å¼‚æ­¥æ–¹æ¡ˆï¼šPromise+Generator</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">requestData</span>(<span class=\"hljs-params\">url</span>) &#123;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>      <span class=\"hljs-title function_\">resolve</span>(url)<br>    &#125;, <span class=\"hljs-number\">2000</span>)<br>  &#125;)<br>&#125;<br><br><span class=\"hljs-comment\">// ç”Ÿæˆå™¨</span><br><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">getData</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-keyword\">const</span> res1 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">requestData</span>(<span class=\"hljs-string\">&#x27;coder&#x27;</span>)<br>  <span class=\"hljs-keyword\">const</span> res2 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">requestData</span>(res1 + <span class=\"hljs-string\">&#x27;111&#x27;</span>)<br>  <span class=\"hljs-keyword\">const</span> res3 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">requestData</span>(res2 + <span class=\"hljs-string\">&#x27;222&#x27;</span>)<br>  <span class=\"hljs-keyword\">const</span> res4 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">requestData</span>(res3 + <span class=\"hljs-string\">&#x27;333&#x27;</span>)<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(res4)<br>&#125;<br><br><span class=\"hljs-comment\">// è‡ªåŠ¨é€’å½’æ‰§è¡Œç”Ÿæˆå™¨</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">co</span>(<span class=\"hljs-params\">genFn</span>) &#123;<br>  <span class=\"hljs-keyword\">const</span> generator = <span class=\"hljs-title function_\">genFn</span>()<br>  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">exec</span> = (<span class=\"hljs-params\">res</span>) =&gt; &#123;<br>    <span class=\"hljs-keyword\">const</span> result = generator.<span class=\"hljs-title function_\">next</span>(res)<br>    <span class=\"hljs-keyword\">if</span> (result.<span class=\"hljs-property\">done</span>) &#123;<br>      <span class=\"hljs-keyword\">return</span> result.<span class=\"hljs-property\">value</span><br>    &#125;<br>    result.<span class=\"hljs-property\">value</span>.<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">res</span>) =&gt;</span> &#123;<br>      <span class=\"hljs-title function_\">exec</span>(res)<br>    &#125;)<br>  &#125;<br>  <span class=\"hljs-title function_\">exec</span>()<br>&#125;<br><br><span class=\"hljs-title function_\">co</span>(getData)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åäºŒã€æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµ\"><a href=\"#åäºŒã€æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµ\" class=\"headerlink\" title=\"åäºŒã€æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµ\"></a>åäºŒã€æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµ</h2><h3 id=\"1-é˜²æŠ–\"><a href=\"#1-é˜²æŠ–\" class=\"headerlink\" title=\"1.é˜²æŠ–\"></a>1.é˜²æŠ–</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">debounce</span>(<span class=\"hljs-params\">fn, delay, immediate = <span class=\"hljs-literal\">false</span></span>) &#123;<br>  <span class=\"hljs-keyword\">let</span> timer = <span class=\"hljs-literal\">null</span><br>  <span class=\"hljs-keyword\">let</span> isInvoke = <span class=\"hljs-literal\">false</span><br>  <span class=\"hljs-keyword\">const</span> _debounce = (...args) &#123;<br>    <span class=\"hljs-keyword\">if</span>(timer) <span class=\"hljs-built_in\">clearTimeout</span>(timer)<br>    <span class=\"hljs-keyword\">if</span>(immediate &amp;&amp; !isInvoke) &#123;<br>      fn.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, args)<br>      isInvoke = <span class=\"hljs-literal\">true</span><br>    &#125;<br>    timer = <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>      timer = <span class=\"hljs-literal\">null</span><br>      isInvoke = <span class=\"hljs-literal\">false</span><br>      fn.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, args)<br>    &#125;, delay)<br>  &#125;<br><br>  _debounce.<span class=\"hljs-property\">cancel</span> = <span class=\"hljs-function\">() =&gt;</span> &#123;<br>     <span class=\"hljs-keyword\">if</span>(timer) <span class=\"hljs-built_in\">clearTimeout</span>(timer)<br>     timer = <span class=\"hljs-literal\">null</span><br>     isInvoke = <span class=\"hljs-literal\">false</span><br>  &#125;<br><br>  <span class=\"hljs-keyword\">return</span> _debounce<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-èŠ‚æµ\"><a href=\"#2-èŠ‚æµ\" class=\"headerlink\" title=\"2.èŠ‚æµ\"></a>2.èŠ‚æµ</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">throttle</span>(<span class=\"hljs-params\">fn, interval, options = &#123; leading: <span class=\"hljs-literal\">true</span>, trailing: <span class=\"hljs-literal\">true</span> &#125;</span>) &#123;<br>  <span class=\"hljs-keyword\">let</span> last = <span class=\"hljs-number\">0</span><br>  timer = <span class=\"hljs-literal\">null</span><br>  <span class=\"hljs-keyword\">const</span> &#123; leading, trailing &#125; = options<br>  <span class=\"hljs-keyword\">const</span> _throttle = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">...args</span>) &#123;<br>    <span class=\"hljs-keyword\">let</span> now = <span class=\"hljs-title class_\">Date</span>.<span class=\"hljs-title function_\">now</span>()<br>    <span class=\"hljs-keyword\">if</span> (!last &amp;&amp; !leading) last = now<br>    <span class=\"hljs-keyword\">const</span> remainTime = interval - (now - last)<br>    <span class=\"hljs-keyword\">if</span> (remainTime &lt;= <span class=\"hljs-number\">0</span>) &#123;<br>      fn.<span class=\"hljs-title function_\">apply</span>(fn, args)<br>      last = now<br>      <span class=\"hljs-keyword\">return</span><br>    &#125;<br>    <span class=\"hljs-keyword\">if</span> (trailing) &#123;<br>      <span class=\"hljs-keyword\">if</span> (timer) &#123;<br>        <span class=\"hljs-built_in\">clearTimeout</span>(timer)<br>        timer = <span class=\"hljs-literal\">null</span><br>      &#125;<br>      timer = <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>        fn.<span class=\"hljs-title function_\">apply</span>(fn, args)<br>        timer = <span class=\"hljs-literal\">null</span><br>        last = !leading ? <span class=\"hljs-number\">0</span> : <span class=\"hljs-title class_\">Date</span>.<span class=\"hljs-title function_\">now</span>()<br>      &#125;, remainTime)<br>    &#125;<br>  &#125;<br>  _throttle.<span class=\"hljs-property\">cancel</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-keyword\">if</span> (timer) &#123;<br>      <span class=\"hljs-built_in\">clearTimeout</span>(timer)<br>      timer = <span class=\"hljs-literal\">null</span><br>    &#125;<br>  &#125;<br>  <span class=\"hljs-keyword\">return</span> _throttle<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åä¸‰ã€æ·±æ‹·è´\"><a href=\"#åä¸‰ã€æ·±æ‹·è´\" class=\"headerlink\" title=\"åä¸‰ã€æ·±æ‹·è´\"></a>åä¸‰ã€æ·±æ‹·è´</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">isObject</span>(<span class=\"hljs-params\">o</span>) &#123;<br>  <span class=\"hljs-keyword\">const</span> type = <span class=\"hljs-keyword\">typeof</span> o<br>  <span class=\"hljs-keyword\">return</span> o !== <span class=\"hljs-literal\">null</span> &amp;&amp; (type === <span class=\"hljs-string\">&#x27;object&#x27;</span> || type === <span class=\"hljs-string\">&#x27;function&#x27;</span>)<br>&#125;<br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">deepClone</span>(<span class=\"hljs-params\">originValue, weakMap = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">WeakMap</span>()</span>) &#123;<br>  <span class=\"hljs-comment\">// å¤„ç†æ•°ç»„æ ¼å¼</span><br>  <span class=\"hljs-keyword\">const</span> newObj = <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(originValue) ? [] : &#123;&#125;<br>  <span class=\"hljs-comment\">// å¤„ç†ç®€å•æ•°æ®ç±»å‹</span><br>  <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">isObject</span>(originValue)) <span class=\"hljs-keyword\">return</span> originValue<br>  <span class=\"hljs-comment\">// å¤„ç†å‡½æ•°ç±»å‹,ä¸éœ€è¦æ·±æ‹·è´ï¼Œç›´æ¥è¿”å›</span><br>  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> originValue === <span class=\"hljs-string\">&#x27;function&#x27;</span>) <span class=\"hljs-keyword\">return</span> originValue<br>  <span class=\"hljs-comment\">// å¤„ç†Symbolç±»å‹ï¼Œè¿”å›ä¸€ä¸ªç›¸åŒdescriptionçš„Symbol</span><br>  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> originValue === <span class=\"hljs-string\">&#x27;symbol&#x27;</span>) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Symbol</span>(originValue.<span class=\"hljs-property\">description</span>)<br>  <span class=\"hljs-comment\">// å¤„ç†Setç±»å‹</span><br>  <span class=\"hljs-keyword\">if</span> (originValue <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">Set</span>) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Set</span>([...originValue])<br>  <span class=\"hljs-comment\">// å¤„ç†Mapç±»å‹</span><br>  <span class=\"hljs-keyword\">if</span> (originValue <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">Map</span>) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Set</span>([...originValue])<br><br>  <span class=\"hljs-comment\">// è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜</span><br>  <span class=\"hljs-keyword\">if</span> (weakMap.<span class=\"hljs-title function_\">has</span>(originValue)) &#123;<br>    <span class=\"hljs-keyword\">return</span> weakMap.<span class=\"hljs-title function_\">get</span>(originValue)<br>  &#125;<br>  weakMap.<span class=\"hljs-title function_\">set</span>(originValue, newObj)<br><br>  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> key <span class=\"hljs-keyword\">in</span> originValue) &#123;<br>    newObj[key] = <span class=\"hljs-title function_\">deepClone</span>(originValue[key], weakMap)<br>  &#125;<br>  <span class=\"hljs-comment\">// å¤„ç†Symbolç±»å‹ä½œä¸ºkey</span><br>  <span class=\"hljs-keyword\">const</span> symbolKeys = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getOwnPropertySymbols</span>(originValue)<br>  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> sKey <span class=\"hljs-keyword\">in</span> symbolKeys) &#123;<br>    newObj[sKey] = <span class=\"hljs-title function_\">deepClone</span>(originValue[sKey], weakMap)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">return</span> newObj<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åå››ã€äº‹ä»¶æ€»çº¿\"><a href=\"#åå››ã€äº‹ä»¶æ€»çº¿\" class=\"headerlink\" title=\"åå››ã€äº‹ä»¶æ€»çº¿\"></a>åå››ã€äº‹ä»¶æ€»çº¿</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">LyEventBus</span> &#123;<br>  <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">eventBus</span> = &#123;&#125;<br>  &#125;<br><br>  <span class=\"hljs-title function_\">on</span>(<span class=\"hljs-params\">eventName, eventCallBack, thisArg</span>) &#123;<br>    <span class=\"hljs-keyword\">let</span> handlers = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">eventBus</span>[eventName]<br>    <span class=\"hljs-keyword\">if</span> (!handlers) handlers = []<br>    handlers.<span class=\"hljs-title function_\">push</span>(&#123;<br>      eventCallBack,<br>      thisArg<br>    &#125;)<br>    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">eventBus</span>[eventName] = handlers<br>  &#125;<br><br>  <span class=\"hljs-title function_\">emit</span>(<span class=\"hljs-params\">eventName, ...payload</span>) &#123;<br>    <span class=\"hljs-keyword\">const</span> handlers = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">eventBus</span>[eventName]<br>    <span class=\"hljs-keyword\">if</span> (!handlers) <span class=\"hljs-keyword\">return</span><br>    handlers.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">handler</span>) =&gt;</span> &#123;<br>      handler.<span class=\"hljs-property\">eventCallBack</span>.<span class=\"hljs-title function_\">apply</span>(handler.<span class=\"hljs-property\">thisArg</span>, payload)<br>    &#125;)<br>  &#125;<br><br>  <span class=\"hljs-title function_\">off</span>(<span class=\"hljs-params\">eventName, eventCallBack</span>) &#123;<br>    <span class=\"hljs-keyword\">const</span> handlers = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">eventBus</span>[eventName]<br>    <span class=\"hljs-keyword\">if</span> (!handlers) <span class=\"hljs-keyword\">return</span><br>    <span class=\"hljs-keyword\">const</span> copyHandlers = [...handlers]<br>    copyHandlers.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">handler</span>) =&gt;</span> &#123;<br>      <span class=\"hljs-keyword\">if</span> (handler.<span class=\"hljs-property\">eventCallBack</span> === eventCallBack) &#123;<br>        <span class=\"hljs-keyword\">const</span> index = handlers.<span class=\"hljs-title function_\">indexOf</span>(handler)<br>        handlers.<span class=\"hljs-title function_\">splice</span>(index, <span class=\"hljs-number\">1</span>)<br>      &#125;<br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åäº”ã€å¿«é€Ÿæ’åº\"><a href=\"#åäº”ã€å¿«é€Ÿæ’åº\" class=\"headerlink\" title=\"åäº”ã€å¿«é€Ÿæ’åº\"></a>åäº”ã€å¿«é€Ÿæ’åº</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">quickSort</span>(<span class=\"hljs-params\">arr, func = (a, b) =&gt; a - b</span>) &#123;<br>  <span class=\"hljs-keyword\">if</span> (!arr || !arr.<span class=\"hljs-property\">length</span>) <span class=\"hljs-keyword\">return</span> [] <span class=\"hljs-comment\">// ç¡®ä¿ä¼ å…¥çš„æ˜¯æ•°ç»„</span><br>  <span class=\"hljs-keyword\">if</span> (arr.<span class=\"hljs-property\">length</span> === <span class=\"hljs-number\">1</span>) <span class=\"hljs-keyword\">return</span> arr <span class=\"hljs-comment\">// è·³å‡ºé€’å½’æ¡ä»¶</span><br>  <span class=\"hljs-keyword\">const</span> pivot = arr[<span class=\"hljs-number\">0</span>] <span class=\"hljs-comment\">// é€‰å–åŸºå‡†å…ƒç´ </span><br>  <span class=\"hljs-comment\">// å°äºåŸºå‡†å…ƒç´ çš„å…ƒç´ é›†åˆ</span><br>  <span class=\"hljs-keyword\">const</span> smallSet = arr.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">1</span>).<span class=\"hljs-title function_\">filter</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">item</span>) =&gt;</span> <span class=\"hljs-title function_\">quickSort</span>(item, pivot) &lt; <span class=\"hljs-number\">0</span>)<br>  <span class=\"hljs-comment\">// å¤§äºåŸºå‡†å…ƒç´ çš„å…ƒç´ é›†åˆ</span><br>  <span class=\"hljs-keyword\">const</span> bigSet = arr.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">1</span>).<span class=\"hljs-title function_\">filter</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">item</span>) =&gt;</span> <span class=\"hljs-title function_\">quickSort</span>(item, pivot) &gt; <span class=\"hljs-number\">0</span>)<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">quickSort</span>(smallSet, func).<span class=\"hljs-title function_\">concat</span>([pivot]).<span class=\"hljs-title function_\">concat</span>(<span class=\"hljs-title function_\">quickSort</span>(bigSet, func))<br>&#125;<br></code></pre></td></tr></table></figure>\n","site":{"data":{}},"wordcount":15333,"excerpt":"","more":"<h2 id=\"ä¸€ã€æ·±å…¥-javascript-ä¸è¿è¡ŒåŸç†\"><a href=\"#ä¸€ã€æ·±å…¥-javascript-ä¸è¿è¡ŒåŸç†\" class=\"headerlink\" title=\"ä¸€ã€æ·±å…¥ javascript ä¸è¿è¡ŒåŸç†\"></a>ä¸€ã€æ·±å…¥ javascript ä¸è¿è¡ŒåŸç†</h2><h3 id=\"1-V8-å¼•æ“çš„åŸç†\"><a href=\"#1-V8-å¼•æ“çš„åŸç†\" class=\"headerlink\" title=\"1.V8 å¼•æ“çš„åŸç†\"></a>1.V8 å¼•æ“çš„åŸç†</h3><ul>\n<li><p>V8 æ˜¯ C++ç¼–å†™çš„ Google å¼€æºé«˜æ€§èƒ½ JavaScript å’Œ WebAssembly å¼•æ“ï¼Œç”¨æˆ· Chrome å’Œ nodejs ç­‰</p>\n</li>\n<li><p>å®ƒå®ç° ECMAScript å’Œ WebAssemblyï¼Œå¹¶åœ¨ Windows 7 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ŒmacOS 10.12+å’Œä½¿ç”¨ x64ï¼ŒIA-32ï¼Œ ARM æˆ– MIPS å¤„ç†å™¨çš„ Linux ç³»ç»Ÿä¸Šè¿è¡Œ</p>\n</li>\n<li><p>V8 å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œä¹Ÿå¯ä»¥åµŒå…¥åˆ°ä»»ä½• C ++åº”ç”¨ç¨‹åºä¸­</p>\n</li>\n</ul>\n<h3 id=\"2-V8-å¼•æ“çš„æ¶æ„\"><a href=\"#2-V8-å¼•æ“çš„æ¶æ„\" class=\"headerlink\" title=\"2.V8 å¼•æ“çš„æ¶æ„\"></a>2.V8 å¼•æ“çš„æ¶æ„</h3><ul>\n<li>parse æ¨¡å—å°† javascript ä»£ç è½¬æ¢æˆ ast æŠ½è±¡è¯­æ³•æ ‘ï¼Œè¿™æ˜¯å› ä¸ºè§£é‡Šå™¨å¹¶ä¸ç›´æ¥è®¤è¯† javascript ä»£ç </li>\n<li>Ignition æ˜¯ä¸€ä¸ªè§£é‡Šå™¨ï¼Œä¼šå°† ast è½¬æ¢æˆ ByteCode å­—èŠ‚ç </li>\n<li>TurboFan æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ï¼Œå¯ä»¥å°†å­—èŠ‚ç å˜å¼‚æˆ CPU å¯ä»¥ç›´æ¥æ‰§è¡Œçš„æœºå™¨ç  <img src=\"./images/1.png\" alt=\"1\"></li>\n</ul>\n<h3 id=\"3-V8-æ‰§è¡Œçš„ç»†èŠ‚\"><a href=\"#3-V8-æ‰§è¡Œçš„ç»†èŠ‚\" class=\"headerlink\" title=\"3.V8 æ‰§è¡Œçš„ç»†èŠ‚\"></a>3.V8 æ‰§è¡Œçš„ç»†èŠ‚</h3><ul>\n<li>Blink å°†è§£æ HTML æ–‡ä»¶æ—¶ï¼Œé‡åˆ° Javascript å°†æºç äº¤ç»™ V8 å¼•æ“ï¼ŒStream è·å–åˆ°æºç å¹¶ä¸”è¿›è¡Œç¼–ç è½¬æ¢</li>\n<li>Scanner ä¼šè¿›è¡Œè¯æ³•åˆ†æï¼Œè¯æ³•åˆ†æä¼šå°†ä»£ç è½¬æ¢æˆ tokens</li>\n<li>æ¥ä¸‹æ¥ tokens ç»è¿‡ Parser å’Œ PreParser æ¨¡å—è½¬æ¢æˆ AST æ ‘<ul>\n<li>Parser å°±æ˜¯å°† tokens è½¬æˆ AST æ ‘ç»“æ„</li>\n<li>PreParser ç§°ä¹‹ä¸ºé¢„è§£æï¼Œä¸ºä»€ä¹ˆéœ€è¦é¢„è§£æå‘¢ï¼Ÿ<ul>\n<li>è¿™æ˜¯å› ä¸ºå¹¶ä¸æ˜¯æ‰€æœ‰çš„ Javscript ä»£ç ï¼Œåœ¨ä¸€å¼€å§‹å°±ä¼šè¢«æ‰§è¡Œã€‚å¯¹æ‰€æœ‰çš„ Javascript ä»£ç è¿›è¡Œè§£æï¼Œå¿…ç„¶ä¼šå½±å“ç½‘é¡µçš„è¿è¡Œæ•ˆç‡</li>\n<li>æ‰€ä»¥ V8 å¼•æ“å°±å®ç°äº† Lazy Parsingï¼ˆå»¶è¿Ÿè§£æï¼‰çš„æ–¹æ¡ˆï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†ä¸å¿…è¦çš„å‡½æ•°è¿›è¡Œé¢„è§£æï¼Œä¹Ÿå°±æ˜¯åªè§£ææš‚æ—¶éœ€è¦çš„å†…å®¹ï¼Œè€Œå¯¹å‡½æ•°çš„å…¨é‡è§£æå°±æ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶æ‰ä¼šè¿›è¡Œ</li>\n<li>æ¯”å¦‚æˆ‘ä»¬åœ¨ä¸€ä¸ªå‡½æ•° outer å†…éƒ¨å®šä¹‰äº†å¦å¤–ä¸€ä¸ªå‡½æ•° innerï¼Œé‚£ä¹ˆ inner å‡½æ•°å°±ä¼šè¿›è¡Œé¢„è§£æ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ç”Ÿæˆ AST æ ‘åï¼Œä¼šè¢« Ignition æ¨¡å—ä¸“ç¨‹å­—èŠ‚ç ï¼ˆbytecodeï¼‰ï¼Œä¹‹åçš„è¿‡ç¨‹å°±æ˜¯ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹</li>\n</ul>\n<h3 id=\"4-Javascript-çš„æ‰§è¡Œè¿‡ç¨‹\"><a href=\"#4-Javascript-çš„æ‰§è¡Œè¿‡ç¨‹\" class=\"headerlink\" title=\"4.Javascript çš„æ‰§è¡Œè¿‡ç¨‹\"></a>4.Javascript çš„æ‰§è¡Œè¿‡ç¨‹</h3><ol>\n<li>åˆå§‹åŒ–å…¨å±€å¯¹è±¡<ul>\n<li>js å¼•æ“åœ¨æ‰§è¡Œä»£ç ä¹‹å‰ï¼Œä¼šåœ¨å †å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼šGlobal Objectï¼ˆGOï¼‰<ul>\n<li>è¯¥å¯¹è±¡æ‰€æœ‰çš„ä½œç”¨åŸŸï¼ˆscopeï¼‰éƒ½å¯ä»¥è®¿é—®</li>\n<li>é‡Œé¢ä¼šåŒ…å« Dateã€Arrayã€Stringã€Numberã€setTimeoutã€setInteval ç­‰ç­‰å…¨å±€å±æ€§ AA å·±</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ<ul>\n<li>js å¼•æ“å†…éƒ¨æœ‰ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution Context Stackï¼Œ ç®€ç§° ECSï¼‰ï¼Œå®ƒæ˜¯ç”¨äºæ‰§è¡Œä»£ç çš„è°ƒç”¨æ ˆï¼ˆæ‰§è¡Œæ ˆï¼‰</li>\n<li>é‚£ä¹ˆç°åœ¨å®ƒè¦æ‰§è¡Œè°å‘¢ï¼Ÿæ‰§è¡Œçš„æ˜¯å…¨å±€çš„ä»£ç å—ï¼š<ul>\n<li>å…¨å±€çš„ä»£ç å—ä¸ºäº†æ‰§è¡Œä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ Global Execution Contextï¼ˆGECï¼‰ï¼ŒGEC ä¸­ä¼šåˆ›å»ºä¸€ä¸ª VO å¯¹è±¡ï¼ˆå°±æ˜¯ GO å¯¹è±¡ï¼‰</li>\n<li>GEC ä¼šæ”¾åˆ° ECS ä¸­æ‰§è¡Œ</li>\n</ul>\n</li>\n<li>GEC è¢«æ”¾å…¥åˆ° ECS é‡Œé¢åŒ…å«ä¸¤ä¸ªå†…å®¹ï¼š<ul>\n<li>ç¬¬ä¸€éƒ¨åˆ†ï¼šåœ¨ä»£ç æ‰§è¡Œå‰ï¼Œåœ¨ parser è½¬æˆ AST çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå°†å…¨å±€å®šä¹‰çš„å˜é‡ã€å‡½æ•°ç­‰åŠ å…¥åˆ° GlobalObject ä¸­ï¼Œä½†æ˜¯åªæ˜¯å£°æ˜ï¼Œä¸ä¼šèµ‹å€¼ã€‚è¿™ä¸ªè¿‡ç¨‹ä¹Ÿç§°ä½œæ˜¯ä½œç”¨åŸŸæå‡</li>\n<li>ç¬¬äºŒéƒ¨åˆ†ï¼šåœ¨ä»£ç æ‰§è¡Œä¸­ï¼Œå¯¹å˜é‡èµ‹å€¼ï¼Œæˆ–è€…æ‰§è¡Œå…¶ä»–çš„å‡½æ•°</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>é‡åˆ°å‡½æ•°åˆ›å»ºå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡<ul>\n<li>åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­æ‰§è¡Œåˆ°ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå°±ä¼šæ ¹æ®å‡½æ•°ä½“åˆ›å»ºä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼ˆFunctional Execution Contextï¼Œ ç®€ç§° FECï¼‰ï¼Œå¹¶ä¸”å‹å…¥åˆ° EC Stack ä¸­</li>\n<li>FEC åŒ…å«ä¸‰éƒ¨åˆ†å†…å®¹ï¼š<ul>\n<li>ç¬¬ä¸€éƒ¨åˆ†ï¼šåœ¨è§£æå‡½æ•°ç§°ä¸º AST æ ‘ç»“æ„æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ª Activation Objectï¼ˆAOï¼‰<ul>\n<li>AO ä¸­åŒ…å«å½¢å‚ã€argumentsã€å‡½æ•°å®šä¹‰å’ŒæŒ‡å‘å‡½æ•°å¯¹è±¡ã€å®šä¹‰çš„å˜é‡</li>\n</ul>\n</li>\n<li>ç¬¬äºŒéƒ¨åˆ†ï¼šä½œç”¨åŸŸé“¾ï¼Œç”± VOï¼ˆåœ¨å‡½æ•°ä¸­å°±æ˜¯ AO å¯¹è±¡ï¼‰å’Œçˆ¶çº§ VO ç»„æˆï¼ŒæŸ¥æ‰¾æ—¶ä¼šä¸€å±‚å±‚æŸ¥æ‰¾ï¼ˆå‡½æ•°çš„çˆ¶çº§ä½œç”¨åŸŸ Parent Scope å’Œå‡½æ•°çš„å®šä¹‰ä½ç½®æœ‰å…³ç³»ï¼Œå’Œè°ƒç”¨ä½ç½®æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼‰</li>\n<li>ç¬¬ä¸‰éƒ¨åˆ†ï¼šthis ç»‘å®šçš„å€¼</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"äºŒã€JS-çš„å†…å­˜ç®¡ç†å’Œé—­åŒ…\"><a href=\"#äºŒã€JS-çš„å†…å­˜ç®¡ç†å’Œé—­åŒ…\" class=\"headerlink\" title=\"äºŒã€JS çš„å†…å­˜ç®¡ç†å’Œé—­åŒ…\"></a>äºŒã€JS çš„å†…å­˜ç®¡ç†å’Œé—­åŒ…</h2><h3 id=\"1-è®¤è¯†å†…å­˜ç®¡ç†\"><a href=\"#1-è®¤è¯†å†…å­˜ç®¡ç†\" class=\"headerlink\" title=\"1.è®¤è¯†å†…å­˜ç®¡ç†\"></a>1.è®¤è¯†å†…å­˜ç®¡ç†</h3><ul>\n<li><p>ä¸ç®¡ä»€ä¹ˆæ ·çš„ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨<strong>ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ä¸­éƒ½æ˜¯éœ€è¦ç»™å®ƒåˆ†é…å†…å­˜</strong>çš„ï¼Œä¸åŒçš„æ˜¯<strong>æŸäº›ç¼–ç¨‹è¯­è¨€</strong>éœ€è¦æˆ‘ä»¬<strong>è‡ªå·±æ‰‹åŠ¨</strong></p>\n<p><strong>çš„ç®¡ç†å†…å­˜</strong>ï¼Œ<strong>æŸäº›ç¼–ç¨‹è¯­è¨€</strong>ä¼šå¯ä»¥<strong>è‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ç®¡ç†å†…å­˜</strong></p>\n</li>\n<li><p>ä¸ç®¡ä»¥ä»€ä¹ˆæ ·çš„æ–¹å¼æ¥ç®¡ç†å†…å­˜ï¼Œ<strong>å†…å­˜çš„ç®¡ç†éƒ½ä¼šæœ‰å¦‚ä¸‹çš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼š</p>\n<ul>\n<li>ç¬¬ä¸€æ­¥ï¼šåˆ†é…ç”³è¯·ä½ éœ€è¦çš„å†…å­˜ï¼ˆç”³è¯·ï¼‰ï¼›</li>\n<li>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨åˆ†é…çš„å†…å­˜ï¼ˆå­˜æ”¾ä¸€äº›ä¸œè¥¿ï¼Œæ¯”å¦‚å¯¹è±¡ç­‰ï¼‰ï¼›</li>\n<li>ç¬¬ä¸‰æ­¥ï¼šä¸éœ€è¦ä½¿ç”¨æ—¶ï¼Œå¯¹å…¶è¿›è¡Œé‡Šæ”¾ï¼›</li>\n</ul>\n</li>\n<li><p><strong>ä¸åŒçš„ç¼–ç¨‹è¯­è¨€å¯¹äºç¬¬ä¸€æ­¥å’Œç¬¬ä¸‰æ­¥ä¼šæœ‰ä¸åŒçš„å®ç°ï¼š</strong></p>\n</li>\n<li><p>æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼šæ¯”å¦‚ Cã€C++ï¼ŒåŒ…æ‹¬æ—©æœŸçš„ OCï¼Œéƒ½æ˜¯éœ€è¦æ‰‹åŠ¨æ¥ç®¡ç†å†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾çš„ï¼ˆmalloc å’Œ free å‡½æ•°ï¼‰</p>\n</li>\n<li><p>è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼šæ¯”å¦‚ Javaã€JavaScriptã€Pythonã€Swiftã€Dart ç­‰ï¼Œå®ƒä»¬æœ‰è‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ç®¡ç†å†…å­˜ï¼›</p>\n</li>\n<li><p>æˆ‘ä»¬å¯ä»¥çŸ¥é“ JavaScript é€šå¸¸æƒ…å†µä¸‹æ˜¯ä¸éœ€è¦æ‰‹åŠ¨æ¥ç®¡ç†çš„ã€‚</p>\n</li>\n</ul>\n<h3 id=\"2-JS-çš„å†…å­˜ç®¡ç†\"><a href=\"#2-JS-çš„å†…å­˜ç®¡ç†\" class=\"headerlink\" title=\"2.JS çš„å†…å­˜ç®¡ç†\"></a>2.JS çš„å†…å­˜ç®¡ç†</h3><ul>\n<li>javascript ä¼šåœ¨å®šä¹‰å˜é‡æ—¶åˆ†é…å†…å­˜<ul>\n<li>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¼šåœ¨æ ˆç©ºé—´åˆ†é…å†…å­˜</li>\n<li>å¯¹äºå¤æ‚æ•°æ®ç±»å‹ï¼Œä¼šåœ¨å †ç©ºé—´å¼€è¾Ÿå†…å­˜ï¼Œå¹¶å°†è¿™å—ç©ºé—´çš„æŒ‡é’ˆè¿”å›ç»™å€¼å˜é‡å¼•ç”¨</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3-JS-çš„åƒåœ¾å›æ”¶\"><a href=\"#3-JS-çš„åƒåœ¾å›æ”¶\" class=\"headerlink\" title=\"3.JS çš„åƒåœ¾å›æ”¶\"></a>3.JS çš„åƒåœ¾å›æ”¶</h3><ul>\n<li>å› ä¸º<strong>å†…å­˜çš„å¤§å°æ˜¯æœ‰é™</strong>çš„ï¼Œæ‰€ä»¥å½“<strong>å†…å­˜ä¸å†éœ€è¦çš„æ—¶å€™</strong>ï¼Œæˆ‘ä»¬éœ€è¦<strong>å¯¹å…¶è¿›è¡Œé‡Šæ”¾</strong>ï¼Œä»¥ä¾¿è…¾å‡º<strong>æ›´å¤šçš„å†…å­˜ç©ºé—´</strong></li>\n<li>JS æœ‰è‡ªå·±çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼Œç®€ç§° GCï¼‰</li>\n<li>å¯¹äºé‚£äº›ä¸å†ä½¿ç”¨çš„å¯¹è±¡ï¼Œæˆ‘ä»¬éƒ½ç§°ä¹‹ä¸ºæ˜¯åƒåœ¾ï¼Œå®ƒéœ€è¦è¢«å›æ”¶ï¼Œä»¥é‡Šæ”¾æ›´å¤šçš„å†…å­˜ç©ºé—´</li>\n</ul>\n<h3 id=\"4-å¸¸è§çš„-GC-ç®—æ³•\"><a href=\"#4-å¸¸è§çš„-GC-ç®—æ³•\" class=\"headerlink\" title=\"4.å¸¸è§çš„ GC ç®—æ³•\"></a>4.å¸¸è§çš„ GC ç®—æ³•</h3><ol>\n<li><p>å¼•ç”¨è®¡æ•°ç®—æ³•</p>\n<ul>\n<li><p>å½“ä¸€ä¸ªå¯¹è±¡æœ‰ä¸€ä¸ªå¼•ç”¨æŒ‡å‘å®ƒæ—¶ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨å°±+1ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ä¸º 0 æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡å°±å¯ä»¥è¢«é”€</p>\n<p>æ¯æ‰</p>\n</li>\n<li><p>p è¿™ä¸ªç®—æ³•æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å¼Šç«¯å°±æ˜¯ä¼šäº§ç”Ÿå¾ªç¯å¼•ç”¨</p>\n</li>\n</ul>\n</li>\n<li><p>æ ‡è®°æ¸…é™¤</p>\n<ul>\n<li><p>è¿™ä¸ªç®—æ³•æ˜¯è®¾ç½®ä¸€ä¸ªæ ¹å¯¹è±¡ï¼ˆroot objectï¼‰ï¼Œåƒåœ¾å›æ”¶å™¨ä¼šå®šæœŸä»è¿™ä¸ªæ ¹å¼€å§‹ï¼Œæ‰¾æ‰€æœ‰ä»æ ¹å¼€å§‹æœ‰å¼•ç”¨åˆ°çš„å¯¹è±¡ï¼Œå¯¹</p>\n<p>äºå“ªäº›æ²¡æœ‰å¼•ç”¨åˆ°çš„å¯¹è±¡ï¼Œå°±è®¤ä¸ºæ˜¯ä¸å¯ç”¨çš„å¯¹è±¡</p>\n</li>\n<li><p>è¿™ä¸ªç®—æ³•å¯ä»¥å¾ˆå¥½çš„è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜</p>\n</li>\n<li><p>JS å¼•æ“æ¯”è¾ƒå¹¿æ³›çš„é‡‡ç”¨çš„å°±æ˜¯æ ‡è®°æ¸…é™¤ç®—æ³•ï¼Œå½“ç„¶ç±»ä¼¼äº V8 å¼•æ“ä¸ºäº†è¿›è¡Œæ›´å¥½çš„ä¼˜åŒ–ï¼Œå®ƒåœ¨ç®—æ³•çš„å®ç°ç»†èŠ‚ä¸Šä¹Ÿä¼šç»“åˆ</p>\n<p>ä¸€äº›å…¶ä»–çš„ç®—æ³•ã€‚</p>\n</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"ä¸‰ã€JS-ä¸­é—­åŒ…çš„å®šä¹‰\"><a href=\"#ä¸‰ã€JS-ä¸­é—­åŒ…çš„å®šä¹‰\" class=\"headerlink\" title=\"ä¸‰ã€JS ä¸­é—­åŒ…çš„å®šä¹‰\"></a>ä¸‰ã€JS ä¸­é—­åŒ…çš„å®šä¹‰</h2><ul>\n<li><p>è¿™é‡Œå…ˆæ¥çœ‹ä¸€ä¸‹é—­åŒ…çš„å®šä¹‰ï¼Œåˆ†æˆä¸¤ä¸ªï¼šåœ¨è®¡ç®—æœºç§‘å­¦ä¸­å’Œåœ¨ JavaScript ä¸­ã€‚</p>\n</li>\n<li><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­å¯¹é—­åŒ…çš„å®šä¹‰ï¼ˆç»´åŸºç™¾ç§‘ï¼‰ï¼š</p>\n<ul>\n<li>é—­åŒ…ï¼ˆè‹±è¯­ï¼šClosureï¼‰ï¼Œåˆç§°<strong>è¯æ³•é—­åŒ…</strong>ï¼ˆLexical Closureï¼‰æˆ–<strong>å‡½æ•°é—­åŒ…</strong>ï¼ˆfunction closuresï¼‰ï¼›</li>\n<li>æ˜¯åœ¨æ”¯æŒ <strong>å¤´ç­‰å‡½æ•°</strong> çš„ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå®ç°è¯æ³•ç»‘å®šçš„ä¸€ç§æŠ€æœ¯ï¼›</li>\n<li>é—­åŒ…åœ¨å®ç°ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œå®ƒå­˜å‚¨äº†ä¸€ä¸ªå‡½æ•°å’Œä¸€ä¸ªå…³è”çš„ç¯å¢ƒï¼ˆç›¸å½“äºä¸€ä¸ªç¬¦å·æŸ¥æ‰¾è¡¨ï¼‰ï¼›</li>\n<li>é—­åŒ…è·Ÿå‡½æ•°æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼Œå½“æ•æ‰é—­åŒ…çš„æ—¶å€™ï¼Œå®ƒçš„ <strong>è‡ªç”±å˜é‡</strong> ä¼šåœ¨è¡¥å……æ—¶è¢«ç¡®å®šï¼Œè¿™æ ·å³ä½¿è„±ç¦»äº†æ•æ‰æ—¶çš„ä¸Šä¸‹æ–‡ï¼Œå®ƒä¹Ÿèƒ½ç…§å¸¸è¿è¡Œï¼›</li>\n</ul>\n</li>\n<li><p>é—­åŒ…çš„æ¦‚å¿µå‡ºç°äº 60 å¹´ä»£ï¼Œæœ€æ—©å®ç°é—­åŒ…çš„ç¨‹åºæ˜¯ Schemeï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç†è§£ä¸ºä»€ä¹ˆ JavaScript ä¸­æœ‰é—­åŒ…ï¼š</p>\n<ul>\n<li>å› ä¸º JavaScript ä¸­æœ‰å¤§é‡çš„è®¾è®¡æ˜¯æ¥æºäº Scheme çš„ï¼›</li>\n</ul>\n</li>\n<li><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ MDN å¯¹ JavaScript é—­åŒ…çš„è§£é‡Šï¼š</p>\n<ul>\n<li>ä¸€ä¸ªå‡½æ•°å’Œå¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆ<strong>lexical environmentï¼Œè¯æ³•ç¯å¢ƒ</strong>ï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·ï¼ˆæˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´ï¼‰ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯<strong>é—­åŒ…</strong>ï¼ˆ<strong>closure</strong>ï¼‰ï¼›</li>\n<li>ä¹Ÿå°±æ˜¯è¯´ï¼Œé—­åŒ…è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸï¼›</li>\n<li>åœ¨ JavaScript ä¸­ï¼Œæ¯å½“åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé—­åŒ…å°±ä¼šåœ¨å‡½æ•°åˆ›å»ºçš„åŒæ—¶è¢«åˆ›å»ºå‡ºæ¥ï¼›</li>\n</ul>\n</li>\n<li><p>é‚£ä¹ˆæˆ‘çš„ç†è§£å’Œæ€»ç»“ï¼š</p>\n</li>\n<li><p>ä¸€ä¸ªæ™®é€šçš„å‡½æ•° functionï¼Œå¦‚æœå®ƒå¯ä»¥è®¿é—®å¤–å±‚ä½œç”¨äºçš„è‡ªç”±å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ˜¯ä¸€ä¸ªé—­åŒ…ï¼›</p>\n</li>\n<li><p>ä»å¹¿ä¹‰çš„è§’åº¦æ¥è¯´ï¼šJavaScript ä¸­çš„å‡½æ•°éƒ½æ˜¯é—­åŒ…ï¼›</p>\n</li>\n<li><p>ä»ç‹­ä¹‰çš„è§’åº¦æ¥è¯´ï¼šJavaScript ä¸­ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœè®¿é—®äº†å¤–å±‚ä½œç”¨äºçš„å˜é‡ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªé—­åŒ…ï¼›</p>\n</li>\n</ul>\n<h2 id=\"å››ã€JS-ä¸­çš„-this-æŒ‡å‘\"><a href=\"#å››ã€JS-ä¸­çš„-this-æŒ‡å‘\" class=\"headerlink\" title=\"å››ã€JS ä¸­çš„ this æŒ‡å‘\"></a>å››ã€JS ä¸­çš„ this æŒ‡å‘</h2><h3 id=\"1-this-çš„ç»‘å®šè§„å¾‹\"><a href=\"#1-this-çš„ç»‘å®šè§„å¾‹\" class=\"headerlink\" title=\"1.this çš„ç»‘å®šè§„å¾‹\"></a>1.this çš„ç»‘å®šè§„å¾‹</h3><ol>\n<li>å‡½æ•°åœ¨è°ƒç”¨æ—¶ï¼ŒJavaScript ä¼šé»˜è®¤ç»™ this ç»‘å®šä¸€ä¸ªå€¼ï¼›</li>\n<li>this çš„ç»‘å®šå’Œå®šä¹‰çš„ä½ç½®ï¼ˆç¼–å†™çš„ä½ç½®ï¼‰æ²¡æœ‰å…³ç³»ï¼›</li>\n<li>this çš„ç»‘å®šå’Œè°ƒç”¨æ–¹å¼ä»¥åŠè°ƒç”¨çš„ä½ç½®æœ‰å…³ç³»ï¼›</li>\n<li>this æ˜¯åœ¨è¿è¡Œæ—¶è¢«ç»‘å®šçš„ï¼›</li>\n</ol>\n<h3 id=\"2-this-çš„ç»‘å®šè§„åˆ™\"><a href=\"#2-this-çš„ç»‘å®šè§„åˆ™\" class=\"headerlink\" title=\"2.this çš„ç»‘å®šè§„åˆ™\"></a>2.this çš„ç»‘å®šè§„åˆ™</h3><ul>\n<li>é»˜è®¤ç»‘å®šï¼ˆä¼˜å…ˆçº§æœ€ä½ï¼‰ï¼šç‹¬ç«‹å‡½æ•°è°ƒç”¨</li>\n<li>éšå¼ç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºé»˜è®¤ç»‘å®šï¼‰ï¼šobj.fn()</li>\n<li>æ˜¾ç¤ºç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºéšå¼ç»‘å®šï¼‰ï¼šapplyã€callã€bind ç­‰</li>\n<li>new ç»‘å®šï¼ˆä¼˜å…ˆçº§å¤§äºæ˜¾ç¤ºç»‘å®šï¼‰ï¼šnew Foo()</li>\n</ul>\n<h2 id=\"äº”ã€æ‰‹å†™-callã€apply-å’Œ-bind\"><a href=\"#äº”ã€æ‰‹å†™-callã€apply-å’Œ-bind\" class=\"headerlink\" title=\"äº”ã€æ‰‹å†™ callã€apply å’Œ bind\"></a>äº”ã€æ‰‹å†™ callã€apply å’Œ bind</h2><h3 id=\"1-call-å‡½æ•°çš„å®ç°\"><a href=\"#1-call-å‡½æ•°çš„å®ç°\" class=\"headerlink\" title=\"1.call å‡½æ•°çš„å®ç°\"></a>1.call å‡½æ•°çš„å®ç°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-title class_\">Function</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">lyCall</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">thisArg, ...args</span>) &#123;<br>  <span class=\"hljs-comment\">// 1.å¤„ç†thisArg</span><br>  thisArg = thisArg !== <span class=\"hljs-literal\">undefined</span> &amp;&amp; thisArg !== <span class=\"hljs-literal\">null</span> ? <span class=\"hljs-title class_\">Object</span>(thisArg) : <span class=\"hljs-variable language_\">window</span><br>  <span class=\"hljs-comment\">// 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°</span><br>  <span class=\"hljs-keyword\">const</span> key = <span class=\"hljs-title class_\">Symbol</span>()<br>  thisArg[key] = <span class=\"hljs-variable language_\">this</span><br>  <span class=\"hljs-keyword\">const</span> result = thisArg[key](...args)<br>  <span class=\"hljs-keyword\">delete</span> thisArg[key]<br>  <span class=\"hljs-comment\">// 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ</span><br>  <span class=\"hljs-keyword\">return</span> result<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-apply-å‡½æ•°çš„å®ç°\"><a href=\"#2-apply-å‡½æ•°çš„å®ç°\" class=\"headerlink\" title=\"2.apply å‡½æ•°çš„å®ç°\"></a>2.apply å‡½æ•°çš„å®ç°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-title class_\">Function</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">lyApply</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">thisArg, argArray</span>) &#123;<br>  <span class=\"hljs-comment\">// 1.å¤„ç†thisArg</span><br>  thisArg = thisArg !== <span class=\"hljs-literal\">undefined</span> &amp;&amp; thisArg !== <span class=\"hljs-literal\">null</span> ? <span class=\"hljs-title class_\">Object</span>(thisArg) : <span class=\"hljs-variable language_\">window</span><br>  <span class=\"hljs-comment\">// 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°</span><br>  <span class=\"hljs-keyword\">const</span> key = <span class=\"hljs-title class_\">Symbol</span>()<br>  thisArg[key] = <span class=\"hljs-variable language_\">this</span><br>  argArray = argArray || []<br>  <span class=\"hljs-keyword\">const</span> result = thisArg[key](...argArray)<br>  <span class=\"hljs-keyword\">delete</span> thisArg[key]<br>  <span class=\"hljs-comment\">// 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ</span><br>  <span class=\"hljs-keyword\">return</span> result<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"3-bind-å‡½æ•°çš„å®ç°\"><a href=\"#3-bind-å‡½æ•°çš„å®ç°\" class=\"headerlink\" title=\"3.bind å‡½æ•°çš„å®ç°\"></a>3.bind å‡½æ•°çš„å®ç°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-title class_\">Function</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">lyBind</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">thisArg, ...args</span>) &#123;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">...bindArgs</span>) &#123;<br>    <span class=\"hljs-comment\">// 1.å¤„ç†thisArg</span><br>    thisArg = thisArg !== <span class=\"hljs-literal\">undefined</span> &amp;&amp; thisArg !== <span class=\"hljs-literal\">null</span> ? <span class=\"hljs-title class_\">Object</span>(thisArg) : <span class=\"hljs-variable language_\">window</span><br>    <span class=\"hljs-comment\">// 2.éšå¼ç»‘å®šï¼Œè°ƒç”¨éœ€è¦ä¿®æ”¹thisæŒ‡å‘çš„å‡½æ•°</span><br>    <span class=\"hljs-keyword\">const</span> key = <span class=\"hljs-title class_\">Symbol</span>()<br>    thisArg[key] = <span class=\"hljs-variable language_\">this</span><br>    <span class=\"hljs-keyword\">const</span> result = thisArg[key]([...args, ...bindArgs])<br>    <span class=\"hljs-keyword\">delete</span> thisArg[key]<br>    <span class=\"hljs-comment\">// 3.è¿”å›å‡½æ•°æ‰§è¡Œç»“æœ</span><br>    <span class=\"hljs-keyword\">return</span> result<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"å…­ã€å‡½æ•°ç§‘é‡ŒåŒ–\"><a href=\"#å…­ã€å‡½æ•°ç§‘é‡ŒåŒ–\" class=\"headerlink\" title=\"å…­ã€å‡½æ•°ç§‘é‡ŒåŒ–\"></a>å…­ã€å‡½æ•°ç§‘é‡ŒåŒ–</h2><h3 id=\"1-å‡½æ•°ç§‘é‡ŒåŒ–çš„æ¦‚å¿µ\"><a href=\"#1-å‡½æ•°ç§‘é‡ŒåŒ–çš„æ¦‚å¿µ\" class=\"headerlink\" title=\"1.å‡½æ•°ç§‘é‡ŒåŒ–çš„æ¦‚å¿µ\"></a>1.å‡½æ•°ç§‘é‡ŒåŒ–çš„æ¦‚å¿µ</h3><p>ä¸€ä¸ªæ¥æ”¶å¤šä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå˜æˆä¸€ä¸ªå¯ä»¥åªæ¥æ”¶éƒ¨åˆ†å‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ¥æ”¶å‰©ä½™å‚æ•°çš„å‡½æ•°çš„å‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹å°±å«ç§‘é‡ŒåŒ–</p>\n<h3 id=\"2-å‡½æ•°ç§‘é‡ŒåŒ–çš„å®ç°\"><a href=\"#2-å‡½æ•°ç§‘é‡ŒåŒ–çš„å®ç°\" class=\"headerlink\" title=\"2.å‡½æ•°ç§‘é‡ŒåŒ–çš„å®ç°\"></a>2.å‡½æ•°ç§‘é‡ŒåŒ–çš„å®ç°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">curring</span>(<span class=\"hljs-params\">fn</span>) &#123;<br>  <span class=\"hljs-keyword\">const</span> curriedFn = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">...args</span>) &#123;<br>    <span class=\"hljs-keyword\">if</span> (args.<span class=\"hljs-property\">length</span> &gt;= fn.<span class=\"hljs-property\">length</span>) &#123;<br>      <span class=\"hljs-comment\">// æœ¬æ¬¡å‡½æ•°è°ƒç”¨ä¼ å…¥çš„å‚æ•°ä¸ªæ•°å·²ç»è¾¾åˆ°éœ€è¦æ‰§è¡Œå‡½æ•°çš„æœ€å¤§å‚æ•°é•¿åº¦ï¼Œç›´æ¥æ‰§è¡Œè¯¥å‡½æ•°</span><br>      <span class=\"hljs-keyword\">return</span> fn.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, args)<br>    &#125; <span class=\"hljs-keyword\">else</span> &#123;<br>      <span class=\"hljs-comment\">// æœ¬æ¬¡å‡½æ•°è°ƒç”¨ä¼ å…¥çš„å‚æ•°ä¸ªæ•°æ²¡æœ‰è¾¾åˆ°éœ€è¦æ‰§è¡Œå‡½æ•°çš„æœ€å¤§å‚æ•°é•¿åº¦ï¼Œè¿”å›ä¸€ä¸ªæ¥æ”¶å‰©ä½™å‚æ•°çš„å‡½æ•°</span><br>      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">...restArgs</span>) &#123;<br>        <span class=\"hljs-keyword\">return</span> curriedFn.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, [...args, ...restArgs])<br>      &#125;<br>    &#125;<br>  &#125;<br><br>  <span class=\"hljs-keyword\">return</span> curriedFn<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸ƒã€ç»„åˆå‡½æ•°\"><a href=\"#ä¸ƒã€ç»„åˆå‡½æ•°\" class=\"headerlink\" title=\"ä¸ƒã€ç»„åˆå‡½æ•°\"></a>ä¸ƒã€ç»„åˆå‡½æ•°</h2><h3 id=\"1-ç»„åˆå‡½æ•°çš„æ¦‚å¿µ\"><a href=\"#1-ç»„åˆå‡½æ•°çš„æ¦‚å¿µ\" class=\"headerlink\" title=\"1.ç»„åˆå‡½æ•°çš„æ¦‚å¿µ\"></a>1.ç»„åˆå‡½æ•°çš„æ¦‚å¿µ</h3><p>å°†å¤šä¸ªéœ€è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œç»„åˆåˆ°ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œå‡½æ•°å†…éƒ¨ä¼šè‡ªåŠ¨ä¾æ¬¡è°ƒç”¨ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å¯¹å‡½æ•°çš„ç»„åˆï¼Œè¿™ä¸ªå‡½æ•°å°±ç§°ä¸ºç»„åˆå‡½æ•°</p>\n<h3 id=\"2-é€šç”¨ç»„åˆå‡½æ•°çš„å®ç°\"><a href=\"#2-é€šç”¨ç»„åˆå‡½æ•°çš„å®ç°\" class=\"headerlink\" title=\"2.é€šç”¨ç»„åˆå‡½æ•°çš„å®ç°\"></a>2.é€šç”¨ç»„åˆå‡½æ•°çš„å®ç°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">compose</span>(<span class=\"hljs-params\">...fns</span>) &#123;<br>  fns.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">fn</span>) =&gt;</span> &#123;<br>    <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> fn !== <span class=\"hljs-string\">&#x27;function&#x27;</span>) &#123;<br>      <span class=\"hljs-keyword\">throw</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Error</span>(<span class=\"hljs-string\">&#x27;Expected arguments are function!&#x27;</span>)<br>    &#125;<br>  &#125;)<br>  <span class=\"hljs-keyword\">const</span> list = fns.<span class=\"hljs-title function_\">slice</span>()<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">...args</span>) &#123;<br>    <span class=\"hljs-keyword\">let</span> result = list.<span class=\"hljs-title function_\">shift</span>().<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, args)<br>    <span class=\"hljs-keyword\">while</span> (list.<span class=\"hljs-property\">length</span> &gt; <span class=\"hljs-number\">0</span>) &#123;<br>      result = list.<span class=\"hljs-title function_\">shift</span>().<span class=\"hljs-title function_\">call</span>(<span class=\"hljs-variable language_\">this</span>, result)<br>    &#125;<br>    <span class=\"hljs-keyword\">return</span> result<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"å…«ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ç»ˆæ–¹æ¡ˆï¼‰\"><a href=\"#å…«ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ç»ˆæ–¹æ¡ˆï¼‰\" class=\"headerlink\" title=\"å…«ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ç»ˆæ–¹æ¡ˆï¼‰\"></a>å…«ã€å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ç»ˆæ–¹æ¡ˆï¼‰</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// å¯„ç”Ÿå¼ç»§æ‰¿-å¯¹è±¡</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">createObject</span>(<span class=\"hljs-params\">o</span>) &#123;<br>  <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Fn</span>(<span class=\"hljs-params\"></span>) &#123;&#125;<br>  <span class=\"hljs-title class_\">Fn</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span> = o<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Fn</span>()<br>&#125;<br><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">inheritPrototype</span>(<span class=\"hljs-params\">subType, superType</span>) &#123;<br>  <span class=\"hljs-comment\">// subType.prototype = Object.create(superType.prototype) // å­ç±»æ˜¾å¼åŸå‹æŒ‡å‘æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œæ–°å¯¹è±¡__proto__æŒ‡å‘çˆ¶ç±»æ˜¾ç¤ºåŸå‹</span><br>  subType.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span> = <span class=\"hljs-title function_\">createObject</span>(superType.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>)<br>  <span class=\"hljs-comment\">// å­ç±»æ˜¾ç¤ºåŸå‹çš„æ„é€ å‡½æ•°æŒ‡å‘è‡ªå·±</span><br>  <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(subType.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>, <span class=\"hljs-string\">&#x27;constuctor&#x27;</span>, &#123;<br>    <span class=\"hljs-attr\">configurable</span>: <span class=\"hljs-literal\">true</span>,<br>    <span class=\"hljs-attr\">enumerable</span>: <span class=\"hljs-literal\">false</span>,<br>    <span class=\"hljs-attr\">writable</span>: <span class=\"hljs-literal\">true</span>,<br>    <span class=\"hljs-attr\">value</span>: subType<br>  &#125;)<br>&#125;<br><span class=\"hljs-comment\">// çˆ¶ç±»</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Person</span>(<span class=\"hljs-params\">name</span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">name</span> = name<br>&#125;<br><span class=\"hljs-title class_\">Person</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">eating</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&#x27;eating&#x27;</span>)<br>&#125;<br><span class=\"hljs-comment\">// å­ç±»</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Student</span>(<span class=\"hljs-params\">sno</span>) &#123;<br>  <span class=\"hljs-comment\">// ç»§æ‰¿çˆ¶ç±»å±æ€§</span><br>  <span class=\"hljs-title class_\">Person</span>.<span class=\"hljs-title function_\">call</span>(<span class=\"hljs-variable language_\">this</span>, name)<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">sno</span> = sno<br>&#125;<br><span class=\"hljs-comment\">// ç»§æ‰¿çˆ¶ç±»æ–¹æ³•</span><br><span class=\"hljs-title function_\">inheritPrototype</span>(<span class=\"hljs-title class_\">Student</span>, <span class=\"hljs-title class_\">Person</span>)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ä¹ã€æ‰‹å†™-instanceof\"><a href=\"#ä¹ã€æ‰‹å†™-instanceof\" class=\"headerlink\" title=\"ä¹ã€æ‰‹å†™ instanceof\"></a>ä¹ã€æ‰‹å†™ instanceof</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">_instanceof</span>(<span class=\"hljs-params\">a, b</span>) &#123;<br>  <span class=\"hljs-keyword\">while</span> (a.<span class=\"hljs-property\">__proto__</span>) &#123;<br>    <span class=\"hljs-keyword\">if</span> (a.<span class=\"hljs-property\">__proto__</span> === b.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>) &#123;<br>      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">true</span><br>    &#125;<br>    a = a.<span class=\"hljs-property\">__proto__</span><br>  &#125;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-literal\">false</span><br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åã€æ‰‹å†™-new-æ“ä½œç¬¦\"><a href=\"#åã€æ‰‹å†™-new-æ“ä½œç¬¦\" class=\"headerlink\" title=\"åã€æ‰‹å†™ new æ“ä½œç¬¦\"></a>åã€æ‰‹å†™ new æ“ä½œç¬¦</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">_new</span>(<span class=\"hljs-params\">constructor, ...args</span>) &#123;<br>  <span class=\"hljs-keyword\">let</span> instance = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(constructor.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>)<br>  <span class=\"hljs-keyword\">const</span> res = constuctor.<span class=\"hljs-title function_\">apply</span>(instance, args)<br>  <span class=\"hljs-comment\">// æ„é€ å‡½æ•°æœ‰æ˜ç¡®çš„è¿”å›å€¼ä¸”è¿”å›å€¼æ˜¯Objectæ—¶ï¼Œç›´æ¥è¿”å›æ„é€ å‡½æ•°çš„è¿”å›ç»“æœ</span><br>  <span class=\"hljs-keyword\">return</span> res <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">Object</span> ? res : instance<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åä¸€ã€å“åº”å¼åŸç†å®ç°\"><a href=\"#åä¸€ã€å“åº”å¼åŸç†å®ç°\" class=\"headerlink\" title=\"åä¸€ã€å“åº”å¼åŸç†å®ç°\"></a>åä¸€ã€å“åº”å¼åŸç†å®ç°</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// Depç±»å­˜å‚¨å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰</span><br><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">Dep</span> &#123;<br>  subscribers = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Set</span>()<br>  <span class=\"hljs-title function_\">addEffect</span>(<span class=\"hljs-params\"></span>) &#123;<br>    activeEffect &amp;&amp; <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">subscribers</span>.<span class=\"hljs-title function_\">add</span>(activeEffect)<br>  &#125;<br>  <span class=\"hljs-title function_\">notify</span>(<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">subscribers</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">effect</span>) =&gt;</span> <span class=\"hljs-title function_\">effect</span>())<br>  &#125;<br>&#125;<br><br><span class=\"hljs-comment\">// å½“å‰éœ€è¦æ”¶é›†çš„å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰</span><br><span class=\"hljs-keyword\">let</span> activeEffect = <span class=\"hljs-literal\">null</span><br><span class=\"hljs-comment\">// ç¬¬ä¸€æ¬¡æ‰§è¡Œå“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰ï¼Œå¹¶è§¦å‘å¯¹åº”çš„è¿½è¸ªæ”¶é›†æ“ä½œ</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">watchEffect</span> = (<span class=\"hljs-params\">fn</span>) =&gt; &#123;<br>  activeEffect = fn<br>  <span class=\"hljs-title function_\">fn</span>()<br>  activeEffect = <span class=\"hljs-literal\">null</span><br>&#125;<br><br><span class=\"hljs-comment\">// WeakMap: &#123; obj -&gt; Map &#125;  Map: &#123; objå±æ€§ -&gt; depå¯¹è±¡(å­˜å‚¨å“åº”å¼å‡½æ•°,å¹¶æä¾›è§¦å‘æ–¹æ³•) &#125;</span><br><span class=\"hljs-keyword\">const</span> weakMap = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">WeakMap</span>()<br><span class=\"hljs-comment\">// æ”¶é›†å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">track</span> = (<span class=\"hljs-params\">target, key</span>) =&gt; &#123;<br>  <span class=\"hljs-keyword\">let</span> targetMap = weakMap.<span class=\"hljs-title function_\">get</span>(target)<br>  <span class=\"hljs-keyword\">if</span> (!targetMap) &#123;<br>    targetMap = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Map</span>()<br>    weakMap.<span class=\"hljs-title function_\">set</span>(target, targetMap)<br>  &#125;<br>  <span class=\"hljs-keyword\">let</span> dep = targetMap.<span class=\"hljs-title function_\">get</span>(key)<br>  <span class=\"hljs-keyword\">if</span> (!dep) &#123;<br>    dep = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Dep</span>()<br>    targetMap.<span class=\"hljs-title function_\">set</span>(key, dep)<br>  &#125;<br>  dep.<span class=\"hljs-title function_\">addEffect</span>()<br>&#125;<br><span class=\"hljs-comment\">// è§¦å‘å“åº”å¼å‡½æ•°ï¼ˆå‰¯ä½œç”¨ï¼‰</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">trigger</span> = (<span class=\"hljs-params\">target, key</span>) =&gt; &#123;<br>  <span class=\"hljs-keyword\">const</span> targetMap = weakMap.<span class=\"hljs-title function_\">get</span>(target)<br>  <span class=\"hljs-keyword\">if</span> (!targetMap) <span class=\"hljs-keyword\">return</span><br>  <span class=\"hljs-keyword\">const</span> dep = targetMap.<span class=\"hljs-title function_\">get</span>(key)<br>  dep?.<span class=\"hljs-title function_\">notify</span>()<br>&#125;<br><br><span class=\"hljs-comment\">// åˆ›å»ºä»£ç†å¯¹è±¡</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">reactive</span> = (<span class=\"hljs-params\">o</span>) =&gt; &#123;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Proxy</span>(o, &#123;<br>    <span class=\"hljs-title function_\">get</span>(<span class=\"hljs-params\">target, key, receiver</span>) &#123;<br>      <span class=\"hljs-title function_\">track</span>(target, key)<br>      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">get</span>(target, key, receiver)<br>    &#125;,<br>    <span class=\"hljs-title function_\">set</span>(<span class=\"hljs-params\">target, key, newValue, receiver</span>) &#123;<br>      <span class=\"hljs-title function_\">trigger</span>(target, key)<br>      <span class=\"hljs-title class_\">Reflect</span>.<span class=\"hljs-title function_\">set</span>(target, key, newValue, receiver)<br>    &#125;<br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åäºŒã€æ‰‹å†™ç®€æ˜“ç‰ˆ-promise-å®ç°\"><a href=\"#åäºŒã€æ‰‹å†™ç®€æ˜“ç‰ˆ-promise-å®ç°\" class=\"headerlink\" title=\"åäºŒã€æ‰‹å†™ç®€æ˜“ç‰ˆ promise å®ç°\"></a>åäºŒã€æ‰‹å†™ç®€æ˜“ç‰ˆ promise å®ç°</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span> = <span class=\"hljs-string\">&#x27;pending&#x27;</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">PROMISE_STATUS_FULFILLED</span> = <span class=\"hljs-string\">&#x27;fulfilled&#x27;</span><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-variable constant_\">PROMISE_STATUS_REJECTED</span> = <span class=\"hljs-string\">&#x27;rejected&#x27;</span><br><br><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">execCallbackWithCatchErr</span> = (<span class=\"hljs-params\">execFn, value, resolve, reject</span>) =&gt; &#123;<br>  <span class=\"hljs-keyword\">try</span> &#123;<br>    <span class=\"hljs-keyword\">const</span> result = <span class=\"hljs-title function_\">execFn</span>(value)<br>    <span class=\"hljs-title function_\">resolve</span>(result)<br>  &#125; <span class=\"hljs-keyword\">catch</span> (err) &#123;<br>    <span class=\"hljs-title function_\">reject</span>(err)<br>  &#125;<br>&#125;<br><br><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">LyPromise</span> &#123;<br>  status = <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span><br>  value = <span class=\"hljs-literal\">undefined</span><br>  reason = <span class=\"hljs-literal\">undefined</span><br>  onfulfilledCallbacks = []<br>  onrejectedCallbacks = []<br>  <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\">executor</span>) &#123;<br>    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">resolve</span> = (<span class=\"hljs-params\">value</span>) =&gt; &#123;<br>      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> === <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span>) &#123;<br>        <span class=\"hljs-title function_\">queueMicrotask</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>          <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> !== <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span>) <span class=\"hljs-keyword\">return</span><br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> = <span class=\"hljs-variable constant_\">PROMISE_STATUS_FULFILLED</span><br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">value</span> = value<br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">onfulfilledCallbacks</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">callback</span>) =&gt;</span> &#123;<br>            <span class=\"hljs-title function_\">callback</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">value</span>)<br>          &#125;)<br>        &#125;)<br>      &#125;<br>    &#125;<br>    <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">reject</span> = (<span class=\"hljs-params\">reason</span>) =&gt; &#123;<br>      <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> === <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span>) &#123;<br>        <span class=\"hljs-title function_\">queueMicrotask</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>          <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> !== <span class=\"hljs-variable constant_\">PROMISE_STATUS_PENDING</span>) <span class=\"hljs-keyword\">return</span><br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span> = <span class=\"hljs-variable constant_\">PROMISE_STATUS_REJECTED</span><br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">reason</span> = reason<br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">onrejectedCallbacks</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">callback</span>) =&gt;</span> &#123;<br>            <span class=\"hljs-title function_\">callback</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">reason</span>)<br>          &#125;)<br>        &#125;)<br>      &#125;<br>    &#125;<br><br>    <span class=\"hljs-keyword\">try</span> &#123;<br>      <span class=\"hljs-title function_\">executor</span>(resolve, reject)<br>    &#125; <span class=\"hljs-keyword\">catch</span> (err) &#123;<br>      <span class=\"hljs-title function_\">reject</span>(err)<br>    &#125;<br>  &#125;<br><br>  <span class=\"hljs-title function_\">then</span>(<span class=\"hljs-params\">onfulfilled, onrejected</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LyPromise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>      onfulfilled =<br>        onfulfilled ||<br>        (<span class=\"hljs-function\">(<span class=\"hljs-params\">res</span>) =&gt;</span> &#123;<br>          <span class=\"hljs-keyword\">return</span> res<br>        &#125;)<br>      onrejected =<br>        onrejected ||<br>        (<span class=\"hljs-function\">(<span class=\"hljs-params\">err</span>) =&gt;</span> &#123;<br>          <span class=\"hljs-keyword\">throw</span> err<br>        &#125;)<br><br>      <span class=\"hljs-keyword\">switch</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">status</span>) &#123;<br>        <span class=\"hljs-keyword\">case</span> <span class=\"hljs-attr\">PROMISE_STATUS_PENDING</span>:<br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">onfulfilledCallbacks</span>.<span class=\"hljs-title function_\">push</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>            <span class=\"hljs-title function_\">execCallbackWithCatchErr</span>(onfulfilled, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">value</span>, resolve, reject)<br>          &#125;)<br>          <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">onrejectedCallbacks</span>.<span class=\"hljs-title function_\">push</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>            <span class=\"hljs-title function_\">execCallbackWithCatchErr</span>(onrejected, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">reason</span>, resolve, reject)<br>          &#125;)<br>          <span class=\"hljs-keyword\">break</span><br>        <span class=\"hljs-keyword\">case</span> <span class=\"hljs-attr\">PROMISE_STATUS_FULFILLED</span>:<br>          <span class=\"hljs-title function_\">execCallbackWithCatchErr</span>(onfulfilled, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">value</span>, resolve, reject)<br>          <span class=\"hljs-keyword\">break</span><br>        <span class=\"hljs-keyword\">case</span> <span class=\"hljs-attr\">PROMISE_STATUS_REJECTED</span>:<br>          <span class=\"hljs-title function_\">execCallbackWithCatchErr</span>(onrejected, <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">reason</span>, resolve, reject)<br>          <span class=\"hljs-keyword\">break</span><br>      &#125;<br>    &#125;)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">catch</span>(onrejected) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-literal\">undefined</span>, onrejected)<br>  &#125;<br><br>  <span class=\"hljs-title function_\">finally</span>(<span class=\"hljs-params\">onfinally</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">then</span>(onfinally, onfinally)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">resolve</span>(<span class=\"hljs-params\">value</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LyPromise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve</span>) =&gt;</span> <span class=\"hljs-title function_\">resolve</span>(value))<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-params\">reason</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LyPromise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> <span class=\"hljs-title function_\">reject</span>(reason))<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">all</span>(<span class=\"hljs-params\">promises</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class=\"hljs-keyword\">let</span> values = []<br>      promises.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">promise</span>) =&gt;</span> &#123;<br>        promise.<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">res</span>) =&gt;</span> &#123;<br>          values.<span class=\"hljs-title function_\">push</span>(res)<br>          <span class=\"hljs-keyword\">if</span> (values.<span class=\"hljs-property\">length</span> === promises.<span class=\"hljs-property\">length</span>) <span class=\"hljs-title function_\">resolve</span>(values)<br>        &#125;, reject)<br>      &#125;)<br>    &#125;)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">allSettled</span>(<span class=\"hljs-params\">promises</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class=\"hljs-keyword\">let</span> result = []<br>      promises.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">promise</span>) =&gt;</span> &#123;<br>        promise.<span class=\"hljs-title function_\">then</span>(<br>          <span class=\"hljs-function\">(<span class=\"hljs-params\">res</span>) =&gt;</span> &#123;<br>            result.<span class=\"hljs-title function_\">push</span>(&#123;<br>              <span class=\"hljs-attr\">status</span>: <span class=\"hljs-variable constant_\">PROMISE_STATUS_FULFILLED</span>,<br>              <span class=\"hljs-attr\">value</span>: res<br>            &#125;)<br>            <span class=\"hljs-keyword\">if</span> (result.<span class=\"hljs-property\">length</span> === promises.<span class=\"hljs-property\">length</span>) <span class=\"hljs-title function_\">resolve</span>(result)<br>          &#125;,<br>          <span class=\"hljs-function\">(<span class=\"hljs-params\">err</span>) =&gt;</span> &#123;<br>            result.<span class=\"hljs-title function_\">push</span>(&#123;<br>              <span class=\"hljs-attr\">status</span>: <span class=\"hljs-variable constant_\">PROMISE_STATUS_REJECTED</span>,<br>              <span class=\"hljs-attr\">reason</span>: err<br>            &#125;)<br>            <span class=\"hljs-keyword\">if</span> (result.<span class=\"hljs-property\">length</span> === promises.<span class=\"hljs-property\">length</span>) <span class=\"hljs-title function_\">resolve</span>(result)<br>          &#125;<br>        )<br>      &#125;)<br>    &#125;)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">race</span>(<span class=\"hljs-params\">promises</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LyPromise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>      promises.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">promise</span>) =&gt;</span> &#123;<br>        promise.<span class=\"hljs-title function_\">then</span>(resolve, reject)<br>      &#125;)<br>    &#125;)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">static</span> <span class=\"hljs-title function_\">any</span>(<span class=\"hljs-params\">promises</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">LyPromise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class=\"hljs-keyword\">let</span> reasons = []<br>      promises.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">promise</span>) =&gt;</span> &#123;<br>        promise.<span class=\"hljs-title function_\">then</span>(resolve, <span class=\"hljs-function\">(<span class=\"hljs-params\">err</span>) =&gt;</span> &#123;<br>          reasons.<span class=\"hljs-title function_\">push</span>(err)<br>          <span class=\"hljs-keyword\">if</span> (reasons.<span class=\"hljs-property\">length</span> === promises.<span class=\"hljs-property\">length</span>) &#123;<br>            <span class=\"hljs-title function_\">reject</span>(<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">AggregateError</span>(reasons))<br>          &#125;<br>        &#125;)<br>      &#125;)<br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åä¸‰ã€å¼‚æ­¥æ–¹æ¡ˆï¼šPromise-Generator\"><a href=\"#åä¸‰ã€å¼‚æ­¥æ–¹æ¡ˆï¼šPromise-Generator\" class=\"headerlink\" title=\"åä¸‰ã€å¼‚æ­¥æ–¹æ¡ˆï¼šPromise+Generator\"></a>åä¸‰ã€å¼‚æ­¥æ–¹æ¡ˆï¼šPromise+Generator</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">requestData</span>(<span class=\"hljs-params\">url</span>) &#123;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Promise</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>      <span class=\"hljs-title function_\">resolve</span>(url)<br>    &#125;, <span class=\"hljs-number\">2000</span>)<br>  &#125;)<br>&#125;<br><br><span class=\"hljs-comment\">// ç”Ÿæˆå™¨</span><br><span class=\"hljs-keyword\">function</span>* <span class=\"hljs-title function_\">getData</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-keyword\">const</span> res1 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">requestData</span>(<span class=\"hljs-string\">&#x27;coder&#x27;</span>)<br>  <span class=\"hljs-keyword\">const</span> res2 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">requestData</span>(res1 + <span class=\"hljs-string\">&#x27;111&#x27;</span>)<br>  <span class=\"hljs-keyword\">const</span> res3 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">requestData</span>(res2 + <span class=\"hljs-string\">&#x27;222&#x27;</span>)<br>  <span class=\"hljs-keyword\">const</span> res4 = <span class=\"hljs-keyword\">yield</span> <span class=\"hljs-title function_\">requestData</span>(res3 + <span class=\"hljs-string\">&#x27;333&#x27;</span>)<br>  <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(res4)<br>&#125;<br><br><span class=\"hljs-comment\">// è‡ªåŠ¨é€’å½’æ‰§è¡Œç”Ÿæˆå™¨</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">co</span>(<span class=\"hljs-params\">genFn</span>) &#123;<br>  <span class=\"hljs-keyword\">const</span> generator = <span class=\"hljs-title function_\">genFn</span>()<br>  <span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">exec</span> = (<span class=\"hljs-params\">res</span>) =&gt; &#123;<br>    <span class=\"hljs-keyword\">const</span> result = generator.<span class=\"hljs-title function_\">next</span>(res)<br>    <span class=\"hljs-keyword\">if</span> (result.<span class=\"hljs-property\">done</span>) &#123;<br>      <span class=\"hljs-keyword\">return</span> result.<span class=\"hljs-property\">value</span><br>    &#125;<br>    result.<span class=\"hljs-property\">value</span>.<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">res</span>) =&gt;</span> &#123;<br>      <span class=\"hljs-title function_\">exec</span>(res)<br>    &#125;)<br>  &#125;<br>  <span class=\"hljs-title function_\">exec</span>()<br>&#125;<br><br><span class=\"hljs-title function_\">co</span>(getData)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åäºŒã€æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµ\"><a href=\"#åäºŒã€æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµ\" class=\"headerlink\" title=\"åäºŒã€æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµ\"></a>åäºŒã€æ‰‹å†™é˜²æŠ–å’ŒèŠ‚æµ</h2><h3 id=\"1-é˜²æŠ–\"><a href=\"#1-é˜²æŠ–\" class=\"headerlink\" title=\"1.é˜²æŠ–\"></a>1.é˜²æŠ–</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">debounce</span>(<span class=\"hljs-params\">fn, delay, immediate = <span class=\"hljs-literal\">false</span></span>) &#123;<br>  <span class=\"hljs-keyword\">let</span> timer = <span class=\"hljs-literal\">null</span><br>  <span class=\"hljs-keyword\">let</span> isInvoke = <span class=\"hljs-literal\">false</span><br>  <span class=\"hljs-keyword\">const</span> _debounce = (...args) &#123;<br>    <span class=\"hljs-keyword\">if</span>(timer) <span class=\"hljs-built_in\">clearTimeout</span>(timer)<br>    <span class=\"hljs-keyword\">if</span>(immediate &amp;&amp; !isInvoke) &#123;<br>      fn.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, args)<br>      isInvoke = <span class=\"hljs-literal\">true</span><br>    &#125;<br>    timer = <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>      timer = <span class=\"hljs-literal\">null</span><br>      isInvoke = <span class=\"hljs-literal\">false</span><br>      fn.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, args)<br>    &#125;, delay)<br>  &#125;<br><br>  _debounce.<span class=\"hljs-property\">cancel</span> = <span class=\"hljs-function\">() =&gt;</span> &#123;<br>     <span class=\"hljs-keyword\">if</span>(timer) <span class=\"hljs-built_in\">clearTimeout</span>(timer)<br>     timer = <span class=\"hljs-literal\">null</span><br>     isInvoke = <span class=\"hljs-literal\">false</span><br>  &#125;<br><br>  <span class=\"hljs-keyword\">return</span> _debounce<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-èŠ‚æµ\"><a href=\"#2-èŠ‚æµ\" class=\"headerlink\" title=\"2.èŠ‚æµ\"></a>2.èŠ‚æµ</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">throttle</span>(<span class=\"hljs-params\">fn, interval, options = &#123; leading: <span class=\"hljs-literal\">true</span>, trailing: <span class=\"hljs-literal\">true</span> &#125;</span>) &#123;<br>  <span class=\"hljs-keyword\">let</span> last = <span class=\"hljs-number\">0</span><br>  timer = <span class=\"hljs-literal\">null</span><br>  <span class=\"hljs-keyword\">const</span> &#123; leading, trailing &#125; = options<br>  <span class=\"hljs-keyword\">const</span> _throttle = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">...args</span>) &#123;<br>    <span class=\"hljs-keyword\">let</span> now = <span class=\"hljs-title class_\">Date</span>.<span class=\"hljs-title function_\">now</span>()<br>    <span class=\"hljs-keyword\">if</span> (!last &amp;&amp; !leading) last = now<br>    <span class=\"hljs-keyword\">const</span> remainTime = interval - (now - last)<br>    <span class=\"hljs-keyword\">if</span> (remainTime &lt;= <span class=\"hljs-number\">0</span>) &#123;<br>      fn.<span class=\"hljs-title function_\">apply</span>(fn, args)<br>      last = now<br>      <span class=\"hljs-keyword\">return</span><br>    &#125;<br>    <span class=\"hljs-keyword\">if</span> (trailing) &#123;<br>      <span class=\"hljs-keyword\">if</span> (timer) &#123;<br>        <span class=\"hljs-built_in\">clearTimeout</span>(timer)<br>        timer = <span class=\"hljs-literal\">null</span><br>      &#125;<br>      timer = <span class=\"hljs-built_in\">setTimeout</span>(<span class=\"hljs-function\">() =&gt;</span> &#123;<br>        fn.<span class=\"hljs-title function_\">apply</span>(fn, args)<br>        timer = <span class=\"hljs-literal\">null</span><br>        last = !leading ? <span class=\"hljs-number\">0</span> : <span class=\"hljs-title class_\">Date</span>.<span class=\"hljs-title function_\">now</span>()<br>      &#125;, remainTime)<br>    &#125;<br>  &#125;<br>  _throttle.<span class=\"hljs-property\">cancel</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-keyword\">if</span> (timer) &#123;<br>      <span class=\"hljs-built_in\">clearTimeout</span>(timer)<br>      timer = <span class=\"hljs-literal\">null</span><br>    &#125;<br>  &#125;<br>  <span class=\"hljs-keyword\">return</span> _throttle<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åä¸‰ã€æ·±æ‹·è´\"><a href=\"#åä¸‰ã€æ·±æ‹·è´\" class=\"headerlink\" title=\"åä¸‰ã€æ·±æ‹·è´\"></a>åä¸‰ã€æ·±æ‹·è´</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">isObject</span>(<span class=\"hljs-params\">o</span>) &#123;<br>  <span class=\"hljs-keyword\">const</span> type = <span class=\"hljs-keyword\">typeof</span> o<br>  <span class=\"hljs-keyword\">return</span> o !== <span class=\"hljs-literal\">null</span> &amp;&amp; (type === <span class=\"hljs-string\">&#x27;object&#x27;</span> || type === <span class=\"hljs-string\">&#x27;function&#x27;</span>)<br>&#125;<br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">deepClone</span>(<span class=\"hljs-params\">originValue, weakMap = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-built_in\">WeakMap</span>()</span>) &#123;<br>  <span class=\"hljs-comment\">// å¤„ç†æ•°ç»„æ ¼å¼</span><br>  <span class=\"hljs-keyword\">const</span> newObj = <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-title function_\">isArray</span>(originValue) ? [] : &#123;&#125;<br>  <span class=\"hljs-comment\">// å¤„ç†ç®€å•æ•°æ®ç±»å‹</span><br>  <span class=\"hljs-keyword\">if</span> (!<span class=\"hljs-title function_\">isObject</span>(originValue)) <span class=\"hljs-keyword\">return</span> originValue<br>  <span class=\"hljs-comment\">// å¤„ç†å‡½æ•°ç±»å‹,ä¸éœ€è¦æ·±æ‹·è´ï¼Œç›´æ¥è¿”å›</span><br>  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> originValue === <span class=\"hljs-string\">&#x27;function&#x27;</span>) <span class=\"hljs-keyword\">return</span> originValue<br>  <span class=\"hljs-comment\">// å¤„ç†Symbolç±»å‹ï¼Œè¿”å›ä¸€ä¸ªç›¸åŒdescriptionçš„Symbol</span><br>  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-keyword\">typeof</span> originValue === <span class=\"hljs-string\">&#x27;symbol&#x27;</span>) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Symbol</span>(originValue.<span class=\"hljs-property\">description</span>)<br>  <span class=\"hljs-comment\">// å¤„ç†Setç±»å‹</span><br>  <span class=\"hljs-keyword\">if</span> (originValue <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">Set</span>) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Set</span>([...originValue])<br>  <span class=\"hljs-comment\">// å¤„ç†Mapç±»å‹</span><br>  <span class=\"hljs-keyword\">if</span> (originValue <span class=\"hljs-keyword\">instanceof</span> <span class=\"hljs-title class_\">Map</span>) <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Set</span>([...originValue])<br><br>  <span class=\"hljs-comment\">// è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜</span><br>  <span class=\"hljs-keyword\">if</span> (weakMap.<span class=\"hljs-title function_\">has</span>(originValue)) &#123;<br>    <span class=\"hljs-keyword\">return</span> weakMap.<span class=\"hljs-title function_\">get</span>(originValue)<br>  &#125;<br>  weakMap.<span class=\"hljs-title function_\">set</span>(originValue, newObj)<br><br>  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> key <span class=\"hljs-keyword\">in</span> originValue) &#123;<br>    newObj[key] = <span class=\"hljs-title function_\">deepClone</span>(originValue[key], weakMap)<br>  &#125;<br>  <span class=\"hljs-comment\">// å¤„ç†Symbolç±»å‹ä½œä¸ºkey</span><br>  <span class=\"hljs-keyword\">const</span> symbolKeys = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">getOwnPropertySymbols</span>(originValue)<br>  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">const</span> sKey <span class=\"hljs-keyword\">in</span> symbolKeys) &#123;<br>    newObj[sKey] = <span class=\"hljs-title function_\">deepClone</span>(originValue[sKey], weakMap)<br>  &#125;<br><br>  <span class=\"hljs-keyword\">return</span> newObj<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åå››ã€äº‹ä»¶æ€»çº¿\"><a href=\"#åå››ã€äº‹ä»¶æ€»çº¿\" class=\"headerlink\" title=\"åå››ã€äº‹ä»¶æ€»çº¿\"></a>åå››ã€äº‹ä»¶æ€»çº¿</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title class_\">LyEventBus</span> &#123;<br>  <span class=\"hljs-title function_\">constructor</span>(<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">eventBus</span> = &#123;&#125;<br>  &#125;<br><br>  <span class=\"hljs-title function_\">on</span>(<span class=\"hljs-params\">eventName, eventCallBack, thisArg</span>) &#123;<br>    <span class=\"hljs-keyword\">let</span> handlers = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">eventBus</span>[eventName]<br>    <span class=\"hljs-keyword\">if</span> (!handlers) handlers = []<br>    handlers.<span class=\"hljs-title function_\">push</span>(&#123;<br>      eventCallBack,<br>      thisArg<br>    &#125;)<br>    <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">eventBus</span>[eventName] = handlers<br>  &#125;<br><br>  <span class=\"hljs-title function_\">emit</span>(<span class=\"hljs-params\">eventName, ...payload</span>) &#123;<br>    <span class=\"hljs-keyword\">const</span> handlers = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">eventBus</span>[eventName]<br>    <span class=\"hljs-keyword\">if</span> (!handlers) <span class=\"hljs-keyword\">return</span><br>    handlers.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">handler</span>) =&gt;</span> &#123;<br>      handler.<span class=\"hljs-property\">eventCallBack</span>.<span class=\"hljs-title function_\">apply</span>(handler.<span class=\"hljs-property\">thisArg</span>, payload)<br>    &#125;)<br>  &#125;<br><br>  <span class=\"hljs-title function_\">off</span>(<span class=\"hljs-params\">eventName, eventCallBack</span>) &#123;<br>    <span class=\"hljs-keyword\">const</span> handlers = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">eventBus</span>[eventName]<br>    <span class=\"hljs-keyword\">if</span> (!handlers) <span class=\"hljs-keyword\">return</span><br>    <span class=\"hljs-keyword\">const</span> copyHandlers = [...handlers]<br>    copyHandlers.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">handler</span>) =&gt;</span> &#123;<br>      <span class=\"hljs-keyword\">if</span> (handler.<span class=\"hljs-property\">eventCallBack</span> === eventCallBack) &#123;<br>        <span class=\"hljs-keyword\">const</span> index = handlers.<span class=\"hljs-title function_\">indexOf</span>(handler)<br>        handlers.<span class=\"hljs-title function_\">splice</span>(index, <span class=\"hljs-number\">1</span>)<br>      &#125;<br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åäº”ã€å¿«é€Ÿæ’åº\"><a href=\"#åäº”ã€å¿«é€Ÿæ’åº\" class=\"headerlink\" title=\"åäº”ã€å¿«é€Ÿæ’åº\"></a>åäº”ã€å¿«é€Ÿæ’åº</h2><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">quickSort</span>(<span class=\"hljs-params\">arr, func = (a, b) =&gt; a - b</span>) &#123;<br>  <span class=\"hljs-keyword\">if</span> (!arr || !arr.<span class=\"hljs-property\">length</span>) <span class=\"hljs-keyword\">return</span> [] <span class=\"hljs-comment\">// ç¡®ä¿ä¼ å…¥çš„æ˜¯æ•°ç»„</span><br>  <span class=\"hljs-keyword\">if</span> (arr.<span class=\"hljs-property\">length</span> === <span class=\"hljs-number\">1</span>) <span class=\"hljs-keyword\">return</span> arr <span class=\"hljs-comment\">// è·³å‡ºé€’å½’æ¡ä»¶</span><br>  <span class=\"hljs-keyword\">const</span> pivot = arr[<span class=\"hljs-number\">0</span>] <span class=\"hljs-comment\">// é€‰å–åŸºå‡†å…ƒç´ </span><br>  <span class=\"hljs-comment\">// å°äºåŸºå‡†å…ƒç´ çš„å…ƒç´ é›†åˆ</span><br>  <span class=\"hljs-keyword\">const</span> smallSet = arr.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">1</span>).<span class=\"hljs-title function_\">filter</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">item</span>) =&gt;</span> <span class=\"hljs-title function_\">quickSort</span>(item, pivot) &lt; <span class=\"hljs-number\">0</span>)<br>  <span class=\"hljs-comment\">// å¤§äºåŸºå‡†å…ƒç´ çš„å…ƒç´ é›†åˆ</span><br>  <span class=\"hljs-keyword\">const</span> bigSet = arr.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">1</span>).<span class=\"hljs-title function_\">filter</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">item</span>) =&gt;</span> <span class=\"hljs-title function_\">quickSort</span>(item, pivot) &gt; <span class=\"hljs-number\">0</span>)<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">quickSort</span>(smallSet, func).<span class=\"hljs-title function_\">concat</span>([pivot]).<span class=\"hljs-title function_\">concat</span>(<span class=\"hljs-title function_\">quickSort</span>(bigSet, func))<br>&#125;<br></code></pre></td></tr></table></figure>\n"},{"title":"æ­å»ºjenkinsæœåŠ¡å™¨ç¯å¢ƒ","keywords":"jenkins","_content":"\n## ä¸€. è´­ä¹°äº‘æœåŠ¡å™¨\n\nè¿™é‡Œæˆ‘è´­ä¹°çš„æœåŠ¡å™¨æ˜¯é˜¿é‡Œäº‘çš„ECSäº‘æœåŠ¡å™¨ï¼Œç³»ç»Ÿæ˜¯CentOS Linux release 8.5.2111ï¼Œæ€ä¹ˆè´­ä¹°è‡ªè¡Œç™¾åº¦æˆ–ç›´æ¥å»å®˜ç½‘è´­ä¹°\n\n## äºŒ. æ­å»ºæœåŠ¡å™¨ç¯å¢ƒ\n\n### 2.1. jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²\n\n#### 2.1.1. å®‰è£…Javaç¯å¢ƒ\n\nJenkinsæœ¬èº«æ˜¯ä¾èµ–Javaçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆå®‰è£…Javaç¯å¢ƒï¼š\n\n* è¿™é‡Œæˆ‘å®‰è£…äº†Java1.8çš„ç¯å¢ƒ\n\n```shell\ndnf search java-1.8\ndnf install java-1.8.0-openjdk.x86_64\n```\n\n\n\n#### 2.1.2. å®‰è£…Jenkins\n\nå› ä¸ºJenkinsæœ¬èº«æ˜¯æ²¡æœ‰åœ¨dnfçš„è½¯ä»¶ä»“åº“åŒ…ä¸­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿æ¥Jenkinsä»“åº“ï¼š\n\n* wgetæ˜¯Linuxä¸­ä¸‹è½½æ–‡ä»¶çš„ä¸€ä¸ªå·¥å…·ï¼Œ-Oè¡¨ç¤ºè¾“å‡ºåˆ°æŸä¸ªæ–‡ä»¶å¤¹å¹¶ä¸”å‘½åä¸ºä»€ä¹ˆæ–‡ä»¶ï¼›\n* rpmï¼šå…¨ç§°ä¸º**The RPM Package Manage**ï¼Œæ˜¯Linuxä¸‹ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼›\n\n```shell\nwget â€“O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat-stable/jenkins.repo\n\n# å¯¼å…¥GPGå¯†é’¥ä»¥ç¡®ä¿æ‚¨çš„è½¯ä»¶åˆæ³•\nrpm --import https://pkg.jenkins.io/redhat/jenkins.io.key\n# æˆ–è€…\nrpm --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key\n```\n\nç¼–è¾‘ä¸€ä¸‹æ–‡ä»¶/etc/yum.repos.d/jenkins.repo\n\n* å¯ä»¥é€šè¿‡vimç¼–è¾‘\n\n```\n[jenkins]\n\nname=Jenkins-stable\n\nbaseurl=http://pkg.jenkins.io/redhat\n\ngpgcheck=1\n```\n\nå®‰è£…Jenkins\n\n```shell\ndnf install jenkins # --nogpgcheck(å¯ä»¥ä¸åŠ )\n```\n\nå¯åŠ¨Jenkinsçš„æœåŠ¡ï¼š\n\n```shell\nsystemctl start jenkins\nsystemctl status jenkins\nsystemctl enable jenkins\n```\n\nJenkinsé»˜è®¤ä½¿ç”¨8080ç«¯å£æä¾›æœåŠ¡ï¼Œæ‰€ä»¥éœ€è¦åŠ å…¥åˆ°å®‰å…¨ç»„ä¸­ï¼š\n\n![image-20201204173117359](https://tva1.sinaimg.cn/large/0081Kckwgy1glbyeoz6tqj315w0bzmzj.jpg)\n\n\n\n\n\n#### 2.1.3. Jenkinsç”¨æˆ·\n\næˆ‘ä»¬åé¢ä¼šè®¿é—®centosä¸­çš„æŸäº›æ–‡ä»¶å¤¹ï¼Œé»˜è®¤Jenkinsä½¿ç”¨çš„ç”¨æˆ·æ˜¯ `jenkins`ï¼Œå¯èƒ½ä¼šæ²¡æœ‰è®¿é—®æƒé™ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹å®ƒçš„ç”¨æˆ·ï¼š\n\nä¿®æ”¹æ–‡ä»¶çš„è·¯å¾„ï¼š`/etc/sysconfig/jenkins`\n\n![image-20210825162827962](https://tva1.sinaimg.cn/large/008i3skNgy1gtt46oxg53j60n00aw75302.jpg)\n\nä¹‹åéœ€è¦é‡å¯ä¸€ä¸‹Jenkinsï¼š\n\n```shell\nsystemctl restart jenkins\n```\n\n\n\n#### 2.1.4. Jenkinsé…ç½®\n\næ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ï¼šhttp://8.134.60.235:8080/\n\n* æ³¨æ„ï¼šä½ è¾“å…¥è‡ªå·±çš„IPåœ°å€\n\nè·å–è¾“å…¥ç®¡ç†å‘˜å¯†ç ï¼š\n\n* åœ¨ä¸‹é¢çš„åœ°å€ä¸­ `cat /var/lib/jenkins/secrets/initialAdminPassword`\n\n![image-20201203173047824](/Users/coderwhy/Library/Application Support/typora-user-images/image-20201203173047824.png)\n\nå¯ä»¥å®‰è£…æ¨èçš„æ’ä»¶ï¼š\n\n![å®‰è£…æ¨èçš„æ’ä»¶](https://tva1.sinaimg.cn/large/0081Kckwgy1glbylb26ouj30fb082js7.jpg)\n\n\n\n#### 2.1.5. Jenkinsä»»åŠ¡\n\n**æ–°å»ºä»»åŠ¡ï¼š**\n\n![æ–°å»ºä»»åŠ¡](https://tva1.sinaimg.cn/large/0081Kckwgy1glc0uinjzej30pa0fet9z.jpg)\n\n![image-20201204185613061](https://tva1.sinaimg.cn/large/0081Kckwgy1glc0v225vaj30wl0hkn05.jpg)\n\n**é…ç½®é¡¹ç›®å’Œä¿ç•™ç­–ç•¥ï¼š**\n\n![image-20210825160744119](https://tva1.sinaimg.cn/large/008i3skNgy1gtt3l4fjm6j614p0d2dgl02.jpg)\n\n**æºç ç®¡ç†ï¼š**\n\n![image-20210825160818122](https://tva1.sinaimg.cn/large/008i3skNgy1gtt3lpcvtgj614k0j8jsn02.jpg)\n\n**æ„å»ºè§¦å‘å™¨ï¼š**\n\nè¿™é‡Œçš„è§¦å‘å™¨è§„åˆ™æ˜¯è¿™æ ·çš„ï¼š\n\n* å®šæ—¶å­—ç¬¦ä¸²ä»å·¦å¾€å³åˆ†åˆ«æ˜¯ï¼šåˆ† æ—¶ æ—¥ æœˆ å‘¨\n\n```js\n#æ¯åŠå°æ—¶æ„å»ºä¸€æ¬¡ORæ¯åŠå°æ—¶æ£€æŸ¥ä¸€æ¬¡è¿œç¨‹ä»£ç åˆ†æ”¯ï¼Œæœ‰æ›´æ–°åˆ™æ„å»º\nH/30 * * * *\n\n#æ¯ä¸¤å°æ—¶æ„å»ºä¸€æ¬¡ORæ¯ä¸¤å°æ—¶æ£€æŸ¥ä¸€æ¬¡è¿œç¨‹ä»£ç åˆ†æ”¯ï¼Œæœ‰æ›´æ–°åˆ™æ„å»º\nH H/2 * * *\n\n#æ¯å¤©å‡Œæ™¨ä¸¤ç‚¹å®šæ—¶æ„å»º\nH 2 * * *\n\n#æ¯æœˆ15å·æ‰§è¡Œæ„å»º\nH H 15 * *\n\n#å·¥ä½œæ—¥ï¼Œä¸Šåˆ9ç‚¹æ•´æ‰§è¡Œ\nH 9 * * 1-5\n\n#æ¯å‘¨1,3,5ï¼Œä»8:30å¼€å§‹ï¼Œæˆªæ­¢19:30ï¼Œæ¯4å°æ—¶30åˆ†æ„å»ºä¸€æ¬¡\nH/30 8-20/4 * * 1,3,5\n```\n\n\n\n![è§¦å‘å™¨](https://tva1.sinaimg.cn/large/008i3skNgy1gtt419gw6tj614g0agmy402.jpg)\n\n**æ„å»ºç¯å¢ƒï¼š**\n\næ³¨æ„ï¼šæˆ‘ä»¬éœ€è¦æ­å»ºNodeçš„ç¯å¢ƒ\n\n* ç¬¬ä¸€æ­¥ï¼šé…ç½®Nodeçš„ç¯å¢ƒï¼›\n* ç¬¬äºŒæ­¥ï¼šå®‰è£…Nodeçš„æ’ä»¶ï¼›\n\n![image-20201204190055096](https://tva1.sinaimg.cn/large/0081Kckwgy1glc0zyecd4j31ar0ecjuz.jpg)\n\nç¬¬ä¸€æ­¥ï¼šé…ç½®Nodeçš„ç¯å¢ƒ\n\n![nodeç¯å¢ƒ](https://tva1.sinaimg.cn/large/008i3skNgy1gtt42elwduj614h0elwfq02.jpg)\n\nç¬¬äºŒæ­¥ï¼šå®‰è£…Nodeçš„æ’ä»¶\n\n* è¿™é‡Œå› ä¸ºæˆ‘å·²ç»å®‰è£…è¿‡äº†ï¼Œæ‰€ä»¥æ²¡æœ‰æœç´¢åˆ°ï¼›\n\n![image-20201204185949452](https://tva1.sinaimg.cn/large/0081Kckwgy1glc0yta64bj30r907caam.jpg)\n\n\n\næ„å»ºæ‰§è¡Œçš„ä»»åŠ¡ï¼š\n\n* æŸ¥çœ‹Nodeçš„ç‰ˆæœ¬ç­‰æ˜¯å¦æœ‰é—®é¢˜ï¼›\n* æ‰§è¡Œ `npm install` å®‰è£…é¡¹ç›®çš„ä¾èµ–ï¼›\n* ç§»é™¤åŸæ¥mall_cmsæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹ï¼›\n* å°†æ‰“åŒ…çš„distæ–‡ä»¶å¤¹å†…å®¹ç§»åŠ¨åˆ°mall_cmsæ–‡ä»¶å¤¹ï¼›\n\n```shell\npwd\nnode -v\nnpm -v\n\nnpm install \nnpm run build\n\npwd\n\necho 'æ„å»ºæˆåŠŸ'\n\nls\n\n# åˆ é™¤/root/mall_cmsæ–‡ä»¶å¤¹é‡Œæ‰€æœ‰çš„å†…å®¹\nrm -rf /root/mall_cms/* \n\ncp -rf ./dist/* /root/mall_cms/\n```\n\n\n\n![æ‰§è¡Œæ„å»ºä»»åŠ¡](https://tva1.sinaimg.cn/large/008i3skNgy1gtt43sz933j614o0dy0tk02.jpg)\n\n\n\n### 2.2. nginxå®‰è£…å’Œé…ç½®\n\n#### 2.2.1. å®‰è£…nginx\n\nåç»­æˆ‘ä»¬éƒ¨ç½²ä¼šä½¿ç”¨nginxï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…ä¸€ä¸‹nginxï¼š\n\n```shell\ndnf install nginx\n```\n\nå¯åŠ¨nginxï¼š\n\n```shell\nsystemctl start nginx\nsystemctl status nginx\nsystemctl enable nginx\n```\n\n\n\n#### 2.2.2. é…ç½®nginx\n\næˆ‘ä»¬è¿™é‡Œä¸»è¦é…ç½®nginxçš„ç”¨æˆ·å’Œé»˜è®¤è®¿é—®ç›®å½•ï¼š\n\né…ç½®ç”¨æˆ·ï¼š\n\n![image-20210825163329209](https://tva1.sinaimg.cn/large/008i3skNgy1gtt4bwvxc4j60f30453yk02.jpg)\n\n\n\né€šè¿‡Linuxå‘½ä»¤åˆ›å»ºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼š\n\n```shell\nmkdir /root/mall_cms\ncd /root/mall_cms\ntouch index.html\n\nvi index.html\n```\n\n\n\né…ç½®è®¿é—®ç›®å½•ï¼š\n\n![image-20210825163406566](https://tva1.sinaimg.cn/large/008i3skNgy1gtt4cka6hgj60n00bwgmc02.jpg)\n\n\n\n","source":"_posts/æ­å»ºjenkins.md","raw":"---\ntitle:  æ­å»ºjenkinsæœåŠ¡å™¨ç¯å¢ƒ\ntag: jenkins\nkeywords: jenkins\ncategories: è‡ªåŠ¨åŒ–éƒ¨ç½²\n---\n\n## ä¸€. è´­ä¹°äº‘æœåŠ¡å™¨\n\nè¿™é‡Œæˆ‘è´­ä¹°çš„æœåŠ¡å™¨æ˜¯é˜¿é‡Œäº‘çš„ECSäº‘æœåŠ¡å™¨ï¼Œç³»ç»Ÿæ˜¯CentOS Linux release 8.5.2111ï¼Œæ€ä¹ˆè´­ä¹°è‡ªè¡Œç™¾åº¦æˆ–ç›´æ¥å»å®˜ç½‘è´­ä¹°\n\n## äºŒ. æ­å»ºæœåŠ¡å™¨ç¯å¢ƒ\n\n### 2.1. jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²\n\n#### 2.1.1. å®‰è£…Javaç¯å¢ƒ\n\nJenkinsæœ¬èº«æ˜¯ä¾èµ–Javaçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆå®‰è£…Javaç¯å¢ƒï¼š\n\n* è¿™é‡Œæˆ‘å®‰è£…äº†Java1.8çš„ç¯å¢ƒ\n\n```shell\ndnf search java-1.8\ndnf install java-1.8.0-openjdk.x86_64\n```\n\n\n\n#### 2.1.2. å®‰è£…Jenkins\n\nå› ä¸ºJenkinsæœ¬èº«æ˜¯æ²¡æœ‰åœ¨dnfçš„è½¯ä»¶ä»“åº“åŒ…ä¸­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿æ¥Jenkinsä»“åº“ï¼š\n\n* wgetæ˜¯Linuxä¸­ä¸‹è½½æ–‡ä»¶çš„ä¸€ä¸ªå·¥å…·ï¼Œ-Oè¡¨ç¤ºè¾“å‡ºåˆ°æŸä¸ªæ–‡ä»¶å¤¹å¹¶ä¸”å‘½åä¸ºä»€ä¹ˆæ–‡ä»¶ï¼›\n* rpmï¼šå…¨ç§°ä¸º**The RPM Package Manage**ï¼Œæ˜¯Linuxä¸‹ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼›\n\n```shell\nwget â€“O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat-stable/jenkins.repo\n\n# å¯¼å…¥GPGå¯†é’¥ä»¥ç¡®ä¿æ‚¨çš„è½¯ä»¶åˆæ³•\nrpm --import https://pkg.jenkins.io/redhat/jenkins.io.key\n# æˆ–è€…\nrpm --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key\n```\n\nç¼–è¾‘ä¸€ä¸‹æ–‡ä»¶/etc/yum.repos.d/jenkins.repo\n\n* å¯ä»¥é€šè¿‡vimç¼–è¾‘\n\n```\n[jenkins]\n\nname=Jenkins-stable\n\nbaseurl=http://pkg.jenkins.io/redhat\n\ngpgcheck=1\n```\n\nå®‰è£…Jenkins\n\n```shell\ndnf install jenkins # --nogpgcheck(å¯ä»¥ä¸åŠ )\n```\n\nå¯åŠ¨Jenkinsçš„æœåŠ¡ï¼š\n\n```shell\nsystemctl start jenkins\nsystemctl status jenkins\nsystemctl enable jenkins\n```\n\nJenkinsé»˜è®¤ä½¿ç”¨8080ç«¯å£æä¾›æœåŠ¡ï¼Œæ‰€ä»¥éœ€è¦åŠ å…¥åˆ°å®‰å…¨ç»„ä¸­ï¼š\n\n![image-20201204173117359](https://tva1.sinaimg.cn/large/0081Kckwgy1glbyeoz6tqj315w0bzmzj.jpg)\n\n\n\n\n\n#### 2.1.3. Jenkinsç”¨æˆ·\n\næˆ‘ä»¬åé¢ä¼šè®¿é—®centosä¸­çš„æŸäº›æ–‡ä»¶å¤¹ï¼Œé»˜è®¤Jenkinsä½¿ç”¨çš„ç”¨æˆ·æ˜¯ `jenkins`ï¼Œå¯èƒ½ä¼šæ²¡æœ‰è®¿é—®æƒé™ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹å®ƒçš„ç”¨æˆ·ï¼š\n\nä¿®æ”¹æ–‡ä»¶çš„è·¯å¾„ï¼š`/etc/sysconfig/jenkins`\n\n![image-20210825162827962](https://tva1.sinaimg.cn/large/008i3skNgy1gtt46oxg53j60n00aw75302.jpg)\n\nä¹‹åéœ€è¦é‡å¯ä¸€ä¸‹Jenkinsï¼š\n\n```shell\nsystemctl restart jenkins\n```\n\n\n\n#### 2.1.4. Jenkinsé…ç½®\n\næ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ï¼šhttp://8.134.60.235:8080/\n\n* æ³¨æ„ï¼šä½ è¾“å…¥è‡ªå·±çš„IPåœ°å€\n\nè·å–è¾“å…¥ç®¡ç†å‘˜å¯†ç ï¼š\n\n* åœ¨ä¸‹é¢çš„åœ°å€ä¸­ `cat /var/lib/jenkins/secrets/initialAdminPassword`\n\n![image-20201203173047824](/Users/coderwhy/Library/Application Support/typora-user-images/image-20201203173047824.png)\n\nå¯ä»¥å®‰è£…æ¨èçš„æ’ä»¶ï¼š\n\n![å®‰è£…æ¨èçš„æ’ä»¶](https://tva1.sinaimg.cn/large/0081Kckwgy1glbylb26ouj30fb082js7.jpg)\n\n\n\n#### 2.1.5. Jenkinsä»»åŠ¡\n\n**æ–°å»ºä»»åŠ¡ï¼š**\n\n![æ–°å»ºä»»åŠ¡](https://tva1.sinaimg.cn/large/0081Kckwgy1glc0uinjzej30pa0fet9z.jpg)\n\n![image-20201204185613061](https://tva1.sinaimg.cn/large/0081Kckwgy1glc0v225vaj30wl0hkn05.jpg)\n\n**é…ç½®é¡¹ç›®å’Œä¿ç•™ç­–ç•¥ï¼š**\n\n![image-20210825160744119](https://tva1.sinaimg.cn/large/008i3skNgy1gtt3l4fjm6j614p0d2dgl02.jpg)\n\n**æºç ç®¡ç†ï¼š**\n\n![image-20210825160818122](https://tva1.sinaimg.cn/large/008i3skNgy1gtt3lpcvtgj614k0j8jsn02.jpg)\n\n**æ„å»ºè§¦å‘å™¨ï¼š**\n\nè¿™é‡Œçš„è§¦å‘å™¨è§„åˆ™æ˜¯è¿™æ ·çš„ï¼š\n\n* å®šæ—¶å­—ç¬¦ä¸²ä»å·¦å¾€å³åˆ†åˆ«æ˜¯ï¼šåˆ† æ—¶ æ—¥ æœˆ å‘¨\n\n```js\n#æ¯åŠå°æ—¶æ„å»ºä¸€æ¬¡ORæ¯åŠå°æ—¶æ£€æŸ¥ä¸€æ¬¡è¿œç¨‹ä»£ç åˆ†æ”¯ï¼Œæœ‰æ›´æ–°åˆ™æ„å»º\nH/30 * * * *\n\n#æ¯ä¸¤å°æ—¶æ„å»ºä¸€æ¬¡ORæ¯ä¸¤å°æ—¶æ£€æŸ¥ä¸€æ¬¡è¿œç¨‹ä»£ç åˆ†æ”¯ï¼Œæœ‰æ›´æ–°åˆ™æ„å»º\nH H/2 * * *\n\n#æ¯å¤©å‡Œæ™¨ä¸¤ç‚¹å®šæ—¶æ„å»º\nH 2 * * *\n\n#æ¯æœˆ15å·æ‰§è¡Œæ„å»º\nH H 15 * *\n\n#å·¥ä½œæ—¥ï¼Œä¸Šåˆ9ç‚¹æ•´æ‰§è¡Œ\nH 9 * * 1-5\n\n#æ¯å‘¨1,3,5ï¼Œä»8:30å¼€å§‹ï¼Œæˆªæ­¢19:30ï¼Œæ¯4å°æ—¶30åˆ†æ„å»ºä¸€æ¬¡\nH/30 8-20/4 * * 1,3,5\n```\n\n\n\n![è§¦å‘å™¨](https://tva1.sinaimg.cn/large/008i3skNgy1gtt419gw6tj614g0agmy402.jpg)\n\n**æ„å»ºç¯å¢ƒï¼š**\n\næ³¨æ„ï¼šæˆ‘ä»¬éœ€è¦æ­å»ºNodeçš„ç¯å¢ƒ\n\n* ç¬¬ä¸€æ­¥ï¼šé…ç½®Nodeçš„ç¯å¢ƒï¼›\n* ç¬¬äºŒæ­¥ï¼šå®‰è£…Nodeçš„æ’ä»¶ï¼›\n\n![image-20201204190055096](https://tva1.sinaimg.cn/large/0081Kckwgy1glc0zyecd4j31ar0ecjuz.jpg)\n\nç¬¬ä¸€æ­¥ï¼šé…ç½®Nodeçš„ç¯å¢ƒ\n\n![nodeç¯å¢ƒ](https://tva1.sinaimg.cn/large/008i3skNgy1gtt42elwduj614h0elwfq02.jpg)\n\nç¬¬äºŒæ­¥ï¼šå®‰è£…Nodeçš„æ’ä»¶\n\n* è¿™é‡Œå› ä¸ºæˆ‘å·²ç»å®‰è£…è¿‡äº†ï¼Œæ‰€ä»¥æ²¡æœ‰æœç´¢åˆ°ï¼›\n\n![image-20201204185949452](https://tva1.sinaimg.cn/large/0081Kckwgy1glc0yta64bj30r907caam.jpg)\n\n\n\næ„å»ºæ‰§è¡Œçš„ä»»åŠ¡ï¼š\n\n* æŸ¥çœ‹Nodeçš„ç‰ˆæœ¬ç­‰æ˜¯å¦æœ‰é—®é¢˜ï¼›\n* æ‰§è¡Œ `npm install` å®‰è£…é¡¹ç›®çš„ä¾èµ–ï¼›\n* ç§»é™¤åŸæ¥mall_cmsæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹ï¼›\n* å°†æ‰“åŒ…çš„distæ–‡ä»¶å¤¹å†…å®¹ç§»åŠ¨åˆ°mall_cmsæ–‡ä»¶å¤¹ï¼›\n\n```shell\npwd\nnode -v\nnpm -v\n\nnpm install \nnpm run build\n\npwd\n\necho 'æ„å»ºæˆåŠŸ'\n\nls\n\n# åˆ é™¤/root/mall_cmsæ–‡ä»¶å¤¹é‡Œæ‰€æœ‰çš„å†…å®¹\nrm -rf /root/mall_cms/* \n\ncp -rf ./dist/* /root/mall_cms/\n```\n\n\n\n![æ‰§è¡Œæ„å»ºä»»åŠ¡](https://tva1.sinaimg.cn/large/008i3skNgy1gtt43sz933j614o0dy0tk02.jpg)\n\n\n\n### 2.2. nginxå®‰è£…å’Œé…ç½®\n\n#### 2.2.1. å®‰è£…nginx\n\nåç»­æˆ‘ä»¬éƒ¨ç½²ä¼šä½¿ç”¨nginxï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…ä¸€ä¸‹nginxï¼š\n\n```shell\ndnf install nginx\n```\n\nå¯åŠ¨nginxï¼š\n\n```shell\nsystemctl start nginx\nsystemctl status nginx\nsystemctl enable nginx\n```\n\n\n\n#### 2.2.2. é…ç½®nginx\n\næˆ‘ä»¬è¿™é‡Œä¸»è¦é…ç½®nginxçš„ç”¨æˆ·å’Œé»˜è®¤è®¿é—®ç›®å½•ï¼š\n\né…ç½®ç”¨æˆ·ï¼š\n\n![image-20210825163329209](https://tva1.sinaimg.cn/large/008i3skNgy1gtt4bwvxc4j60f30453yk02.jpg)\n\n\n\né€šè¿‡Linuxå‘½ä»¤åˆ›å»ºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼š\n\n```shell\nmkdir /root/mall_cms\ncd /root/mall_cms\ntouch index.html\n\nvi index.html\n```\n\n\n\né…ç½®è®¿é—®ç›®å½•ï¼š\n\n![image-20210825163406566](https://tva1.sinaimg.cn/large/008i3skNgy1gtt4cka6hgj60n00bwgmc02.jpg)\n\n\n\n","slug":"æ­å»ºjenkins","published":1,"date":"2022-02-10T07:11:10.000Z","updated":"2022-02-10T07:21:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9kx000ji024c0vsdswz","content":"<h2 id=\"ä¸€-è´­ä¹°äº‘æœåŠ¡å™¨\"><a href=\"#ä¸€-è´­ä¹°äº‘æœåŠ¡å™¨\" class=\"headerlink\" title=\"ä¸€. è´­ä¹°äº‘æœåŠ¡å™¨\"></a>ä¸€. è´­ä¹°äº‘æœåŠ¡å™¨</h2><p>è¿™é‡Œæˆ‘è´­ä¹°çš„æœåŠ¡å™¨æ˜¯é˜¿é‡Œäº‘çš„ECSäº‘æœåŠ¡å™¨ï¼Œç³»ç»Ÿæ˜¯CentOS Linux release 8.5.2111ï¼Œæ€ä¹ˆè´­ä¹°è‡ªè¡Œç™¾åº¦æˆ–ç›´æ¥å»å®˜ç½‘è´­ä¹°</p>\n<h2 id=\"äºŒ-æ­å»ºæœåŠ¡å™¨ç¯å¢ƒ\"><a href=\"#äºŒ-æ­å»ºæœåŠ¡å™¨ç¯å¢ƒ\" class=\"headerlink\" title=\"äºŒ. æ­å»ºæœåŠ¡å™¨ç¯å¢ƒ\"></a>äºŒ. æ­å»ºæœåŠ¡å™¨ç¯å¢ƒ</h2><h3 id=\"2-1-jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²\"><a href=\"#2-1-jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²\" class=\"headerlink\" title=\"2.1. jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²\"></a>2.1. jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²</h3><h4 id=\"2-1-1-å®‰è£…Javaç¯å¢ƒ\"><a href=\"#2-1-1-å®‰è£…Javaç¯å¢ƒ\" class=\"headerlink\" title=\"2.1.1. å®‰è£…Javaç¯å¢ƒ\"></a>2.1.1. å®‰è£…Javaç¯å¢ƒ</h4><p>Jenkinsæœ¬èº«æ˜¯ä¾èµ–Javaçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆå®‰è£…Javaç¯å¢ƒï¼š</p>\n<ul>\n<li>è¿™é‡Œæˆ‘å®‰è£…äº†Java1.8çš„ç¯å¢ƒ</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">dnf search java-1.8<br>dnf install java-1.8.0-openjdk.x86_64<br></code></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"2-1-2-å®‰è£…Jenkins\"><a href=\"#2-1-2-å®‰è£…Jenkins\" class=\"headerlink\" title=\"2.1.2. å®‰è£…Jenkins\"></a>2.1.2. å®‰è£…Jenkins</h4><p>å› ä¸ºJenkinsæœ¬èº«æ˜¯æ²¡æœ‰åœ¨dnfçš„è½¯ä»¶ä»“åº“åŒ…ä¸­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿æ¥Jenkinsä»“åº“ï¼š</p>\n<ul>\n<li>wgetæ˜¯Linuxä¸­ä¸‹è½½æ–‡ä»¶çš„ä¸€ä¸ªå·¥å…·ï¼Œ-Oè¡¨ç¤ºè¾“å‡ºåˆ°æŸä¸ªæ–‡ä»¶å¤¹å¹¶ä¸”å‘½åä¸ºä»€ä¹ˆæ–‡ä»¶ï¼›</li>\n<li>rpmï¼šå…¨ç§°ä¸º<strong>The RPM Package Manage</strong>ï¼Œæ˜¯Linuxä¸‹ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼›</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">wget â€“O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat-stable/jenkins.repo<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">å¯¼å…¥GPGå¯†é’¥ä»¥ç¡®ä¿æ‚¨çš„è½¯ä»¶åˆæ³•</span><br>rpm --import https://pkg.jenkins.io/redhat/jenkins.io.key<br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">æˆ–è€…</span><br>rpm --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key<br></code></pre></td></tr></table></figure>\n\n<p>ç¼–è¾‘ä¸€ä¸‹æ–‡ä»¶/etc/yum.repos.d/jenkins.repo</p>\n<ul>\n<li>å¯ä»¥é€šè¿‡vimç¼–è¾‘</li>\n</ul>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ini\"><span class=\"hljs-section\">[jenkins]</span><br><br><span class=\"hljs-attr\">name</span>=Jenkins-stable<br><br><span class=\"hljs-attr\">baseurl</span>=http://pkg.jenkins.io/redhat<br><br><span class=\"hljs-attr\">gpgcheck</span>=<span class=\"hljs-number\">1</span><br></code></pre></td></tr></table></figure>\n\n<p>å®‰è£…Jenkins</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">dnf install jenkins # --nogpgcheck(å¯ä»¥ä¸åŠ )<br></code></pre></td></tr></table></figure>\n\n<p>å¯åŠ¨Jenkinsçš„æœåŠ¡ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">systemctl start jenkins<br>systemctl status jenkins<br>systemctl enable jenkins<br></code></pre></td></tr></table></figure>\n\n<p>Jenkinsé»˜è®¤ä½¿ç”¨8080ç«¯å£æä¾›æœåŠ¡ï¼Œæ‰€ä»¥éœ€è¦åŠ å…¥åˆ°å®‰å…¨ç»„ä¸­ï¼š</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glbyeoz6tqj315w0bzmzj.jpg\" alt=\"image-20201204173117359\"></p>\n<h4 id=\"2-1-3-Jenkinsç”¨æˆ·\"><a href=\"#2-1-3-Jenkinsç”¨æˆ·\" class=\"headerlink\" title=\"2.1.3. Jenkinsç”¨æˆ·\"></a>2.1.3. Jenkinsç”¨æˆ·</h4><p>æˆ‘ä»¬åé¢ä¼šè®¿é—®centosä¸­çš„æŸäº›æ–‡ä»¶å¤¹ï¼Œé»˜è®¤Jenkinsä½¿ç”¨çš„ç”¨æˆ·æ˜¯ <code>jenkins</code>ï¼Œå¯èƒ½ä¼šæ²¡æœ‰è®¿é—®æƒé™ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹å®ƒçš„ç”¨æˆ·ï¼š</p>\n<p>ä¿®æ”¹æ–‡ä»¶çš„è·¯å¾„ï¼š<code>/etc/sysconfig/jenkins</code></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt46oxg53j60n00aw75302.jpg\" alt=\"image-20210825162827962\"></p>\n<p>ä¹‹åéœ€è¦é‡å¯ä¸€ä¸‹Jenkinsï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">systemctl restart jenkins<br></code></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"2-1-4-Jenkinsé…ç½®\"><a href=\"#2-1-4-Jenkinsé…ç½®\" class=\"headerlink\" title=\"2.1.4. Jenkinsé…ç½®\"></a>2.1.4. Jenkinsé…ç½®</h4><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ï¼š<a href=\"http://8.134.60.235:8080/\">http://8.134.60.235:8080/</a></p>\n<ul>\n<li>æ³¨æ„ï¼šä½ è¾“å…¥è‡ªå·±çš„IPåœ°å€</li>\n</ul>\n<p>è·å–è¾“å…¥ç®¡ç†å‘˜å¯†ç ï¼š</p>\n<ul>\n<li>åœ¨ä¸‹é¢çš„åœ°å€ä¸­ <code>cat /var/lib/jenkins/secrets/initialAdminPassword</code></li>\n</ul>\n<p>![image-20201203173047824](/Users/coderwhy/Library/Application Support/typora-user-images/image-20201203173047824.png)</p>\n<p>å¯ä»¥å®‰è£…æ¨èçš„æ’ä»¶ï¼š</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glbylb26ouj30fb082js7.jpg\" alt=\"å®‰è£…æ¨èçš„æ’ä»¶\"></p>\n<h4 id=\"2-1-5-Jenkinsä»»åŠ¡\"><a href=\"#2-1-5-Jenkinsä»»åŠ¡\" class=\"headerlink\" title=\"2.1.5. Jenkinsä»»åŠ¡\"></a>2.1.5. Jenkinsä»»åŠ¡</h4><p><strong>æ–°å»ºä»»åŠ¡ï¼š</strong></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glc0uinjzej30pa0fet9z.jpg\" alt=\"æ–°å»ºä»»åŠ¡\"></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glc0v225vaj30wl0hkn05.jpg\" alt=\"image-20201204185613061\"></p>\n<p><strong>é…ç½®é¡¹ç›®å’Œä¿ç•™ç­–ç•¥ï¼š</strong></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt3l4fjm6j614p0d2dgl02.jpg\" alt=\"image-20210825160744119\"></p>\n<p><strong>æºç ç®¡ç†ï¼š</strong></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt3lpcvtgj614k0j8jsn02.jpg\" alt=\"image-20210825160818122\"></p>\n<p><strong>æ„å»ºè§¦å‘å™¨ï¼š</strong></p>\n<p>è¿™é‡Œçš„è§¦å‘å™¨è§„åˆ™æ˜¯è¿™æ ·çš„ï¼š</p>\n<ul>\n<li>å®šæ—¶å­—ç¬¦ä¸²ä»å·¦å¾€å³åˆ†åˆ«æ˜¯ï¼šåˆ† æ—¶ æ—¥ æœˆ å‘¨</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\">#æ¯åŠå°æ—¶æ„å»ºä¸€æ¬¡<span class=\"hljs-variable constant_\">OR</span>æ¯åŠå°æ—¶æ£€æŸ¥ä¸€æ¬¡è¿œç¨‹ä»£ç åˆ†æ”¯ï¼Œæœ‰æ›´æ–°åˆ™æ„å»º<br>H/<span class=\"hljs-number\">30</span> * * * *<br><br>#æ¯ä¸¤å°æ—¶æ„å»ºä¸€æ¬¡<span class=\"hljs-variable constant_\">OR</span>æ¯ä¸¤å°æ—¶æ£€æŸ¥ä¸€æ¬¡è¿œç¨‹ä»£ç åˆ†æ”¯ï¼Œæœ‰æ›´æ–°åˆ™æ„å»º<br>H H/<span class=\"hljs-number\">2</span> * * *<br><br>#æ¯å¤©å‡Œæ™¨ä¸¤ç‚¹å®šæ—¶æ„å»º<br>H <span class=\"hljs-number\">2</span> * * *<br><br>#æ¯æœˆ<span class=\"hljs-number\">15</span>å·æ‰§è¡Œæ„å»º<br>H H <span class=\"hljs-number\">15</span> * *<br><br>#å·¥ä½œæ—¥ï¼Œä¸Šåˆ<span class=\"hljs-number\">9</span>ç‚¹æ•´æ‰§è¡Œ<br>H <span class=\"hljs-number\">9</span> * * <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">5</span><br><br>#æ¯å‘¨<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">5</span>ï¼Œä»<span class=\"hljs-number\">8</span>:<span class=\"hljs-number\">30</span>å¼€å§‹ï¼Œæˆªæ­¢<span class=\"hljs-number\">19</span>:<span class=\"hljs-number\">30</span>ï¼Œæ¯<span class=\"hljs-number\">4</span>å°æ—¶<span class=\"hljs-number\">30</span>åˆ†æ„å»ºä¸€æ¬¡<br>H/<span class=\"hljs-number\">30</span> <span class=\"hljs-number\">8</span>-<span class=\"hljs-number\">20</span>/<span class=\"hljs-number\">4</span> * * <span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">5</span><br></code></pre></td></tr></table></figure>\n\n\n\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt419gw6tj614g0agmy402.jpg\" alt=\"è§¦å‘å™¨\"></p>\n<p><strong>æ„å»ºç¯å¢ƒï¼š</strong></p>\n<p>æ³¨æ„ï¼šæˆ‘ä»¬éœ€è¦æ­å»ºNodeçš„ç¯å¢ƒ</p>\n<ul>\n<li>ç¬¬ä¸€æ­¥ï¼šé…ç½®Nodeçš„ç¯å¢ƒï¼›</li>\n<li>ç¬¬äºŒæ­¥ï¼šå®‰è£…Nodeçš„æ’ä»¶ï¼›</li>\n</ul>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glc0zyecd4j31ar0ecjuz.jpg\" alt=\"image-20201204190055096\"></p>\n<p>ç¬¬ä¸€æ­¥ï¼šé…ç½®Nodeçš„ç¯å¢ƒ</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt42elwduj614h0elwfq02.jpg\" alt=\"nodeç¯å¢ƒ\"></p>\n<p>ç¬¬äºŒæ­¥ï¼šå®‰è£…Nodeçš„æ’ä»¶</p>\n<ul>\n<li>è¿™é‡Œå› ä¸ºæˆ‘å·²ç»å®‰è£…è¿‡äº†ï¼Œæ‰€ä»¥æ²¡æœ‰æœç´¢åˆ°ï¼›</li>\n</ul>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glc0yta64bj30r907caam.jpg\" alt=\"image-20201204185949452\"></p>\n<p>æ„å»ºæ‰§è¡Œçš„ä»»åŠ¡ï¼š</p>\n<ul>\n<li>æŸ¥çœ‹Nodeçš„ç‰ˆæœ¬ç­‰æ˜¯å¦æœ‰é—®é¢˜ï¼›</li>\n<li>æ‰§è¡Œ <code>npm install</code> å®‰è£…é¡¹ç›®çš„ä¾èµ–ï¼›</li>\n<li>ç§»é™¤åŸæ¥mall_cmsæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹ï¼›</li>\n<li>å°†æ‰“åŒ…çš„distæ–‡ä»¶å¤¹å†…å®¹ç§»åŠ¨åˆ°mall_cmsæ–‡ä»¶å¤¹ï¼›</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">pwd<br>node -v<br>npm -v<br><br>npm install <br>npm run build<br><br>pwd<br><br>echo &#x27;æ„å»ºæˆåŠŸ&#x27;<br><br>ls<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">åˆ é™¤/root/mall_cmsæ–‡ä»¶å¤¹é‡Œæ‰€æœ‰çš„å†…å®¹</span><br>rm -rf /root/mall_cms/* <br><br>cp -rf ./dist/* /root/mall_cms/<br></code></pre></td></tr></table></figure>\n\n\n\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt43sz933j614o0dy0tk02.jpg\" alt=\"æ‰§è¡Œæ„å»ºä»»åŠ¡\"></p>\n<h3 id=\"2-2-nginxå®‰è£…å’Œé…ç½®\"><a href=\"#2-2-nginxå®‰è£…å’Œé…ç½®\" class=\"headerlink\" title=\"2.2. nginxå®‰è£…å’Œé…ç½®\"></a>2.2. nginxå®‰è£…å’Œé…ç½®</h3><h4 id=\"2-2-1-å®‰è£…nginx\"><a href=\"#2-2-1-å®‰è£…nginx\" class=\"headerlink\" title=\"2.2.1. å®‰è£…nginx\"></a>2.2.1. å®‰è£…nginx</h4><p>åç»­æˆ‘ä»¬éƒ¨ç½²ä¼šä½¿ç”¨nginxï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…ä¸€ä¸‹nginxï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">dnf install nginx<br></code></pre></td></tr></table></figure>\n\n<p>å¯åŠ¨nginxï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">systemctl start nginx<br>systemctl status nginx<br>systemctl enable nginx<br></code></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"2-2-2-é…ç½®nginx\"><a href=\"#2-2-2-é…ç½®nginx\" class=\"headerlink\" title=\"2.2.2. é…ç½®nginx\"></a>2.2.2. é…ç½®nginx</h4><p>æˆ‘ä»¬è¿™é‡Œä¸»è¦é…ç½®nginxçš„ç”¨æˆ·å’Œé»˜è®¤è®¿é—®ç›®å½•ï¼š</p>\n<p>é…ç½®ç”¨æˆ·ï¼š</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt4bwvxc4j60f30453yk02.jpg\" alt=\"image-20210825163329209\"></p>\n<p>é€šè¿‡Linuxå‘½ä»¤åˆ›å»ºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">mkdir /root/mall_cms<br>cd /root/mall_cms<br>touch index.html<br><br>vi index.html<br></code></pre></td></tr></table></figure>\n\n\n\n<p>é…ç½®è®¿é—®ç›®å½•ï¼š</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt4cka6hgj60n00bwgmc02.jpg\" alt=\"image-20210825163406566\"></p>\n","site":{"data":{}},"wordcount":2193,"excerpt":"","more":"<h2 id=\"ä¸€-è´­ä¹°äº‘æœåŠ¡å™¨\"><a href=\"#ä¸€-è´­ä¹°äº‘æœåŠ¡å™¨\" class=\"headerlink\" title=\"ä¸€. è´­ä¹°äº‘æœåŠ¡å™¨\"></a>ä¸€. è´­ä¹°äº‘æœåŠ¡å™¨</h2><p>è¿™é‡Œæˆ‘è´­ä¹°çš„æœåŠ¡å™¨æ˜¯é˜¿é‡Œäº‘çš„ECSäº‘æœåŠ¡å™¨ï¼Œç³»ç»Ÿæ˜¯CentOS Linux release 8.5.2111ï¼Œæ€ä¹ˆè´­ä¹°è‡ªè¡Œç™¾åº¦æˆ–ç›´æ¥å»å®˜ç½‘è´­ä¹°</p>\n<h2 id=\"äºŒ-æ­å»ºæœåŠ¡å™¨ç¯å¢ƒ\"><a href=\"#äºŒ-æ­å»ºæœåŠ¡å™¨ç¯å¢ƒ\" class=\"headerlink\" title=\"äºŒ. æ­å»ºæœåŠ¡å™¨ç¯å¢ƒ\"></a>äºŒ. æ­å»ºæœåŠ¡å™¨ç¯å¢ƒ</h2><h3 id=\"2-1-jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²\"><a href=\"#2-1-jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²\" class=\"headerlink\" title=\"2.1. jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²\"></a>2.1. jenkinsè‡ªåŠ¨åŒ–éƒ¨ç½²</h3><h4 id=\"2-1-1-å®‰è£…Javaç¯å¢ƒ\"><a href=\"#2-1-1-å®‰è£…Javaç¯å¢ƒ\" class=\"headerlink\" title=\"2.1.1. å®‰è£…Javaç¯å¢ƒ\"></a>2.1.1. å®‰è£…Javaç¯å¢ƒ</h4><p>Jenkinsæœ¬èº«æ˜¯ä¾èµ–Javaçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆå®‰è£…Javaç¯å¢ƒï¼š</p>\n<ul>\n<li>è¿™é‡Œæˆ‘å®‰è£…äº†Java1.8çš„ç¯å¢ƒ</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">dnf search java-1.8<br>dnf install java-1.8.0-openjdk.x86_64<br></code></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"2-1-2-å®‰è£…Jenkins\"><a href=\"#2-1-2-å®‰è£…Jenkins\" class=\"headerlink\" title=\"2.1.2. å®‰è£…Jenkins\"></a>2.1.2. å®‰è£…Jenkins</h4><p>å› ä¸ºJenkinsæœ¬èº«æ˜¯æ²¡æœ‰åœ¨dnfçš„è½¯ä»¶ä»“åº“åŒ…ä¸­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿æ¥Jenkinsä»“åº“ï¼š</p>\n<ul>\n<li>wgetæ˜¯Linuxä¸­ä¸‹è½½æ–‡ä»¶çš„ä¸€ä¸ªå·¥å…·ï¼Œ-Oè¡¨ç¤ºè¾“å‡ºåˆ°æŸä¸ªæ–‡ä»¶å¤¹å¹¶ä¸”å‘½åä¸ºä»€ä¹ˆæ–‡ä»¶ï¼›</li>\n<li>rpmï¼šå…¨ç§°ä¸º<strong>The RPM Package Manage</strong>ï¼Œæ˜¯Linuxä¸‹ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼›</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">wget â€“O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat-stable/jenkins.repo<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">å¯¼å…¥GPGå¯†é’¥ä»¥ç¡®ä¿æ‚¨çš„è½¯ä»¶åˆæ³•</span><br>rpm --import https://pkg.jenkins.io/redhat/jenkins.io.key<br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">æˆ–è€…</span><br>rpm --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key<br></code></pre></td></tr></table></figure>\n\n<p>ç¼–è¾‘ä¸€ä¸‹æ–‡ä»¶/etc/yum.repos.d/jenkins.repo</p>\n<ul>\n<li>å¯ä»¥é€šè¿‡vimç¼–è¾‘</li>\n</ul>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs ini\"><span class=\"hljs-section\">[jenkins]</span><br><br><span class=\"hljs-attr\">name</span>=Jenkins-stable<br><br><span class=\"hljs-attr\">baseurl</span>=http://pkg.jenkins.io/redhat<br><br><span class=\"hljs-attr\">gpgcheck</span>=<span class=\"hljs-number\">1</span><br></code></pre></td></tr></table></figure>\n\n<p>å®‰è£…Jenkins</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">dnf install jenkins # --nogpgcheck(å¯ä»¥ä¸åŠ )<br></code></pre></td></tr></table></figure>\n\n<p>å¯åŠ¨Jenkinsçš„æœåŠ¡ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">systemctl start jenkins<br>systemctl status jenkins<br>systemctl enable jenkins<br></code></pre></td></tr></table></figure>\n\n<p>Jenkinsé»˜è®¤ä½¿ç”¨8080ç«¯å£æä¾›æœåŠ¡ï¼Œæ‰€ä»¥éœ€è¦åŠ å…¥åˆ°å®‰å…¨ç»„ä¸­ï¼š</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glbyeoz6tqj315w0bzmzj.jpg\" alt=\"image-20201204173117359\"></p>\n<h4 id=\"2-1-3-Jenkinsç”¨æˆ·\"><a href=\"#2-1-3-Jenkinsç”¨æˆ·\" class=\"headerlink\" title=\"2.1.3. Jenkinsç”¨æˆ·\"></a>2.1.3. Jenkinsç”¨æˆ·</h4><p>æˆ‘ä»¬åé¢ä¼šè®¿é—®centosä¸­çš„æŸäº›æ–‡ä»¶å¤¹ï¼Œé»˜è®¤Jenkinsä½¿ç”¨çš„ç”¨æˆ·æ˜¯ <code>jenkins</code>ï¼Œå¯èƒ½ä¼šæ²¡æœ‰è®¿é—®æƒé™ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹å®ƒçš„ç”¨æˆ·ï¼š</p>\n<p>ä¿®æ”¹æ–‡ä»¶çš„è·¯å¾„ï¼š<code>/etc/sysconfig/jenkins</code></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt46oxg53j60n00aw75302.jpg\" alt=\"image-20210825162827962\"></p>\n<p>ä¹‹åéœ€è¦é‡å¯ä¸€ä¸‹Jenkinsï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">systemctl restart jenkins<br></code></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"2-1-4-Jenkinsé…ç½®\"><a href=\"#2-1-4-Jenkinsé…ç½®\" class=\"headerlink\" title=\"2.1.4. Jenkinsé…ç½®\"></a>2.1.4. Jenkinsé…ç½®</h4><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ï¼š<a href=\"http://8.134.60.235:8080/\">http://8.134.60.235:8080/</a></p>\n<ul>\n<li>æ³¨æ„ï¼šä½ è¾“å…¥è‡ªå·±çš„IPåœ°å€</li>\n</ul>\n<p>è·å–è¾“å…¥ç®¡ç†å‘˜å¯†ç ï¼š</p>\n<ul>\n<li>åœ¨ä¸‹é¢çš„åœ°å€ä¸­ <code>cat /var/lib/jenkins/secrets/initialAdminPassword</code></li>\n</ul>\n<p>![image-20201203173047824](/Users/coderwhy/Library/Application Support/typora-user-images/image-20201203173047824.png)</p>\n<p>å¯ä»¥å®‰è£…æ¨èçš„æ’ä»¶ï¼š</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glbylb26ouj30fb082js7.jpg\" alt=\"å®‰è£…æ¨èçš„æ’ä»¶\"></p>\n<h4 id=\"2-1-5-Jenkinsä»»åŠ¡\"><a href=\"#2-1-5-Jenkinsä»»åŠ¡\" class=\"headerlink\" title=\"2.1.5. Jenkinsä»»åŠ¡\"></a>2.1.5. Jenkinsä»»åŠ¡</h4><p><strong>æ–°å»ºä»»åŠ¡ï¼š</strong></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glc0uinjzej30pa0fet9z.jpg\" alt=\"æ–°å»ºä»»åŠ¡\"></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glc0v225vaj30wl0hkn05.jpg\" alt=\"image-20201204185613061\"></p>\n<p><strong>é…ç½®é¡¹ç›®å’Œä¿ç•™ç­–ç•¥ï¼š</strong></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt3l4fjm6j614p0d2dgl02.jpg\" alt=\"image-20210825160744119\"></p>\n<p><strong>æºç ç®¡ç†ï¼š</strong></p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt3lpcvtgj614k0j8jsn02.jpg\" alt=\"image-20210825160818122\"></p>\n<p><strong>æ„å»ºè§¦å‘å™¨ï¼š</strong></p>\n<p>è¿™é‡Œçš„è§¦å‘å™¨è§„åˆ™æ˜¯è¿™æ ·çš„ï¼š</p>\n<ul>\n<li>å®šæ—¶å­—ç¬¦ä¸²ä»å·¦å¾€å³åˆ†åˆ«æ˜¯ï¼šåˆ† æ—¶ æ—¥ æœˆ å‘¨</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\">#æ¯åŠå°æ—¶æ„å»ºä¸€æ¬¡<span class=\"hljs-variable constant_\">OR</span>æ¯åŠå°æ—¶æ£€æŸ¥ä¸€æ¬¡è¿œç¨‹ä»£ç åˆ†æ”¯ï¼Œæœ‰æ›´æ–°åˆ™æ„å»º<br>H/<span class=\"hljs-number\">30</span> * * * *<br><br>#æ¯ä¸¤å°æ—¶æ„å»ºä¸€æ¬¡<span class=\"hljs-variable constant_\">OR</span>æ¯ä¸¤å°æ—¶æ£€æŸ¥ä¸€æ¬¡è¿œç¨‹ä»£ç åˆ†æ”¯ï¼Œæœ‰æ›´æ–°åˆ™æ„å»º<br>H H/<span class=\"hljs-number\">2</span> * * *<br><br>#æ¯å¤©å‡Œæ™¨ä¸¤ç‚¹å®šæ—¶æ„å»º<br>H <span class=\"hljs-number\">2</span> * * *<br><br>#æ¯æœˆ<span class=\"hljs-number\">15</span>å·æ‰§è¡Œæ„å»º<br>H H <span class=\"hljs-number\">15</span> * *<br><br>#å·¥ä½œæ—¥ï¼Œä¸Šåˆ<span class=\"hljs-number\">9</span>ç‚¹æ•´æ‰§è¡Œ<br>H <span class=\"hljs-number\">9</span> * * <span class=\"hljs-number\">1</span>-<span class=\"hljs-number\">5</span><br><br>#æ¯å‘¨<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">5</span>ï¼Œä»<span class=\"hljs-number\">8</span>:<span class=\"hljs-number\">30</span>å¼€å§‹ï¼Œæˆªæ­¢<span class=\"hljs-number\">19</span>:<span class=\"hljs-number\">30</span>ï¼Œæ¯<span class=\"hljs-number\">4</span>å°æ—¶<span class=\"hljs-number\">30</span>åˆ†æ„å»ºä¸€æ¬¡<br>H/<span class=\"hljs-number\">30</span> <span class=\"hljs-number\">8</span>-<span class=\"hljs-number\">20</span>/<span class=\"hljs-number\">4</span> * * <span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">5</span><br></code></pre></td></tr></table></figure>\n\n\n\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt419gw6tj614g0agmy402.jpg\" alt=\"è§¦å‘å™¨\"></p>\n<p><strong>æ„å»ºç¯å¢ƒï¼š</strong></p>\n<p>æ³¨æ„ï¼šæˆ‘ä»¬éœ€è¦æ­å»ºNodeçš„ç¯å¢ƒ</p>\n<ul>\n<li>ç¬¬ä¸€æ­¥ï¼šé…ç½®Nodeçš„ç¯å¢ƒï¼›</li>\n<li>ç¬¬äºŒæ­¥ï¼šå®‰è£…Nodeçš„æ’ä»¶ï¼›</li>\n</ul>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glc0zyecd4j31ar0ecjuz.jpg\" alt=\"image-20201204190055096\"></p>\n<p>ç¬¬ä¸€æ­¥ï¼šé…ç½®Nodeçš„ç¯å¢ƒ</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt42elwduj614h0elwfq02.jpg\" alt=\"nodeç¯å¢ƒ\"></p>\n<p>ç¬¬äºŒæ­¥ï¼šå®‰è£…Nodeçš„æ’ä»¶</p>\n<ul>\n<li>è¿™é‡Œå› ä¸ºæˆ‘å·²ç»å®‰è£…è¿‡äº†ï¼Œæ‰€ä»¥æ²¡æœ‰æœç´¢åˆ°ï¼›</li>\n</ul>\n<p><img src=\"https://tva1.sinaimg.cn/large/0081Kckwgy1glc0yta64bj30r907caam.jpg\" alt=\"image-20201204185949452\"></p>\n<p>æ„å»ºæ‰§è¡Œçš„ä»»åŠ¡ï¼š</p>\n<ul>\n<li>æŸ¥çœ‹Nodeçš„ç‰ˆæœ¬ç­‰æ˜¯å¦æœ‰é—®é¢˜ï¼›</li>\n<li>æ‰§è¡Œ <code>npm install</code> å®‰è£…é¡¹ç›®çš„ä¾èµ–ï¼›</li>\n<li>ç§»é™¤åŸæ¥mall_cmsæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹ï¼›</li>\n<li>å°†æ‰“åŒ…çš„distæ–‡ä»¶å¤¹å†…å®¹ç§»åŠ¨åˆ°mall_cmsæ–‡ä»¶å¤¹ï¼›</li>\n</ul>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">pwd<br>node -v<br>npm -v<br><br>npm install <br>npm run build<br><br>pwd<br><br>echo &#x27;æ„å»ºæˆåŠŸ&#x27;<br><br>ls<br><span class=\"hljs-meta prompt_\"></span><br><span class=\"hljs-meta prompt_\"># </span><span class=\"language-bash\">åˆ é™¤/root/mall_cmsæ–‡ä»¶å¤¹é‡Œæ‰€æœ‰çš„å†…å®¹</span><br>rm -rf /root/mall_cms/* <br><br>cp -rf ./dist/* /root/mall_cms/<br></code></pre></td></tr></table></figure>\n\n\n\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt43sz933j614o0dy0tk02.jpg\" alt=\"æ‰§è¡Œæ„å»ºä»»åŠ¡\"></p>\n<h3 id=\"2-2-nginxå®‰è£…å’Œé…ç½®\"><a href=\"#2-2-nginxå®‰è£…å’Œé…ç½®\" class=\"headerlink\" title=\"2.2. nginxå®‰è£…å’Œé…ç½®\"></a>2.2. nginxå®‰è£…å’Œé…ç½®</h3><h4 id=\"2-2-1-å®‰è£…nginx\"><a href=\"#2-2-1-å®‰è£…nginx\" class=\"headerlink\" title=\"2.2.1. å®‰è£…nginx\"></a>2.2.1. å®‰è£…nginx</h4><p>åç»­æˆ‘ä»¬éƒ¨ç½²ä¼šä½¿ç”¨nginxï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…ä¸€ä¸‹nginxï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">dnf install nginx<br></code></pre></td></tr></table></figure>\n\n<p>å¯åŠ¨nginxï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">systemctl start nginx<br>systemctl status nginx<br>systemctl enable nginx<br></code></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"2-2-2-é…ç½®nginx\"><a href=\"#2-2-2-é…ç½®nginx\" class=\"headerlink\" title=\"2.2.2. é…ç½®nginx\"></a>2.2.2. é…ç½®nginx</h4><p>æˆ‘ä»¬è¿™é‡Œä¸»è¦é…ç½®nginxçš„ç”¨æˆ·å’Œé»˜è®¤è®¿é—®ç›®å½•ï¼š</p>\n<p>é…ç½®ç”¨æˆ·ï¼š</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt4bwvxc4j60f30453yk02.jpg\" alt=\"image-20210825163329209\"></p>\n<p>é€šè¿‡Linuxå‘½ä»¤åˆ›å»ºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼š</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs shell\">mkdir /root/mall_cms<br>cd /root/mall_cms<br>touch index.html<br><br>vi index.html<br></code></pre></td></tr></table></figure>\n\n\n\n<p>é…ç½®è®¿é—®ç›®å½•ï¼š</p>\n<p><img src=\"https://tva1.sinaimg.cn/large/008i3skNgy1gtt4cka6hgj60n00bwgmc02.jpg\" alt=\"image-20210825163406566\"></p>\n"},{"title":"reactå­¦ä¹ ç¬”è®°","keywords":"react","_content":"## ä¸€ã€reactçš„åŸºæœ¬ä½¿ç”¨\n\n\n\n#### 1.reactçš„å®‰è£…ï¼š\n\nå®‰è£…å‘½ä»¤ï¼š npm i react react-dom\n\n- reactåŒ…æ˜¯æ ¸å¿ƒï¼Œæä¾›åˆ›å»ºå…ƒç´ ã€ç»„å»ºç­‰åŠŸèƒ½\n- react-domåŒ…æä¾›DOMç›¸å…³åŠŸèƒ½\n\n#### 2.reactçš„ä½¿ç”¨\n\n- å¼•å…¥reactå’Œreact-dom\n- åˆ›å»ºreactå…ƒç´ \n  - const title = react.createElement('h1', null, 'hello react')\n  - ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåˆ›å»ºçš„å…ƒç´ åç§°\n  - ç¬¬äºŒä¸ªå‚æ•°ï¼š å…ƒç´ çš„å±æ€§\n  - ç¬¬ä¸‰ä¸ªå’Œä»¥åçš„å‚æ•°ï¼š å…ƒç´ çš„å­èŠ‚ç‚¹\n- æ¸²æŸ“reactå…ƒç´ åˆ°é¡µé¢ä¸­\n  - ReactDom.render(title, document.querySelector('#app') )\n  - ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¦æ¸²æŸ“çš„å…ƒç´ \n  - ç¬¬äºŒä¸ªå‚æ•°ï¼šDOMå¯¹è±¡ï¼Œç”¨äºæŒ‡å®šæ¸²æŸ“åˆ°é¡µé¢ä¸­çš„ä½ç½®\n\n## äºŒã€reactè„šæ‰‹æ¶çš„ä½¿ç”¨\n\n#### 1.ä½¿ç”¨reactè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®\n\n- å‘½ä»¤ï¼šnpx create-react-app my-app\n\n#### 2.npxå‘½ä»¤ä»‹ç»\n\nç›®çš„ï¼šæå‡åŒ…å†…æä¾›çš„å‘½ä»¤è¡Œå·¥å…·çš„ä½¿ç”¨ä½“éªŒã€‚æ— éœ€å®‰è£…è„šæ‰‹æ¶åŒ…ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªåŒ…æä¾›çš„å‘½ä»¤\n\n## ä¸‰ã€JSXè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨\n\n#### 1.ä½¿ç”¨æ­¥éª¤\n\n- ä½¿ç”¨JSXè¯­æ³•åˆ›å»ºreactå…ƒç´ \n\n```react\n  const title = <h1>hello JSX<h1>\n  ```\n\n- ä½¿ç”¨ReactDOM.render()æ–¹æ³•æ¸²æŸ“å…ƒç´ åˆ°é¡µé¢ä¸­\n\n```react\n  ReactDOM.render(title, document.querySelector('#root'))\n  ```\n\n#### 2.ä¸ºä»€ä¹ˆè„šæ‰‹æ¶ä¸­å¯ä»¥ä½¿ç”¨JSXè¯­æ³•\n\ncreate-react-appè„šæ‰‹æ¶ä¸­é»˜è®¤æœ‰@babel/preset-reactï¼Œä¼šå¯¹é¡¹ç›®ä¸­çš„JSXè¯­æ³•è¿›è¡Œç¼–è¯‘\n\n#### 3.æ³¨æ„ç‚¹\n\n- å…ƒç´ çš„å±æ€§åä½¿ç”¨é©¼å³°å‘½åæ³•\n- ç‰¹æ®Šå±æ€§åï¼š class -> className, for -> htmlFor, table index -> tabIndex\n- æ²¡æœ‰å­èŠ‚ç‚¹çš„Reactå…ƒç´ å¯ä»¥ç”¨/>ç»“æŸ\n- æ¨èï¼šä½¿ç”¨å°æ‹¬å·åŒ…è£¹JSXï¼Œä»è€Œé¿å…jsä¸­çš„è‡ªåŠ¨æ’å…¥åˆ†å·é™·é˜±\n\n## å››ã€JSXä¸­ä½¿ç”¨javascriptè¡¨è¾¾å¼\n\n- æ•°æ®å­˜å‚¨åœ¨jsä¸­\n\n- è¯­æ³•ï¼š { javascriptè¡¨è¾¾å¼ }\n\n```react\n  const name = 'jack'\n  const div = (\n  \t<div>hello {name}</div>\n  )\n  ```\n\n- æ³¨æ„ç‚¹\n\n  - å•å¤§æ‹¬å·ä¸­å¯ä»¥ä½¿ç”¨ä»»æ„çš„JavaScriptè¡¨è¾¾å¼\n  - JSXè‡ªèº«ä¹Ÿæ˜¯JSè¡¨è¾¾å¼ï¼Œå¯ä»¥åœ¨å•å¤§æ‹¬å·ä¸­ä½¿ç”¨\n  - jsä¸­çš„å¯¹è±¡ä¸æ˜¯è¡¨è¾¾å¼ï¼Œä¸èƒ½ç›´æ¥åœ¨å•å¤§æ‹¬å·ä¸­ä½¿ç”¨ï¼Œä¸€èˆ¬åªä¼šå‡ºç°åœ¨styleå±æ€§ä¸­\n  - ä¸èƒ½åœ¨{}ä¸­å‡ºç°è¯­å¥ï¼ˆå¦‚if/forè¯­å¥ç­‰ ï¼‰\n\n## äº”ã€JSXçš„æ¡ä»¶æ¸²æŸ“\n\n- åœºæ™¯ï¼šloadingæ•ˆæœ\n\n- æ¡ä»¶æ¸²æŸ“ï¼šæ ¹æ®æ¡ä»¶æ¸²æŸ“ç‰¹å®šçš„JSXç»“æ„\n\n- å¯ä»¥ä½¿ç”¨if/elseæˆ–ä¸‰å…ƒè¿ç®—ç¬¦æˆ–é€»è¾‘äºè¿ç®—ç¬¦æ¥å®ç°\n\n```react\n  const isLoading = false\n  const loadData = () => {\n    return isLoading ?  (<div>åŠ è½½ä¸­...</div>) : (<div>åŠ è½½å®Œæˆ</div>)\n  }\n  const title = (\n    <div>{loadData()}</div>\n  )\n  ```\n\n## å…­ã€JSXçš„åˆ—è¡¨æ¸²æŸ“\n\n- å¦‚æœè¦æ¸²æŸ“ä¸€ç»„æ•°æ®ï¼Œåº”è¯¥ä½¿ç”¨æ•°ç»„çš„mapæ–¹æ³•\n\n- æ¸²æŸ“åˆ—è¡¨æ—¶åº”è¯¥æ·»åŠ keyå±æ€§ï¼Œkeyå±æ€§çš„å€¼åº”è¯¥è¦ä¿è¯å”¯ä¸€\n\n- å°½é‡é¿å…ä½¿ç”¨ç´¢å¼•ä½œä¸ºkey\n\n```react\n  const songs = [\n    {id: 1, name: 'ç—´å¿ƒç»å¯¹'},\n    {id: 2, name: 'ç«¥è¯'},\n    {id: 3, name: 'æ¼”å‘˜'},\n  ]\n  const title = (\n    <ul>\n      {songs.map(item => <li key={item.id}>{item.name}</li>)}\n    </ul>\n  )\n  ```\n\n## ä¸ƒã€JSXçš„æ ·å¼å¤„ç†\n\n1. è¡Œå†…æ ·å¼\n2. ç±»å\n\n```react\nimport './index.css'\nconst name = 'kobe'\n\nconst title = (\n  <h1 className=\"title\" style={{color: 'red', backgroundColor: 'blue'}}>\n    æˆ‘æ˜¯{name}\n  </h1>\n)\n```\n\n## å…«ã€reactç»„ä»¶çš„ä¸¤ç§åˆ›å»ºæ–¹å¼\n\n#### 1.ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶\n\n- ä½¿ç”¨JSä¸­çš„å‡½æ•°åˆ›å»ºçš„ç»„ä»¶å«åšå‡½æ•°ç»„ä»¶\n\n- å‡½æ•°ç»„ä»¶å¿…é¡»æœ‰è¿”å›å€¼\n\n- ç»„ä»¶åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œreactæ®æ­¤åŒºåˆ†ç»„ä»¶å’Œæ™®é€šçš„reactå…ƒç´ \n\n- ä½¿ç”¨å‡½æ•°åä½œä¸ºç»„ä»¶æ ‡ç­¾å\n\n```react\n  function Hello() {\n  \treturn(\n  \t\t<div>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªå‡½æ•°ç»„ä»¶</div>\n  \t)\n  }\n  ReactDOM.render(<Hello/>, document.getElementById('root'))\n  ```\n\n#### 2.ä½¿ç”¨ç±»åˆ›å»ºç»„ä»¶\n\n- ç±»ç»„ä»¶ï¼šä½¿ç”¨ES6çš„classåˆ›å»ºçš„ç»„ä»¶\n\n- çº¦å®š1ï¼šç±»åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´\n\n- çº¦å®š2ï¼šç±»ç»„ä»¶åº”è¯¥ç»§æ‰¿React.Componentçˆ¶ç±»ï¼Œä»è€Œå¯ä»¥ä½¿ç”¨çˆ¶ç±»ä¸­æä¾›çš„æ–¹æ³•å’Œå±æ€§\n\n- çº¦å®š3ï¼šç±»ç»„ä»¶å¿…é¡»æä¾›renderï¼ˆï¼‰æ–¹æ³•\n\n- çº¦å®š4ï¼šrenderï¼ˆï¼‰æ–¹æ³•å¿…é¡»æœ‰è¿”å›å€¼ï¼Œè¡¨ç¤ºè¯¥ç»„ä»¶çš„ç»“æ„\n\n```react\n  class Hello extends React.Component {\n  \trender() {\n  \t\treturn <div>æˆ‘æ˜¯ç±»ç»„ä»¶<div>\n  \t}\n  }\n  ReactDOM.render(<Hello/>, document.getElementById('root'))\n  ```\n\n#### 3.æŠ½ç¦»ä¸ºç‹¬ç«‹çš„jsæ¨¡å—\n\n1. åˆ›å»ºHello.js\n\n2. åœ¨Hello.jsä¸­å¯¼å…¥react\n\n3. åˆ›å»ºç»„ä»¶ï¼ˆå‡½æ•°æˆ–ç±»ç»„ä»¶ï¼‰\n\n4. åœ¨Hello.jsä¸­åˆ°å¤„è¯¥ç»„ä»¶\n\n5. åœ¨index.jsä¸­å¯¼å…¥Helloç»„ä»¶\n\n6. æ¸²æŸ“ç»„ä»¶\n\n```react\n  // Hello.js\n  import React from 'react'\n  class Hello extends React.Component {\n    render() {\n      return <div>æˆ‘æ˜¯Helloç»„ä»¶</div>\n    }\n  }\n  // index.js\n  import Hello from './Hello'\n  ReactDOM.render(<Hello/>, root)\n```\n\n## ä¹ã€reactäº‹ä»¶å¤„ç†\n\n- reactäº‹ä»¶ç»‘å®šè¯­æ³•ä¸DOMäº‹ä»¶è¯­æ³•ç›¸ä¼¼\n\n- è¯­æ³•ï¼šon + äº‹ä»¶åç§° = {äº‹ä»¶å¤„ç†ç¨‹åº}ï¼Œæ¯”å¦‚ï¼š onClick = { () => {} }\n\n- æ³¨æ„ï¼šreactäº‹ä»¶æ‰ç”¨é©¼å³°å‘½åæ³•\n\n- ç±»ç»„ä»¶ä¸­ç»‘å®šäº‹ä»¶\n\n```react\n  class App extends React.Component {\n    handleClick() {\n      console.log('click')\n    }\n  \trender() {\n      return <button onClick={this.handleClick}>ç‚¹å‡»</button>\n    }\n  }\n  ```\n\n- å‡½æ•°ç»„ä»¶ä¸­ç»‘å®šäº‹ä»¶\n\n```react\n  function App () {\n    handleClick() {\n      console.log('click')\n    }\n    return <button onClick={handleClick}>ç‚¹å‡»</button>\n  }\n  ```\n\n- äº‹ä»¶å¯¹è±¡\n\n  - å¯ä»¥é€šè¿‡äº‹ä»¶å¤„ç†ç¨‹åºçš„å‚æ•°è·å–åˆ°äº‹ä»¶å¯¹è±¡\n\n  - reactä¸­çš„äº‹ä»¶å¯¹è±¡å«åšï¼šåˆæˆäº‹ä»¶ï¼ˆå¯¹è±¡ï¼‰\n\n  - åˆæˆäº‹ä»¶ï¼šå…¼å®¹æ‰€æœ‰æµè§ˆå™¨ï¼Œæ— éœ€æ‹…å¿ƒè·¨æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜\n\n  ```react\n    class Hello extends React.Component {\n      handleClick(e) {\n        e.preventDefault()\n      }\n      render() {\n        return <a onClick={this.handleClick} href=\"http://www.baidu.com\">ç™¾åº¦ä¸€ä¸‹</a>\n      }\n    }\n    ```\n\n## åã€æœ‰çŠ¶æ€ç»„ä»¶å’Œæ— çŠ¶æ€ç»„ä»¶\n\n- å‡½æ•°ç»„ä»¶åˆå«åšæ— çŠ¶æ€ç»„ä»¶ï¼Œç±»ç»„ä»¶åˆå«åšæœ‰çŠ¶æ€ç»„ä»¶\n- çŠ¶æ€ï¼ˆstateï¼‰å³æ•°æ®\n- å‡½æ•°ç»„ä»¶æ²¡æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œåªè´Ÿè´£æ•°æ®å±•ç¤ºï¼ˆé™ï¼‰\n- ç±»ç»„ä»¶æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œè´Ÿè´£æ›´æ–°UIï¼Œè®©é¡µé¢åŠ¨èµ·æ¥\n\n## åä¸€ã€ç»„ä»¶ä¸­çš„stateå’ŒsetState\n\n#### 1.stateçš„åŸºæœ¬ä½¿ç”¨\n\n- çŠ¶æ€å³æ•°æ®\n\n- çŠ¶æ€æ˜¯ç§æœ‰çš„ï¼Œåªèƒ½åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨\n\n- é€šè¿‡this.stateæ¥è·å–çŠ¶æ€\n\n```react\n  class Hello extends React.Component {\n    // constructor() {\n    //  super(); //\n    //  this.state = {\n    //    count: 1\n    // }\n    // }\n    // ç®€å†™\n    state = {\n  \t\tcount: 1\n    }\n    render() {\n      return <h2>è®¡æ•°å™¨ï¼š {this.state.count}</h2>\n    }\n  }\n  ```\n\n#### 2.setState()ä¿®æ”¹çŠ¶æ€\n\n- çŠ¶æ€æ˜¯å¯å˜çš„\n\n- è¯­æ³•ï¼šthis.setState({è¦ä¿®æ”¹çš„æ•°æ®})\n\n- æ³¨æ„ï¼šä¸è¦ç›´æ¥ä¿®æ”¹stateçš„å€¼\n\n- setState()ä½œç”¨ï¼šä¿®æ”¹stateã€æ›´æ–°UI\n\n```react\n  this.setState({\n    count: this.state.count + 1\n  })\n  ```\n\n\n## åäºŒã€äº‹ä»¶ç»‘å®šthisæŒ‡å‘\n\n1. åˆ©ç”¨ç®­å¤´å‡½æ•°æ”¹å˜thisæŒ‡å‘\n\n  ```react\n     class Hello extends React.Component {\n     \tstate = {\n         count: 1\n       }\n     \trender() {\n         return (\n         \t<div>\n           \t<h2>è®¡æ•°å™¨ï¼š{this.state.count}</h2>\n             <button onClick={() => this.handleClick()}>+1</button>\n           </div>\n         )\n       }\n     \thandleClick() {\n         this.setState({\n           count: this.state.count + 1\n         })\n       }\n     }\n     ```\n\n2. åˆ©ç”¨bindæ”¹å˜thisæŒ‡å‘\n\n  ```react\n     class Hello extends React.Component {\n     \tconstructor() {\n         this.state = {\n     \t\t\tcount: 1\n         }\n         this.handleClick = this.handleClick.bind(this)\n       }\n     \trender() {\n     \t\treturn (\n     \t\t\t<div>\n           \t<h2>è®¡æ•°å™¨ï¼š{this.state.count}</h2>\n             <button onClick={this.handleClick}>-1</button>\n           </div>\n     \t\t)\n     \t}\n     \thandleClick() {\n     \t\tthis.setState({\n           count: this.state.count - 1\n         })\n     \t}\n     }\n     ```\n\n3. classçš„ç®­å¤´å‡½æ•°å®ä¾‹æ–¹æ³•ï¼ˆæ¨èæ–¹å¼ï¼Œè„šæ‰‹æ¶é…ç½®çš„babelå¯¹è¿™ç§è¯­æ³•è¿›è¡Œäº†è½¬æ¢ï¼‰\n\n  ```react\n     class Hello extends React.Component {\n     \tconstructor() {\n         this.state = {\n     \t\t\tcount: 1\n         }\n         this.handleClick = this.handleClick.bind(this)\n       }\n     \trender() {\n     \t\treturn (\n     \t\t\t<div>\n           \t<h2>è®¡æ•°å™¨ï¼š{this.state.count}</h2>\n             <button onClick={this.handleClick}>-1</button>\n           </div>\n     \t\t)\n     \t}\n     \thandleClick = () => {\n     \t\tthis.setState({\n           count: this.state.count - 1\n         })\n     \t}\n     }\n     ```\n\n## åä¸‰ã€è¡¨å•å¤„ç†\n\n#### 1.å—æ§ç»„ä»¶ï¼ˆå¸¸ç”¨ï¼‰\n\nå…¶å€¼æ”¶åˆ°reactæ§åˆ¶çš„è¡¨å•å…ƒç´ \n\nå®ç°ä¸€ä¸ªå—æ§ç»„ä»¶ï¼ˆç±»ä¼¼äºvueä¸­çš„v-modelï¼‰ï¼š\n\n1.è¡¨å•valueç»‘å®šstateä¸­çš„çŠ¶æ€\n\n2.ç›‘å¬è¡¨å•çš„changeäº‹ä»¶ï¼Œä¿®æ”¹stateä¸­çš„çŠ¶æ€\n\n```react\nclass Hello extends React.Component {\n\tstate = {\n    text: ''\n  }\n\trender() {\n    return <input type=\"text\" value={this.state.text} onClick={ this.inputChange }></input>\n  }\n\tinputChange = e => {\n    this.setState({\n      text: e.target.value\n    })\n\t}\n}\n```\n\n#### 2.éå—æ§ç»„ä»¶ï¼ˆä¸å¸¸ç”¨ï¼‰\n\n- é€šè¿‡React.createRef()æ–¹æ³•åˆ›å»ºrefå¯¹è±¡\n\n```react\n  constructor() {\n    super()\n    this.txtRef = React.createRef()\n  }\n  ```\n\n  \n\n- è¡¨å•ä½¿ç”¨refå¯¹è±¡\n\n```react\n  render() {\n    return (\n    \t<div>\n      \t<input type=\"text\" ref={ this.txtRef }></input>\n        <button onClick={ this.getValue }>è·å–value</button>\n      </div>\n    )\n  }\n  ```\n\n  \n\n- é€šè¿‡refå¯¹è±¡è·å–è¡¨å•çš„å€¼\n\n```react\n  getValue = () => {\n  \tconsole.log(this.txtRef.current.value)\n  }\n  ```\n\n## åå››ã€ç»„ä»¶é€šè®¯\n\n#### 1.ç»„ä»¶çš„props\n\n- propsçš„ä½œç”¨ï¼š ä¸vueçš„propsç±»ä¼¼ï¼Œçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶ç”¨æ¥æ¥æ”¶æ•°æ®\n\n- æ¥æ”¶æ•°æ®ï¼šå‡½æ•°ç»„ä»¶ç›´æ¥ç”¨propsï¼Œç±»ç»„ä»¶ç”¨this.propsï¼ˆå’Œä½œç”¨åŸŸæœ‰å…³ï¼Œç±»ç»„ä»¶çš„propsåŠ åœ¨å®ä¾‹ä¸Šï¼Œå‡½æ•°ç»„ä»¶ç›´æ¥é€šè¿‡å‚æ•°æ¥æ”¶ï¼‰\n\n```react\n   // 1.å‡½æ•°ç»„ä»¶props\n  const Hello = props => {\n    return (\n      <h2>func props: { props.name }</h2>\n    )\n  }\n  // 2.ç±»ç»„ä»¶props\n  class Hello extends React.Component {\n    render() {\n      return (\n        <h2>class props: { this.props.name }</h2>\n      )\n    }\n  }\n  \n  ReactDOM.render(<Hello name=\"component props\" />, document.querySelector('#root'))\n  ```\n\n- ç‰¹ç‚¹ï¼š\n\n  - å¯ä»¥ç»™ç»„ä»¶ç©¿ä»»æ„ç±»å‹çš„æ•°æ®ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€jsxè¡¨è¾¾å¼ã€å‡½æ•°ç­‰ï¼‰\n  - propsåªè¯»å±æ€§ï¼Œåªèƒ½è¯»å–å±æ€§çš„å€¼ï¼Œæ— æ³•ä¿®æ”¹å¯¹è±¡\n  - âš ï¸åœ¨constructorä¸­ä½¿ç”¨propsæ—¶ï¼Œéœ€è¦æ¥æ”¶propså¹¶ä¼ é€’ç»™superï¼Œå¦åˆ™æ— æ³•åœ¨æ„é€ å‡½æ•°ä¸­è·å–åˆ°props\n\n#### 2.çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶\n\n```react\nclass Parent extends React.Component {\n  state = {\n    name: 'kobe'\n  }\n  render() {\n    return (\n      <div>\n        çˆ¶ç»„ä»¶\n        <Child name={ this.state.name }></Child>\n        </div>\n    )\n  }\n}\nclass Child extends React.Component {\n  render() {\n    return (\n      <div>çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®: { this.props.name}</div>\n    )\n  }\n}\nReactDOM.render(\n  <Parent/>,\n  document.querySelector(\"#root\")\n);\n```\n\n#### 3.å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶\n\næ€è·¯ï¼šçˆ¶ç»„ä»¶æä¾›å›è°ƒå‡½æ•°ï¼ŒåŒæ—¶å°†å›è°ƒé€šè¿‡propsä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡propsæ¥æ”¶å›è°ƒï¼Œæ‰§è¡Œå›è°ƒå¹¶å°†éœ€è¦ä¼ é€’çš„æ•°æ®ä½œä¸ºå›è°ƒçš„å‚æ•°ä¼ é€’ç»™çˆ¶ç»„ä»¶\n\n```react\nclass Father extends React.Component {\n  state = {\n    childMsg: ''\n  }\n  render() {\n\t\treturn (\n    \t<div>\n      \t<h2>å­ç»„ä»¶ä¼ é€’çš„æ•°æ®: { this.state.childMsg }</h2>\n        <Child getMsg={ this.getChildMsg }></Child>\n      </div>\n    )\n  }\n\tgetChildMsg(childMsg) {\n\t\tthis.setState({\n      childMsg:  childMsg\n    })\n  }\n}\nclass Son extends React.Component {\n\tstate = {\n\t\tchildMsg: 'child'\n  }\n\trender() {\n\t\treturn (\n    \t<button onClick={ this.emitMsg }></button>\n    )\n  }\n\temitMsg = () => {\n\t\tthis.props.getMsg(this.state.childMsg)\n  }\n}\n```\n\næ³¨æ„ï¼šæ­¤å¤„åœ¨Childç»„ä»¶ä¸­ï¼Œrenderå‡½æ•°çš„onClickä¸Šä¸èƒ½ç›´æ¥è°ƒç”¨this.props.getMsg()ï¼Œè€Œè¦åœ¨æŠ½ç¦»åˆ°å®ä¾‹æ–¹æ³•ä¸­ã€‚åŸå› ï¼šreactä¼šåœ¨propså’Œstateæ”¹å˜çš„æ—¶å€™è°ƒç”¨renderå¯¹DOMè¿›è¡Œdiffåæ›´æ–°æ¸²æŸ“ï¼Œå¦‚æœåœ¨renderä¸­å†æ¬¡è°ƒç”¨getMsgä¿®æ”¹stateï¼Œä¼šé™·å…¥æ­»å¾ªç¯å¹¶æŠ¥é”™\n\n#### 4.å…„å¼Ÿç»„ä»¶é€šè®¯\n\n- å°†å…±äº«çŠ¶æ€æå‡åˆ°æœ€è¿‘çš„å…¬å…±çš„çˆ¶ç»„ä»¶ä¸­ï¼Œåˆå…¬å‘Šçˆ¶ç»„ä»¶ç®¡ç†è¿™ä¸ªçŠ¶æ€\n\n- çˆ¶ç»„ä»¶ï¼šæä¾›å…±äº«çŠ¶æ€ã€æä¾›æ“ä½œå…±äº«çŠ¶æ€çš„æ–¹æ³•\n\n- å­ç»„ä»¶ï¼šé€šè¿‡propsè·å–å…±äº«çŠ¶æ€å’Œæ“ä½œå…±äº«çŠ¶æ€\n\n```react\n  class Parent extends React.Component {\n    // çŠ¶æ€æå‡\n    state = {\n      count: 1\n    }\n    render() {\n      return (\n        <div>\n          <Child1 count={ this.state.count }></Child1>\n          <Child2 increment = { this.increment}></Child2>\n        </div>\n      )\n    }\n    // æä¾›ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•\n    increment = () => {\n      this.setState({\n        count: this.state.count + 1\n      })\n    }\n  }\n  \n  const Child1 = props => {\n    return (\n      <h2>è®¡æ•°å™¨: { props.count }</h2>\n    )\n  }\n  \n  const Child2 = props => {\n    const increment = () => {\n      props.increment()\n    }\n    return (\n      <button onClick={ increment }>+1</button>\n    )\n  \n  }\n    ReactDOM.render(\n      <Parent/>,\n      document.querySelector(\"#root\")\n    )\n  ```\n\n\n#### 5.ç»„ä»¶æ ‘ä¼ é€’æ•°æ®\n\n- Context è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯â€œå…¨å±€â€çš„æ•°æ®ï¼Œä¾‹å¦‚å½“å‰è®¤è¯çš„ç”¨æˆ·ã€ä¸»é¢˜æˆ–é¦–é€‰è¯­è¨€ã€‚\n\n- ä½¿ç”¨ context, æˆ‘ä»¬å¯ä»¥é¿å…é€šè¿‡ä¸­é—´å…ƒç´ ä¼ é€’ propsï¼š\n\n```react\n  // Context å¯ä»¥è®©æˆ‘ä»¬æ— é¡»æ˜ç¡®åœ°ä¼ éæ¯ä¸€ä¸ªç»„ä»¶ï¼Œå°±èƒ½å°†å€¼æ·±å…¥ä¼ é€’è¿›ç»„ä»¶æ ‘ã€‚\n  // ä¸ºå½“å‰çš„ theme åˆ›å»ºä¸€ä¸ª contextï¼ˆâ€œlightâ€ä¸ºé»˜è®¤å€¼ï¼‰ã€‚\n  const ThemeContext = React.createContext('light');\n  class App extends React.Component {\n    render() {\n      // ä½¿ç”¨ä¸€ä¸ª Provider æ¥å°†å½“å‰çš„ theme ä¼ é€’ç»™ä»¥ä¸‹çš„ç»„ä»¶æ ‘ã€‚\n      // æ— è®ºå¤šæ·±ï¼Œä»»ä½•ç»„ä»¶éƒ½èƒ½è¯»å–è¿™ä¸ªå€¼ã€‚\n      // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°† â€œdarkâ€ ä½œä¸ºå½“å‰çš„å€¼ä¼ é€’ä¸‹å»ã€‚\n      return (\n        <ThemeContext.Provider value=\"dark\">\n          <Toolbar />\n        </ThemeContext.Provider>\n      );\n    }\n  }\n  \n  // ä¸­é—´çš„ç»„ä»¶å†ä¹Ÿä¸å¿…æŒ‡æ˜å¾€ä¸‹ä¼ é€’ theme äº†ã€‚\n  function Toolbar() {\n    return (\n      <div>\n        <ThemedButton />\n      </div>\n    );\n  }\n  \n  class ThemedButton extends React.Component {\n    // æŒ‡å®š contextType è¯»å–å½“å‰çš„ theme contextã€‚\n    // React ä¼šå¾€ä¸Šæ‰¾åˆ°æœ€è¿‘çš„ theme Providerï¼Œç„¶åä½¿ç”¨å®ƒçš„å€¼ã€‚\n    // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“å‰çš„ theme å€¼ä¸º â€œdarkâ€ã€‚\n    static contextType = ThemeContext;\n    render() {\n      return <Button theme={this.context} />;\n    }\n  }\n  ```\n\n- ä½¿ç”¨æ–¹æ³•ï¼š\n\n  - 1.React.createContextæ–¹æ³•åˆ›å»ºcontext\n\n  ```react\n    const MyContext = React.createContext(defaultValue)\n    // åˆ›å»ºä¸€ä¸ª Context å¯¹è±¡ã€‚å½“ React æ¸²æŸ“ä¸€ä¸ªè®¢é˜…äº†è¿™ä¸ª Context å¯¹è±¡çš„ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ä¼šä»ç»„ä»¶æ ‘ä¸­ç¦»è‡ªèº«æœ€è¿‘çš„é‚£ä¸ªåŒ¹é…çš„ Provider ä¸­è¯»å–åˆ°å½“å‰çš„ context å€¼ã€‚\n    // åªæœ‰å½“ç»„ä»¶æ‰€å¤„çš„æ ‘ä¸­æ²¡æœ‰åŒ¹é…åˆ° Provider æ—¶ï¼Œå…¶ defaultValue å‚æ•°æ‰ä¼šç”Ÿæ•ˆã€‚æ­¤é»˜è®¤å€¼æœ‰åŠ©äºåœ¨ä¸ä½¿ç”¨ Provider åŒ…è£…ç»„ä»¶çš„æƒ…å†µä¸‹å¯¹ç»„ä»¶è¿›è¡Œæµ‹è¯•ã€‚æ³¨æ„ï¼šå°† undefined ä¼ é€’ç»™ Provider çš„ value æ—¶ï¼Œæ¶ˆè´¹ç»„ä»¶çš„ defaultValue ä¸ä¼šç”Ÿæ•ˆ\n    // or\n    const { Provider, Consumer } = React.creactContext()\n    ```\n\n  - 2.ä½¿ç”¨Context.Provideræä¾›æ•°æ®\n\n  ```react\n    <MyContext.Provider value={/* æŸä¸ªå€¼ */} />\n    // or\n    <Provider value={} />\n    // æ¯ä¸ª Context å¯¹è±¡éƒ½ä¼šè¿”å›ä¸€ä¸ª Provider React ç»„ä»¶ï¼Œå®ƒå…è®¸æ¶ˆè´¹ç»„ä»¶è®¢é˜… context çš„å˜åŒ–ã€‚\n    \n    // Provider æ¥æ”¶ä¸€ä¸ª value å±æ€§ï¼Œä¼ é€’ç»™æ¶ˆè´¹ç»„ä»¶ã€‚ä¸€ä¸ª Provider å¯ä»¥å’Œå¤šä¸ªæ¶ˆè´¹ç»„ä»¶æœ‰å¯¹åº”å…³ç³»ã€‚å¤šä¸ª Provider ä¹Ÿå¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œé‡Œå±‚çš„ä¼šè¦†ç›–å¤–å±‚çš„æ•°æ®ã€‚\n    \n    // å½“ Provider çš„ value å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå†…éƒ¨çš„æ‰€æœ‰æ¶ˆè´¹ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚Provider åŠå…¶å†…éƒ¨ consumer ç»„ä»¶éƒ½ä¸å—åˆ¶äº shouldComponentUpdate å‡½æ•°ï¼Œå› æ­¤å½“ consumer ç»„ä»¶åœ¨å…¶ç¥–å…ˆç»„ä»¶é€€å‡ºæ›´æ–°çš„æƒ…å†µä¸‹ä¹Ÿèƒ½æ›´æ–°ã€‚\n    \n    \n    ```\n\n  - valueæä¾›ä¸ºå¯¹è±¡æ—¶æ³¨æ„äº‹é¡¹ï¼š\n\n  - å› ä¸º context ä¼šä½¿ç”¨å‚è€ƒæ ‡è¯†ï¼ˆreference identityï¼‰æ¥å†³å®šä½•æ—¶è¿›è¡Œæ¸²æŸ“ï¼Œè¿™é‡Œå¯èƒ½ä¼šæœ‰ä¸€äº›é™·é˜±ï¼Œå½“ provider çš„çˆ¶ç»„ä»¶è¿›è¡Œé‡æ¸²æŸ“æ—¶ï¼Œå¯èƒ½ä¼šåœ¨ consumers ç»„ä»¶ä¸­è§¦å‘æ„å¤–çš„æ¸²æŸ“ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“æ¯ä¸€æ¬¡ Provider é‡æ¸²æŸ“æ—¶ï¼Œä»¥ä¸‹çš„ä»£ç ä¼šé‡æ¸²æŸ“æ‰€æœ‰ä¸‹é¢çš„ consumers ç»„ä»¶ï¼Œå› ä¸º `value` å±æ€§æ€»æ˜¯è¢«èµ‹å€¼ä¸ºæ–°çš„å¯¹è±¡ï¼š\n\n  ```react\n    class App extends React.Component {\n      render() {\n        return (\n          <MyContext.Provider value={{something: 'something'}}>\n            <Toolbar />\n          </MyContext.Provider>\n        );\n      }\n    }\n    ```\n\n  - ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µï¼Œå°† value çŠ¶æ€æå‡åˆ°çˆ¶èŠ‚ç‚¹çš„ state é‡Œï¼š\n\n  ```react\n    class App extends React.Component {\n      constructor(props) {\n        super(props);\n        this.state = {\n          value: {something: 'something'},\n        };\n      }\n    \n      render() {\n        return (\n          <MyContext.Provider value={this.state.value}>\n            <Toolbar />\n          </MyContext.Provider>\n        );\n      }\n    }\n    ```\n\n  - 3.æ¶ˆè´¹æ•°æ®\n\n    - æ–¹å¼1ï¼šClass.contextType\n\n    ```react\n       // æŒ‚è½½åœ¨ class ä¸Šçš„ contextType å±æ€§ä¼šè¢«é‡èµ‹å€¼ä¸ºä¸€ä¸ªç”± React.createContext() åˆ›å»ºçš„ Context å¯¹è±¡ã€‚æ­¤å±æ€§èƒ½è®©ä½ ä½¿ç”¨ this.context æ¥æ¶ˆè´¹æœ€è¿‘ Context ä¸Šçš„é‚£ä¸ªå€¼ã€‚ä½ å¯ä»¥åœ¨ä»»ä½•ç”Ÿå‘½å‘¨æœŸä¸­è®¿é—®åˆ°å®ƒï¼ŒåŒ…æ‹¬ render å‡½æ•°ä¸­ã€‚\n      class MyClass extends React.Component {\n        static contextType = MyContext;\n        render() {\n          let value = this.context;\n          /* åŸºäºè¿™ä¸ªå€¼è¿›è¡Œæ¸²æŸ“å·¥ä½œ */\n        }\n      }\n      ```\n\n    - æ–¹å¼2ï¼šContext.Consumer\n\n    ```react\n      // ä¸€ä¸ª React ç»„ä»¶å¯ä»¥è®¢é˜… context çš„å˜æ›´ï¼Œæ­¤ç»„ä»¶å¯ä»¥è®©ä½ åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å¯ä»¥è®¢é˜… contextã€‚\n      \n      // è¿™ç§æ–¹æ³•éœ€è¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå­å…ƒç´ ï¼ˆfunction as a childï¼‰ã€‚è¿™ä¸ªå‡½æ•°æ¥æ”¶å½“å‰çš„ context å€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ª React èŠ‚ç‚¹ã€‚ä¼ é€’ç»™å‡½æ•°çš„ value å€¼ç­‰ä»·äºç»„ä»¶æ ‘ä¸Šæ–¹ç¦»è¿™ä¸ª context æœ€è¿‘çš„ Provider æä¾›çš„ value å€¼ã€‚å¦‚æœæ²¡æœ‰å¯¹åº”çš„ Providerï¼Œvalue å‚æ•°ç­‰åŒäºä¼ é€’ç»™ createContext() çš„ defaultValueã€‚\n      <MyContext.Consumer>\n        {value => /* åŸºäº context å€¼è¿›è¡Œæ¸²æŸ“*/}\n      </MyContext.Consumer>\n      // or \n      <Consumer>\n      \t{value => /* åŸºäº context å€¼è¿›è¡Œæ¸²æŸ“*/}\n      </Consumer>\n      ```\n\n      \n\n","source":"_posts/react.md","raw":"---\ntitle: reactå­¦ä¹ ç¬”è®°\ntag: react\nkeywords: react\ncategories: å‰ç«¯æ¡†æ¶\n---\n## ä¸€ã€reactçš„åŸºæœ¬ä½¿ç”¨\n\n\n\n#### 1.reactçš„å®‰è£…ï¼š\n\nå®‰è£…å‘½ä»¤ï¼š npm i react react-dom\n\n- reactåŒ…æ˜¯æ ¸å¿ƒï¼Œæä¾›åˆ›å»ºå…ƒç´ ã€ç»„å»ºç­‰åŠŸèƒ½\n- react-domåŒ…æä¾›DOMç›¸å…³åŠŸèƒ½\n\n#### 2.reactçš„ä½¿ç”¨\n\n- å¼•å…¥reactå’Œreact-dom\n- åˆ›å»ºreactå…ƒç´ \n  - const title = react.createElement('h1', null, 'hello react')\n  - ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåˆ›å»ºçš„å…ƒç´ åç§°\n  - ç¬¬äºŒä¸ªå‚æ•°ï¼š å…ƒç´ çš„å±æ€§\n  - ç¬¬ä¸‰ä¸ªå’Œä»¥åçš„å‚æ•°ï¼š å…ƒç´ çš„å­èŠ‚ç‚¹\n- æ¸²æŸ“reactå…ƒç´ åˆ°é¡µé¢ä¸­\n  - ReactDom.render(title, document.querySelector('#app') )\n  - ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¦æ¸²æŸ“çš„å…ƒç´ \n  - ç¬¬äºŒä¸ªå‚æ•°ï¼šDOMå¯¹è±¡ï¼Œç”¨äºæŒ‡å®šæ¸²æŸ“åˆ°é¡µé¢ä¸­çš„ä½ç½®\n\n## äºŒã€reactè„šæ‰‹æ¶çš„ä½¿ç”¨\n\n#### 1.ä½¿ç”¨reactè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®\n\n- å‘½ä»¤ï¼šnpx create-react-app my-app\n\n#### 2.npxå‘½ä»¤ä»‹ç»\n\nç›®çš„ï¼šæå‡åŒ…å†…æä¾›çš„å‘½ä»¤è¡Œå·¥å…·çš„ä½¿ç”¨ä½“éªŒã€‚æ— éœ€å®‰è£…è„šæ‰‹æ¶åŒ…ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªåŒ…æä¾›çš„å‘½ä»¤\n\n## ä¸‰ã€JSXè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨\n\n#### 1.ä½¿ç”¨æ­¥éª¤\n\n- ä½¿ç”¨JSXè¯­æ³•åˆ›å»ºreactå…ƒç´ \n\n```react\n  const title = <h1>hello JSX<h1>\n  ```\n\n- ä½¿ç”¨ReactDOM.render()æ–¹æ³•æ¸²æŸ“å…ƒç´ åˆ°é¡µé¢ä¸­\n\n```react\n  ReactDOM.render(title, document.querySelector('#root'))\n  ```\n\n#### 2.ä¸ºä»€ä¹ˆè„šæ‰‹æ¶ä¸­å¯ä»¥ä½¿ç”¨JSXè¯­æ³•\n\ncreate-react-appè„šæ‰‹æ¶ä¸­é»˜è®¤æœ‰@babel/preset-reactï¼Œä¼šå¯¹é¡¹ç›®ä¸­çš„JSXè¯­æ³•è¿›è¡Œç¼–è¯‘\n\n#### 3.æ³¨æ„ç‚¹\n\n- å…ƒç´ çš„å±æ€§åä½¿ç”¨é©¼å³°å‘½åæ³•\n- ç‰¹æ®Šå±æ€§åï¼š class -> className, for -> htmlFor, table index -> tabIndex\n- æ²¡æœ‰å­èŠ‚ç‚¹çš„Reactå…ƒç´ å¯ä»¥ç”¨/>ç»“æŸ\n- æ¨èï¼šä½¿ç”¨å°æ‹¬å·åŒ…è£¹JSXï¼Œä»è€Œé¿å…jsä¸­çš„è‡ªåŠ¨æ’å…¥åˆ†å·é™·é˜±\n\n## å››ã€JSXä¸­ä½¿ç”¨javascriptè¡¨è¾¾å¼\n\n- æ•°æ®å­˜å‚¨åœ¨jsä¸­\n\n- è¯­æ³•ï¼š { javascriptè¡¨è¾¾å¼ }\n\n```react\n  const name = 'jack'\n  const div = (\n  \t<div>hello {name}</div>\n  )\n  ```\n\n- æ³¨æ„ç‚¹\n\n  - å•å¤§æ‹¬å·ä¸­å¯ä»¥ä½¿ç”¨ä»»æ„çš„JavaScriptè¡¨è¾¾å¼\n  - JSXè‡ªèº«ä¹Ÿæ˜¯JSè¡¨è¾¾å¼ï¼Œå¯ä»¥åœ¨å•å¤§æ‹¬å·ä¸­ä½¿ç”¨\n  - jsä¸­çš„å¯¹è±¡ä¸æ˜¯è¡¨è¾¾å¼ï¼Œä¸èƒ½ç›´æ¥åœ¨å•å¤§æ‹¬å·ä¸­ä½¿ç”¨ï¼Œä¸€èˆ¬åªä¼šå‡ºç°åœ¨styleå±æ€§ä¸­\n  - ä¸èƒ½åœ¨{}ä¸­å‡ºç°è¯­å¥ï¼ˆå¦‚if/forè¯­å¥ç­‰ ï¼‰\n\n## äº”ã€JSXçš„æ¡ä»¶æ¸²æŸ“\n\n- åœºæ™¯ï¼šloadingæ•ˆæœ\n\n- æ¡ä»¶æ¸²æŸ“ï¼šæ ¹æ®æ¡ä»¶æ¸²æŸ“ç‰¹å®šçš„JSXç»“æ„\n\n- å¯ä»¥ä½¿ç”¨if/elseæˆ–ä¸‰å…ƒè¿ç®—ç¬¦æˆ–é€»è¾‘äºè¿ç®—ç¬¦æ¥å®ç°\n\n```react\n  const isLoading = false\n  const loadData = () => {\n    return isLoading ?  (<div>åŠ è½½ä¸­...</div>) : (<div>åŠ è½½å®Œæˆ</div>)\n  }\n  const title = (\n    <div>{loadData()}</div>\n  )\n  ```\n\n## å…­ã€JSXçš„åˆ—è¡¨æ¸²æŸ“\n\n- å¦‚æœè¦æ¸²æŸ“ä¸€ç»„æ•°æ®ï¼Œåº”è¯¥ä½¿ç”¨æ•°ç»„çš„mapæ–¹æ³•\n\n- æ¸²æŸ“åˆ—è¡¨æ—¶åº”è¯¥æ·»åŠ keyå±æ€§ï¼Œkeyå±æ€§çš„å€¼åº”è¯¥è¦ä¿è¯å”¯ä¸€\n\n- å°½é‡é¿å…ä½¿ç”¨ç´¢å¼•ä½œä¸ºkey\n\n```react\n  const songs = [\n    {id: 1, name: 'ç—´å¿ƒç»å¯¹'},\n    {id: 2, name: 'ç«¥è¯'},\n    {id: 3, name: 'æ¼”å‘˜'},\n  ]\n  const title = (\n    <ul>\n      {songs.map(item => <li key={item.id}>{item.name}</li>)}\n    </ul>\n  )\n  ```\n\n## ä¸ƒã€JSXçš„æ ·å¼å¤„ç†\n\n1. è¡Œå†…æ ·å¼\n2. ç±»å\n\n```react\nimport './index.css'\nconst name = 'kobe'\n\nconst title = (\n  <h1 className=\"title\" style={{color: 'red', backgroundColor: 'blue'}}>\n    æˆ‘æ˜¯{name}\n  </h1>\n)\n```\n\n## å…«ã€reactç»„ä»¶çš„ä¸¤ç§åˆ›å»ºæ–¹å¼\n\n#### 1.ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶\n\n- ä½¿ç”¨JSä¸­çš„å‡½æ•°åˆ›å»ºçš„ç»„ä»¶å«åšå‡½æ•°ç»„ä»¶\n\n- å‡½æ•°ç»„ä»¶å¿…é¡»æœ‰è¿”å›å€¼\n\n- ç»„ä»¶åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œreactæ®æ­¤åŒºåˆ†ç»„ä»¶å’Œæ™®é€šçš„reactå…ƒç´ \n\n- ä½¿ç”¨å‡½æ•°åä½œä¸ºç»„ä»¶æ ‡ç­¾å\n\n```react\n  function Hello() {\n  \treturn(\n  \t\t<div>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªå‡½æ•°ç»„ä»¶</div>\n  \t)\n  }\n  ReactDOM.render(<Hello/>, document.getElementById('root'))\n  ```\n\n#### 2.ä½¿ç”¨ç±»åˆ›å»ºç»„ä»¶\n\n- ç±»ç»„ä»¶ï¼šä½¿ç”¨ES6çš„classåˆ›å»ºçš„ç»„ä»¶\n\n- çº¦å®š1ï¼šç±»åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´\n\n- çº¦å®š2ï¼šç±»ç»„ä»¶åº”è¯¥ç»§æ‰¿React.Componentçˆ¶ç±»ï¼Œä»è€Œå¯ä»¥ä½¿ç”¨çˆ¶ç±»ä¸­æä¾›çš„æ–¹æ³•å’Œå±æ€§\n\n- çº¦å®š3ï¼šç±»ç»„ä»¶å¿…é¡»æä¾›renderï¼ˆï¼‰æ–¹æ³•\n\n- çº¦å®š4ï¼šrenderï¼ˆï¼‰æ–¹æ³•å¿…é¡»æœ‰è¿”å›å€¼ï¼Œè¡¨ç¤ºè¯¥ç»„ä»¶çš„ç»“æ„\n\n```react\n  class Hello extends React.Component {\n  \trender() {\n  \t\treturn <div>æˆ‘æ˜¯ç±»ç»„ä»¶<div>\n  \t}\n  }\n  ReactDOM.render(<Hello/>, document.getElementById('root'))\n  ```\n\n#### 3.æŠ½ç¦»ä¸ºç‹¬ç«‹çš„jsæ¨¡å—\n\n1. åˆ›å»ºHello.js\n\n2. åœ¨Hello.jsä¸­å¯¼å…¥react\n\n3. åˆ›å»ºç»„ä»¶ï¼ˆå‡½æ•°æˆ–ç±»ç»„ä»¶ï¼‰\n\n4. åœ¨Hello.jsä¸­åˆ°å¤„è¯¥ç»„ä»¶\n\n5. åœ¨index.jsä¸­å¯¼å…¥Helloç»„ä»¶\n\n6. æ¸²æŸ“ç»„ä»¶\n\n```react\n  // Hello.js\n  import React from 'react'\n  class Hello extends React.Component {\n    render() {\n      return <div>æˆ‘æ˜¯Helloç»„ä»¶</div>\n    }\n  }\n  // index.js\n  import Hello from './Hello'\n  ReactDOM.render(<Hello/>, root)\n```\n\n## ä¹ã€reactäº‹ä»¶å¤„ç†\n\n- reactäº‹ä»¶ç»‘å®šè¯­æ³•ä¸DOMäº‹ä»¶è¯­æ³•ç›¸ä¼¼\n\n- è¯­æ³•ï¼šon + äº‹ä»¶åç§° = {äº‹ä»¶å¤„ç†ç¨‹åº}ï¼Œæ¯”å¦‚ï¼š onClick = { () => {} }\n\n- æ³¨æ„ï¼šreactäº‹ä»¶æ‰ç”¨é©¼å³°å‘½åæ³•\n\n- ç±»ç»„ä»¶ä¸­ç»‘å®šäº‹ä»¶\n\n```react\n  class App extends React.Component {\n    handleClick() {\n      console.log('click')\n    }\n  \trender() {\n      return <button onClick={this.handleClick}>ç‚¹å‡»</button>\n    }\n  }\n  ```\n\n- å‡½æ•°ç»„ä»¶ä¸­ç»‘å®šäº‹ä»¶\n\n```react\n  function App () {\n    handleClick() {\n      console.log('click')\n    }\n    return <button onClick={handleClick}>ç‚¹å‡»</button>\n  }\n  ```\n\n- äº‹ä»¶å¯¹è±¡\n\n  - å¯ä»¥é€šè¿‡äº‹ä»¶å¤„ç†ç¨‹åºçš„å‚æ•°è·å–åˆ°äº‹ä»¶å¯¹è±¡\n\n  - reactä¸­çš„äº‹ä»¶å¯¹è±¡å«åšï¼šåˆæˆäº‹ä»¶ï¼ˆå¯¹è±¡ï¼‰\n\n  - åˆæˆäº‹ä»¶ï¼šå…¼å®¹æ‰€æœ‰æµè§ˆå™¨ï¼Œæ— éœ€æ‹…å¿ƒè·¨æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜\n\n  ```react\n    class Hello extends React.Component {\n      handleClick(e) {\n        e.preventDefault()\n      }\n      render() {\n        return <a onClick={this.handleClick} href=\"http://www.baidu.com\">ç™¾åº¦ä¸€ä¸‹</a>\n      }\n    }\n    ```\n\n## åã€æœ‰çŠ¶æ€ç»„ä»¶å’Œæ— çŠ¶æ€ç»„ä»¶\n\n- å‡½æ•°ç»„ä»¶åˆå«åšæ— çŠ¶æ€ç»„ä»¶ï¼Œç±»ç»„ä»¶åˆå«åšæœ‰çŠ¶æ€ç»„ä»¶\n- çŠ¶æ€ï¼ˆstateï¼‰å³æ•°æ®\n- å‡½æ•°ç»„ä»¶æ²¡æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œåªè´Ÿè´£æ•°æ®å±•ç¤ºï¼ˆé™ï¼‰\n- ç±»ç»„ä»¶æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œè´Ÿè´£æ›´æ–°UIï¼Œè®©é¡µé¢åŠ¨èµ·æ¥\n\n## åä¸€ã€ç»„ä»¶ä¸­çš„stateå’ŒsetState\n\n#### 1.stateçš„åŸºæœ¬ä½¿ç”¨\n\n- çŠ¶æ€å³æ•°æ®\n\n- çŠ¶æ€æ˜¯ç§æœ‰çš„ï¼Œåªèƒ½åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨\n\n- é€šè¿‡this.stateæ¥è·å–çŠ¶æ€\n\n```react\n  class Hello extends React.Component {\n    // constructor() {\n    //  super(); //\n    //  this.state = {\n    //    count: 1\n    // }\n    // }\n    // ç®€å†™\n    state = {\n  \t\tcount: 1\n    }\n    render() {\n      return <h2>è®¡æ•°å™¨ï¼š {this.state.count}</h2>\n    }\n  }\n  ```\n\n#### 2.setState()ä¿®æ”¹çŠ¶æ€\n\n- çŠ¶æ€æ˜¯å¯å˜çš„\n\n- è¯­æ³•ï¼šthis.setState({è¦ä¿®æ”¹çš„æ•°æ®})\n\n- æ³¨æ„ï¼šä¸è¦ç›´æ¥ä¿®æ”¹stateçš„å€¼\n\n- setState()ä½œç”¨ï¼šä¿®æ”¹stateã€æ›´æ–°UI\n\n```react\n  this.setState({\n    count: this.state.count + 1\n  })\n  ```\n\n\n## åäºŒã€äº‹ä»¶ç»‘å®šthisæŒ‡å‘\n\n1. åˆ©ç”¨ç®­å¤´å‡½æ•°æ”¹å˜thisæŒ‡å‘\n\n  ```react\n     class Hello extends React.Component {\n     \tstate = {\n         count: 1\n       }\n     \trender() {\n         return (\n         \t<div>\n           \t<h2>è®¡æ•°å™¨ï¼š{this.state.count}</h2>\n             <button onClick={() => this.handleClick()}>+1</button>\n           </div>\n         )\n       }\n     \thandleClick() {\n         this.setState({\n           count: this.state.count + 1\n         })\n       }\n     }\n     ```\n\n2. åˆ©ç”¨bindæ”¹å˜thisæŒ‡å‘\n\n  ```react\n     class Hello extends React.Component {\n     \tconstructor() {\n         this.state = {\n     \t\t\tcount: 1\n         }\n         this.handleClick = this.handleClick.bind(this)\n       }\n     \trender() {\n     \t\treturn (\n     \t\t\t<div>\n           \t<h2>è®¡æ•°å™¨ï¼š{this.state.count}</h2>\n             <button onClick={this.handleClick}>-1</button>\n           </div>\n     \t\t)\n     \t}\n     \thandleClick() {\n     \t\tthis.setState({\n           count: this.state.count - 1\n         })\n     \t}\n     }\n     ```\n\n3. classçš„ç®­å¤´å‡½æ•°å®ä¾‹æ–¹æ³•ï¼ˆæ¨èæ–¹å¼ï¼Œè„šæ‰‹æ¶é…ç½®çš„babelå¯¹è¿™ç§è¯­æ³•è¿›è¡Œäº†è½¬æ¢ï¼‰\n\n  ```react\n     class Hello extends React.Component {\n     \tconstructor() {\n         this.state = {\n     \t\t\tcount: 1\n         }\n         this.handleClick = this.handleClick.bind(this)\n       }\n     \trender() {\n     \t\treturn (\n     \t\t\t<div>\n           \t<h2>è®¡æ•°å™¨ï¼š{this.state.count}</h2>\n             <button onClick={this.handleClick}>-1</button>\n           </div>\n     \t\t)\n     \t}\n     \thandleClick = () => {\n     \t\tthis.setState({\n           count: this.state.count - 1\n         })\n     \t}\n     }\n     ```\n\n## åä¸‰ã€è¡¨å•å¤„ç†\n\n#### 1.å—æ§ç»„ä»¶ï¼ˆå¸¸ç”¨ï¼‰\n\nå…¶å€¼æ”¶åˆ°reactæ§åˆ¶çš„è¡¨å•å…ƒç´ \n\nå®ç°ä¸€ä¸ªå—æ§ç»„ä»¶ï¼ˆç±»ä¼¼äºvueä¸­çš„v-modelï¼‰ï¼š\n\n1.è¡¨å•valueç»‘å®šstateä¸­çš„çŠ¶æ€\n\n2.ç›‘å¬è¡¨å•çš„changeäº‹ä»¶ï¼Œä¿®æ”¹stateä¸­çš„çŠ¶æ€\n\n```react\nclass Hello extends React.Component {\n\tstate = {\n    text: ''\n  }\n\trender() {\n    return <input type=\"text\" value={this.state.text} onClick={ this.inputChange }></input>\n  }\n\tinputChange = e => {\n    this.setState({\n      text: e.target.value\n    })\n\t}\n}\n```\n\n#### 2.éå—æ§ç»„ä»¶ï¼ˆä¸å¸¸ç”¨ï¼‰\n\n- é€šè¿‡React.createRef()æ–¹æ³•åˆ›å»ºrefå¯¹è±¡\n\n```react\n  constructor() {\n    super()\n    this.txtRef = React.createRef()\n  }\n  ```\n\n  \n\n- è¡¨å•ä½¿ç”¨refå¯¹è±¡\n\n```react\n  render() {\n    return (\n    \t<div>\n      \t<input type=\"text\" ref={ this.txtRef }></input>\n        <button onClick={ this.getValue }>è·å–value</button>\n      </div>\n    )\n  }\n  ```\n\n  \n\n- é€šè¿‡refå¯¹è±¡è·å–è¡¨å•çš„å€¼\n\n```react\n  getValue = () => {\n  \tconsole.log(this.txtRef.current.value)\n  }\n  ```\n\n## åå››ã€ç»„ä»¶é€šè®¯\n\n#### 1.ç»„ä»¶çš„props\n\n- propsçš„ä½œç”¨ï¼š ä¸vueçš„propsç±»ä¼¼ï¼Œçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶ç”¨æ¥æ¥æ”¶æ•°æ®\n\n- æ¥æ”¶æ•°æ®ï¼šå‡½æ•°ç»„ä»¶ç›´æ¥ç”¨propsï¼Œç±»ç»„ä»¶ç”¨this.propsï¼ˆå’Œä½œç”¨åŸŸæœ‰å…³ï¼Œç±»ç»„ä»¶çš„propsåŠ åœ¨å®ä¾‹ä¸Šï¼Œå‡½æ•°ç»„ä»¶ç›´æ¥é€šè¿‡å‚æ•°æ¥æ”¶ï¼‰\n\n```react\n   // 1.å‡½æ•°ç»„ä»¶props\n  const Hello = props => {\n    return (\n      <h2>func props: { props.name }</h2>\n    )\n  }\n  // 2.ç±»ç»„ä»¶props\n  class Hello extends React.Component {\n    render() {\n      return (\n        <h2>class props: { this.props.name }</h2>\n      )\n    }\n  }\n  \n  ReactDOM.render(<Hello name=\"component props\" />, document.querySelector('#root'))\n  ```\n\n- ç‰¹ç‚¹ï¼š\n\n  - å¯ä»¥ç»™ç»„ä»¶ç©¿ä»»æ„ç±»å‹çš„æ•°æ®ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€jsxè¡¨è¾¾å¼ã€å‡½æ•°ç­‰ï¼‰\n  - propsåªè¯»å±æ€§ï¼Œåªèƒ½è¯»å–å±æ€§çš„å€¼ï¼Œæ— æ³•ä¿®æ”¹å¯¹è±¡\n  - âš ï¸åœ¨constructorä¸­ä½¿ç”¨propsæ—¶ï¼Œéœ€è¦æ¥æ”¶propså¹¶ä¼ é€’ç»™superï¼Œå¦åˆ™æ— æ³•åœ¨æ„é€ å‡½æ•°ä¸­è·å–åˆ°props\n\n#### 2.çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶\n\n```react\nclass Parent extends React.Component {\n  state = {\n    name: 'kobe'\n  }\n  render() {\n    return (\n      <div>\n        çˆ¶ç»„ä»¶\n        <Child name={ this.state.name }></Child>\n        </div>\n    )\n  }\n}\nclass Child extends React.Component {\n  render() {\n    return (\n      <div>çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®: { this.props.name}</div>\n    )\n  }\n}\nReactDOM.render(\n  <Parent/>,\n  document.querySelector(\"#root\")\n);\n```\n\n#### 3.å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶\n\næ€è·¯ï¼šçˆ¶ç»„ä»¶æä¾›å›è°ƒå‡½æ•°ï¼ŒåŒæ—¶å°†å›è°ƒé€šè¿‡propsä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡propsæ¥æ”¶å›è°ƒï¼Œæ‰§è¡Œå›è°ƒå¹¶å°†éœ€è¦ä¼ é€’çš„æ•°æ®ä½œä¸ºå›è°ƒçš„å‚æ•°ä¼ é€’ç»™çˆ¶ç»„ä»¶\n\n```react\nclass Father extends React.Component {\n  state = {\n    childMsg: ''\n  }\n  render() {\n\t\treturn (\n    \t<div>\n      \t<h2>å­ç»„ä»¶ä¼ é€’çš„æ•°æ®: { this.state.childMsg }</h2>\n        <Child getMsg={ this.getChildMsg }></Child>\n      </div>\n    )\n  }\n\tgetChildMsg(childMsg) {\n\t\tthis.setState({\n      childMsg:  childMsg\n    })\n  }\n}\nclass Son extends React.Component {\n\tstate = {\n\t\tchildMsg: 'child'\n  }\n\trender() {\n\t\treturn (\n    \t<button onClick={ this.emitMsg }></button>\n    )\n  }\n\temitMsg = () => {\n\t\tthis.props.getMsg(this.state.childMsg)\n  }\n}\n```\n\næ³¨æ„ï¼šæ­¤å¤„åœ¨Childç»„ä»¶ä¸­ï¼Œrenderå‡½æ•°çš„onClickä¸Šä¸èƒ½ç›´æ¥è°ƒç”¨this.props.getMsg()ï¼Œè€Œè¦åœ¨æŠ½ç¦»åˆ°å®ä¾‹æ–¹æ³•ä¸­ã€‚åŸå› ï¼šreactä¼šåœ¨propså’Œstateæ”¹å˜çš„æ—¶å€™è°ƒç”¨renderå¯¹DOMè¿›è¡Œdiffåæ›´æ–°æ¸²æŸ“ï¼Œå¦‚æœåœ¨renderä¸­å†æ¬¡è°ƒç”¨getMsgä¿®æ”¹stateï¼Œä¼šé™·å…¥æ­»å¾ªç¯å¹¶æŠ¥é”™\n\n#### 4.å…„å¼Ÿç»„ä»¶é€šè®¯\n\n- å°†å…±äº«çŠ¶æ€æå‡åˆ°æœ€è¿‘çš„å…¬å…±çš„çˆ¶ç»„ä»¶ä¸­ï¼Œåˆå…¬å‘Šçˆ¶ç»„ä»¶ç®¡ç†è¿™ä¸ªçŠ¶æ€\n\n- çˆ¶ç»„ä»¶ï¼šæä¾›å…±äº«çŠ¶æ€ã€æä¾›æ“ä½œå…±äº«çŠ¶æ€çš„æ–¹æ³•\n\n- å­ç»„ä»¶ï¼šé€šè¿‡propsè·å–å…±äº«çŠ¶æ€å’Œæ“ä½œå…±äº«çŠ¶æ€\n\n```react\n  class Parent extends React.Component {\n    // çŠ¶æ€æå‡\n    state = {\n      count: 1\n    }\n    render() {\n      return (\n        <div>\n          <Child1 count={ this.state.count }></Child1>\n          <Child2 increment = { this.increment}></Child2>\n        </div>\n      )\n    }\n    // æä¾›ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•\n    increment = () => {\n      this.setState({\n        count: this.state.count + 1\n      })\n    }\n  }\n  \n  const Child1 = props => {\n    return (\n      <h2>è®¡æ•°å™¨: { props.count }</h2>\n    )\n  }\n  \n  const Child2 = props => {\n    const increment = () => {\n      props.increment()\n    }\n    return (\n      <button onClick={ increment }>+1</button>\n    )\n  \n  }\n    ReactDOM.render(\n      <Parent/>,\n      document.querySelector(\"#root\")\n    )\n  ```\n\n\n#### 5.ç»„ä»¶æ ‘ä¼ é€’æ•°æ®\n\n- Context è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯â€œå…¨å±€â€çš„æ•°æ®ï¼Œä¾‹å¦‚å½“å‰è®¤è¯çš„ç”¨æˆ·ã€ä¸»é¢˜æˆ–é¦–é€‰è¯­è¨€ã€‚\n\n- ä½¿ç”¨ context, æˆ‘ä»¬å¯ä»¥é¿å…é€šè¿‡ä¸­é—´å…ƒç´ ä¼ é€’ propsï¼š\n\n```react\n  // Context å¯ä»¥è®©æˆ‘ä»¬æ— é¡»æ˜ç¡®åœ°ä¼ éæ¯ä¸€ä¸ªç»„ä»¶ï¼Œå°±èƒ½å°†å€¼æ·±å…¥ä¼ é€’è¿›ç»„ä»¶æ ‘ã€‚\n  // ä¸ºå½“å‰çš„ theme åˆ›å»ºä¸€ä¸ª contextï¼ˆâ€œlightâ€ä¸ºé»˜è®¤å€¼ï¼‰ã€‚\n  const ThemeContext = React.createContext('light');\n  class App extends React.Component {\n    render() {\n      // ä½¿ç”¨ä¸€ä¸ª Provider æ¥å°†å½“å‰çš„ theme ä¼ é€’ç»™ä»¥ä¸‹çš„ç»„ä»¶æ ‘ã€‚\n      // æ— è®ºå¤šæ·±ï¼Œä»»ä½•ç»„ä»¶éƒ½èƒ½è¯»å–è¿™ä¸ªå€¼ã€‚\n      // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°† â€œdarkâ€ ä½œä¸ºå½“å‰çš„å€¼ä¼ é€’ä¸‹å»ã€‚\n      return (\n        <ThemeContext.Provider value=\"dark\">\n          <Toolbar />\n        </ThemeContext.Provider>\n      );\n    }\n  }\n  \n  // ä¸­é—´çš„ç»„ä»¶å†ä¹Ÿä¸å¿…æŒ‡æ˜å¾€ä¸‹ä¼ é€’ theme äº†ã€‚\n  function Toolbar() {\n    return (\n      <div>\n        <ThemedButton />\n      </div>\n    );\n  }\n  \n  class ThemedButton extends React.Component {\n    // æŒ‡å®š contextType è¯»å–å½“å‰çš„ theme contextã€‚\n    // React ä¼šå¾€ä¸Šæ‰¾åˆ°æœ€è¿‘çš„ theme Providerï¼Œç„¶åä½¿ç”¨å®ƒçš„å€¼ã€‚\n    // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“å‰çš„ theme å€¼ä¸º â€œdarkâ€ã€‚\n    static contextType = ThemeContext;\n    render() {\n      return <Button theme={this.context} />;\n    }\n  }\n  ```\n\n- ä½¿ç”¨æ–¹æ³•ï¼š\n\n  - 1.React.createContextæ–¹æ³•åˆ›å»ºcontext\n\n  ```react\n    const MyContext = React.createContext(defaultValue)\n    // åˆ›å»ºä¸€ä¸ª Context å¯¹è±¡ã€‚å½“ React æ¸²æŸ“ä¸€ä¸ªè®¢é˜…äº†è¿™ä¸ª Context å¯¹è±¡çš„ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ä¼šä»ç»„ä»¶æ ‘ä¸­ç¦»è‡ªèº«æœ€è¿‘çš„é‚£ä¸ªåŒ¹é…çš„ Provider ä¸­è¯»å–åˆ°å½“å‰çš„ context å€¼ã€‚\n    // åªæœ‰å½“ç»„ä»¶æ‰€å¤„çš„æ ‘ä¸­æ²¡æœ‰åŒ¹é…åˆ° Provider æ—¶ï¼Œå…¶ defaultValue å‚æ•°æ‰ä¼šç”Ÿæ•ˆã€‚æ­¤é»˜è®¤å€¼æœ‰åŠ©äºåœ¨ä¸ä½¿ç”¨ Provider åŒ…è£…ç»„ä»¶çš„æƒ…å†µä¸‹å¯¹ç»„ä»¶è¿›è¡Œæµ‹è¯•ã€‚æ³¨æ„ï¼šå°† undefined ä¼ é€’ç»™ Provider çš„ value æ—¶ï¼Œæ¶ˆè´¹ç»„ä»¶çš„ defaultValue ä¸ä¼šç”Ÿæ•ˆ\n    // or\n    const { Provider, Consumer } = React.creactContext()\n    ```\n\n  - 2.ä½¿ç”¨Context.Provideræä¾›æ•°æ®\n\n  ```react\n    <MyContext.Provider value={/* æŸä¸ªå€¼ */} />\n    // or\n    <Provider value={} />\n    // æ¯ä¸ª Context å¯¹è±¡éƒ½ä¼šè¿”å›ä¸€ä¸ª Provider React ç»„ä»¶ï¼Œå®ƒå…è®¸æ¶ˆè´¹ç»„ä»¶è®¢é˜… context çš„å˜åŒ–ã€‚\n    \n    // Provider æ¥æ”¶ä¸€ä¸ª value å±æ€§ï¼Œä¼ é€’ç»™æ¶ˆè´¹ç»„ä»¶ã€‚ä¸€ä¸ª Provider å¯ä»¥å’Œå¤šä¸ªæ¶ˆè´¹ç»„ä»¶æœ‰å¯¹åº”å…³ç³»ã€‚å¤šä¸ª Provider ä¹Ÿå¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œé‡Œå±‚çš„ä¼šè¦†ç›–å¤–å±‚çš„æ•°æ®ã€‚\n    \n    // å½“ Provider çš„ value å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå†…éƒ¨çš„æ‰€æœ‰æ¶ˆè´¹ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚Provider åŠå…¶å†…éƒ¨ consumer ç»„ä»¶éƒ½ä¸å—åˆ¶äº shouldComponentUpdate å‡½æ•°ï¼Œå› æ­¤å½“ consumer ç»„ä»¶åœ¨å…¶ç¥–å…ˆç»„ä»¶é€€å‡ºæ›´æ–°çš„æƒ…å†µä¸‹ä¹Ÿèƒ½æ›´æ–°ã€‚\n    \n    \n    ```\n\n  - valueæä¾›ä¸ºå¯¹è±¡æ—¶æ³¨æ„äº‹é¡¹ï¼š\n\n  - å› ä¸º context ä¼šä½¿ç”¨å‚è€ƒæ ‡è¯†ï¼ˆreference identityï¼‰æ¥å†³å®šä½•æ—¶è¿›è¡Œæ¸²æŸ“ï¼Œè¿™é‡Œå¯èƒ½ä¼šæœ‰ä¸€äº›é™·é˜±ï¼Œå½“ provider çš„çˆ¶ç»„ä»¶è¿›è¡Œé‡æ¸²æŸ“æ—¶ï¼Œå¯èƒ½ä¼šåœ¨ consumers ç»„ä»¶ä¸­è§¦å‘æ„å¤–çš„æ¸²æŸ“ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“æ¯ä¸€æ¬¡ Provider é‡æ¸²æŸ“æ—¶ï¼Œä»¥ä¸‹çš„ä»£ç ä¼šé‡æ¸²æŸ“æ‰€æœ‰ä¸‹é¢çš„ consumers ç»„ä»¶ï¼Œå› ä¸º `value` å±æ€§æ€»æ˜¯è¢«èµ‹å€¼ä¸ºæ–°çš„å¯¹è±¡ï¼š\n\n  ```react\n    class App extends React.Component {\n      render() {\n        return (\n          <MyContext.Provider value={{something: 'something'}}>\n            <Toolbar />\n          </MyContext.Provider>\n        );\n      }\n    }\n    ```\n\n  - ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µï¼Œå°† value çŠ¶æ€æå‡åˆ°çˆ¶èŠ‚ç‚¹çš„ state é‡Œï¼š\n\n  ```react\n    class App extends React.Component {\n      constructor(props) {\n        super(props);\n        this.state = {\n          value: {something: 'something'},\n        };\n      }\n    \n      render() {\n        return (\n          <MyContext.Provider value={this.state.value}>\n            <Toolbar />\n          </MyContext.Provider>\n        );\n      }\n    }\n    ```\n\n  - 3.æ¶ˆè´¹æ•°æ®\n\n    - æ–¹å¼1ï¼šClass.contextType\n\n    ```react\n       // æŒ‚è½½åœ¨ class ä¸Šçš„ contextType å±æ€§ä¼šè¢«é‡èµ‹å€¼ä¸ºä¸€ä¸ªç”± React.createContext() åˆ›å»ºçš„ Context å¯¹è±¡ã€‚æ­¤å±æ€§èƒ½è®©ä½ ä½¿ç”¨ this.context æ¥æ¶ˆè´¹æœ€è¿‘ Context ä¸Šçš„é‚£ä¸ªå€¼ã€‚ä½ å¯ä»¥åœ¨ä»»ä½•ç”Ÿå‘½å‘¨æœŸä¸­è®¿é—®åˆ°å®ƒï¼ŒåŒ…æ‹¬ render å‡½æ•°ä¸­ã€‚\n      class MyClass extends React.Component {\n        static contextType = MyContext;\n        render() {\n          let value = this.context;\n          /* åŸºäºè¿™ä¸ªå€¼è¿›è¡Œæ¸²æŸ“å·¥ä½œ */\n        }\n      }\n      ```\n\n    - æ–¹å¼2ï¼šContext.Consumer\n\n    ```react\n      // ä¸€ä¸ª React ç»„ä»¶å¯ä»¥è®¢é˜… context çš„å˜æ›´ï¼Œæ­¤ç»„ä»¶å¯ä»¥è®©ä½ åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å¯ä»¥è®¢é˜… contextã€‚\n      \n      // è¿™ç§æ–¹æ³•éœ€è¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå­å…ƒç´ ï¼ˆfunction as a childï¼‰ã€‚è¿™ä¸ªå‡½æ•°æ¥æ”¶å½“å‰çš„ context å€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ª React èŠ‚ç‚¹ã€‚ä¼ é€’ç»™å‡½æ•°çš„ value å€¼ç­‰ä»·äºç»„ä»¶æ ‘ä¸Šæ–¹ç¦»è¿™ä¸ª context æœ€è¿‘çš„ Provider æä¾›çš„ value å€¼ã€‚å¦‚æœæ²¡æœ‰å¯¹åº”çš„ Providerï¼Œvalue å‚æ•°ç­‰åŒäºä¼ é€’ç»™ createContext() çš„ defaultValueã€‚\n      <MyContext.Consumer>\n        {value => /* åŸºäº context å€¼è¿›è¡Œæ¸²æŸ“*/}\n      </MyContext.Consumer>\n      // or \n      <Consumer>\n      \t{value => /* åŸºäº context å€¼è¿›è¡Œæ¸²æŸ“*/}\n      </Consumer>\n      ```\n\n      \n\n","slug":"react","published":1,"date":"2021-08-25T01:38:07.000Z","updated":"2021-10-14T01:22:47.096Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9ky000ki024a0hehacj","content":"<h2 id=\"ä¸€ã€reactçš„åŸºæœ¬ä½¿ç”¨\"><a href=\"#ä¸€ã€reactçš„åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"ä¸€ã€reactçš„åŸºæœ¬ä½¿ç”¨\"></a>ä¸€ã€reactçš„åŸºæœ¬ä½¿ç”¨</h2><h4 id=\"1-reactçš„å®‰è£…ï¼š\"><a href=\"#1-reactçš„å®‰è£…ï¼š\" class=\"headerlink\" title=\"1.reactçš„å®‰è£…ï¼š\"></a>1.reactçš„å®‰è£…ï¼š</h4><p>å®‰è£…å‘½ä»¤ï¼š npm i react react-dom</p>\n<ul>\n<li>reactåŒ…æ˜¯æ ¸å¿ƒï¼Œæä¾›åˆ›å»ºå…ƒç´ ã€ç»„å»ºç­‰åŠŸèƒ½</li>\n<li>react-domåŒ…æä¾›DOMç›¸å…³åŠŸèƒ½</li>\n</ul>\n<h4 id=\"2-reactçš„ä½¿ç”¨\"><a href=\"#2-reactçš„ä½¿ç”¨\" class=\"headerlink\" title=\"2.reactçš„ä½¿ç”¨\"></a>2.reactçš„ä½¿ç”¨</h4><ul>\n<li>å¼•å…¥reactå’Œreact-dom</li>\n<li>åˆ›å»ºreactå…ƒç´ <ul>\n<li>const title = react.createElement(â€˜h1â€™, null, â€˜hello reactâ€™)</li>\n<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåˆ›å»ºçš„å…ƒç´ åç§°</li>\n<li>ç¬¬äºŒä¸ªå‚æ•°ï¼š å…ƒç´ çš„å±æ€§</li>\n<li>ç¬¬ä¸‰ä¸ªå’Œä»¥åçš„å‚æ•°ï¼š å…ƒç´ çš„å­èŠ‚ç‚¹</li>\n</ul>\n</li>\n<li>æ¸²æŸ“reactå…ƒç´ åˆ°é¡µé¢ä¸­<ul>\n<li>ReactDom.render(title, document.querySelector(â€˜#appâ€™) )</li>\n<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¦æ¸²æŸ“çš„å…ƒç´ </li>\n<li>ç¬¬äºŒä¸ªå‚æ•°ï¼šDOMå¯¹è±¡ï¼Œç”¨äºæŒ‡å®šæ¸²æŸ“åˆ°é¡µé¢ä¸­çš„ä½ç½®</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"äºŒã€reactè„šæ‰‹æ¶çš„ä½¿ç”¨\"><a href=\"#äºŒã€reactè„šæ‰‹æ¶çš„ä½¿ç”¨\" class=\"headerlink\" title=\"äºŒã€reactè„šæ‰‹æ¶çš„ä½¿ç”¨\"></a>äºŒã€reactè„šæ‰‹æ¶çš„ä½¿ç”¨</h2><h4 id=\"1-ä½¿ç”¨reactè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®\"><a href=\"#1-ä½¿ç”¨reactè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®\" class=\"headerlink\" title=\"1.ä½¿ç”¨reactè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®\"></a>1.ä½¿ç”¨reactè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®</h4><ul>\n<li>å‘½ä»¤ï¼šnpx create-react-app my-app</li>\n</ul>\n<h4 id=\"2-npxå‘½ä»¤ä»‹ç»\"><a href=\"#2-npxå‘½ä»¤ä»‹ç»\" class=\"headerlink\" title=\"2.npxå‘½ä»¤ä»‹ç»\"></a>2.npxå‘½ä»¤ä»‹ç»</h4><p>ç›®çš„ï¼šæå‡åŒ…å†…æä¾›çš„å‘½ä»¤è¡Œå·¥å…·çš„ä½¿ç”¨ä½“éªŒã€‚æ— éœ€å®‰è£…è„šæ‰‹æ¶åŒ…ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªåŒ…æä¾›çš„å‘½ä»¤</p>\n<h2 id=\"ä¸‰ã€JSXè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨\"><a href=\"#ä¸‰ã€JSXè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"ä¸‰ã€JSXè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨\"></a>ä¸‰ã€JSXè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨</h2><h4 id=\"1-ä½¿ç”¨æ­¥éª¤\"><a href=\"#1-ä½¿ç”¨æ­¥éª¤\" class=\"headerlink\" title=\"1.ä½¿ç”¨æ­¥éª¤\"></a>1.ä½¿ç”¨æ­¥éª¤</h4><ul>\n<li>ä½¿ç”¨JSXè¯­æ³•åˆ›å»ºreactå…ƒç´ </li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">const title = &lt;h1&gt;hello JSX&lt;h1&gt;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>ä½¿ç”¨ReactDOM.render()æ–¹æ³•æ¸²æŸ“å…ƒç´ åˆ°é¡µé¢ä¸­</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">ReactDOM.render(title, document.querySelector(&#x27;#root&#x27;))<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-ä¸ºä»€ä¹ˆè„šæ‰‹æ¶ä¸­å¯ä»¥ä½¿ç”¨JSXè¯­æ³•\"><a href=\"#2-ä¸ºä»€ä¹ˆè„šæ‰‹æ¶ä¸­å¯ä»¥ä½¿ç”¨JSXè¯­æ³•\" class=\"headerlink\" title=\"2.ä¸ºä»€ä¹ˆè„šæ‰‹æ¶ä¸­å¯ä»¥ä½¿ç”¨JSXè¯­æ³•\"></a>2.ä¸ºä»€ä¹ˆè„šæ‰‹æ¶ä¸­å¯ä»¥ä½¿ç”¨JSXè¯­æ³•</h4><p>create-react-appè„šæ‰‹æ¶ä¸­é»˜è®¤æœ‰@babel/preset-reactï¼Œä¼šå¯¹é¡¹ç›®ä¸­çš„JSXè¯­æ³•è¿›è¡Œç¼–è¯‘</p>\n<h4 id=\"3-æ³¨æ„ç‚¹\"><a href=\"#3-æ³¨æ„ç‚¹\" class=\"headerlink\" title=\"3.æ³¨æ„ç‚¹\"></a>3.æ³¨æ„ç‚¹</h4><ul>\n<li>å…ƒç´ çš„å±æ€§åä½¿ç”¨é©¼å³°å‘½åæ³•</li>\n<li>ç‰¹æ®Šå±æ€§åï¼š class -&gt; className, for -&gt; htmlFor, table index -&gt; tabIndex</li>\n<li>æ²¡æœ‰å­èŠ‚ç‚¹çš„Reactå…ƒç´ å¯ä»¥ç”¨/&gt;ç»“æŸ</li>\n<li>æ¨èï¼šä½¿ç”¨å°æ‹¬å·åŒ…è£¹JSXï¼Œä»è€Œé¿å…jsä¸­çš„è‡ªåŠ¨æ’å…¥åˆ†å·é™·é˜±</li>\n</ul>\n<h2 id=\"å››ã€JSXä¸­ä½¿ç”¨javascriptè¡¨è¾¾å¼\"><a href=\"#å››ã€JSXä¸­ä½¿ç”¨javascriptè¡¨è¾¾å¼\" class=\"headerlink\" title=\"å››ã€JSXä¸­ä½¿ç”¨javascriptè¡¨è¾¾å¼\"></a>å››ã€JSXä¸­ä½¿ç”¨javascriptè¡¨è¾¾å¼</h2><ul>\n<li><p>æ•°æ®å­˜å‚¨åœ¨jsä¸­</p>\n</li>\n<li><p>è¯­æ³•ï¼š { javascriptè¡¨è¾¾å¼ }</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">const name = &#x27;jack&#x27;<br>const div = (<br>\t&lt;div&gt;hello &#123;name&#125;&lt;/div&gt;<br>)<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>æ³¨æ„ç‚¹</p>\n<ul>\n<li>å•å¤§æ‹¬å·ä¸­å¯ä»¥ä½¿ç”¨ä»»æ„çš„JavaScriptè¡¨è¾¾å¼</li>\n<li>JSXè‡ªèº«ä¹Ÿæ˜¯JSè¡¨è¾¾å¼ï¼Œå¯ä»¥åœ¨å•å¤§æ‹¬å·ä¸­ä½¿ç”¨</li>\n<li>jsä¸­çš„å¯¹è±¡ä¸æ˜¯è¡¨è¾¾å¼ï¼Œä¸èƒ½ç›´æ¥åœ¨å•å¤§æ‹¬å·ä¸­ä½¿ç”¨ï¼Œä¸€èˆ¬åªä¼šå‡ºç°åœ¨styleå±æ€§ä¸­</li>\n<li>ä¸èƒ½åœ¨{}ä¸­å‡ºç°è¯­å¥ï¼ˆå¦‚if/forè¯­å¥ç­‰ ï¼‰</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"äº”ã€JSXçš„æ¡ä»¶æ¸²æŸ“\"><a href=\"#äº”ã€JSXçš„æ¡ä»¶æ¸²æŸ“\" class=\"headerlink\" title=\"äº”ã€JSXçš„æ¡ä»¶æ¸²æŸ“\"></a>äº”ã€JSXçš„æ¡ä»¶æ¸²æŸ“</h2><ul>\n<li><p>åœºæ™¯ï¼šloadingæ•ˆæœ</p>\n</li>\n<li><p>æ¡ä»¶æ¸²æŸ“ï¼šæ ¹æ®æ¡ä»¶æ¸²æŸ“ç‰¹å®šçš„JSXç»“æ„</p>\n</li>\n<li><p>å¯ä»¥ä½¿ç”¨if/elseæˆ–ä¸‰å…ƒè¿ç®—ç¬¦æˆ–é€»è¾‘äºè¿ç®—ç¬¦æ¥å®ç°</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">const isLoading = false<br>const loadData = () =&gt; &#123;<br>  return isLoading ?  (&lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;) : (&lt;div&gt;åŠ è½½å®Œæˆ&lt;/div&gt;)<br>&#125;<br>const title = (<br>  &lt;div&gt;&#123;loadData()&#125;&lt;/div&gt;<br>)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"å…­ã€JSXçš„åˆ—è¡¨æ¸²æŸ“\"><a href=\"#å…­ã€JSXçš„åˆ—è¡¨æ¸²æŸ“\" class=\"headerlink\" title=\"å…­ã€JSXçš„åˆ—è¡¨æ¸²æŸ“\"></a>å…­ã€JSXçš„åˆ—è¡¨æ¸²æŸ“</h2><ul>\n<li><p>å¦‚æœè¦æ¸²æŸ“ä¸€ç»„æ•°æ®ï¼Œåº”è¯¥ä½¿ç”¨æ•°ç»„çš„mapæ–¹æ³•</p>\n</li>\n<li><p>æ¸²æŸ“åˆ—è¡¨æ—¶åº”è¯¥æ·»åŠ keyå±æ€§ï¼Œkeyå±æ€§çš„å€¼åº”è¯¥è¦ä¿è¯å”¯ä¸€</p>\n</li>\n<li><p>å°½é‡é¿å…ä½¿ç”¨ç´¢å¼•ä½œä¸ºkey</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">const songs = [<br>  &#123;id: 1, name: &#x27;ç—´å¿ƒç»å¯¹&#x27;&#125;,<br>  &#123;id: 2, name: &#x27;ç«¥è¯&#x27;&#125;,<br>  &#123;id: 3, name: &#x27;æ¼”å‘˜&#x27;&#125;,<br>]<br>const title = (<br>  &lt;ul&gt;<br>    &#123;songs.map(item =&gt; &lt;li key=&#123;item.id&#125;&gt;&#123;item.name&#125;&lt;/li&gt;)&#125;<br>  &lt;/ul&gt;<br>)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸ƒã€JSXçš„æ ·å¼å¤„ç†\"><a href=\"#ä¸ƒã€JSXçš„æ ·å¼å¤„ç†\" class=\"headerlink\" title=\"ä¸ƒã€JSXçš„æ ·å¼å¤„ç†\"></a>ä¸ƒã€JSXçš„æ ·å¼å¤„ç†</h2><ol>\n<li>è¡Œå†…æ ·å¼</li>\n<li>ç±»å</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">import &#x27;./index.css&#x27;<br>const name = &#x27;kobe&#x27;<br><br>const title = (<br>  &lt;h1 className=&quot;title&quot; style=&#123;&#123;color: &#x27;red&#x27;, backgroundColor: &#x27;blue&#x27;&#125;&#125;&gt;<br>    æˆ‘æ˜¯&#123;name&#125;<br>  &lt;/h1&gt;<br>)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"å…«ã€reactç»„ä»¶çš„ä¸¤ç§åˆ›å»ºæ–¹å¼\"><a href=\"#å…«ã€reactç»„ä»¶çš„ä¸¤ç§åˆ›å»ºæ–¹å¼\" class=\"headerlink\" title=\"å…«ã€reactç»„ä»¶çš„ä¸¤ç§åˆ›å»ºæ–¹å¼\"></a>å…«ã€reactç»„ä»¶çš„ä¸¤ç§åˆ›å»ºæ–¹å¼</h2><h4 id=\"1-ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶\"><a href=\"#1-ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶\" class=\"headerlink\" title=\"1.ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶\"></a>1.ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶</h4><ul>\n<li><p>ä½¿ç”¨JSä¸­çš„å‡½æ•°åˆ›å»ºçš„ç»„ä»¶å«åšå‡½æ•°ç»„ä»¶</p>\n</li>\n<li><p>å‡½æ•°ç»„ä»¶å¿…é¡»æœ‰è¿”å›å€¼</p>\n</li>\n<li><p>ç»„ä»¶åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œreactæ®æ­¤åŒºåˆ†ç»„ä»¶å’Œæ™®é€šçš„reactå…ƒç´ </p>\n</li>\n<li><p>ä½¿ç”¨å‡½æ•°åä½œä¸ºç»„ä»¶æ ‡ç­¾å</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">function Hello() &#123;<br>\treturn(<br>\t\t&lt;div&gt;è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªå‡½æ•°ç»„ä»¶&lt;/div&gt;<br>\t)<br>&#125;<br>ReactDOM.render(&lt;Hello/&gt;, document.getElementById(&#x27;root&#x27;))<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-ä½¿ç”¨ç±»åˆ›å»ºç»„ä»¶\"><a href=\"#2-ä½¿ç”¨ç±»åˆ›å»ºç»„ä»¶\" class=\"headerlink\" title=\"2.ä½¿ç”¨ç±»åˆ›å»ºç»„ä»¶\"></a>2.ä½¿ç”¨ç±»åˆ›å»ºç»„ä»¶</h4><ul>\n<li><p>ç±»ç»„ä»¶ï¼šä½¿ç”¨ES6çš„classåˆ›å»ºçš„ç»„ä»¶</p>\n</li>\n<li><p>çº¦å®š1ï¼šç±»åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´</p>\n</li>\n<li><p>çº¦å®š2ï¼šç±»ç»„ä»¶åº”è¯¥ç»§æ‰¿React.Componentçˆ¶ç±»ï¼Œä»è€Œå¯ä»¥ä½¿ç”¨çˆ¶ç±»ä¸­æä¾›çš„æ–¹æ³•å’Œå±æ€§</p>\n</li>\n<li><p>çº¦å®š3ï¼šç±»ç»„ä»¶å¿…é¡»æä¾›renderï¼ˆï¼‰æ–¹æ³•</p>\n</li>\n<li><p>çº¦å®š4ï¼šrenderï¼ˆï¼‰æ–¹æ³•å¿…é¡»æœ‰è¿”å›å€¼ï¼Œè¡¨ç¤ºè¯¥ç»„ä»¶çš„ç»“æ„</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>\trender() &#123;<br>\t\treturn &lt;div&gt;æˆ‘æ˜¯ç±»ç»„ä»¶&lt;div&gt;<br>\t&#125;<br>&#125;<br>ReactDOM.render(&lt;Hello/&gt;, document.getElementById(&#x27;root&#x27;))<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-æŠ½ç¦»ä¸ºç‹¬ç«‹çš„jsæ¨¡å—\"><a href=\"#3-æŠ½ç¦»ä¸ºç‹¬ç«‹çš„jsæ¨¡å—\" class=\"headerlink\" title=\"3.æŠ½ç¦»ä¸ºç‹¬ç«‹çš„jsæ¨¡å—\"></a>3.æŠ½ç¦»ä¸ºç‹¬ç«‹çš„jsæ¨¡å—</h4><ol>\n<li><p>åˆ›å»ºHello.js</p>\n</li>\n<li><p>åœ¨Hello.jsä¸­å¯¼å…¥react</p>\n</li>\n<li><p>åˆ›å»ºç»„ä»¶ï¼ˆå‡½æ•°æˆ–ç±»ç»„ä»¶ï¼‰</p>\n</li>\n<li><p>åœ¨Hello.jsä¸­åˆ°å¤„è¯¥ç»„ä»¶</p>\n</li>\n<li><p>åœ¨index.jsä¸­å¯¼å…¥Helloç»„ä»¶</p>\n</li>\n<li><p>æ¸²æŸ“ç»„ä»¶</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">// Hello.js<br>import React from &#x27;react&#x27;<br>class Hello extends React.Component &#123;<br>  render() &#123;<br>    return &lt;div&gt;æˆ‘æ˜¯Helloç»„ä»¶&lt;/div&gt;<br>  &#125;<br>&#125;<br>// index.js<br>import Hello from &#x27;./Hello&#x27;<br>ReactDOM.render(&lt;Hello/&gt;, root)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ä¹ã€reactäº‹ä»¶å¤„ç†\"><a href=\"#ä¹ã€reactäº‹ä»¶å¤„ç†\" class=\"headerlink\" title=\"ä¹ã€reactäº‹ä»¶å¤„ç†\"></a>ä¹ã€reactäº‹ä»¶å¤„ç†</h2><ul>\n<li><p>reactäº‹ä»¶ç»‘å®šè¯­æ³•ä¸DOMäº‹ä»¶è¯­æ³•ç›¸ä¼¼</p>\n</li>\n<li><p>è¯­æ³•ï¼šon + äº‹ä»¶åç§° = {äº‹ä»¶å¤„ç†ç¨‹åº}ï¼Œæ¯”å¦‚ï¼š onClick = { () =&gt; {} }</p>\n</li>\n<li><p>æ³¨æ„ï¼šreactäº‹ä»¶æ‰ç”¨é©¼å³°å‘½åæ³•</p>\n</li>\n<li><p>ç±»ç»„ä»¶ä¸­ç»‘å®šäº‹ä»¶</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class App extends React.Component &#123;<br>  handleClick() &#123;<br>    console.log(&#x27;click&#x27;)<br>  &#125;<br>\trender() &#123;<br>    return &lt;button onClick=&#123;this.handleClick&#125;&gt;ç‚¹å‡»&lt;/button&gt;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>å‡½æ•°ç»„ä»¶ä¸­ç»‘å®šäº‹ä»¶</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">function App () &#123;<br>  handleClick() &#123;<br>    console.log(&#x27;click&#x27;)<br>  &#125;<br>  return &lt;button onClick=&#123;handleClick&#125;&gt;ç‚¹å‡»&lt;/button&gt;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>äº‹ä»¶å¯¹è±¡</p>\n<ul>\n<li><p>å¯ä»¥é€šè¿‡äº‹ä»¶å¤„ç†ç¨‹åºçš„å‚æ•°è·å–åˆ°äº‹ä»¶å¯¹è±¡</p>\n</li>\n<li><p>reactä¸­çš„äº‹ä»¶å¯¹è±¡å«åšï¼šåˆæˆäº‹ä»¶ï¼ˆå¯¹è±¡ï¼‰</p>\n</li>\n<li><p>åˆæˆäº‹ä»¶ï¼šå…¼å®¹æ‰€æœ‰æµè§ˆå™¨ï¼Œæ— éœ€æ‹…å¿ƒè·¨æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>  handleClick(e) &#123;<br>    e.preventDefault()<br>  &#125;<br>  render() &#123;<br>    return &lt;a onClick=&#123;this.handleClick&#125; href=&quot;http://www.baidu.com&quot;&gt;ç™¾åº¦ä¸€ä¸‹&lt;/a&gt;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"åã€æœ‰çŠ¶æ€ç»„ä»¶å’Œæ— çŠ¶æ€ç»„ä»¶\"><a href=\"#åã€æœ‰çŠ¶æ€ç»„ä»¶å’Œæ— çŠ¶æ€ç»„ä»¶\" class=\"headerlink\" title=\"åã€æœ‰çŠ¶æ€ç»„ä»¶å’Œæ— çŠ¶æ€ç»„ä»¶\"></a>åã€æœ‰çŠ¶æ€ç»„ä»¶å’Œæ— çŠ¶æ€ç»„ä»¶</h2><ul>\n<li>å‡½æ•°ç»„ä»¶åˆå«åšæ— çŠ¶æ€ç»„ä»¶ï¼Œç±»ç»„ä»¶åˆå«åšæœ‰çŠ¶æ€ç»„ä»¶</li>\n<li>çŠ¶æ€ï¼ˆstateï¼‰å³æ•°æ®</li>\n<li>å‡½æ•°ç»„ä»¶æ²¡æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œåªè´Ÿè´£æ•°æ®å±•ç¤ºï¼ˆé™ï¼‰</li>\n<li>ç±»ç»„ä»¶æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œè´Ÿè´£æ›´æ–°UIï¼Œè®©é¡µé¢åŠ¨èµ·æ¥</li>\n</ul>\n<h2 id=\"åä¸€ã€ç»„ä»¶ä¸­çš„stateå’ŒsetState\"><a href=\"#åä¸€ã€ç»„ä»¶ä¸­çš„stateå’ŒsetState\" class=\"headerlink\" title=\"åä¸€ã€ç»„ä»¶ä¸­çš„stateå’ŒsetState\"></a>åä¸€ã€ç»„ä»¶ä¸­çš„stateå’ŒsetState</h2><h4 id=\"1-stateçš„åŸºæœ¬ä½¿ç”¨\"><a href=\"#1-stateçš„åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"1.stateçš„åŸºæœ¬ä½¿ç”¨\"></a>1.stateçš„åŸºæœ¬ä½¿ç”¨</h4><ul>\n<li><p>çŠ¶æ€å³æ•°æ®</p>\n</li>\n<li><p>çŠ¶æ€æ˜¯ç§æœ‰çš„ï¼Œåªèƒ½åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨</p>\n</li>\n<li><p>é€šè¿‡this.stateæ¥è·å–çŠ¶æ€</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>  // constructor() &#123;<br>  //  super(); //<br>  //  this.state = &#123;<br>  //    count: 1<br>  // &#125;<br>  // &#125;<br>  // ç®€å†™<br>  state = &#123;<br>\t\tcount: 1<br>  &#125;<br>  render() &#123;<br>    return &lt;h2&gt;è®¡æ•°å™¨ï¼š &#123;this.state.count&#125;&lt;/h2&gt;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-setState-ä¿®æ”¹çŠ¶æ€\"><a href=\"#2-setState-ä¿®æ”¹çŠ¶æ€\" class=\"headerlink\" title=\"2.setState()ä¿®æ”¹çŠ¶æ€\"></a>2.setState()ä¿®æ”¹çŠ¶æ€</h4><ul>\n<li><p>çŠ¶æ€æ˜¯å¯å˜çš„</p>\n</li>\n<li><p>è¯­æ³•ï¼šthis.setState({è¦ä¿®æ”¹çš„æ•°æ®})</p>\n</li>\n<li><p>æ³¨æ„ï¼šä¸è¦ç›´æ¥ä¿®æ”¹stateçš„å€¼</p>\n</li>\n<li><p>setState()ä½œç”¨ï¼šä¿®æ”¹stateã€æ›´æ–°UI</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">this.setState(&#123;<br>  count: this.state.count + 1<br>&#125;)<br></code></pre></td></tr></table></figure>\n\n\n<h2 id=\"åäºŒã€äº‹ä»¶ç»‘å®šthisæŒ‡å‘\"><a href=\"#åäºŒã€äº‹ä»¶ç»‘å®šthisæŒ‡å‘\" class=\"headerlink\" title=\"åäºŒã€äº‹ä»¶ç»‘å®šthisæŒ‡å‘\"></a>åäºŒã€äº‹ä»¶ç»‘å®šthisæŒ‡å‘</h2><ol>\n<li>åˆ©ç”¨ç®­å¤´å‡½æ•°æ”¹å˜thisæŒ‡å‘</li>\n</ol>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>\tstate = &#123;<br>    count: 1<br>  &#125;<br>\trender() &#123;<br>    return (<br>    \t&lt;div&gt;<br>      \t&lt;h2&gt;è®¡æ•°å™¨ï¼š&#123;this.state.count&#125;&lt;/h2&gt;<br>        &lt;button onClick=&#123;() =&gt; this.handleClick()&#125;&gt;+1&lt;/button&gt;<br>      &lt;/div&gt;<br>    )<br>  &#125;<br>\thandleClick() &#123;<br>    this.setState(&#123;<br>      count: this.state.count + 1<br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>åˆ©ç”¨bindæ”¹å˜thisæŒ‡å‘</li>\n</ol>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>\tconstructor() &#123;<br>    this.state = &#123;<br>\t\t\tcount: 1<br>    &#125;<br>    this.handleClick = this.handleClick.bind(this)<br>  &#125;<br>\trender() &#123;<br>\t\treturn (<br>\t\t\t&lt;div&gt;<br>      \t&lt;h2&gt;è®¡æ•°å™¨ï¼š&#123;this.state.count&#125;&lt;/h2&gt;<br>        &lt;button onClick=&#123;this.handleClick&#125;&gt;-1&lt;/button&gt;<br>      &lt;/div&gt;<br>\t\t)<br>\t&#125;<br>\thandleClick() &#123;<br>\t\tthis.setState(&#123;<br>      count: this.state.count - 1<br>    &#125;)<br>\t&#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>classçš„ç®­å¤´å‡½æ•°å®ä¾‹æ–¹æ³•ï¼ˆæ¨èæ–¹å¼ï¼Œè„šæ‰‹æ¶é…ç½®çš„babelå¯¹è¿™ç§è¯­æ³•è¿›è¡Œäº†è½¬æ¢ï¼‰</li>\n</ol>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>\tconstructor() &#123;<br>    this.state = &#123;<br>\t\t\tcount: 1<br>    &#125;<br>    this.handleClick = this.handleClick.bind(this)<br>  &#125;<br>\trender() &#123;<br>\t\treturn (<br>\t\t\t&lt;div&gt;<br>      \t&lt;h2&gt;è®¡æ•°å™¨ï¼š&#123;this.state.count&#125;&lt;/h2&gt;<br>        &lt;button onClick=&#123;this.handleClick&#125;&gt;-1&lt;/button&gt;<br>      &lt;/div&gt;<br>\t\t)<br>\t&#125;<br>\thandleClick = () =&gt; &#123;<br>\t\tthis.setState(&#123;<br>      count: this.state.count - 1<br>    &#125;)<br>\t&#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åä¸‰ã€è¡¨å•å¤„ç†\"><a href=\"#åä¸‰ã€è¡¨å•å¤„ç†\" class=\"headerlink\" title=\"åä¸‰ã€è¡¨å•å¤„ç†\"></a>åä¸‰ã€è¡¨å•å¤„ç†</h2><h4 id=\"1-å—æ§ç»„ä»¶ï¼ˆå¸¸ç”¨ï¼‰\"><a href=\"#1-å—æ§ç»„ä»¶ï¼ˆå¸¸ç”¨ï¼‰\" class=\"headerlink\" title=\"1.å—æ§ç»„ä»¶ï¼ˆå¸¸ç”¨ï¼‰\"></a>1.å—æ§ç»„ä»¶ï¼ˆå¸¸ç”¨ï¼‰</h4><p>å…¶å€¼æ”¶åˆ°reactæ§åˆ¶çš„è¡¨å•å…ƒç´ </p>\n<p>å®ç°ä¸€ä¸ªå—æ§ç»„ä»¶ï¼ˆç±»ä¼¼äºvueä¸­çš„v-modelï¼‰ï¼š</p>\n<p>1.è¡¨å•valueç»‘å®šstateä¸­çš„çŠ¶æ€</p>\n<p>2.ç›‘å¬è¡¨å•çš„changeäº‹ä»¶ï¼Œä¿®æ”¹stateä¸­çš„çŠ¶æ€</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>\tstate = &#123;<br>    text: &#x27;&#x27;<br>  &#125;<br>\trender() &#123;<br>    return &lt;input type=&quot;text&quot; value=&#123;this.state.text&#125; onClick=&#123; this.inputChange &#125;&gt;&lt;/input&gt;<br>  &#125;<br>\tinputChange = e =&gt; &#123;<br>    this.setState(&#123;<br>      text: e.target.value<br>    &#125;)<br>\t&#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-éå—æ§ç»„ä»¶ï¼ˆä¸å¸¸ç”¨ï¼‰\"><a href=\"#2-éå—æ§ç»„ä»¶ï¼ˆä¸å¸¸ç”¨ï¼‰\" class=\"headerlink\" title=\"2.éå—æ§ç»„ä»¶ï¼ˆä¸å¸¸ç”¨ï¼‰\"></a>2.éå—æ§ç»„ä»¶ï¼ˆä¸å¸¸ç”¨ï¼‰</h4><ul>\n<li>é€šè¿‡React.createRef()æ–¹æ³•åˆ›å»ºrefå¯¹è±¡</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">constructor() &#123;<br>  super()<br>  this.txtRef = React.createRef()<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>è¡¨å•ä½¿ç”¨refå¯¹è±¡</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">render() &#123;<br>  return (<br>  \t&lt;div&gt;<br>    \t&lt;input type=&quot;text&quot; ref=&#123; this.txtRef &#125;&gt;&lt;/input&gt;<br>      &lt;button onClick=&#123; this.getValue &#125;&gt;è·å–value&lt;/button&gt;<br>    &lt;/div&gt;<br>  )<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>é€šè¿‡refå¯¹è±¡è·å–è¡¨å•çš„å€¼</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">getValue = () =&gt; &#123;<br>\tconsole.log(this.txtRef.current.value)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åå››ã€ç»„ä»¶é€šè®¯\"><a href=\"#åå››ã€ç»„ä»¶é€šè®¯\" class=\"headerlink\" title=\"åå››ã€ç»„ä»¶é€šè®¯\"></a>åå››ã€ç»„ä»¶é€šè®¯</h2><h4 id=\"1-ç»„ä»¶çš„props\"><a href=\"#1-ç»„ä»¶çš„props\" class=\"headerlink\" title=\"1.ç»„ä»¶çš„props\"></a>1.ç»„ä»¶çš„props</h4><ul>\n<li><p>propsçš„ä½œç”¨ï¼š ä¸vueçš„propsç±»ä¼¼ï¼Œçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶ç”¨æ¥æ¥æ”¶æ•°æ®</p>\n</li>\n<li><p>æ¥æ”¶æ•°æ®ï¼šå‡½æ•°ç»„ä»¶ç›´æ¥ç”¨propsï¼Œç±»ç»„ä»¶ç”¨this.propsï¼ˆå’Œä½œç”¨åŸŸæœ‰å…³ï¼Œç±»ç»„ä»¶çš„propsåŠ åœ¨å®ä¾‹ä¸Šï¼Œå‡½æ•°ç»„ä»¶ç›´æ¥é€šè¿‡å‚æ•°æ¥æ”¶ï¼‰</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\"> // 1.å‡½æ•°ç»„ä»¶props<br>const Hello = props =&gt; &#123;<br>  return (<br>    &lt;h2&gt;func props: &#123; props.name &#125;&lt;/h2&gt;<br>  )<br>&#125;<br>// 2.ç±»ç»„ä»¶props<br>class Hello extends React.Component &#123;<br>  render() &#123;<br>    return (<br>      &lt;h2&gt;class props: &#123; this.props.name &#125;&lt;/h2&gt;<br>    )<br>  &#125;<br>&#125;<br><br>ReactDOM.render(&lt;Hello name=&quot;component props&quot; /&gt;, document.querySelector(&#x27;#root&#x27;))<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li>å¯ä»¥ç»™ç»„ä»¶ç©¿ä»»æ„ç±»å‹çš„æ•°æ®ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€jsxè¡¨è¾¾å¼ã€å‡½æ•°ç­‰ï¼‰</li>\n<li>propsåªè¯»å±æ€§ï¼Œåªèƒ½è¯»å–å±æ€§çš„å€¼ï¼Œæ— æ³•ä¿®æ”¹å¯¹è±¡</li>\n<li>âš ï¸åœ¨constructorä¸­ä½¿ç”¨propsæ—¶ï¼Œéœ€è¦æ¥æ”¶propså¹¶ä¼ é€’ç»™superï¼Œå¦åˆ™æ— æ³•åœ¨æ„é€ å‡½æ•°ä¸­è·å–åˆ°props</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶\"><a href=\"#2-çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶\" class=\"headerlink\" title=\"2.çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶\"></a>2.çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Parent extends React.Component &#123;<br>  state = &#123;<br>    name: &#x27;kobe&#x27;<br>  &#125;<br>  render() &#123;<br>    return (<br>      &lt;div&gt;<br>        çˆ¶ç»„ä»¶<br>        &lt;Child name=&#123; this.state.name &#125;&gt;&lt;/Child&gt;<br>        &lt;/div&gt;<br>    )<br>  &#125;<br>&#125;<br>class Child extends React.Component &#123;<br>  render() &#123;<br>    return (<br>      &lt;div&gt;çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®: &#123; this.props.name&#125;&lt;/div&gt;<br>    )<br>  &#125;<br>&#125;<br>ReactDOM.render(<br>  &lt;Parent/&gt;,<br>  document.querySelector(&quot;#root&quot;)<br>);<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶\"><a href=\"#3-å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶\" class=\"headerlink\" title=\"3.å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶\"></a>3.å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶</h4><p>æ€è·¯ï¼šçˆ¶ç»„ä»¶æä¾›å›è°ƒå‡½æ•°ï¼ŒåŒæ—¶å°†å›è°ƒé€šè¿‡propsä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡propsæ¥æ”¶å›è°ƒï¼Œæ‰§è¡Œå›è°ƒå¹¶å°†éœ€è¦ä¼ é€’çš„æ•°æ®ä½œä¸ºå›è°ƒçš„å‚æ•°ä¼ é€’ç»™çˆ¶ç»„ä»¶</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Father extends React.Component &#123;<br>  state = &#123;<br>    childMsg: &#x27;&#x27;<br>  &#125;<br>  render() &#123;<br>\t\treturn (<br>    \t&lt;div&gt;<br>      \t&lt;h2&gt;å­ç»„ä»¶ä¼ é€’çš„æ•°æ®: &#123; this.state.childMsg &#125;&lt;/h2&gt;<br>        &lt;Child getMsg=&#123; this.getChildMsg &#125;&gt;&lt;/Child&gt;<br>      &lt;/div&gt;<br>    )<br>  &#125;<br>\tgetChildMsg(childMsg) &#123;<br>\t\tthis.setState(&#123;<br>      childMsg:  childMsg<br>    &#125;)<br>  &#125;<br>&#125;<br>class Son extends React.Component &#123;<br>\tstate = &#123;<br>\t\tchildMsg: &#x27;child&#x27;<br>  &#125;<br>\trender() &#123;<br>\t\treturn (<br>    \t&lt;button onClick=&#123; this.emitMsg &#125;&gt;&lt;/button&gt;<br>    )<br>  &#125;<br>\temitMsg = () =&gt; &#123;<br>\t\tthis.props.getMsg(this.state.childMsg)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>æ³¨æ„ï¼šæ­¤å¤„åœ¨Childç»„ä»¶ä¸­ï¼Œrenderå‡½æ•°çš„onClickä¸Šä¸èƒ½ç›´æ¥è°ƒç”¨this.props.getMsg()ï¼Œè€Œè¦åœ¨æŠ½ç¦»åˆ°å®ä¾‹æ–¹æ³•ä¸­ã€‚åŸå› ï¼šreactä¼šåœ¨propså’Œstateæ”¹å˜çš„æ—¶å€™è°ƒç”¨renderå¯¹DOMè¿›è¡Œdiffåæ›´æ–°æ¸²æŸ“ï¼Œå¦‚æœåœ¨renderä¸­å†æ¬¡è°ƒç”¨getMsgä¿®æ”¹stateï¼Œä¼šé™·å…¥æ­»å¾ªç¯å¹¶æŠ¥é”™</p>\n<h4 id=\"4-å…„å¼Ÿç»„ä»¶é€šè®¯\"><a href=\"#4-å…„å¼Ÿç»„ä»¶é€šè®¯\" class=\"headerlink\" title=\"4.å…„å¼Ÿç»„ä»¶é€šè®¯\"></a>4.å…„å¼Ÿç»„ä»¶é€šè®¯</h4><ul>\n<li><p>å°†å…±äº«çŠ¶æ€æå‡åˆ°æœ€è¿‘çš„å…¬å…±çš„çˆ¶ç»„ä»¶ä¸­ï¼Œåˆå…¬å‘Šçˆ¶ç»„ä»¶ç®¡ç†è¿™ä¸ªçŠ¶æ€</p>\n</li>\n<li><p>çˆ¶ç»„ä»¶ï¼šæä¾›å…±äº«çŠ¶æ€ã€æä¾›æ“ä½œå…±äº«çŠ¶æ€çš„æ–¹æ³•</p>\n</li>\n<li><p>å­ç»„ä»¶ï¼šé€šè¿‡propsè·å–å…±äº«çŠ¶æ€å’Œæ“ä½œå…±äº«çŠ¶æ€</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Parent extends React.Component &#123;<br>  // çŠ¶æ€æå‡<br>  state = &#123;<br>    count: 1<br>  &#125;<br>  render() &#123;<br>    return (<br>      &lt;div&gt;<br>        &lt;Child1 count=&#123; this.state.count &#125;&gt;&lt;/Child1&gt;<br>        &lt;Child2 increment = &#123; this.increment&#125;&gt;&lt;/Child2&gt;<br>      &lt;/div&gt;<br>    )<br>  &#125;<br>  // æä¾›ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•<br>  increment = () =&gt; &#123;<br>    this.setState(&#123;<br>      count: this.state.count + 1<br>    &#125;)<br>  &#125;<br>&#125;<br><br>const Child1 = props =&gt; &#123;<br>  return (<br>    &lt;h2&gt;è®¡æ•°å™¨: &#123; props.count &#125;&lt;/h2&gt;<br>  )<br>&#125;<br><br>const Child2 = props =&gt; &#123;<br>  const increment = () =&gt; &#123;<br>    props.increment()<br>  &#125;<br>  return (<br>    &lt;button onClick=&#123; increment &#125;&gt;+1&lt;/button&gt;<br>  )<br><br>&#125;<br>  ReactDOM.render(<br>    &lt;Parent/&gt;,<br>    document.querySelector(&quot;#root&quot;)<br>  )<br></code></pre></td></tr></table></figure>\n\n\n<h4 id=\"5-ç»„ä»¶æ ‘ä¼ é€’æ•°æ®\"><a href=\"#5-ç»„ä»¶æ ‘ä¼ é€’æ•°æ®\" class=\"headerlink\" title=\"5.ç»„ä»¶æ ‘ä¼ é€’æ•°æ®\"></a>5.ç»„ä»¶æ ‘ä¼ é€’æ•°æ®</h4><ul>\n<li><p>Context è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯â€œå…¨å±€â€çš„æ•°æ®ï¼Œä¾‹å¦‚å½“å‰è®¤è¯çš„ç”¨æˆ·ã€ä¸»é¢˜æˆ–é¦–é€‰è¯­è¨€ã€‚</p>\n</li>\n<li><p>ä½¿ç”¨ context, æˆ‘ä»¬å¯ä»¥é¿å…é€šè¿‡ä¸­é—´å…ƒç´ ä¼ é€’ propsï¼š</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">// Context å¯ä»¥è®©æˆ‘ä»¬æ— é¡»æ˜ç¡®åœ°ä¼ éæ¯ä¸€ä¸ªç»„ä»¶ï¼Œå°±èƒ½å°†å€¼æ·±å…¥ä¼ é€’è¿›ç»„ä»¶æ ‘ã€‚<br>// ä¸ºå½“å‰çš„ theme åˆ›å»ºä¸€ä¸ª contextï¼ˆâ€œlightâ€ä¸ºé»˜è®¤å€¼ï¼‰ã€‚<br>const ThemeContext = React.createContext(&#x27;light&#x27;);<br>class App extends React.Component &#123;<br>  render() &#123;<br>    // ä½¿ç”¨ä¸€ä¸ª Provider æ¥å°†å½“å‰çš„ theme ä¼ é€’ç»™ä»¥ä¸‹çš„ç»„ä»¶æ ‘ã€‚<br>    // æ— è®ºå¤šæ·±ï¼Œä»»ä½•ç»„ä»¶éƒ½èƒ½è¯»å–è¿™ä¸ªå€¼ã€‚<br>    // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°† â€œdarkâ€ ä½œä¸ºå½“å‰çš„å€¼ä¼ é€’ä¸‹å»ã€‚<br>    return (<br>      &lt;ThemeContext.Provider value=&quot;dark&quot;&gt;<br>        &lt;Toolbar /&gt;<br>      &lt;/ThemeContext.Provider&gt;<br>    );<br>  &#125;<br>&#125;<br><br>// ä¸­é—´çš„ç»„ä»¶å†ä¹Ÿä¸å¿…æŒ‡æ˜å¾€ä¸‹ä¼ é€’ theme äº†ã€‚<br>function Toolbar() &#123;<br>  return (<br>    &lt;div&gt;<br>      &lt;ThemedButton /&gt;<br>    &lt;/div&gt;<br>  );<br>&#125;<br><br>class ThemedButton extends React.Component &#123;<br>  // æŒ‡å®š contextType è¯»å–å½“å‰çš„ theme contextã€‚<br>  // React ä¼šå¾€ä¸Šæ‰¾åˆ°æœ€è¿‘çš„ theme Providerï¼Œç„¶åä½¿ç”¨å®ƒçš„å€¼ã€‚<br>  // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“å‰çš„ theme å€¼ä¸º â€œdarkâ€ã€‚<br>  static contextType = ThemeContext;<br>  render() &#123;<br>    return &lt;Button theme=&#123;this.context&#125; /&gt;;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>ä½¿ç”¨æ–¹æ³•ï¼š</p>\n<ul>\n<li>1.React.createContextæ–¹æ³•åˆ›å»ºcontext</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">const MyContext = React.createContext(defaultValue)<br>// åˆ›å»ºä¸€ä¸ª Context å¯¹è±¡ã€‚å½“ React æ¸²æŸ“ä¸€ä¸ªè®¢é˜…äº†è¿™ä¸ª Context å¯¹è±¡çš„ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ä¼šä»ç»„ä»¶æ ‘ä¸­ç¦»è‡ªèº«æœ€è¿‘çš„é‚£ä¸ªåŒ¹é…çš„ Provider ä¸­è¯»å–åˆ°å½“å‰çš„ context å€¼ã€‚<br>// åªæœ‰å½“ç»„ä»¶æ‰€å¤„çš„æ ‘ä¸­æ²¡æœ‰åŒ¹é…åˆ° Provider æ—¶ï¼Œå…¶ defaultValue å‚æ•°æ‰ä¼šç”Ÿæ•ˆã€‚æ­¤é»˜è®¤å€¼æœ‰åŠ©äºåœ¨ä¸ä½¿ç”¨ Provider åŒ…è£…ç»„ä»¶çš„æƒ…å†µä¸‹å¯¹ç»„ä»¶è¿›è¡Œæµ‹è¯•ã€‚æ³¨æ„ï¼šå°† undefined ä¼ é€’ç»™ Provider çš„ value æ—¶ï¼Œæ¶ˆè´¹ç»„ä»¶çš„ defaultValue ä¸ä¼šç”Ÿæ•ˆ<br>// or<br>const &#123; Provider, Consumer &#125; = React.creactContext()<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>2.ä½¿ç”¨Context.Provideræä¾›æ•°æ®</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">&lt;MyContext.Provider value=&#123;/* æŸä¸ªå€¼ */&#125; /&gt;<br>// or<br>&lt;Provider value=&#123;&#125; /&gt;<br>// æ¯ä¸ª Context å¯¹è±¡éƒ½ä¼šè¿”å›ä¸€ä¸ª Provider React ç»„ä»¶ï¼Œå®ƒå…è®¸æ¶ˆè´¹ç»„ä»¶è®¢é˜… context çš„å˜åŒ–ã€‚<br><br>// Provider æ¥æ”¶ä¸€ä¸ª value å±æ€§ï¼Œä¼ é€’ç»™æ¶ˆè´¹ç»„ä»¶ã€‚ä¸€ä¸ª Provider å¯ä»¥å’Œå¤šä¸ªæ¶ˆè´¹ç»„ä»¶æœ‰å¯¹åº”å…³ç³»ã€‚å¤šä¸ª Provider ä¹Ÿå¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œé‡Œå±‚çš„ä¼šè¦†ç›–å¤–å±‚çš„æ•°æ®ã€‚<br><br>// å½“ Provider çš„ value å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå†…éƒ¨çš„æ‰€æœ‰æ¶ˆè´¹ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚Provider åŠå…¶å†…éƒ¨ consumer ç»„ä»¶éƒ½ä¸å—åˆ¶äº shouldComponentUpdate å‡½æ•°ï¼Œå› æ­¤å½“ consumer ç»„ä»¶åœ¨å…¶ç¥–å…ˆç»„ä»¶é€€å‡ºæ›´æ–°çš„æƒ…å†µä¸‹ä¹Ÿèƒ½æ›´æ–°ã€‚<br><br><br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>valueæä¾›ä¸ºå¯¹è±¡æ—¶æ³¨æ„äº‹é¡¹ï¼š</p>\n</li>\n<li><p>å› ä¸º context ä¼šä½¿ç”¨å‚è€ƒæ ‡è¯†ï¼ˆreference identityï¼‰æ¥å†³å®šä½•æ—¶è¿›è¡Œæ¸²æŸ“ï¼Œè¿™é‡Œå¯èƒ½ä¼šæœ‰ä¸€äº›é™·é˜±ï¼Œå½“ provider çš„çˆ¶ç»„ä»¶è¿›è¡Œé‡æ¸²æŸ“æ—¶ï¼Œå¯èƒ½ä¼šåœ¨ consumers ç»„ä»¶ä¸­è§¦å‘æ„å¤–çš„æ¸²æŸ“ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“æ¯ä¸€æ¬¡ Provider é‡æ¸²æŸ“æ—¶ï¼Œä»¥ä¸‹çš„ä»£ç ä¼šé‡æ¸²æŸ“æ‰€æœ‰ä¸‹é¢çš„ consumers ç»„ä»¶ï¼Œå› ä¸º <code>value</code> å±æ€§æ€»æ˜¯è¢«èµ‹å€¼ä¸ºæ–°çš„å¯¹è±¡ï¼š</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class App extends React.Component &#123;<br>  render() &#123;<br>    return (<br>      &lt;MyContext.Provider value=&#123;&#123;something: &#x27;something&#x27;&#125;&#125;&gt;<br>        &lt;Toolbar /&gt;<br>      &lt;/MyContext.Provider&gt;<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µï¼Œå°† value çŠ¶æ€æå‡åˆ°çˆ¶èŠ‚ç‚¹çš„ state é‡Œï¼š</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class App extends React.Component &#123;<br>  constructor(props) &#123;<br>    super(props);<br>    this.state = &#123;<br>      value: &#123;something: &#x27;something&#x27;&#125;,<br>    &#125;;<br>  &#125;<br><br>  render() &#123;<br>    return (<br>      &lt;MyContext.Provider value=&#123;this.state.value&#125;&gt;<br>        &lt;Toolbar /&gt;<br>      &lt;/MyContext.Provider&gt;<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>3.æ¶ˆè´¹æ•°æ®</p>\n<ul>\n<li>æ–¹å¼1ï¼šClass.contextType</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\"> // æŒ‚è½½åœ¨ class ä¸Šçš„ contextType å±æ€§ä¼šè¢«é‡èµ‹å€¼ä¸ºä¸€ä¸ªç”± React.createContext() åˆ›å»ºçš„ Context å¯¹è±¡ã€‚æ­¤å±æ€§èƒ½è®©ä½ ä½¿ç”¨ this.context æ¥æ¶ˆè´¹æœ€è¿‘ Context ä¸Šçš„é‚£ä¸ªå€¼ã€‚ä½ å¯ä»¥åœ¨ä»»ä½•ç”Ÿå‘½å‘¨æœŸä¸­è®¿é—®åˆ°å®ƒï¼ŒåŒ…æ‹¬ render å‡½æ•°ä¸­ã€‚<br>class MyClass extends React.Component &#123;<br>  static contextType = MyContext;<br>  render() &#123;<br>    let value = this.context;<br>    /* åŸºäºè¿™ä¸ªå€¼è¿›è¡Œæ¸²æŸ“å·¥ä½œ */<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>æ–¹å¼2ï¼šContext.Consumer</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">// ä¸€ä¸ª React ç»„ä»¶å¯ä»¥è®¢é˜… context çš„å˜æ›´ï¼Œæ­¤ç»„ä»¶å¯ä»¥è®©ä½ åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å¯ä»¥è®¢é˜… contextã€‚<br><br>// è¿™ç§æ–¹æ³•éœ€è¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå­å…ƒç´ ï¼ˆfunction as a childï¼‰ã€‚è¿™ä¸ªå‡½æ•°æ¥æ”¶å½“å‰çš„ context å€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ª React èŠ‚ç‚¹ã€‚ä¼ é€’ç»™å‡½æ•°çš„ value å€¼ç­‰ä»·äºç»„ä»¶æ ‘ä¸Šæ–¹ç¦»è¿™ä¸ª context æœ€è¿‘çš„ Provider æä¾›çš„ value å€¼ã€‚å¦‚æœæ²¡æœ‰å¯¹åº”çš„ Providerï¼Œvalue å‚æ•°ç­‰åŒäºä¼ é€’ç»™ createContext() çš„ defaultValueã€‚<br>&lt;MyContext.Consumer&gt;<br>  &#123;value =&gt; /* åŸºäº context å€¼è¿›è¡Œæ¸²æŸ“*/&#125;<br>&lt;/MyContext.Consumer&gt;<br>// or <br>&lt;Consumer&gt;<br>\t&#123;value =&gt; /* åŸºäº context å€¼è¿›è¡Œæ¸²æŸ“*/&#125;<br>&lt;/Consumer&gt;<br></code></pre></td></tr></table></figure>\n\n</li>\n</ul>\n</li>\n</ul>\n","site":{"data":{}},"wordcount":12108,"excerpt":"","more":"<h2 id=\"ä¸€ã€reactçš„åŸºæœ¬ä½¿ç”¨\"><a href=\"#ä¸€ã€reactçš„åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"ä¸€ã€reactçš„åŸºæœ¬ä½¿ç”¨\"></a>ä¸€ã€reactçš„åŸºæœ¬ä½¿ç”¨</h2><h4 id=\"1-reactçš„å®‰è£…ï¼š\"><a href=\"#1-reactçš„å®‰è£…ï¼š\" class=\"headerlink\" title=\"1.reactçš„å®‰è£…ï¼š\"></a>1.reactçš„å®‰è£…ï¼š</h4><p>å®‰è£…å‘½ä»¤ï¼š npm i react react-dom</p>\n<ul>\n<li>reactåŒ…æ˜¯æ ¸å¿ƒï¼Œæä¾›åˆ›å»ºå…ƒç´ ã€ç»„å»ºç­‰åŠŸèƒ½</li>\n<li>react-domåŒ…æä¾›DOMç›¸å…³åŠŸèƒ½</li>\n</ul>\n<h4 id=\"2-reactçš„ä½¿ç”¨\"><a href=\"#2-reactçš„ä½¿ç”¨\" class=\"headerlink\" title=\"2.reactçš„ä½¿ç”¨\"></a>2.reactçš„ä½¿ç”¨</h4><ul>\n<li>å¼•å…¥reactå’Œreact-dom</li>\n<li>åˆ›å»ºreactå…ƒç´ <ul>\n<li>const title = react.createElement(â€˜h1â€™, null, â€˜hello reactâ€™)</li>\n<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šåˆ›å»ºçš„å…ƒç´ åç§°</li>\n<li>ç¬¬äºŒä¸ªå‚æ•°ï¼š å…ƒç´ çš„å±æ€§</li>\n<li>ç¬¬ä¸‰ä¸ªå’Œä»¥åçš„å‚æ•°ï¼š å…ƒç´ çš„å­èŠ‚ç‚¹</li>\n</ul>\n</li>\n<li>æ¸²æŸ“reactå…ƒç´ åˆ°é¡µé¢ä¸­<ul>\n<li>ReactDom.render(title, document.querySelector(â€˜#appâ€™) )</li>\n<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¦æ¸²æŸ“çš„å…ƒç´ </li>\n<li>ç¬¬äºŒä¸ªå‚æ•°ï¼šDOMå¯¹è±¡ï¼Œç”¨äºæŒ‡å®šæ¸²æŸ“åˆ°é¡µé¢ä¸­çš„ä½ç½®</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"äºŒã€reactè„šæ‰‹æ¶çš„ä½¿ç”¨\"><a href=\"#äºŒã€reactè„šæ‰‹æ¶çš„ä½¿ç”¨\" class=\"headerlink\" title=\"äºŒã€reactè„šæ‰‹æ¶çš„ä½¿ç”¨\"></a>äºŒã€reactè„šæ‰‹æ¶çš„ä½¿ç”¨</h2><h4 id=\"1-ä½¿ç”¨reactè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®\"><a href=\"#1-ä½¿ç”¨reactè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®\" class=\"headerlink\" title=\"1.ä½¿ç”¨reactè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®\"></a>1.ä½¿ç”¨reactè„šæ‰‹æ¶åˆå§‹åŒ–é¡¹ç›®</h4><ul>\n<li>å‘½ä»¤ï¼šnpx create-react-app my-app</li>\n</ul>\n<h4 id=\"2-npxå‘½ä»¤ä»‹ç»\"><a href=\"#2-npxå‘½ä»¤ä»‹ç»\" class=\"headerlink\" title=\"2.npxå‘½ä»¤ä»‹ç»\"></a>2.npxå‘½ä»¤ä»‹ç»</h4><p>ç›®çš„ï¼šæå‡åŒ…å†…æä¾›çš„å‘½ä»¤è¡Œå·¥å…·çš„ä½¿ç”¨ä½“éªŒã€‚æ— éœ€å®‰è£…è„šæ‰‹æ¶åŒ…ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªåŒ…æä¾›çš„å‘½ä»¤</p>\n<h2 id=\"ä¸‰ã€JSXè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨\"><a href=\"#ä¸‰ã€JSXè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"ä¸‰ã€JSXè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨\"></a>ä¸‰ã€JSXè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨</h2><h4 id=\"1-ä½¿ç”¨æ­¥éª¤\"><a href=\"#1-ä½¿ç”¨æ­¥éª¤\" class=\"headerlink\" title=\"1.ä½¿ç”¨æ­¥éª¤\"></a>1.ä½¿ç”¨æ­¥éª¤</h4><ul>\n<li>ä½¿ç”¨JSXè¯­æ³•åˆ›å»ºreactå…ƒç´ </li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">const title = &lt;h1&gt;hello JSX&lt;h1&gt;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>ä½¿ç”¨ReactDOM.render()æ–¹æ³•æ¸²æŸ“å…ƒç´ åˆ°é¡µé¢ä¸­</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">ReactDOM.render(title, document.querySelector(&#x27;#root&#x27;))<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-ä¸ºä»€ä¹ˆè„šæ‰‹æ¶ä¸­å¯ä»¥ä½¿ç”¨JSXè¯­æ³•\"><a href=\"#2-ä¸ºä»€ä¹ˆè„šæ‰‹æ¶ä¸­å¯ä»¥ä½¿ç”¨JSXè¯­æ³•\" class=\"headerlink\" title=\"2.ä¸ºä»€ä¹ˆè„šæ‰‹æ¶ä¸­å¯ä»¥ä½¿ç”¨JSXè¯­æ³•\"></a>2.ä¸ºä»€ä¹ˆè„šæ‰‹æ¶ä¸­å¯ä»¥ä½¿ç”¨JSXè¯­æ³•</h4><p>create-react-appè„šæ‰‹æ¶ä¸­é»˜è®¤æœ‰@babel/preset-reactï¼Œä¼šå¯¹é¡¹ç›®ä¸­çš„JSXè¯­æ³•è¿›è¡Œç¼–è¯‘</p>\n<h4 id=\"3-æ³¨æ„ç‚¹\"><a href=\"#3-æ³¨æ„ç‚¹\" class=\"headerlink\" title=\"3.æ³¨æ„ç‚¹\"></a>3.æ³¨æ„ç‚¹</h4><ul>\n<li>å…ƒç´ çš„å±æ€§åä½¿ç”¨é©¼å³°å‘½åæ³•</li>\n<li>ç‰¹æ®Šå±æ€§åï¼š class -&gt; className, for -&gt; htmlFor, table index -&gt; tabIndex</li>\n<li>æ²¡æœ‰å­èŠ‚ç‚¹çš„Reactå…ƒç´ å¯ä»¥ç”¨/&gt;ç»“æŸ</li>\n<li>æ¨èï¼šä½¿ç”¨å°æ‹¬å·åŒ…è£¹JSXï¼Œä»è€Œé¿å…jsä¸­çš„è‡ªåŠ¨æ’å…¥åˆ†å·é™·é˜±</li>\n</ul>\n<h2 id=\"å››ã€JSXä¸­ä½¿ç”¨javascriptè¡¨è¾¾å¼\"><a href=\"#å››ã€JSXä¸­ä½¿ç”¨javascriptè¡¨è¾¾å¼\" class=\"headerlink\" title=\"å››ã€JSXä¸­ä½¿ç”¨javascriptè¡¨è¾¾å¼\"></a>å››ã€JSXä¸­ä½¿ç”¨javascriptè¡¨è¾¾å¼</h2><ul>\n<li><p>æ•°æ®å­˜å‚¨åœ¨jsä¸­</p>\n</li>\n<li><p>è¯­æ³•ï¼š { javascriptè¡¨è¾¾å¼ }</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">const name = &#x27;jack&#x27;<br>const div = (<br>\t&lt;div&gt;hello &#123;name&#125;&lt;/div&gt;<br>)<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>æ³¨æ„ç‚¹</p>\n<ul>\n<li>å•å¤§æ‹¬å·ä¸­å¯ä»¥ä½¿ç”¨ä»»æ„çš„JavaScriptè¡¨è¾¾å¼</li>\n<li>JSXè‡ªèº«ä¹Ÿæ˜¯JSè¡¨è¾¾å¼ï¼Œå¯ä»¥åœ¨å•å¤§æ‹¬å·ä¸­ä½¿ç”¨</li>\n<li>jsä¸­çš„å¯¹è±¡ä¸æ˜¯è¡¨è¾¾å¼ï¼Œä¸èƒ½ç›´æ¥åœ¨å•å¤§æ‹¬å·ä¸­ä½¿ç”¨ï¼Œä¸€èˆ¬åªä¼šå‡ºç°åœ¨styleå±æ€§ä¸­</li>\n<li>ä¸èƒ½åœ¨{}ä¸­å‡ºç°è¯­å¥ï¼ˆå¦‚if/forè¯­å¥ç­‰ ï¼‰</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"äº”ã€JSXçš„æ¡ä»¶æ¸²æŸ“\"><a href=\"#äº”ã€JSXçš„æ¡ä»¶æ¸²æŸ“\" class=\"headerlink\" title=\"äº”ã€JSXçš„æ¡ä»¶æ¸²æŸ“\"></a>äº”ã€JSXçš„æ¡ä»¶æ¸²æŸ“</h2><ul>\n<li><p>åœºæ™¯ï¼šloadingæ•ˆæœ</p>\n</li>\n<li><p>æ¡ä»¶æ¸²æŸ“ï¼šæ ¹æ®æ¡ä»¶æ¸²æŸ“ç‰¹å®šçš„JSXç»“æ„</p>\n</li>\n<li><p>å¯ä»¥ä½¿ç”¨if/elseæˆ–ä¸‰å…ƒè¿ç®—ç¬¦æˆ–é€»è¾‘äºè¿ç®—ç¬¦æ¥å®ç°</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">const isLoading = false<br>const loadData = () =&gt; &#123;<br>  return isLoading ?  (&lt;div&gt;åŠ è½½ä¸­...&lt;/div&gt;) : (&lt;div&gt;åŠ è½½å®Œæˆ&lt;/div&gt;)<br>&#125;<br>const title = (<br>  &lt;div&gt;&#123;loadData()&#125;&lt;/div&gt;<br>)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"å…­ã€JSXçš„åˆ—è¡¨æ¸²æŸ“\"><a href=\"#å…­ã€JSXçš„åˆ—è¡¨æ¸²æŸ“\" class=\"headerlink\" title=\"å…­ã€JSXçš„åˆ—è¡¨æ¸²æŸ“\"></a>å…­ã€JSXçš„åˆ—è¡¨æ¸²æŸ“</h2><ul>\n<li><p>å¦‚æœè¦æ¸²æŸ“ä¸€ç»„æ•°æ®ï¼Œåº”è¯¥ä½¿ç”¨æ•°ç»„çš„mapæ–¹æ³•</p>\n</li>\n<li><p>æ¸²æŸ“åˆ—è¡¨æ—¶åº”è¯¥æ·»åŠ keyå±æ€§ï¼Œkeyå±æ€§çš„å€¼åº”è¯¥è¦ä¿è¯å”¯ä¸€</p>\n</li>\n<li><p>å°½é‡é¿å…ä½¿ç”¨ç´¢å¼•ä½œä¸ºkey</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">const songs = [<br>  &#123;id: 1, name: &#x27;ç—´å¿ƒç»å¯¹&#x27;&#125;,<br>  &#123;id: 2, name: &#x27;ç«¥è¯&#x27;&#125;,<br>  &#123;id: 3, name: &#x27;æ¼”å‘˜&#x27;&#125;,<br>]<br>const title = (<br>  &lt;ul&gt;<br>    &#123;songs.map(item =&gt; &lt;li key=&#123;item.id&#125;&gt;&#123;item.name&#125;&lt;/li&gt;)&#125;<br>  &lt;/ul&gt;<br>)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸ƒã€JSXçš„æ ·å¼å¤„ç†\"><a href=\"#ä¸ƒã€JSXçš„æ ·å¼å¤„ç†\" class=\"headerlink\" title=\"ä¸ƒã€JSXçš„æ ·å¼å¤„ç†\"></a>ä¸ƒã€JSXçš„æ ·å¼å¤„ç†</h2><ol>\n<li>è¡Œå†…æ ·å¼</li>\n<li>ç±»å</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">import &#x27;./index.css&#x27;<br>const name = &#x27;kobe&#x27;<br><br>const title = (<br>  &lt;h1 className=&quot;title&quot; style=&#123;&#123;color: &#x27;red&#x27;, backgroundColor: &#x27;blue&#x27;&#125;&#125;&gt;<br>    æˆ‘æ˜¯&#123;name&#125;<br>  &lt;/h1&gt;<br>)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"å…«ã€reactç»„ä»¶çš„ä¸¤ç§åˆ›å»ºæ–¹å¼\"><a href=\"#å…«ã€reactç»„ä»¶çš„ä¸¤ç§åˆ›å»ºæ–¹å¼\" class=\"headerlink\" title=\"å…«ã€reactç»„ä»¶çš„ä¸¤ç§åˆ›å»ºæ–¹å¼\"></a>å…«ã€reactç»„ä»¶çš„ä¸¤ç§åˆ›å»ºæ–¹å¼</h2><h4 id=\"1-ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶\"><a href=\"#1-ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶\" class=\"headerlink\" title=\"1.ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶\"></a>1.ä½¿ç”¨å‡½æ•°åˆ›å»ºç»„ä»¶</h4><ul>\n<li><p>ä½¿ç”¨JSä¸­çš„å‡½æ•°åˆ›å»ºçš„ç»„ä»¶å«åšå‡½æ•°ç»„ä»¶</p>\n</li>\n<li><p>å‡½æ•°ç»„ä»¶å¿…é¡»æœ‰è¿”å›å€¼</p>\n</li>\n<li><p>ç»„ä»¶åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œreactæ®æ­¤åŒºåˆ†ç»„ä»¶å’Œæ™®é€šçš„reactå…ƒç´ </p>\n</li>\n<li><p>ä½¿ç”¨å‡½æ•°åä½œä¸ºç»„ä»¶æ ‡ç­¾å</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">function Hello() &#123;<br>\treturn(<br>\t\t&lt;div&gt;è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªå‡½æ•°ç»„ä»¶&lt;/div&gt;<br>\t)<br>&#125;<br>ReactDOM.render(&lt;Hello/&gt;, document.getElementById(&#x27;root&#x27;))<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-ä½¿ç”¨ç±»åˆ›å»ºç»„ä»¶\"><a href=\"#2-ä½¿ç”¨ç±»åˆ›å»ºç»„ä»¶\" class=\"headerlink\" title=\"2.ä½¿ç”¨ç±»åˆ›å»ºç»„ä»¶\"></a>2.ä½¿ç”¨ç±»åˆ›å»ºç»„ä»¶</h4><ul>\n<li><p>ç±»ç»„ä»¶ï¼šä½¿ç”¨ES6çš„classåˆ›å»ºçš„ç»„ä»¶</p>\n</li>\n<li><p>çº¦å®š1ï¼šç±»åç§°å¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´</p>\n</li>\n<li><p>çº¦å®š2ï¼šç±»ç»„ä»¶åº”è¯¥ç»§æ‰¿React.Componentçˆ¶ç±»ï¼Œä»è€Œå¯ä»¥ä½¿ç”¨çˆ¶ç±»ä¸­æä¾›çš„æ–¹æ³•å’Œå±æ€§</p>\n</li>\n<li><p>çº¦å®š3ï¼šç±»ç»„ä»¶å¿…é¡»æä¾›renderï¼ˆï¼‰æ–¹æ³•</p>\n</li>\n<li><p>çº¦å®š4ï¼šrenderï¼ˆï¼‰æ–¹æ³•å¿…é¡»æœ‰è¿”å›å€¼ï¼Œè¡¨ç¤ºè¯¥ç»„ä»¶çš„ç»“æ„</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>\trender() &#123;<br>\t\treturn &lt;div&gt;æˆ‘æ˜¯ç±»ç»„ä»¶&lt;div&gt;<br>\t&#125;<br>&#125;<br>ReactDOM.render(&lt;Hello/&gt;, document.getElementById(&#x27;root&#x27;))<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-æŠ½ç¦»ä¸ºç‹¬ç«‹çš„jsæ¨¡å—\"><a href=\"#3-æŠ½ç¦»ä¸ºç‹¬ç«‹çš„jsæ¨¡å—\" class=\"headerlink\" title=\"3.æŠ½ç¦»ä¸ºç‹¬ç«‹çš„jsæ¨¡å—\"></a>3.æŠ½ç¦»ä¸ºç‹¬ç«‹çš„jsæ¨¡å—</h4><ol>\n<li><p>åˆ›å»ºHello.js</p>\n</li>\n<li><p>åœ¨Hello.jsä¸­å¯¼å…¥react</p>\n</li>\n<li><p>åˆ›å»ºç»„ä»¶ï¼ˆå‡½æ•°æˆ–ç±»ç»„ä»¶ï¼‰</p>\n</li>\n<li><p>åœ¨Hello.jsä¸­åˆ°å¤„è¯¥ç»„ä»¶</p>\n</li>\n<li><p>åœ¨index.jsä¸­å¯¼å…¥Helloç»„ä»¶</p>\n</li>\n<li><p>æ¸²æŸ“ç»„ä»¶</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">// Hello.js<br>import React from &#x27;react&#x27;<br>class Hello extends React.Component &#123;<br>  render() &#123;<br>    return &lt;div&gt;æˆ‘æ˜¯Helloç»„ä»¶&lt;/div&gt;<br>  &#125;<br>&#125;<br>// index.js<br>import Hello from &#x27;./Hello&#x27;<br>ReactDOM.render(&lt;Hello/&gt;, root)<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ä¹ã€reactäº‹ä»¶å¤„ç†\"><a href=\"#ä¹ã€reactäº‹ä»¶å¤„ç†\" class=\"headerlink\" title=\"ä¹ã€reactäº‹ä»¶å¤„ç†\"></a>ä¹ã€reactäº‹ä»¶å¤„ç†</h2><ul>\n<li><p>reactäº‹ä»¶ç»‘å®šè¯­æ³•ä¸DOMäº‹ä»¶è¯­æ³•ç›¸ä¼¼</p>\n</li>\n<li><p>è¯­æ³•ï¼šon + äº‹ä»¶åç§° = {äº‹ä»¶å¤„ç†ç¨‹åº}ï¼Œæ¯”å¦‚ï¼š onClick = { () =&gt; {} }</p>\n</li>\n<li><p>æ³¨æ„ï¼šreactäº‹ä»¶æ‰ç”¨é©¼å³°å‘½åæ³•</p>\n</li>\n<li><p>ç±»ç»„ä»¶ä¸­ç»‘å®šäº‹ä»¶</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class App extends React.Component &#123;<br>  handleClick() &#123;<br>    console.log(&#x27;click&#x27;)<br>  &#125;<br>\trender() &#123;<br>    return &lt;button onClick=&#123;this.handleClick&#125;&gt;ç‚¹å‡»&lt;/button&gt;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>å‡½æ•°ç»„ä»¶ä¸­ç»‘å®šäº‹ä»¶</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">function App () &#123;<br>  handleClick() &#123;<br>    console.log(&#x27;click&#x27;)<br>  &#125;<br>  return &lt;button onClick=&#123;handleClick&#125;&gt;ç‚¹å‡»&lt;/button&gt;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>äº‹ä»¶å¯¹è±¡</p>\n<ul>\n<li><p>å¯ä»¥é€šè¿‡äº‹ä»¶å¤„ç†ç¨‹åºçš„å‚æ•°è·å–åˆ°äº‹ä»¶å¯¹è±¡</p>\n</li>\n<li><p>reactä¸­çš„äº‹ä»¶å¯¹è±¡å«åšï¼šåˆæˆäº‹ä»¶ï¼ˆå¯¹è±¡ï¼‰</p>\n</li>\n<li><p>åˆæˆäº‹ä»¶ï¼šå…¼å®¹æ‰€æœ‰æµè§ˆå™¨ï¼Œæ— éœ€æ‹…å¿ƒè·¨æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>  handleClick(e) &#123;<br>    e.preventDefault()<br>  &#125;<br>  render() &#123;<br>    return &lt;a onClick=&#123;this.handleClick&#125; href=&quot;http://www.baidu.com&quot;&gt;ç™¾åº¦ä¸€ä¸‹&lt;/a&gt;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"åã€æœ‰çŠ¶æ€ç»„ä»¶å’Œæ— çŠ¶æ€ç»„ä»¶\"><a href=\"#åã€æœ‰çŠ¶æ€ç»„ä»¶å’Œæ— çŠ¶æ€ç»„ä»¶\" class=\"headerlink\" title=\"åã€æœ‰çŠ¶æ€ç»„ä»¶å’Œæ— çŠ¶æ€ç»„ä»¶\"></a>åã€æœ‰çŠ¶æ€ç»„ä»¶å’Œæ— çŠ¶æ€ç»„ä»¶</h2><ul>\n<li>å‡½æ•°ç»„ä»¶åˆå«åšæ— çŠ¶æ€ç»„ä»¶ï¼Œç±»ç»„ä»¶åˆå«åšæœ‰çŠ¶æ€ç»„ä»¶</li>\n<li>çŠ¶æ€ï¼ˆstateï¼‰å³æ•°æ®</li>\n<li>å‡½æ•°ç»„ä»¶æ²¡æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œåªè´Ÿè´£æ•°æ®å±•ç¤ºï¼ˆé™ï¼‰</li>\n<li>ç±»ç»„ä»¶æœ‰è‡ªå·±çš„çŠ¶æ€ï¼Œè´Ÿè´£æ›´æ–°UIï¼Œè®©é¡µé¢åŠ¨èµ·æ¥</li>\n</ul>\n<h2 id=\"åä¸€ã€ç»„ä»¶ä¸­çš„stateå’ŒsetState\"><a href=\"#åä¸€ã€ç»„ä»¶ä¸­çš„stateå’ŒsetState\" class=\"headerlink\" title=\"åä¸€ã€ç»„ä»¶ä¸­çš„stateå’ŒsetState\"></a>åä¸€ã€ç»„ä»¶ä¸­çš„stateå’ŒsetState</h2><h4 id=\"1-stateçš„åŸºæœ¬ä½¿ç”¨\"><a href=\"#1-stateçš„åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"1.stateçš„åŸºæœ¬ä½¿ç”¨\"></a>1.stateçš„åŸºæœ¬ä½¿ç”¨</h4><ul>\n<li><p>çŠ¶æ€å³æ•°æ®</p>\n</li>\n<li><p>çŠ¶æ€æ˜¯ç§æœ‰çš„ï¼Œåªèƒ½åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨</p>\n</li>\n<li><p>é€šè¿‡this.stateæ¥è·å–çŠ¶æ€</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>  // constructor() &#123;<br>  //  super(); //<br>  //  this.state = &#123;<br>  //    count: 1<br>  // &#125;<br>  // &#125;<br>  // ç®€å†™<br>  state = &#123;<br>\t\tcount: 1<br>  &#125;<br>  render() &#123;<br>    return &lt;h2&gt;è®¡æ•°å™¨ï¼š &#123;this.state.count&#125;&lt;/h2&gt;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-setState-ä¿®æ”¹çŠ¶æ€\"><a href=\"#2-setState-ä¿®æ”¹çŠ¶æ€\" class=\"headerlink\" title=\"2.setState()ä¿®æ”¹çŠ¶æ€\"></a>2.setState()ä¿®æ”¹çŠ¶æ€</h4><ul>\n<li><p>çŠ¶æ€æ˜¯å¯å˜çš„</p>\n</li>\n<li><p>è¯­æ³•ï¼šthis.setState({è¦ä¿®æ”¹çš„æ•°æ®})</p>\n</li>\n<li><p>æ³¨æ„ï¼šä¸è¦ç›´æ¥ä¿®æ”¹stateçš„å€¼</p>\n</li>\n<li><p>setState()ä½œç”¨ï¼šä¿®æ”¹stateã€æ›´æ–°UI</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">this.setState(&#123;<br>  count: this.state.count + 1<br>&#125;)<br></code></pre></td></tr></table></figure>\n\n\n<h2 id=\"åäºŒã€äº‹ä»¶ç»‘å®šthisæŒ‡å‘\"><a href=\"#åäºŒã€äº‹ä»¶ç»‘å®šthisæŒ‡å‘\" class=\"headerlink\" title=\"åäºŒã€äº‹ä»¶ç»‘å®šthisæŒ‡å‘\"></a>åäºŒã€äº‹ä»¶ç»‘å®šthisæŒ‡å‘</h2><ol>\n<li>åˆ©ç”¨ç®­å¤´å‡½æ•°æ”¹å˜thisæŒ‡å‘</li>\n</ol>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>\tstate = &#123;<br>    count: 1<br>  &#125;<br>\trender() &#123;<br>    return (<br>    \t&lt;div&gt;<br>      \t&lt;h2&gt;è®¡æ•°å™¨ï¼š&#123;this.state.count&#125;&lt;/h2&gt;<br>        &lt;button onClick=&#123;() =&gt; this.handleClick()&#125;&gt;+1&lt;/button&gt;<br>      &lt;/div&gt;<br>    )<br>  &#125;<br>\thandleClick() &#123;<br>    this.setState(&#123;<br>      count: this.state.count + 1<br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>åˆ©ç”¨bindæ”¹å˜thisæŒ‡å‘</li>\n</ol>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>\tconstructor() &#123;<br>    this.state = &#123;<br>\t\t\tcount: 1<br>    &#125;<br>    this.handleClick = this.handleClick.bind(this)<br>  &#125;<br>\trender() &#123;<br>\t\treturn (<br>\t\t\t&lt;div&gt;<br>      \t&lt;h2&gt;è®¡æ•°å™¨ï¼š&#123;this.state.count&#125;&lt;/h2&gt;<br>        &lt;button onClick=&#123;this.handleClick&#125;&gt;-1&lt;/button&gt;<br>      &lt;/div&gt;<br>\t\t)<br>\t&#125;<br>\thandleClick() &#123;<br>\t\tthis.setState(&#123;<br>      count: this.state.count - 1<br>    &#125;)<br>\t&#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>classçš„ç®­å¤´å‡½æ•°å®ä¾‹æ–¹æ³•ï¼ˆæ¨èæ–¹å¼ï¼Œè„šæ‰‹æ¶é…ç½®çš„babelå¯¹è¿™ç§è¯­æ³•è¿›è¡Œäº†è½¬æ¢ï¼‰</li>\n</ol>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>\tconstructor() &#123;<br>    this.state = &#123;<br>\t\t\tcount: 1<br>    &#125;<br>    this.handleClick = this.handleClick.bind(this)<br>  &#125;<br>\trender() &#123;<br>\t\treturn (<br>\t\t\t&lt;div&gt;<br>      \t&lt;h2&gt;è®¡æ•°å™¨ï¼š&#123;this.state.count&#125;&lt;/h2&gt;<br>        &lt;button onClick=&#123;this.handleClick&#125;&gt;-1&lt;/button&gt;<br>      &lt;/div&gt;<br>\t\t)<br>\t&#125;<br>\thandleClick = () =&gt; &#123;<br>\t\tthis.setState(&#123;<br>      count: this.state.count - 1<br>    &#125;)<br>\t&#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åä¸‰ã€è¡¨å•å¤„ç†\"><a href=\"#åä¸‰ã€è¡¨å•å¤„ç†\" class=\"headerlink\" title=\"åä¸‰ã€è¡¨å•å¤„ç†\"></a>åä¸‰ã€è¡¨å•å¤„ç†</h2><h4 id=\"1-å—æ§ç»„ä»¶ï¼ˆå¸¸ç”¨ï¼‰\"><a href=\"#1-å—æ§ç»„ä»¶ï¼ˆå¸¸ç”¨ï¼‰\" class=\"headerlink\" title=\"1.å—æ§ç»„ä»¶ï¼ˆå¸¸ç”¨ï¼‰\"></a>1.å—æ§ç»„ä»¶ï¼ˆå¸¸ç”¨ï¼‰</h4><p>å…¶å€¼æ”¶åˆ°reactæ§åˆ¶çš„è¡¨å•å…ƒç´ </p>\n<p>å®ç°ä¸€ä¸ªå—æ§ç»„ä»¶ï¼ˆç±»ä¼¼äºvueä¸­çš„v-modelï¼‰ï¼š</p>\n<p>1.è¡¨å•valueç»‘å®šstateä¸­çš„çŠ¶æ€</p>\n<p>2.ç›‘å¬è¡¨å•çš„changeäº‹ä»¶ï¼Œä¿®æ”¹stateä¸­çš„çŠ¶æ€</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Hello extends React.Component &#123;<br>\tstate = &#123;<br>    text: &#x27;&#x27;<br>  &#125;<br>\trender() &#123;<br>    return &lt;input type=&quot;text&quot; value=&#123;this.state.text&#125; onClick=&#123; this.inputChange &#125;&gt;&lt;/input&gt;<br>  &#125;<br>\tinputChange = e =&gt; &#123;<br>    this.setState(&#123;<br>      text: e.target.value<br>    &#125;)<br>\t&#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-éå—æ§ç»„ä»¶ï¼ˆä¸å¸¸ç”¨ï¼‰\"><a href=\"#2-éå—æ§ç»„ä»¶ï¼ˆä¸å¸¸ç”¨ï¼‰\" class=\"headerlink\" title=\"2.éå—æ§ç»„ä»¶ï¼ˆä¸å¸¸ç”¨ï¼‰\"></a>2.éå—æ§ç»„ä»¶ï¼ˆä¸å¸¸ç”¨ï¼‰</h4><ul>\n<li>é€šè¿‡React.createRef()æ–¹æ³•åˆ›å»ºrefå¯¹è±¡</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">constructor() &#123;<br>  super()<br>  this.txtRef = React.createRef()<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>è¡¨å•ä½¿ç”¨refå¯¹è±¡</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">render() &#123;<br>  return (<br>  \t&lt;div&gt;<br>    \t&lt;input type=&quot;text&quot; ref=&#123; this.txtRef &#125;&gt;&lt;/input&gt;<br>      &lt;button onClick=&#123; this.getValue &#125;&gt;è·å–value&lt;/button&gt;<br>    &lt;/div&gt;<br>  )<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>é€šè¿‡refå¯¹è±¡è·å–è¡¨å•çš„å€¼</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">getValue = () =&gt; &#123;<br>\tconsole.log(this.txtRef.current.value)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"åå››ã€ç»„ä»¶é€šè®¯\"><a href=\"#åå››ã€ç»„ä»¶é€šè®¯\" class=\"headerlink\" title=\"åå››ã€ç»„ä»¶é€šè®¯\"></a>åå››ã€ç»„ä»¶é€šè®¯</h2><h4 id=\"1-ç»„ä»¶çš„props\"><a href=\"#1-ç»„ä»¶çš„props\" class=\"headerlink\" title=\"1.ç»„ä»¶çš„props\"></a>1.ç»„ä»¶çš„props</h4><ul>\n<li><p>propsçš„ä½œç”¨ï¼š ä¸vueçš„propsç±»ä¼¼ï¼Œçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå­ç»„ä»¶ç”¨æ¥æ¥æ”¶æ•°æ®</p>\n</li>\n<li><p>æ¥æ”¶æ•°æ®ï¼šå‡½æ•°ç»„ä»¶ç›´æ¥ç”¨propsï¼Œç±»ç»„ä»¶ç”¨this.propsï¼ˆå’Œä½œç”¨åŸŸæœ‰å…³ï¼Œç±»ç»„ä»¶çš„propsåŠ åœ¨å®ä¾‹ä¸Šï¼Œå‡½æ•°ç»„ä»¶ç›´æ¥é€šè¿‡å‚æ•°æ¥æ”¶ï¼‰</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\"> // 1.å‡½æ•°ç»„ä»¶props<br>const Hello = props =&gt; &#123;<br>  return (<br>    &lt;h2&gt;func props: &#123; props.name &#125;&lt;/h2&gt;<br>  )<br>&#125;<br>// 2.ç±»ç»„ä»¶props<br>class Hello extends React.Component &#123;<br>  render() &#123;<br>    return (<br>      &lt;h2&gt;class props: &#123; this.props.name &#125;&lt;/h2&gt;<br>    )<br>  &#125;<br>&#125;<br><br>ReactDOM.render(&lt;Hello name=&quot;component props&quot; /&gt;, document.querySelector(&#x27;#root&#x27;))<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li>å¯ä»¥ç»™ç»„ä»¶ç©¿ä»»æ„ç±»å‹çš„æ•°æ®ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€jsxè¡¨è¾¾å¼ã€å‡½æ•°ç­‰ï¼‰</li>\n<li>propsåªè¯»å±æ€§ï¼Œåªèƒ½è¯»å–å±æ€§çš„å€¼ï¼Œæ— æ³•ä¿®æ”¹å¯¹è±¡</li>\n<li>âš ï¸åœ¨constructorä¸­ä½¿ç”¨propsæ—¶ï¼Œéœ€è¦æ¥æ”¶propså¹¶ä¼ é€’ç»™superï¼Œå¦åˆ™æ— æ³•åœ¨æ„é€ å‡½æ•°ä¸­è·å–åˆ°props</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"2-çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶\"><a href=\"#2-çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶\" class=\"headerlink\" title=\"2.çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶\"></a>2.çˆ¶ç»„ä»¶ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Parent extends React.Component &#123;<br>  state = &#123;<br>    name: &#x27;kobe&#x27;<br>  &#125;<br>  render() &#123;<br>    return (<br>      &lt;div&gt;<br>        çˆ¶ç»„ä»¶<br>        &lt;Child name=&#123; this.state.name &#125;&gt;&lt;/Child&gt;<br>        &lt;/div&gt;<br>    )<br>  &#125;<br>&#125;<br>class Child extends React.Component &#123;<br>  render() &#123;<br>    return (<br>      &lt;div&gt;çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶çš„æ•°æ®: &#123; this.props.name&#125;&lt;/div&gt;<br>    )<br>  &#125;<br>&#125;<br>ReactDOM.render(<br>  &lt;Parent/&gt;,<br>  document.querySelector(&quot;#root&quot;)<br>);<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶\"><a href=\"#3-å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶\" class=\"headerlink\" title=\"3.å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶\"></a>3.å­ç»„ä»¶ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶</h4><p>æ€è·¯ï¼šçˆ¶ç»„ä»¶æä¾›å›è°ƒå‡½æ•°ï¼ŒåŒæ—¶å°†å›è°ƒé€šè¿‡propsä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡propsæ¥æ”¶å›è°ƒï¼Œæ‰§è¡Œå›è°ƒå¹¶å°†éœ€è¦ä¼ é€’çš„æ•°æ®ä½œä¸ºå›è°ƒçš„å‚æ•°ä¼ é€’ç»™çˆ¶ç»„ä»¶</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Father extends React.Component &#123;<br>  state = &#123;<br>    childMsg: &#x27;&#x27;<br>  &#125;<br>  render() &#123;<br>\t\treturn (<br>    \t&lt;div&gt;<br>      \t&lt;h2&gt;å­ç»„ä»¶ä¼ é€’çš„æ•°æ®: &#123; this.state.childMsg &#125;&lt;/h2&gt;<br>        &lt;Child getMsg=&#123; this.getChildMsg &#125;&gt;&lt;/Child&gt;<br>      &lt;/div&gt;<br>    )<br>  &#125;<br>\tgetChildMsg(childMsg) &#123;<br>\t\tthis.setState(&#123;<br>      childMsg:  childMsg<br>    &#125;)<br>  &#125;<br>&#125;<br>class Son extends React.Component &#123;<br>\tstate = &#123;<br>\t\tchildMsg: &#x27;child&#x27;<br>  &#125;<br>\trender() &#123;<br>\t\treturn (<br>    \t&lt;button onClick=&#123; this.emitMsg &#125;&gt;&lt;/button&gt;<br>    )<br>  &#125;<br>\temitMsg = () =&gt; &#123;<br>\t\tthis.props.getMsg(this.state.childMsg)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>æ³¨æ„ï¼šæ­¤å¤„åœ¨Childç»„ä»¶ä¸­ï¼Œrenderå‡½æ•°çš„onClickä¸Šä¸èƒ½ç›´æ¥è°ƒç”¨this.props.getMsg()ï¼Œè€Œè¦åœ¨æŠ½ç¦»åˆ°å®ä¾‹æ–¹æ³•ä¸­ã€‚åŸå› ï¼šreactä¼šåœ¨propså’Œstateæ”¹å˜çš„æ—¶å€™è°ƒç”¨renderå¯¹DOMè¿›è¡Œdiffåæ›´æ–°æ¸²æŸ“ï¼Œå¦‚æœåœ¨renderä¸­å†æ¬¡è°ƒç”¨getMsgä¿®æ”¹stateï¼Œä¼šé™·å…¥æ­»å¾ªç¯å¹¶æŠ¥é”™</p>\n<h4 id=\"4-å…„å¼Ÿç»„ä»¶é€šè®¯\"><a href=\"#4-å…„å¼Ÿç»„ä»¶é€šè®¯\" class=\"headerlink\" title=\"4.å…„å¼Ÿç»„ä»¶é€šè®¯\"></a>4.å…„å¼Ÿç»„ä»¶é€šè®¯</h4><ul>\n<li><p>å°†å…±äº«çŠ¶æ€æå‡åˆ°æœ€è¿‘çš„å…¬å…±çš„çˆ¶ç»„ä»¶ä¸­ï¼Œåˆå…¬å‘Šçˆ¶ç»„ä»¶ç®¡ç†è¿™ä¸ªçŠ¶æ€</p>\n</li>\n<li><p>çˆ¶ç»„ä»¶ï¼šæä¾›å…±äº«çŠ¶æ€ã€æä¾›æ“ä½œå…±äº«çŠ¶æ€çš„æ–¹æ³•</p>\n</li>\n<li><p>å­ç»„ä»¶ï¼šé€šè¿‡propsè·å–å…±äº«çŠ¶æ€å’Œæ“ä½œå…±äº«çŠ¶æ€</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class Parent extends React.Component &#123;<br>  // çŠ¶æ€æå‡<br>  state = &#123;<br>    count: 1<br>  &#125;<br>  render() &#123;<br>    return (<br>      &lt;div&gt;<br>        &lt;Child1 count=&#123; this.state.count &#125;&gt;&lt;/Child1&gt;<br>        &lt;Child2 increment = &#123; this.increment&#125;&gt;&lt;/Child2&gt;<br>      &lt;/div&gt;<br>    )<br>  &#125;<br>  // æä¾›ä¿®æ”¹çŠ¶æ€çš„æ–¹æ³•<br>  increment = () =&gt; &#123;<br>    this.setState(&#123;<br>      count: this.state.count + 1<br>    &#125;)<br>  &#125;<br>&#125;<br><br>const Child1 = props =&gt; &#123;<br>  return (<br>    &lt;h2&gt;è®¡æ•°å™¨: &#123; props.count &#125;&lt;/h2&gt;<br>  )<br>&#125;<br><br>const Child2 = props =&gt; &#123;<br>  const increment = () =&gt; &#123;<br>    props.increment()<br>  &#125;<br>  return (<br>    &lt;button onClick=&#123; increment &#125;&gt;+1&lt;/button&gt;<br>  )<br><br>&#125;<br>  ReactDOM.render(<br>    &lt;Parent/&gt;,<br>    document.querySelector(&quot;#root&quot;)<br>  )<br></code></pre></td></tr></table></figure>\n\n\n<h4 id=\"5-ç»„ä»¶æ ‘ä¼ é€’æ•°æ®\"><a href=\"#5-ç»„ä»¶æ ‘ä¼ é€’æ•°æ®\" class=\"headerlink\" title=\"5.ç»„ä»¶æ ‘ä¼ é€’æ•°æ®\"></a>5.ç»„ä»¶æ ‘ä¼ é€’æ•°æ®</h4><ul>\n<li><p>Context è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†å…±äº«é‚£äº›å¯¹äºä¸€ä¸ªç»„ä»¶æ ‘è€Œè¨€æ˜¯â€œå…¨å±€â€çš„æ•°æ®ï¼Œä¾‹å¦‚å½“å‰è®¤è¯çš„ç”¨æˆ·ã€ä¸»é¢˜æˆ–é¦–é€‰è¯­è¨€ã€‚</p>\n</li>\n<li><p>ä½¿ç”¨ context, æˆ‘ä»¬å¯ä»¥é¿å…é€šè¿‡ä¸­é—´å…ƒç´ ä¼ é€’ propsï¼š</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">// Context å¯ä»¥è®©æˆ‘ä»¬æ— é¡»æ˜ç¡®åœ°ä¼ éæ¯ä¸€ä¸ªç»„ä»¶ï¼Œå°±èƒ½å°†å€¼æ·±å…¥ä¼ é€’è¿›ç»„ä»¶æ ‘ã€‚<br>// ä¸ºå½“å‰çš„ theme åˆ›å»ºä¸€ä¸ª contextï¼ˆâ€œlightâ€ä¸ºé»˜è®¤å€¼ï¼‰ã€‚<br>const ThemeContext = React.createContext(&#x27;light&#x27;);<br>class App extends React.Component &#123;<br>  render() &#123;<br>    // ä½¿ç”¨ä¸€ä¸ª Provider æ¥å°†å½“å‰çš„ theme ä¼ é€’ç»™ä»¥ä¸‹çš„ç»„ä»¶æ ‘ã€‚<br>    // æ— è®ºå¤šæ·±ï¼Œä»»ä½•ç»„ä»¶éƒ½èƒ½è¯»å–è¿™ä¸ªå€¼ã€‚<br>    // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°† â€œdarkâ€ ä½œä¸ºå½“å‰çš„å€¼ä¼ é€’ä¸‹å»ã€‚<br>    return (<br>      &lt;ThemeContext.Provider value=&quot;dark&quot;&gt;<br>        &lt;Toolbar /&gt;<br>      &lt;/ThemeContext.Provider&gt;<br>    );<br>  &#125;<br>&#125;<br><br>// ä¸­é—´çš„ç»„ä»¶å†ä¹Ÿä¸å¿…æŒ‡æ˜å¾€ä¸‹ä¼ é€’ theme äº†ã€‚<br>function Toolbar() &#123;<br>  return (<br>    &lt;div&gt;<br>      &lt;ThemedButton /&gt;<br>    &lt;/div&gt;<br>  );<br>&#125;<br><br>class ThemedButton extends React.Component &#123;<br>  // æŒ‡å®š contextType è¯»å–å½“å‰çš„ theme contextã€‚<br>  // React ä¼šå¾€ä¸Šæ‰¾åˆ°æœ€è¿‘çš„ theme Providerï¼Œç„¶åä½¿ç”¨å®ƒçš„å€¼ã€‚<br>  // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“å‰çš„ theme å€¼ä¸º â€œdarkâ€ã€‚<br>  static contextType = ThemeContext;<br>  render() &#123;<br>    return &lt;Button theme=&#123;this.context&#125; /&gt;;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>ä½¿ç”¨æ–¹æ³•ï¼š</p>\n<ul>\n<li>1.React.createContextæ–¹æ³•åˆ›å»ºcontext</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">const MyContext = React.createContext(defaultValue)<br>// åˆ›å»ºä¸€ä¸ª Context å¯¹è±¡ã€‚å½“ React æ¸²æŸ“ä¸€ä¸ªè®¢é˜…äº†è¿™ä¸ª Context å¯¹è±¡çš„ç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ä¼šä»ç»„ä»¶æ ‘ä¸­ç¦»è‡ªèº«æœ€è¿‘çš„é‚£ä¸ªåŒ¹é…çš„ Provider ä¸­è¯»å–åˆ°å½“å‰çš„ context å€¼ã€‚<br>// åªæœ‰å½“ç»„ä»¶æ‰€å¤„çš„æ ‘ä¸­æ²¡æœ‰åŒ¹é…åˆ° Provider æ—¶ï¼Œå…¶ defaultValue å‚æ•°æ‰ä¼šç”Ÿæ•ˆã€‚æ­¤é»˜è®¤å€¼æœ‰åŠ©äºåœ¨ä¸ä½¿ç”¨ Provider åŒ…è£…ç»„ä»¶çš„æƒ…å†µä¸‹å¯¹ç»„ä»¶è¿›è¡Œæµ‹è¯•ã€‚æ³¨æ„ï¼šå°† undefined ä¼ é€’ç»™ Provider çš„ value æ—¶ï¼Œæ¶ˆè´¹ç»„ä»¶çš„ defaultValue ä¸ä¼šç”Ÿæ•ˆ<br>// or<br>const &#123; Provider, Consumer &#125; = React.creactContext()<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>2.ä½¿ç”¨Context.Provideræä¾›æ•°æ®</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">&lt;MyContext.Provider value=&#123;/* æŸä¸ªå€¼ */&#125; /&gt;<br>// or<br>&lt;Provider value=&#123;&#125; /&gt;<br>// æ¯ä¸ª Context å¯¹è±¡éƒ½ä¼šè¿”å›ä¸€ä¸ª Provider React ç»„ä»¶ï¼Œå®ƒå…è®¸æ¶ˆè´¹ç»„ä»¶è®¢é˜… context çš„å˜åŒ–ã€‚<br><br>// Provider æ¥æ”¶ä¸€ä¸ª value å±æ€§ï¼Œä¼ é€’ç»™æ¶ˆè´¹ç»„ä»¶ã€‚ä¸€ä¸ª Provider å¯ä»¥å’Œå¤šä¸ªæ¶ˆè´¹ç»„ä»¶æœ‰å¯¹åº”å…³ç³»ã€‚å¤šä¸ª Provider ä¹Ÿå¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œé‡Œå±‚çš„ä¼šè¦†ç›–å¤–å±‚çš„æ•°æ®ã€‚<br><br>// å½“ Provider çš„ value å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå†…éƒ¨çš„æ‰€æœ‰æ¶ˆè´¹ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“ã€‚Provider åŠå…¶å†…éƒ¨ consumer ç»„ä»¶éƒ½ä¸å—åˆ¶äº shouldComponentUpdate å‡½æ•°ï¼Œå› æ­¤å½“ consumer ç»„ä»¶åœ¨å…¶ç¥–å…ˆç»„ä»¶é€€å‡ºæ›´æ–°çš„æƒ…å†µä¸‹ä¹Ÿèƒ½æ›´æ–°ã€‚<br><br><br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>valueæä¾›ä¸ºå¯¹è±¡æ—¶æ³¨æ„äº‹é¡¹ï¼š</p>\n</li>\n<li><p>å› ä¸º context ä¼šä½¿ç”¨å‚è€ƒæ ‡è¯†ï¼ˆreference identityï¼‰æ¥å†³å®šä½•æ—¶è¿›è¡Œæ¸²æŸ“ï¼Œè¿™é‡Œå¯èƒ½ä¼šæœ‰ä¸€äº›é™·é˜±ï¼Œå½“ provider çš„çˆ¶ç»„ä»¶è¿›è¡Œé‡æ¸²æŸ“æ—¶ï¼Œå¯èƒ½ä¼šåœ¨ consumers ç»„ä»¶ä¸­è§¦å‘æ„å¤–çš„æ¸²æŸ“ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“æ¯ä¸€æ¬¡ Provider é‡æ¸²æŸ“æ—¶ï¼Œä»¥ä¸‹çš„ä»£ç ä¼šé‡æ¸²æŸ“æ‰€æœ‰ä¸‹é¢çš„ consumers ç»„ä»¶ï¼Œå› ä¸º <code>value</code> å±æ€§æ€»æ˜¯è¢«èµ‹å€¼ä¸ºæ–°çš„å¯¹è±¡ï¼š</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class App extends React.Component &#123;<br>  render() &#123;<br>    return (<br>      &lt;MyContext.Provider value=&#123;&#123;something: &#x27;something&#x27;&#125;&#125;&gt;<br>        &lt;Toolbar /&gt;<br>      &lt;/MyContext.Provider&gt;<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µï¼Œå°† value çŠ¶æ€æå‡åˆ°çˆ¶èŠ‚ç‚¹çš„ state é‡Œï¼š</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">class App extends React.Component &#123;<br>  constructor(props) &#123;<br>    super(props);<br>    this.state = &#123;<br>      value: &#123;something: &#x27;something&#x27;&#125;,<br>    &#125;;<br>  &#125;<br><br>  render() &#123;<br>    return (<br>      &lt;MyContext.Provider value=&#123;this.state.value&#125;&gt;<br>        &lt;Toolbar /&gt;<br>      &lt;/MyContext.Provider&gt;<br>    );<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li><p>3.æ¶ˆè´¹æ•°æ®</p>\n<ul>\n<li>æ–¹å¼1ï¼šClass.contextType</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\"> // æŒ‚è½½åœ¨ class ä¸Šçš„ contextType å±æ€§ä¼šè¢«é‡èµ‹å€¼ä¸ºä¸€ä¸ªç”± React.createContext() åˆ›å»ºçš„ Context å¯¹è±¡ã€‚æ­¤å±æ€§èƒ½è®©ä½ ä½¿ç”¨ this.context æ¥æ¶ˆè´¹æœ€è¿‘ Context ä¸Šçš„é‚£ä¸ªå€¼ã€‚ä½ å¯ä»¥åœ¨ä»»ä½•ç”Ÿå‘½å‘¨æœŸä¸­è®¿é—®åˆ°å®ƒï¼ŒåŒ…æ‹¬ render å‡½æ•°ä¸­ã€‚<br>class MyClass extends React.Component &#123;<br>  static contextType = MyContext;<br>  render() &#123;<br>    let value = this.context;<br>    /* åŸºäºè¿™ä¸ªå€¼è¿›è¡Œæ¸²æŸ“å·¥ä½œ */<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<ul>\n<li>æ–¹å¼2ï¼šContext.Consumer</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs react\">// ä¸€ä¸ª React ç»„ä»¶å¯ä»¥è®¢é˜… context çš„å˜æ›´ï¼Œæ­¤ç»„ä»¶å¯ä»¥è®©ä½ åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å¯ä»¥è®¢é˜… contextã€‚<br><br>// è¿™ç§æ–¹æ³•éœ€è¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå­å…ƒç´ ï¼ˆfunction as a childï¼‰ã€‚è¿™ä¸ªå‡½æ•°æ¥æ”¶å½“å‰çš„ context å€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ª React èŠ‚ç‚¹ã€‚ä¼ é€’ç»™å‡½æ•°çš„ value å€¼ç­‰ä»·äºç»„ä»¶æ ‘ä¸Šæ–¹ç¦»è¿™ä¸ª context æœ€è¿‘çš„ Provider æä¾›çš„ value å€¼ã€‚å¦‚æœæ²¡æœ‰å¯¹åº”çš„ Providerï¼Œvalue å‚æ•°ç­‰åŒäºä¼ é€’ç»™ createContext() çš„ defaultValueã€‚<br>&lt;MyContext.Consumer&gt;<br>  &#123;value =&gt; /* åŸºäº context å€¼è¿›è¡Œæ¸²æŸ“*/&#125;<br>&lt;/MyContext.Consumer&gt;<br>// or <br>&lt;Consumer&gt;<br>\t&#123;value =&gt; /* åŸºäº context å€¼è¿›è¡Œæ¸²æŸ“*/&#125;<br>&lt;/Consumer&gt;<br></code></pre></td></tr></table></figure>\n\n</li>\n</ul>\n</li>\n</ul>\n"},{"title":"svgç›¸å…³ç¬”è®°","keywords":"svg","_content":"## ä¸€ã€å…¥é—¨æŒ‡å—\n\n### 1. å›¾å½¢ç³»ç»Ÿ\n\nè®¡ç®—æœºä¸­æè¿°å›¾å½¢ä¿¡æ¯çš„ä¸¤å¤§å›¾å½¢ç³»ç»Ÿï¼šæ …æ ¼å›¾å½¢å’ŒçŸ¢é‡å›¾å½¢ã€‚æ …æ ¼å›¾å½¢ä¸­å›¾å½¢è¢«è¡¨ç¤ºä¸ºå›¾ç‰‡å…ƒç´ æˆ–è€…åƒç´ çš„é•¿æ–¹å½¢æ•°ç»„ã€‚çŸ¢é‡å›¾å½¢ä¸­å›¾å½¢è¢«æè¿°ä¸ºä¸€ç³»åˆ—å‡ ä½•å½¢çŠ¶ï¼Œé€šè¿‡çŸ¢é‡å›¾å½¢é˜…è¯»å™¨åœ¨æŒ‡å®šçš„åæ ‡é›†ä¸Šç»˜åˆ¶å½¢çŠ¶ã€‚\n\n### 2. SVG(Scalable Vector Graphics)\n\nSVG` æ˜¯ä¸€ç§ `XML` åº”ç”¨ï¼Œç”¨æ¥è¡¨ç¤ºçŸ¢é‡å›¾å½¢ã€‚æ‰€æœ‰çš„å›¾å½¢æœ‰å…³ä¿¡æ¯è¢«å­˜å‚¨ä¸ºçº¯æ–‡æœ¬ï¼Œå…·æœ‰XMLçš„å¼€æ”¾æ€§ã€å¯ç§»æ¤æ€§å’Œå¯äº¤äº’æ€§ã€‚å½“å‰ç¨³å®šçš„ `XML` å’Œ `SVG` ç‰ˆæœ¬éƒ½ä¸º `1.1\n\nSVGæ–‡æ¡£ç»“æ„æ˜¯æ ‡å‡†çš„ `XML` æ–‡æ¡£ï¼Œæ ¹å…ƒç´  `svg` å®šä¹‰å›¾å½¢çš„å¤§å°ï¼Œæ ¹å…ƒç´ ä¸­åŒ…å«å„ç§çš„å½¢çŠ¶å…ƒç´ ã€‚`SVG` å…è®¸ä½¿ç”¨å•ç‹¬çš„å±æ€§æŒ‡å®šå…ƒç´ çš„æ ·å¼ã€‚\n\n`SVG` ä½¿ç”¨ `g` å…ƒç´ å¯¹å›¾å½¢è¿›è¡Œåˆ†ç»„ï¼Œä½¿ç”¨ `use` å…ƒç´ å®ç°å…ƒç´ çš„å¤ç”¨ã€‚\n\n## äºŒã€åœ¨ç½‘é¡µä¸­ä½¿ç”¨\n\n### 1. å°†SVGä½œä¸ºå›¾åƒ\n\nå°† `svg` ä½œä¸ºå›¾åƒåŒ…å«åœ¨HTMLæ ‡è®°çš„ `img` å…ƒç´ å†…ï¼Œä½†æ˜¯è¿™æ ·æœ‰ä¸€å®šçš„å±€é™æ€§ï¼š\n\n**`SVG`è½¬ä¸ºæ …æ ¼å›¾åƒæ—¶ä¸ä¸»é¡µé¢åˆ†ç¦»ï¼Œå¹¶ä¸”æ— æ³•åœ¨ä¸¤è€…ä¹‹é—´é€šä¿¡( `SVG` æ¸²æŸ“è¿‡ç¨‹ä¸ä¸»é¡µé¢ç‹¬ç«‹)ã€‚ä¸»é¡µé¢ä¸Šçš„æ ·å¼å¯¹ `SVG` æ— æ•ˆï¼Œè¿è¡Œåœ¨ä¸»é¡µé¢ä¸Šçš„è„šæœ¬æ— æ³•æ„ŸçŸ¥æˆ–è€…ä¿®æ”¹ `SVG` æ–‡æ¡£ç»“æ„ã€‚**\n\nåœ¨ `CSS` ä¸­åŒ…å« `SVG`ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ `background-image` å±æ€§ï¼Œåº”è¯¥é¿å… `SVG` å…ƒç´ æ–‡ä»¶å¤ªå¤§ã€‚\n\n###  2. å°†SVGä½œä¸ºåº”ç”¨ç¨‹åº\n\nä½¿ç”¨ `object` å…ƒç´ å°† `SVG` åµŒå…¥ `HTML` æ–‡æ¡£ä¸­ï¼Œ`object`å…ƒç´ çš„ `type` å±æ€§è¡¨ç¤ºè¦åµŒå…¥çš„æ–‡æ¡£ç±»å‹ï¼Œå¯¹ç”¨ `SVG` åº”è¯¥æ˜¯`type=\"image/svg+xml\"`ã€‚`object` å…ƒç´ å¿…é¡»æœ‰èµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ï¼Œè¿™ä¸¤ä¸ªæ ‡ç­¾ä¹‹é—´çš„å†…å®¹ä¸ºå¯¹è±¡æ•°æ®æœ¬èº«ä¸èƒ½è¢«æ¸²æŸ“æ—¶æ˜¾ç¤ºã€‚\n\n## ä¸‰ã€åæ ‡ç³»ç»Ÿ\n\n###  1. è§†å£\n\nè§†å£æ˜¯æŒ‡æ–‡æ¡£æ‰“ç®—ä½¿ç”¨çš„ç”»å¸ƒåŒºåŸŸã€‚åœ¨ `svg` å…ƒç´ ä¸Šä½¿ç”¨ `width` å’Œ `height` å±æ€§ç¡®å®šè§†å£çš„å¤§å°ï¼Œå±æ€§å€¼å¯ä»¥ä»…ä»…æ˜¯ä¸ºæ•°å­—ä¹Ÿå¯ä»¥ä¸ºå¸¦å•ä½çš„æ•°å­—(å•ä½å¯ä»¥ä¸º`em`ã€`ex`ã€`px`ã€`pt`ã€`pc`ã€`cm`ã€`mm` å’Œ `in`)ä¹Ÿå¯ä»¥ä¸ºç™¾åˆ†æ¯”ã€‚\n\n### 2. é»˜è®¤ç”¨æˆ·åæ ‡\n\n`SVG` é˜…è¯»å™¨ä¼šè®¾ç½®ä¸€ä¸ªåæ ‡ç³»ç»Ÿï¼Œå³åŸç‚¹ `(0,0)` ä½äºè§†å£çš„å·¦ä¸Šè§’ï¼Œ`x` å‘å³é€’å¢ï¼Œ`y` å‘ä¸‹é€’å¢ã€‚è¿™ä¸ªåæ ‡ç³»ç»Ÿæ˜¯ä¸€ä¸ªçº¯ç²¹çš„å‡ ä½•ç³»ç»Ÿï¼Œç‚¹æ²¡æœ‰å¤§å°ï¼Œç½‘æ ¼çº¿è¢«è®¤ä¸ºæ˜¯æ— é™ç»†ã€‚\n\nåœ¨ `SVG` ä¸­æŒ‡å®šå•ä½å¹¶ä¸ä¼šå½±å“å…¶ä»–å…ƒç´ ä¸­ç»™å®šå•ä½çš„åæ ‡ï¼Œä¹Ÿå°±æ˜¯è¯´ `SVG` æ–‡æ¡£ä¸­å„ä¸ªå…ƒç´ çš„å•ä½å¯ä»¥ä¸ç»Ÿä¸€ã€‚\n\n### 3. æŒ‡å®šç”¨æˆ·åæ ‡\n\næ‘’å¼ƒé˜…è¯»å™¨è®¾ç½®çš„é»˜è®¤ç”¨æˆ·åæ ‡ï¼Œå¯ä»¥è‡ªå·±ä¸ºè§†å£è®¾ç½®ä¸€ä¸ªç”¨æˆ·åæ ‡ã€‚é€šè¿‡åœ¨ `svg` å…ƒç´ ä¸Šè®¾ç½® `viewBox` å±æ€§ã€‚\n\n`viewBox` å±æ€§ç”± `4` ä¸ªæ•°å€¼ç»„æˆï¼Œåˆ†åˆ«ä»£è¡¨è¦å åŠ åœ¨è§†å£ä¸Šçš„æœ€å° `x`ã€æœ€å° `y`ï¼Œå®½åº¦ã€é«˜åº¦ã€‚\n\næ—¢ç„¶å¯ä»¥å¯¹ `svg` è‡ªå®šä¹‰ç”¨æˆ·åæ ‡ï¼Œé‚£ä¹ˆè‚¯å®šè¦è§£å†³ `svg` è§†å£é•¿å®½æ¯”ä¾‹å’Œ `viewBox` å®šä¹‰çš„é•¿å®½æ¯”ä¾‹ä¸åŒçš„é—®é¢˜ä»¥åŠå¦‚ä½•å¯¹é½é—®é¢˜ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ `preserveAspectRatio` å±æ€§äº†ã€‚\n\nå¦‚æœ `viewBox` çš„é•¿å®½æ¯”ä¾‹ä¸è§†å£çš„é•¿å®½æ¯”ä¾‹ä¸åŒï¼Œé‚£ä¹ˆ `svg` å¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ç§é€‰æ‹©ï¼š\n\n- æŒ‰è¾ƒå°çš„å°ºå¯¸ç­‰æ¯”ä¾‹ç¼©æ”¾å›¾å½¢ï¼Œä½¿å›¾å½¢å®Œå…¨å¡«å……è§†å£\n- æŒ‰è¾ƒå¤§çš„å°ºå¯¸ç­‰æ¯”ä¾‹ç¼©æ”¾å›¾å½¢ï¼Œç—…è£å‡æ‰è¶…å‡ºè§†å£çš„éƒ¨åˆ†\n- æ‹‰ä¼¸å’Œå‹ç¼©ç»˜å›¾ä»¥ä½¿å…¶æ°å¥½å¡«å……è§†å£\n\n```\npreserveAspectRatio` å±æ€§å…è®¸æŒ‡å®šè¢«ç¼©æ”¾çš„å›¾å½¢ç›¸å¯¹è§†å£çš„å¯¹é½æ–¹å¼,æ ¼å¼ä¸º `preserveAspectRatio = \"alignment[meet|slice]\"\n```\n\né»˜è®¤å€¼ä¸º `\"xMidYMid meet\"`\n\n`alignment`æŒ‡å®šè½´å’Œä½ç½®ï¼Œ`x` å’Œ `y` æ–¹å‘éƒ½æœ‰ `min`, `mid`, `max` ä¸‰ç§æ–¹å¼ï¼Œåˆ†åˆ«è¡¨ç¤º `x` å’Œ `y` æ–¹å‘çš„å¯¹é½æ–¹å¼ï¼Œå¯¹é½æ–¹å¼ç”± `x` å’Œ `y` ç»„åˆæŒ‡å®šï¼Œå…± `9` ä¸­æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ `alignment` å…±æœ‰å¦‚ä¸‹ `9` ä¸ªå–å€¼ï¼š\n\n| y\\x      | xMin     | xMid     | xMax     |\n| -------- | -------- | -------- | -------- |\n| **yMin** | xMinYMin | xMidYMin | xMaxYMin |\n| **yMid** | xMinYMid | xMidYMid | xMaxYMid |\n| **yMax** | xMinYMax | xMidYMax | xMaxYMax |\n\n`meet` è¯´æ˜ç¬¦åœ¨å›¾å½¢è¶…å‡ºè§†å£æ—¶å€™ä¼šå¯¹å›¾å½¢é€‚å½“ç¼©å°è°ƒæ•´é€‚é…å¯ç”¨çš„ç©ºé—´\n\n`slice` è¯´æ˜ç¬¦ç›´æ¥è£å‰ªè¶…å‡ºè§†å£çš„éƒ¨åˆ†\n\né™¤äº†ä¸Šè¿°æ“ä½œä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®š `preserveAspectRatio=\"none\"`ï¼Œç”¨äºåœ¨ `viewBox` å’Œè§†å£å®½é«˜æ¯”ä¸åŒæ—¶ç¼©æ”¾å›¾åƒï¼Œæ­¤æ—¶å›¾åƒä¸ä¼šè¢«ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œä¼šè¢«æ‹‰ä¼¸ã€æŒ¤å‹ã€å˜å½¢ã€‚\n\n### 4. åµŒå¥—åæ ‡ç³»ç»Ÿ\n\nå¯ä»¥å°†å¦ä¸€ä¸ª `svg` å…ƒç´ æ’å…¥åˆ°æ–‡æ¡£ä¸­æ¥å»ºç«‹ä¸€ä¸ªæ–°çš„è§†å£å’Œåæ ‡ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ `svg` ä¸­å¯ä»¥åµŒå¥—å¦ä¸€ä¸ª `svg`ï¼Œæ¯ä¸ª `svg` éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„è§†å£å’Œåæ ‡ç³»ç»Ÿ\n\n## å››ã€åŸºæœ¬å½¢çŠ¶\n\n###  1. çº¿æ®µ\n\n`line` å…ƒç´ ï¼Œä½¿ç”¨ `x1`, `y1`, `x2`, `y2` å±æ€§æŒ‡å®šçº¿æ®µçš„èµ·æ­¢ç‚¹åæ ‡ã€‚æœ‰å¦‚ä¸‹ç‰¹æ€§:\n\n| ç‰¹æ€§               | è¯´æ˜                                                         |\n| ------------------ | ------------------------------------------------------------ |\n| `stroke-width`     | ç¬”ç”»å®½åº¦ï¼Œåæ ‡ç½‘æ ¼çº¿ä½äºç¬”ç”»çš„æ­£ä¸­é—´ï¼Œå¯ä»¥ä½¿ç”¨ `css` çš„ `shape-rendering` å€¼æ¥æ§åˆ¶åé”¯é½¿ç‰¹æ€§ |\n| `stroke`           | ç¬”ç”»é¢œè‰²                                                     |\n| `stroke-opacity`   | çº¿æ¡çš„ä¸é€æ˜åº¦                                               |\n| `stroke-dasharray` | è™šçº¿ï¼Œç”±ä¸€ç³»åˆ—æ•°å­—ç»„æˆï¼Œæ•°å­—ä¸ªæ•°ä¸ºå¶æ•°(è´Ÿè´£ä¼šè‡ªåŠ¨é‡å¤ä¸€éä½¿å…¶ä¸ºå¶æ•°),è¡¨ç¤ºçº¿é•¿-é—´éš™-çº¿é•¿-é—´éš™... |\n\n### 2. çŸ©å½¢\n\n`rect`å…ƒç´ ï¼Œä½¿ç”¨`x`,`y`,`width`,`height`è¡¨ç¤ºä¸€ä¸ªçŸ©å½¢\n\n| ç‰¹æ€§           | è¯´æ˜                                                         |\n| -------------- | ------------------------------------------------------------ |\n| `fill`         | å¡«å……é¢œè‰²                                                     |\n| `fill-opacity` | å¡«å……ä¸é€æ˜åº¦                                                 |\n| `stroke`       | è¾¹æ¡†é¢œè‰²                                                     |\n| `stroke-width` | è¾¹æ¡†å®½åº¦ï¼Œè¾¹æ¡†æ˜¯éª‘åœ¨çŸ©å½¢è¾¹ç•Œä¸Šçš„ï¼Œä¸€åŠåœ¨çŸ©å½¢å¤–ï¼Œä¸€åŠåœ¨çŸ©å½¢å†… |\n| `rx`/`ry`      | åœ†è§’çŸ©å½¢ï¼Œæœ€å¤§å€¼ä¸ºçŸ©å½¢å®½/é«˜çš„ä¸€åŠï¼Œå¦‚æœåªæŒ‡å®šäº†ä¸€ä¸ªï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªéƒ½ä¸ºç›¸åŒçš„å€¼ |\n\n### 3. åœ†å’Œæ¤­åœ†\n\n`circle` å…ƒç´ è¡¨ç¤ºåœ†,ç”± `cx`,`cy`,`r` å±æ€§ç•Œå®š `ellipse` å…ƒç´ è¡¨ç¤ºæ¤­åœ†,ç”± `cx`,`cy`,`rx`,`ry` ç•Œå®š\n\n| ç‰¹æ€§           | è¯´æ˜                                                         |\n| -------------- | ------------------------------------------------------------ |\n| `fill`         | å¡«å……é¢œè‰²                                                     |\n| `fill-opacity` | å¡«å……ä¸é€æ˜åº¦                                                 |\n| `stroke`       | è¾¹æ¡†é¢œè‰²                                                     |\n| `stroke-width` | è¾¹æ¡†å®½åº¦ï¼Œè¾¹æ¡†æ˜¯éª‘åœ¨åœ†çš„è¾¹ç•Œä¸Šçš„ï¼Œä¸€åŠåœ¨åœ†/æ¤­åœ†å¤–ï¼Œä¸€åŠåœ¨åœ†/æ¤­åœ†å†… |\n\n### 4. å¤šè¾¹å½¢\n\n`polygon` å…ƒç´ æŒ‡å®šä¸€ä¸ªå¤šè¾¹å½¢,ç”± `points` å±æ€§æŒ‡å®šçš„ä¸€ç³»åˆ—åæ ‡ç‚¹ç•Œå®šï¼Œä¼šè‡ªåŠ¨å°é—­\n\n| ç‰¹æ€§           | è¯´æ˜                                                         |\n| -------------- | ------------------------------------------------------------ |\n| `fill`         | å¡«å……é¢œè‰²                                                     |\n| `fill-opacity` | å¡«å……ä¸é€æ˜åº¦                                                 |\n| `stroke`       | è¾¹æ¡†é¢œè‰²                                                     |\n| `stroke-width` | è¾¹æ¡†å®½åº¦                                                     |\n| `fill-rule`    | å¡«å……è§„åˆ™ï¼Œå¦‚æœå¤šè¾¹å½¢çš„è¾¹æœ‰äº¤å‰æ—¶ï¼Œéœ€è¦æŒ‡å®šï¼Œå¯ä»¥å– `mozero`(é»˜è®¤)å’Œ `evenodd` ä¸¤ä¸ªå€¼ã€‚ |\n\n`fill-rule` å€¼ä¸º `nonzero` æ—¶çš„åŸç†:åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯åœ¨å¤šè¾¹å½¢å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨æ—¶ï¼Œä»è¿™ä¸ªç‚¹ç”»ä¸€æ¡åˆ°æ— ç©·è¿œçš„å°„çº¿ï¼Œç„¶åæ•°è¿™ä¸ªçº¿å’Œå¤šè¾¹å½¢çš„è¾¹æœ‰å¤šå°‘æ¬¡äº¤å‰ã€‚å¦‚æœäº¤å‰çš„è¾¹çº¿æ˜¯ä»å³å¾€å·¦ç”»ï¼Œåˆ™æ€»æ•°åŠ  `1`ï¼Œå¦‚æœæ˜¯ä»å·¦å¾€å³åˆ™æ€»æ•°å‡ `1`. å¦‚æœæœ€åæ€»æ•°ä¸º `0` åˆ™è®¤ä¸ºæ”¹ç‚¹åœ¨å›¾å½¢å¤–éƒ¨ï¼Œå¦åˆ™åœ¨å†…éƒ¨ã€‚\n\n`fill-rule` å€¼ä¸º `evenodd` æ—¶åªæ•°å°„çº¿ä¸å¤šè¾¹å½¢è¾¹çš„äº¤å‰æ¬¡æ•°ï¼Œå¦‚æœä¸ºå¥‡æ•°åˆ™è®¤ä¸ºåœ¨å¤šè¾¹å½¢å†…éƒ¨ï¼Œå¦åˆ™è®¤ä¸ºåœ¨å¤šè¾¹å½¢å¤–éƒ¨ã€‚\n\n### 5. æŠ˜çº¿\n\n`polyline` å…ƒç´ è¡¨ç¤ºä¸€ä¸ªæŠ˜çº¿ï¼Œä½¿ç”¨ `points` å±æ€§æŒ‡å®šä¸€ç³»åˆ—ç‚¹ï¼Œä¸è‡ªåŠ¨å°é—­å›¾å½¢ã€‚\n\n### 6. ç‰¹æ€§æ€»ç»“\n\n| ç‰¹æ€§                | è¯´æ˜                                               |\n| ------------------- | -------------------------------------------------- |\n| `stroke`            | ç¬”ç”»é¢œè‰²                                           |\n| `stroke-width`      | ç¬”ç”»å®½åº¦                                           |\n| `stroke-opacity`    | ç¬”ç”»ä¸é€æ˜åº¦                                       |\n| `stroke-dasharray`  | è™šçº¿ç¬”ç”»                                           |\n| `stroke-linecap`    | ç¬”ç”»å¤´çš„å½¢çŠ¶ `butt`(é»˜è®¤),`round`,`square`         |\n| `stroke-linejoin`   | å›¾å½¢æ£±è§’ï¼Œæœ‰`miter`(é»˜è®¤),`round`å’Œ`bevel`ä¸‰ä¸ªå–å€¼ |\n| `stroke-miterlimit` | ç›¸äº¤å¤„æ˜¾ç¤ºå®½åº¦ä¸çº¿å®½çš„æœ€å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º`4`          |\n| `fill`              | å¡«å……é¢œè‰² é»˜è®¤`black`                               |\n| `fill-opacity`      | å¡«å……ä¸é€æ˜åº¦                                       |\n| `fill-rule`         | å¡«å……è§„åˆ™                                           |\n\n## äº”ã€æ–‡æ¡£ç»“æ„\n\n### 1. ç»“æ„å’Œè¡¨ç°\n\n`SVG` å…è®¸æ–‡æ¡£è¡¨ç°å’Œæ–‡æ¡£ç»“æ„åˆ†ç¦»ï¼Œ`SVG` æ”¯æŒå››ç§æ–¹å¼æŒ‡å®šè¡¨ç°ä¿¡æ¯ï¼šå†…è”æ ·å¼ã€å†…éƒ¨æ ·å¼è¡¨ã€å¤–éƒ¨æ ·å¼è¡¨ä»¥åŠè¡¨ç°å±æ€§\n\n| è¡¨ç°æ–¹å¼   | è¯´æ˜                                                         |\n| ---------- | ------------------------------------------------------------ |\n| å†…è”æ ·å¼   | å…ƒç´ å†…éƒ¨ä½¿ç”¨ `style` å±æ€§                                    |\n| å†…éƒ¨æ ·å¼è¡¨ | å†…éƒ¨æ ·å¼å®šä¹‰åœ¨ `defs` å…ƒç´ å†…éƒ¨                               |\n| å¤–éƒ¨æ ·å¼è¡¨ | ä¸ `html` ç±»ä¼¼ï¼Œå°†æ ·å¼å®šä¹‰åœ¨ `css` æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨é€‰æ‹©å™¨æ¥è®¾ç½®ç›¸åº”çš„å…ƒç´ æ ·å¼ |\n| è¡¨ç°å±æ€§   | `SVG` å…è®¸ä»¥å±æ€§çš„å½¢å¼æŒ‡å®šè¡¨ç°æ ·å¼ï¼Œä½†æ˜¯**è¡¨ç°å±æ€§çš„ä¼˜å…ˆçº§æœ€ä½**ï¼Œå¦‚æœä»¥å…¶ä»–ä¸‰ç§å½¢å¼æŒ‡å®šäº†ç›¸åŒçš„æ ·å¼å±æ€§ï¼Œåˆ™å°†è¦†ç›–é€šè¿‡è¡¨ç°å±æ€§æŒ‡å®šçš„æ ·å¼ |\n\nå†…éƒ¨æ ·å¼è¡¨ç¤ºä¾‹ï¼š\n\n```xml\n<svg width=\"200px\" height=\"200px\" xmlns=\"http://www.w3.org/2000/svg>\n    <defs>\n        <style type=\"text/css\"><![CDATA[\n            circle{\n                fill:#ccc\n            }\n        ]]></style>\n    </defs>\n    <circle cx=\"10\" cy=\"10\" r=\"5\"/>\n</svg>\n```\n\n### 2. åˆ†ç»„å’Œå¼•ç”¨\n\n`g` å…ƒç´ ç”¨æ¥å°†å…¶å­å…ƒç´ ä½œä¸ºä¸€ä¸ªç»„åˆï¼Œå¯ä»¥ä½¿æ–‡æ¡£ç»“æ„æ›´æ¸…æ™°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨gæ ‡ç­¾ä¸­æŒ‡å®šçš„æ‰€æœ‰æ ·å¼ä¼šåº”ç”¨äºç»„åˆå†…çš„æ‰€æœ‰å­å…ƒç´ ï¼Œå¯ä»¥ä¸ç”¨åœ¨æ‰€æœ‰å­å…ƒç´ ä¸ŠæŒ‡å®šå±æ€§ã€‚\n\n`use` å…ƒç´ ç”¨æ¥å¤ç”¨å›¾å½¢ä¸­é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œéœ€è¦ä¸º `use` æ ‡ç­¾çš„ `xlink:href` æŒ‡å®š `URI` æ¥å¼•ç”¨æŒ‡å®šçš„å›¾å½¢å…ƒç´ ã€‚åŒæ—¶è¿˜è¦æŒ‡å®š`x`å’Œ`y`å±æ€§ä»¥è¡¨ç¤ºç»„åˆåº”è¯¥ç§»åŠ¨åˆ°å“ªä¸ªä½ç½®ã€‚`use`å…ƒç´ å¹¶ä¸é™åˆ¶åªèƒ½ä½¿ç”¨åŒä¸€ä¸ªæ–‡ä»¶å†…çš„å¯¹è±¡ï¼Œ`xlink:href`å±æ€§å¯ä»¥æŒ‡å®šä»»ä½•æœ‰æ•ˆçš„æ–‡ä»¶æˆ–`URI`ã€‚\n\n`defs`å…ƒç´ ç”¨æ¥å®šä¹‰å¤ç”¨çš„å…ƒç´ ï¼Œä½†æ˜¯å®šä¹‰åœ¨`defs`å†…çš„å…ƒç´ å¹¶ä¸ä¼šè¢«æ˜¾ç¤ºï¼Œè€Œæ˜¯ä½œä¸ºæ¨¡æ¿ä¾›å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚\n\n`symbol`å…ƒç´ ä¸gå…ƒç´ ä¸åŒï¼Œ`symbol`æ°¸è¿œä¸ä¼šè¢«æ˜¾ç¤ºï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æŒ‡å®šè¢«åç»­ä½¿ç”¨çš„å…ƒç´ ï¼Œ`symbol`å…ƒç´ å¯ä»¥æŒ‡å®š `viewBox` å’Œ`preserveAspectRatio` å±æ€§ã€‚åœ¨å¼•ç”¨æ—¶é€šè¿‡ä¸º `use` å…ƒç´ æŒ‡å®š `width` å’Œ `height` å±æ€§å°±å¯ä»¥è®© `symbol` å…ƒç´ é€‚é…è§†å£å¤§å°ã€‚\n\n`image` å¯ä»¥ç”¨æ¥åŒ…å«ä¸€ä¸ªå®Œæ•´çš„ `SVG` æˆ–æ …æ ¼æ–‡ä»¶ã€‚å¦‚æœåŒ…å«ä¸€ä¸ª `SVG` æ–‡ä»¶ï¼Œåˆ™è§†å£ä¼šåŸºäºå¼•ç”¨çš„æ–‡ä»¶çš„ `x`,`y`,`width`,`height` å±æ€§æ¥å»ºç«‹ã€‚å¦‚æœåŒ…å«æ …æ ¼æ–‡ä»¶åˆ™ä¼šè¢«ç¼©æ”¾ä»¥é€‚é…è¯¥å±æ€§æŒ‡å®šçš„çŸ©å½¢ã€‚\n\n`SVG`è§„èŒƒè¦æ±‚ `SVG` é˜…è¯»å™¨æ”¯æŒ `JPEG` å’Œ `PNG` ä¸¤ç§æ …æ ¼æ–‡ä»¶ã€‚\n\n## å…­ã€åæ ‡ç³»ç»Ÿå˜æ¢\n\n### 1. translateå˜æ¢\n\n`translate` å˜æ¢ç”¨æ¥å¯¹ç”¨æˆ·åæ ‡è¿›è¡Œå¹³ç§»ï¼Œé€šè¿‡åˆ¶å®š `transform` å±æ€§å€¼æ¥è®¾ç½®: `transform = \"translate(x,y)\"`ã€‚\n\n`translate` å·¥ä½œåŸç†:é¦–å…ˆè·å–æ•´ä¸ªç½‘ç»œï¼Œç„¶åå°†å…¶ç§»åŠ¨åˆ°ç”»å¸ƒçš„æ–°ä½ç½®è€Œä¸æ˜¯ç§»åŠ¨æ‰€åœ¨çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´ç§»åŠ¨çš„æ˜¯æ•´ä¸ªåæ ‡ç³»ç»Ÿè€Œä¸æ˜¯å…ƒç´ æœ¬èº«ã€‚çœ‹ä¼¼æ¯”ç§»åŠ¨å…ƒç´ å¤æ‚ï¼Œå…¶å®åœ¨ä½¿ç”¨å…¶ä»–ä¸€ç³»åˆ—å˜æ¢æ—¶ï¼Œè¿™ç§ç§»åŠ¨æ•´ä¸ªåæ ‡ç³»çš„æ–¹æ³•ä»æ•°å­¦å’Œæ¦‚å¿µä¸Šè®²ï¼Œæ›´æ–¹ä¾¿ã€‚\n\n### 2. scaleå˜æ¢\n\nç¼©æ”¾åæ ‡ç³»ç»Ÿã€‚`transform = \"scale(value)\"` æˆ–è€… `transform=\"scale(x-value,y-value)\"`ã€‚\n\nä»…ä»…ä½¿ç”¨ `scale(n)` å˜æ¢æ—¶ï¼Œç½‘æ ¼ç³»ç»Ÿçš„åŸç‚¹ä½ç½®å¹¶æ²¡æœ‰å˜åŒ–ï¼Œåªæ˜¯æ¯ä¸ªç”¨æˆ·åæ ‡éƒ½å˜æˆäº†åŸæ¥çš„ `n` å€ï¼Œä¹Ÿå°±æ˜¯ç½‘æ ¼å˜å¤§äº†ï¼Œå› æ­¤çº¿ä¹Ÿä¼šå˜ç²—(ç”¨æˆ·å•ä½å¹¶æ²¡æœ‰å˜)ã€‚\n\n*æŠ€å·§ï¼šå¦‚æœä»å…¶ä»–ç³»ç»Ÿä¼ è¾“æ•°æ®åˆ° `SVG`ï¼Œåˆ™å¯èƒ½å¿…é¡»å¤„ç†ä½¿ç”¨ç¬›å¡å°”åæ ‡è¡¨ç¤ºçš„çŸ¢é‡å›¾å½¢ï¼Œåœ¨ç¬›å¡å°”åæ ‡ç³»ç»Ÿä¸­ï¼ŒåŸç‚¹ä½äºå·¦ä¸‹è§’ï¼Œ`y`å‘ä¸Šé€’å¢ï¼Œ`x`å‘å³é€’å¢ã€‚è€Œ `SVG` åæ ‡åŸç‚¹ä½äºå·¦ä¸Šè§’ï¼Œæ­¤æ—¶ä½¿ç”¨ `scale(1,-1)` å°±å¯ä»¥å®Œæˆä¸¤è€…ä¹‹é—´çš„è½¬æ¢ã€‚*\n\n**ç¼©æ”¾å˜æ¢æ°¸è¿œä¸ä¼šæ”¹å˜å›¾å½¢å¯¹è±¡çš„ç½‘æ ¼åæ ‡æˆ–è€…ç¬”ç”»å®½åº¦ï¼Œä»…ä»…æ”¹å˜å¯¹åº”ç”»å¸ƒä¸Šçš„åæ ‡ç³»ç»Ÿç½‘æ ¼çš„å¤§å°ã€‚**\n\n### 3. rotateå˜æ¢\n\næ ¹æ®æŒ‡å®šçš„è§’åº¦æ—‹è½¬åæ ‡ç³»ç»Ÿï¼Œé»˜è®¤çš„åæ ‡ç³»ç»Ÿä¸­ï¼Œè§’åº¦çš„æµ‹é‡é¡ºæ—¶é’ˆå¢åŠ ï¼Œ`0` åº¦ä¸º `3` ç‚¹é’Ÿæ–¹å‘ã€‚\n\næ³¨æ„ï¼Œé™¤éå¦è¡ŒæŒ‡å®šï¼Œå¦åˆ™æ—‹è½¬ä»¥åŸç‚¹ä¸ºä¸­å¿ƒã€‚ æ­¤æ—¶å¯ä»¥é€šè¿‡å¹³ç§»+æ—‹è½¬çš„æ–¹å¼æ¥æŒ‡å®šæ—‹è½¬ä¸­å¿ƒï¼š `translate(centerX,centerY) rotate(angle) translate(-centerX,-centerY)`\n\nä½†æ˜¯æœ‰ä¸ªæ›´ç®€å•çš„æ–¹å¼ï¼š`rotate(angle,centerX,centerY)`\n\n### 4. å›´ç»•ä¸­å¿ƒç‚¹ç¼©æ”¾\n\nä¸Šé¢æåˆ°ï¼Œç¼©æ”¾é»˜è®¤æ˜¯ä»¥åŸç‚¹ä¸ºåŸºå‡†çš„ï¼Œè¿™æ˜¾ç„¶ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼æŒ‡å®šç¼©æ”¾ä¸­å¿ƒï¼š\n\n```\ntranslate(-centerX*(factor-1),-centerY*(factor-1)) scale(factor)\n```\n\n### 5. skewXå’ŒskewYå˜æ¢\n\nè¿™ä¸¤ä¸ªå˜æ¢ç”¨æ¥å€¾æ–œæŸä¸ªè½´ï¼Œä¸€èˆ¬å½¢å¼ä¸º `skewX(angle),skewY(angle)`ã€‚è¿™æ ·çš„ç»“æœå°±æ˜¯ä½¿å¾— `x` è½´å’Œ `y` è½´ä¸å†å‚ç›´ã€‚\n\n### 6. çŸ©é˜µå˜æ¢\n\nè®¡ç®—æœºå›¾å½¢å­¦ä¸­åæ ‡å˜æ¢éƒ½é€šè¿‡çŸ©é˜µæ¥å®ç°ï¼Œé™¤ä¸Šè¿°å˜æ¢æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥ä¸ºå˜æ¢æŒ‡å®šå˜æ¢çŸ©é˜µï¼Œå˜æ¢çŸ©é˜µä¸º `matrix(a,b,c,d,e,f)`ï¼Œæ­¤æ—¶æŒ‡å®šçš„å˜æ¢çŸ©é˜µä¸º:\n\n```text\na  c  e\nb  d  f\n0  0  1\n```\n\n## ä¸ƒã€è·¯å¾„\n\n### 1. pathå‘½ä»¤\n\n`SVG` ä¸­æ‰€æœ‰åŸºæœ¬å½¢çŠ¶éƒ½æ˜¯ `path` çš„ç®€å†™å½¢å¼ï¼Œä½†æ˜¯å»ºè®®ä½¿ç”¨ç®€å†™å½¢å¼ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ä½¿ `SVG` æ–‡æ¡£æ›´å¯è¯»ã€‚\n\n`path` å…ƒç´ æ›´é€šç”¨ï¼Œå¯ä»¥é€šè¿‡åˆ¶å®šä¸€ç³»åˆ—ç›¸äº’è¿æ¥çš„çº¿ã€å¼§ã€æ›²çº¿æ¥ç»˜åˆ¶ä»»æ„å½¢çŠ¶çš„è½®å»“ï¼Œè¿™äº›è½®å»“ä¹Ÿå¯ä»¥å¡«å……æˆ–è€…ç»˜åˆ¶è½®å»“çº¿ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰è£å‰ªåŒºåŸŸæˆ–è’™ç‰ˆã€‚\n\nä¸‹è¡¨ä¸º `path` å‘½ä»¤æ€»ç»“ï¼Œå…¶ä¸­å¤§å†™è¡¨ç¤ºç»å¯¹åæ ‡ï¼Œå°å†™è¡¨ç¤ºç›¸å¯¹åæ ‡ï¼š\n\n| å‘½ä»¤    | å‚æ•°                                        | è¯´æ˜                                                         |\n| ------- | ------------------------------------------- | ------------------------------------------------------------ |\n| `M` `m` | `x y`                                       | ç§»åŠ¨ç”»ç¬”åˆ°åˆ¶å®šåæ ‡                                           |\n| `L` `l` | `x y`                                       | ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®šåæ ‡çš„çº¿                                       |\n| `H` `h` | `x`                                         | ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®š `x` åæ ‡çš„æ¨ªçº¿                                |\n| `V` `v` | `y`                                         | ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®š`y`åæ ‡çš„å‚çº¿                                  |\n| `A` `a` | `rx ry x-axis-rotation large-arc sweep x y` | åœ†å¼§æ›²çº¿å‘½ä»¤æœ‰7ä¸ªå‚æ•°ï¼Œä¾æ¬¡è¡¨ç¤º`x`æ–¹å‘åŠå¾„ã€`y`æ–¹å‘åŠå¾„ã€æ—‹è½¬è§’åº¦ã€å¤§åœ†æ ‡è¯†ã€é¡ºé€†æ—¶é’ˆæ ‡è¯†ã€ç›®æ ‡ç‚¹`x`ã€ç›®æ ‡ç‚¹`y`ã€‚å¤§åœ†æ ‡è¯†å’Œé¡ºé€†æ—¶é’ˆä»¥`0`å’Œ`1`è¡¨ç¤ºã€‚`0`è¡¨ç¤ºå°åœ†ã€é€†æ—¶é’ˆ |\n| `Q` `q` | `x1 y1 x y`                                 | ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°`x, y`æ§åˆ¶ç‚¹ä¸º`x1, y1`çš„äºŒæ¬¡è´å¡å°”æ›²çº¿     |\n| `T` `t` | `x y`                                       | ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°`x`,`y`çš„å…‰æ»‘äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼Œæ§åˆ¶ç‚¹ä¸ºå‰ä¸€ä¸ª`Q`å‘½ä»¤çš„æ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å‰ä¸€æ¡åˆ™å·²å½“å‰ç‚¹ä¸ºæ§åˆ¶ç‚¹ã€‚ |\n| `C` `c` | `x1 y1 x2 y2 x y`                           | ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ° `x`,`y`æ§åˆ¶ç‚¹ä¸º`x1,y1` `x2,y2`çš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿ |\n| `S` `s` | `x2 y2 x y`                                 | ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°`x,y`çš„å…‰æ»‘ä¸‰æ¬¡è´å¡å°”æ›²çº¿ã€‚ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¸ºå‰ä¸€ä¸ª`C`å‘½ä»¤çš„ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å‰ä¸€æ¡æ›²çº¿ï¼Œåˆ™ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¸ºå½“å‰çš„ç‚¹ã€‚ |\n\nè·¯å¾„çš„å¡«å……åŒæ ·å¯ä»¥ä½¿ç”¨ `fill-rule` å±æ€§æŒ‡å®šå¡«å……è§„åˆ™ï¼Œå¦‚æœéœ€è¦å¡«å……ä¸€ä¸ªä¸­ç©ºçš„å½¢çŠ¶ï¼Œåˆ™åªéœ€è¦æ³¨æ„å¤–ä¾§è·¯å¾„é¡ºé€†æ—¶é’ˆæ–¹å‘å’Œå†…ä¾§ç©ºå¿ƒåŒºåŸŸé¡ºé€†æ—¶é’ˆæ–¹å‘å³å¯ã€‚\n\n## å…«ã€æ¸å˜\n\n### 1. çº¿æ€§æ¸å˜\n\nçº¿æ€§æ¸å˜æ˜¯ä¸€ç³»åˆ—é¢œè‰²æ²¿ç€ä¸€æ¡ç›´çº¿è¿‡æ¸¡ï¼Œåœ¨ç‰¹å®šçš„ä½ç½®æŒ‡å®šæƒ³è¦çš„é¢œè‰²ï¼Œè¢«ç§°ä¸ºæ¸å˜ç‚¹ã€‚æ¸å˜ç‚¹æ˜¯æ¸å˜ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œé¢œè‰²æ˜¯è¡¨ç°çš„ä¸€éƒ¨åˆ†ã€‚\n\nçº¿æ€§æ¸å˜ä½¿ç”¨`linearGradient`å…ƒç´ è¡¨ç¤ºï¼š\n\n```xml\n<defs>\n\t<linearGradient id=\"linear\">\n\t\t<stop offset=\"0%\" style=\"stop-color:#ffcc00;\"></stop>\n\t\t<stop offset=\"100%\" style=\"stop-color:#0099cc;\"></stop>\n\t</linearGradient>\n</defs>\n\t<rect x=\"20\" y=\"20\" width=\"200\" height=\"100\" style=\"fill:url(#linear);stroke:black;\"></rect>\n```\n\n![img](http://cdn.d3js.org.cn/images/doc/svg/8.4.jpg)\n\n`stop`å…ƒç´ æœ‰ä¸¤ä¸ªå¿…è¦å±æ€§ï¼š`offset`å’Œ`stop-color`ã€‚`offset`å±æ€§ç”¨æ¥æŒ‡å®šåœ¨å“ªä¸ªç‚¹çš„é¢œè‰²åº”è¯¥ç­‰äº`stop-color`ã€‚`offset`çš„å–å€¼èŒƒå›´0%-100%ã€‚\n\n`stop`å…ƒç´ çš„å±æ€§ï¼š\n\n| å±æ€§           | è¯´æ˜                             |\n| -------------- | -------------------------------- |\n| `offset`       | å¿…éœ€ï¼Œå–å€¼èŒƒå›´ `0%-100%`         |\n| `stop-color`   | å¿…éœ€ï¼Œå¯¹åº” `offset` ä½ç½®ç‚¹çš„é¢œè‰² |\n| `stop-opacity` | å¯¹åº” `offset` ä½ç½®ç‚¹çš„ä¸é€æ˜åº¦   |\n\n`linearGradient`å…ƒç´ å±æ€§ï¼š\n\n| å±æ€§           | è¯´æ˜                                                         |\n| -------------- | ------------------------------------------------------------ |\n| `x1`,`y1`      | æ¸å˜çš„èµ·ç‚¹ä½ç½®ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”è¡¨ç¤ºï¼Œé»˜è®¤çš„æ¸å˜æ–¹å‘æ˜¯ä»å·¦åˆ°å³     |\n| `x2`,`y2`      | æ¸å˜çš„ç»ˆç‚¹ä½ç½®ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”è¡¨ç¤º                               |\n| `spreadMethod` | å¦‚æœè®¾ç½®çš„`offset`ä¸èƒ½è¦†ç›–æ•´ä¸ªå¯¹è±¡ï¼Œè¯¥æ€ä¹ˆå¡«å……ã€‚`pad`: èµ·ç‚¹æˆ–ç»ˆç‚¹é¢œè‰²ä¼šæ‰©å±•åˆ°å¯¹è±¡è¾¹ç¼˜ã€‚`repeat`: æ¸å˜é‡å¤èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è¿‡ç¨‹ã€‚`reflect`: æ¸å˜æŒ‰ç»ˆç‚¹-èµ·ç‚¹-ç»ˆç‚¹çš„æ’åˆ—é‡å¤ã€‚ |\n\n### 2. å¾„å‘æ¸å˜\n\nå¾„å‘æ¸å˜çš„æ¯ä¸ªæ¸å˜ç‚¹æ˜¯ä¸€ä¸ªåœ†å½¢è·¯å¾„ï¼Œä»ä¸­å¿ƒç‚¹å‘å¤–æ‰©æ•£ã€‚è®¾ç½®æ–¹å¼ä¸çº¿æ€§æ¸å˜å¤§è‡´ç›¸åŒã€‚å¦‚æœå¡«å……å¯¹è±¡è¾¹ç•Œæ¡†ä¸æ˜¯æ­£æ–¹å½¢çš„ï¼Œåˆ™è¿‡æ¸¡è·¯å¾„ä¼šå˜æˆæ¤­åœ†æ¥åŒ¹é…è¾¹ç•Œæ¡†çš„é•¿å®½æ¯”ã€‚\n\n```xml\n<defs>\n\t<radialGradient id=\"radial\" cx=\"50%\" cy=\"50%\" >\n\t\t<stop offset=\"0%\" style=\"stop-color:#f00;\"></stop>\n\t\t<stop offset=\"50%\" style=\"stop-color:#0f0;\"></stop>\n\t\t<stop offset=\"100%\" style=\"stop-color:#00f;\"></stop>\n\t</radialGradient>\n</defs>\n<rect x=\"20\" y=\"20\" width=\"200\" height=\"200\" style=\"fill:url(#radial);stroke:black;\"></rect>\t\n```\n\n![img](http://cdn.d3js.org.cn/images/doc/svg/8.5.jpg)\n\n`radialGradient`å…ƒç´ å±æ€§ï¼š\n\n| å±æ€§           | è¯´æ˜                                                         |\n| -------------- | ------------------------------------------------------------ |\n| `cx`,`cy`,`r`  | å®šä¹‰æ¸å˜çš„èŒƒå›´ï¼Œæµ‹é‡åŠå¾„çš„å•ä½æ˜¯å¯¹è±¡çš„å®½é«˜å‡å€¼ï¼Œè€Œä¸æ˜¯å¯¹è§’çº¿ï¼Œé»˜è®¤éƒ½ä¸º`50%` |\n| `fx`,`fy`      | `0%`ç‚¹æ‰€å¤„çš„åœ†è·¯å¾„çš„åœ†å¿ƒï¼Œé»˜è®¤å’Œ`cx`,`cy`ä¸€æ ·                |\n| `spreadMethod` | `pad`,`repeat`,`reflect` ä¸‰ä¸ªå€¼ï¼Œç”¨æ¥è§£å†³ç»˜åˆ¶èŒƒå›´æ²¡æœ‰åˆ°è¾¾å›¾å½¢è¾¹ç¼˜çš„æƒ…å†µã€‚ |\n\n## ä¹ã€æ–‡æœ¬\n\n### 1. ç›¸å…³æœ¯è¯­\n\n| æœ¯è¯­                  | è¯´æ˜                                                         |\n| --------------------- | ------------------------------------------------------------ |\n| å­—ç¬¦                  | `XML`ä¸­ï¼Œå­—ç¬¦æ˜¯æŒ‡å¸¦æœ‰ä¸€ä¸ªæ•°å­—å€¼å¾—ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ï¼Œæ•°å­—å€¼ä¸`Unidode`æ ‡å‡†å¯¹åº” |\n| ç¬¦å·                  | å­—ç¬¦çš„è§†è§‰å‘ˆç°ã€‚æ¯ä¸ªå­—ç¬¦å¯ä»¥æœ‰å¤šç§è§†è§‰å‘ˆç°                   |\n| å­—ä½“                  | ä»£è¡¨æŸä¸ªå­—ç¬¦é›†åˆçš„ä¸€ç»„ç¬¦å·                                   |\n| åŸºçº¿                  | å­—ä½“ä¸­æ‰€æœ‰ç¬¦å·ä»¥åŸºçº¿å¯¹é½                                     |\n| ä¸Šå¡åº¦                | åŸºçº¿åˆ°å­—ä½“ä¸­æœ€é«˜å­—ç¬¦çš„é¡¶éƒ¨è·ç¦»                               |\n| ä¸‹å¡åº¦                | åŸºçº¿åˆ°æœ€æ·±å­—ç¬¦åº•éƒ¨çš„è·ç¦»                                     |\n| å¤§å†™å­—æ¯é«˜åº¦ã€`x`é«˜åº¦ | å¤§å†™å­—æ¯é«˜åº¦æ˜¯æŒ‡åŸºçº¿ä¸Šå¤§å†™å­—æ¯çš„é«˜åº¦ï¼Œ`x`é«˜åº¦æ˜¯åŸºçº¿åˆ°å°å†™å­—æ¯`x`é¡¶éƒ¨çš„é«˜åº¦ |\n\n### 2. æ–‡æœ¬å…ƒç´ çš„åŸºæœ¬å±æ€§\n\n`text` å…ƒç´ ä»¥æŒ‡å®šçš„xå’Œyå€¼ä½œä¸ºå…ƒç´ å†…å®¹ç¬¬ä¸€ä¸ªå­—ç¬¦çš„åŸºçº¿ä½ç½®ï¼Œé»˜è®¤æ ·å¼é»‘è‰²å¡«å……ã€æ²¡æœ‰è½®å»“ã€‚\n\n| å±æ€§              | è¯´æ˜                                                         |\n| ----------------- | ------------------------------------------------------------ |\n| `font-family`     | ä»¥ç©ºæ ¼åˆ†å‰²çš„ä¸€ç³»åˆ—å­—ä½“åç§°æˆ–é€šç”¨å­—ä½“åç§°                     |\n| `font-size`       | å¦‚æœæœ‰å¤šè¡Œæ–‡æœ¬ï¼Œåˆ™ `font-size` ä¸ºå¹³è¡Œçš„ä¸¤æ¡åŸºçº¿çš„è·ç¦»        |\n| `font-weight`     | ä¸¤ä¸ªå€¼ï¼š`bold`(ç²—ä½“)å’Œ`nromal`(é»˜è®¤)                         |\n| `font-style`      | å¸¸ç”¨çš„ä¸¤ä¸ªå€¼:`italic`(æ–œä½“)å’Œ`normal`                        |\n| `text-decoration` | å¯èƒ½çš„å€¼:`none`,`underline`(ä¸‹åˆ’çº¿),`overline`(ä¸Šåˆ’çº¿),`line-through`(åˆ é™¤çº¿) |\n| `word-spacing`    | å•è¯ä¹‹é—´çš„è·ç¦»                                               |\n| `letter-spacing`  | å­—æ¯ä¹‹é—´çš„é—´è·                                               |\n| `text-anchor`     | å¯¹é½æ–¹å¼ï¼š`start`,`middle`,`end`                             |\n| `textLength`      | è®¾ç½®æ–‡æœ¬çš„é•¿åº¦                                               |\n| `lengthAdjust`    | åœ¨æŒ‡å®šäº†`textLength`æ—¶ï¼Œå¯ä»¥é€šè¿‡`lengthAdjust`å±æ€§è®¾ç½®å­—ç¬¦çš„è°ƒæ•´æ–¹å¼ï¼Œå€¼ä¸º `spacing`(é»˜è®¤)æ—¶,åªè°ƒæ•´å­—ç¬¦çš„é—´è·ã€‚å½“å€¼ä¸º`spacingAndGlyphs`æ—¶ï¼ŒåŒæ—¶è°ƒæ•´å­—ç¬¦é—´è·å’Œå­—ç¬¦æœ¬èº«çš„å¤§å° |\n\n### 3. tspanå…ƒç´ \n\n`text` å…ƒç´ æ— æ³•å¯¹æ–‡æœ¬è¿›è¡Œæ¢è¡Œæ“ä½œï¼Œå¦‚æœéœ€è¦åˆ†è¡Œæ˜¾ç¤ºæ–‡æœ¬ï¼Œåˆ™éœ€è¦ä½¿ç”¨åœ¨textå…ƒç´ é‡ŒåµŒå…¥`tspan` å…ƒç´ ã€‚`tspan` å…ƒç´ ä¸`html`çš„`span`å…ƒç´ ç±»ä¼¼ï¼Œå¯ä»¥åµŒå¥—åœ¨æ–‡æœ¬å†…å®¹ä¸­ï¼Œå¹¶å¯ä»¥å•ç‹¬æ”¹å˜å…¶å†…éƒ¨æ–‡æœ¬å†…å®¹çš„æ ·å¼ã€‚\n\n`tspan`å…ƒç´ é™¤å¤§å°ï¼Œé¢œè‰²ç­‰è¡¨ç°æ ·å¼ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š\n\n| å±æ€§             | è¯´æ˜                                                         |\n| ---------------- | ------------------------------------------------------------ |\n| `dx`,`dy`        | `x`å’Œ`y`æ–¹å‘çš„åç§»                                           |\n| `x`,`y`          | å¯¹`tspan`è¿›è¡Œç»å¯¹å®šä½                                        |\n| `rotate`         | æ—‹è½¬å­—ç¬¦ï¼Œå¯ä»¥åŒæ—¶è®¾ç½®å¤šä¸ªå€¼ï¼Œè¿™äº›å€¼ä¼šä¾æ¬¡ä½œç”¨åœ¨`tspan`åŒ…è£¹çš„å­—æ¯ä¸Š |\n| `baseline-shift` | ä¸`dy`å±æ€§è®¾ç½®ä¸Šä¸‹æ ‡ç›¸æ¯”ï¼Œè¿™ä¸ªå±æ€§æ›´æ–¹ä¾¿ï¼Œå½“ä¸º`super`æ—¶ï¼Œä¼šä¸Šæ ‡ã€‚`sub` æ—¶ä¸ºä¸‹æ ‡ã€‚ä»…ä»…åœ¨æ‰€åœ¨çš„`tspan`å†…æœ‰æ•ˆ |\n\n### 4. çºµå‘æ–‡æœ¬\n\næ–‡æœ¬ä¸€èˆ¬ä»å·¦åˆ°å³æ’åˆ—ï¼Œå¦‚æœéœ€è¦ä¸Šä¸‹æ’åˆ—ï¼Œåˆ™éœ€è¦ä½¿ç”¨`writing-mode`å±æ€§ã€‚\n\nè®¾ç½®`writing-mode`å±æ€§å€¼ä¸º`tb`(top to bottom)ï¼Œå¯ä»¥å°†æ–‡æœ¬ä¸Šä¸‹æ’åˆ—ã€‚\n\n## 5. æ–‡æœ¬è·¯å¾„\n\nå¦‚æœè¦ä½¿å¾—æ–‡æœ¬æ²¿ç€æŸæ¡è·¯å¾„æ’åˆ—ï¼Œåˆ™éœ€è¦ä½¿ç”¨`textPath`å…ƒç´ ã€‚éœ€è¦å°†æ–‡æœ¬æ”¾åœ¨`textPath`å…ƒç´ å†…éƒ¨ï¼Œç„¶åä½¿ç”¨`textPath`å…ƒç´ çš„`xlink:href`å±æ€§å¼•ç”¨ä¸€ä¸ªå®šä¹‰å¥½çš„`path`å…ƒç´ ã€‚\n\n```xml\n<defs>\n\t<path id=\"path\" d=\"M30 40 C 50 10 ,70 10,120 40 S150 0,200 40\" style=\"fill:none;stroke:black\"></path>\n</defs>\n<g transform=\"translate(10,50)\">\n\t<path id=\"path\" d=\"M30 40 C 50 10 ,70 10,120 40 S150 0,200 40\" style=\"fill:none;stroke:black\"></path>\n\t<text>\n\t\t<textPath xlink:href=\"#path\">\n\t\t\thello world\n\t\t</textPath>\n\t</text>\n</g>\n<g transform=\"translate(10,100)\">\n\t<path id=\"path\" d=\"M30 40 C 50 10 ,70 10,120 40 S150 0,200 40\" style=\"fill:none;stroke:black\"></path>\n\t<text>\n\t\t<textPath xlink:href=\"#path\" startOffset=\"50%\" text-anchor=\"middle\">\n\t\t\thello world\n\t\t</textPath>\n\t</text>\n</g>\n```\n\n![img](http://cdn.d3js.org.cn/images/doc/svg/8.6.jpg)\n\n`startOffset`å±æ€§ç”¨æ¥æŒ‡å®šæ–‡æœ¬çš„èµ·ç‚¹ï¼Œå½“è®¾ç½®ä¸º`50%`ï¼Œå¹¶ä¸”è®¾ç½®`text-anchor`ä¸º`middle`æ—¶ï¼Œæ–‡æœ¬ä¼šè¢«å®šä¸ºåœ¨`path`çš„ä¸­é—´ã€‚","source":"_posts/svg.md","raw":"---\ntitle: svgç›¸å…³ç¬”è®°\ntag: svg\nkeywords: svg\ncategories: å‰ç«¯å¯è§†åŒ–åº“\n---\n## ä¸€ã€å…¥é—¨æŒ‡å—\n\n### 1. å›¾å½¢ç³»ç»Ÿ\n\nè®¡ç®—æœºä¸­æè¿°å›¾å½¢ä¿¡æ¯çš„ä¸¤å¤§å›¾å½¢ç³»ç»Ÿï¼šæ …æ ¼å›¾å½¢å’ŒçŸ¢é‡å›¾å½¢ã€‚æ …æ ¼å›¾å½¢ä¸­å›¾å½¢è¢«è¡¨ç¤ºä¸ºå›¾ç‰‡å…ƒç´ æˆ–è€…åƒç´ çš„é•¿æ–¹å½¢æ•°ç»„ã€‚çŸ¢é‡å›¾å½¢ä¸­å›¾å½¢è¢«æè¿°ä¸ºä¸€ç³»åˆ—å‡ ä½•å½¢çŠ¶ï¼Œé€šè¿‡çŸ¢é‡å›¾å½¢é˜…è¯»å™¨åœ¨æŒ‡å®šçš„åæ ‡é›†ä¸Šç»˜åˆ¶å½¢çŠ¶ã€‚\n\n### 2. SVG(Scalable Vector Graphics)\n\nSVG` æ˜¯ä¸€ç§ `XML` åº”ç”¨ï¼Œç”¨æ¥è¡¨ç¤ºçŸ¢é‡å›¾å½¢ã€‚æ‰€æœ‰çš„å›¾å½¢æœ‰å…³ä¿¡æ¯è¢«å­˜å‚¨ä¸ºçº¯æ–‡æœ¬ï¼Œå…·æœ‰XMLçš„å¼€æ”¾æ€§ã€å¯ç§»æ¤æ€§å’Œå¯äº¤äº’æ€§ã€‚å½“å‰ç¨³å®šçš„ `XML` å’Œ `SVG` ç‰ˆæœ¬éƒ½ä¸º `1.1\n\nSVGæ–‡æ¡£ç»“æ„æ˜¯æ ‡å‡†çš„ `XML` æ–‡æ¡£ï¼Œæ ¹å…ƒç´  `svg` å®šä¹‰å›¾å½¢çš„å¤§å°ï¼Œæ ¹å…ƒç´ ä¸­åŒ…å«å„ç§çš„å½¢çŠ¶å…ƒç´ ã€‚`SVG` å…è®¸ä½¿ç”¨å•ç‹¬çš„å±æ€§æŒ‡å®šå…ƒç´ çš„æ ·å¼ã€‚\n\n`SVG` ä½¿ç”¨ `g` å…ƒç´ å¯¹å›¾å½¢è¿›è¡Œåˆ†ç»„ï¼Œä½¿ç”¨ `use` å…ƒç´ å®ç°å…ƒç´ çš„å¤ç”¨ã€‚\n\n## äºŒã€åœ¨ç½‘é¡µä¸­ä½¿ç”¨\n\n### 1. å°†SVGä½œä¸ºå›¾åƒ\n\nå°† `svg` ä½œä¸ºå›¾åƒåŒ…å«åœ¨HTMLæ ‡è®°çš„ `img` å…ƒç´ å†…ï¼Œä½†æ˜¯è¿™æ ·æœ‰ä¸€å®šçš„å±€é™æ€§ï¼š\n\n**`SVG`è½¬ä¸ºæ …æ ¼å›¾åƒæ—¶ä¸ä¸»é¡µé¢åˆ†ç¦»ï¼Œå¹¶ä¸”æ— æ³•åœ¨ä¸¤è€…ä¹‹é—´é€šä¿¡( `SVG` æ¸²æŸ“è¿‡ç¨‹ä¸ä¸»é¡µé¢ç‹¬ç«‹)ã€‚ä¸»é¡µé¢ä¸Šçš„æ ·å¼å¯¹ `SVG` æ— æ•ˆï¼Œè¿è¡Œåœ¨ä¸»é¡µé¢ä¸Šçš„è„šæœ¬æ— æ³•æ„ŸçŸ¥æˆ–è€…ä¿®æ”¹ `SVG` æ–‡æ¡£ç»“æ„ã€‚**\n\nåœ¨ `CSS` ä¸­åŒ…å« `SVG`ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ `background-image` å±æ€§ï¼Œåº”è¯¥é¿å… `SVG` å…ƒç´ æ–‡ä»¶å¤ªå¤§ã€‚\n\n###  2. å°†SVGä½œä¸ºåº”ç”¨ç¨‹åº\n\nä½¿ç”¨ `object` å…ƒç´ å°† `SVG` åµŒå…¥ `HTML` æ–‡æ¡£ä¸­ï¼Œ`object`å…ƒç´ çš„ `type` å±æ€§è¡¨ç¤ºè¦åµŒå…¥çš„æ–‡æ¡£ç±»å‹ï¼Œå¯¹ç”¨ `SVG` åº”è¯¥æ˜¯`type=\"image/svg+xml\"`ã€‚`object` å…ƒç´ å¿…é¡»æœ‰èµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ï¼Œè¿™ä¸¤ä¸ªæ ‡ç­¾ä¹‹é—´çš„å†…å®¹ä¸ºå¯¹è±¡æ•°æ®æœ¬èº«ä¸èƒ½è¢«æ¸²æŸ“æ—¶æ˜¾ç¤ºã€‚\n\n## ä¸‰ã€åæ ‡ç³»ç»Ÿ\n\n###  1. è§†å£\n\nè§†å£æ˜¯æŒ‡æ–‡æ¡£æ‰“ç®—ä½¿ç”¨çš„ç”»å¸ƒåŒºåŸŸã€‚åœ¨ `svg` å…ƒç´ ä¸Šä½¿ç”¨ `width` å’Œ `height` å±æ€§ç¡®å®šè§†å£çš„å¤§å°ï¼Œå±æ€§å€¼å¯ä»¥ä»…ä»…æ˜¯ä¸ºæ•°å­—ä¹Ÿå¯ä»¥ä¸ºå¸¦å•ä½çš„æ•°å­—(å•ä½å¯ä»¥ä¸º`em`ã€`ex`ã€`px`ã€`pt`ã€`pc`ã€`cm`ã€`mm` å’Œ `in`)ä¹Ÿå¯ä»¥ä¸ºç™¾åˆ†æ¯”ã€‚\n\n### 2. é»˜è®¤ç”¨æˆ·åæ ‡\n\n`SVG` é˜…è¯»å™¨ä¼šè®¾ç½®ä¸€ä¸ªåæ ‡ç³»ç»Ÿï¼Œå³åŸç‚¹ `(0,0)` ä½äºè§†å£çš„å·¦ä¸Šè§’ï¼Œ`x` å‘å³é€’å¢ï¼Œ`y` å‘ä¸‹é€’å¢ã€‚è¿™ä¸ªåæ ‡ç³»ç»Ÿæ˜¯ä¸€ä¸ªçº¯ç²¹çš„å‡ ä½•ç³»ç»Ÿï¼Œç‚¹æ²¡æœ‰å¤§å°ï¼Œç½‘æ ¼çº¿è¢«è®¤ä¸ºæ˜¯æ— é™ç»†ã€‚\n\nåœ¨ `SVG` ä¸­æŒ‡å®šå•ä½å¹¶ä¸ä¼šå½±å“å…¶ä»–å…ƒç´ ä¸­ç»™å®šå•ä½çš„åæ ‡ï¼Œä¹Ÿå°±æ˜¯è¯´ `SVG` æ–‡æ¡£ä¸­å„ä¸ªå…ƒç´ çš„å•ä½å¯ä»¥ä¸ç»Ÿä¸€ã€‚\n\n### 3. æŒ‡å®šç”¨æˆ·åæ ‡\n\næ‘’å¼ƒé˜…è¯»å™¨è®¾ç½®çš„é»˜è®¤ç”¨æˆ·åæ ‡ï¼Œå¯ä»¥è‡ªå·±ä¸ºè§†å£è®¾ç½®ä¸€ä¸ªç”¨æˆ·åæ ‡ã€‚é€šè¿‡åœ¨ `svg` å…ƒç´ ä¸Šè®¾ç½® `viewBox` å±æ€§ã€‚\n\n`viewBox` å±æ€§ç”± `4` ä¸ªæ•°å€¼ç»„æˆï¼Œåˆ†åˆ«ä»£è¡¨è¦å åŠ åœ¨è§†å£ä¸Šçš„æœ€å° `x`ã€æœ€å° `y`ï¼Œå®½åº¦ã€é«˜åº¦ã€‚\n\næ—¢ç„¶å¯ä»¥å¯¹ `svg` è‡ªå®šä¹‰ç”¨æˆ·åæ ‡ï¼Œé‚£ä¹ˆè‚¯å®šè¦è§£å†³ `svg` è§†å£é•¿å®½æ¯”ä¾‹å’Œ `viewBox` å®šä¹‰çš„é•¿å®½æ¯”ä¾‹ä¸åŒçš„é—®é¢˜ä»¥åŠå¦‚ä½•å¯¹é½é—®é¢˜ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ `preserveAspectRatio` å±æ€§äº†ã€‚\n\nå¦‚æœ `viewBox` çš„é•¿å®½æ¯”ä¾‹ä¸è§†å£çš„é•¿å®½æ¯”ä¾‹ä¸åŒï¼Œé‚£ä¹ˆ `svg` å¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ç§é€‰æ‹©ï¼š\n\n- æŒ‰è¾ƒå°çš„å°ºå¯¸ç­‰æ¯”ä¾‹ç¼©æ”¾å›¾å½¢ï¼Œä½¿å›¾å½¢å®Œå…¨å¡«å……è§†å£\n- æŒ‰è¾ƒå¤§çš„å°ºå¯¸ç­‰æ¯”ä¾‹ç¼©æ”¾å›¾å½¢ï¼Œç—…è£å‡æ‰è¶…å‡ºè§†å£çš„éƒ¨åˆ†\n- æ‹‰ä¼¸å’Œå‹ç¼©ç»˜å›¾ä»¥ä½¿å…¶æ°å¥½å¡«å……è§†å£\n\n```\npreserveAspectRatio` å±æ€§å…è®¸æŒ‡å®šè¢«ç¼©æ”¾çš„å›¾å½¢ç›¸å¯¹è§†å£çš„å¯¹é½æ–¹å¼,æ ¼å¼ä¸º `preserveAspectRatio = \"alignment[meet|slice]\"\n```\n\né»˜è®¤å€¼ä¸º `\"xMidYMid meet\"`\n\n`alignment`æŒ‡å®šè½´å’Œä½ç½®ï¼Œ`x` å’Œ `y` æ–¹å‘éƒ½æœ‰ `min`, `mid`, `max` ä¸‰ç§æ–¹å¼ï¼Œåˆ†åˆ«è¡¨ç¤º `x` å’Œ `y` æ–¹å‘çš„å¯¹é½æ–¹å¼ï¼Œå¯¹é½æ–¹å¼ç”± `x` å’Œ `y` ç»„åˆæŒ‡å®šï¼Œå…± `9` ä¸­æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ `alignment` å…±æœ‰å¦‚ä¸‹ `9` ä¸ªå–å€¼ï¼š\n\n| y\\x      | xMin     | xMid     | xMax     |\n| -------- | -------- | -------- | -------- |\n| **yMin** | xMinYMin | xMidYMin | xMaxYMin |\n| **yMid** | xMinYMid | xMidYMid | xMaxYMid |\n| **yMax** | xMinYMax | xMidYMax | xMaxYMax |\n\n`meet` è¯´æ˜ç¬¦åœ¨å›¾å½¢è¶…å‡ºè§†å£æ—¶å€™ä¼šå¯¹å›¾å½¢é€‚å½“ç¼©å°è°ƒæ•´é€‚é…å¯ç”¨çš„ç©ºé—´\n\n`slice` è¯´æ˜ç¬¦ç›´æ¥è£å‰ªè¶…å‡ºè§†å£çš„éƒ¨åˆ†\n\né™¤äº†ä¸Šè¿°æ“ä½œä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®š `preserveAspectRatio=\"none\"`ï¼Œç”¨äºåœ¨ `viewBox` å’Œè§†å£å®½é«˜æ¯”ä¸åŒæ—¶ç¼©æ”¾å›¾åƒï¼Œæ­¤æ—¶å›¾åƒä¸ä¼šè¢«ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œä¼šè¢«æ‹‰ä¼¸ã€æŒ¤å‹ã€å˜å½¢ã€‚\n\n### 4. åµŒå¥—åæ ‡ç³»ç»Ÿ\n\nå¯ä»¥å°†å¦ä¸€ä¸ª `svg` å…ƒç´ æ’å…¥åˆ°æ–‡æ¡£ä¸­æ¥å»ºç«‹ä¸€ä¸ªæ–°çš„è§†å£å’Œåæ ‡ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ `svg` ä¸­å¯ä»¥åµŒå¥—å¦ä¸€ä¸ª `svg`ï¼Œæ¯ä¸ª `svg` éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„è§†å£å’Œåæ ‡ç³»ç»Ÿ\n\n## å››ã€åŸºæœ¬å½¢çŠ¶\n\n###  1. çº¿æ®µ\n\n`line` å…ƒç´ ï¼Œä½¿ç”¨ `x1`, `y1`, `x2`, `y2` å±æ€§æŒ‡å®šçº¿æ®µçš„èµ·æ­¢ç‚¹åæ ‡ã€‚æœ‰å¦‚ä¸‹ç‰¹æ€§:\n\n| ç‰¹æ€§               | è¯´æ˜                                                         |\n| ------------------ | ------------------------------------------------------------ |\n| `stroke-width`     | ç¬”ç”»å®½åº¦ï¼Œåæ ‡ç½‘æ ¼çº¿ä½äºç¬”ç”»çš„æ­£ä¸­é—´ï¼Œå¯ä»¥ä½¿ç”¨ `css` çš„ `shape-rendering` å€¼æ¥æ§åˆ¶åé”¯é½¿ç‰¹æ€§ |\n| `stroke`           | ç¬”ç”»é¢œè‰²                                                     |\n| `stroke-opacity`   | çº¿æ¡çš„ä¸é€æ˜åº¦                                               |\n| `stroke-dasharray` | è™šçº¿ï¼Œç”±ä¸€ç³»åˆ—æ•°å­—ç»„æˆï¼Œæ•°å­—ä¸ªæ•°ä¸ºå¶æ•°(è´Ÿè´£ä¼šè‡ªåŠ¨é‡å¤ä¸€éä½¿å…¶ä¸ºå¶æ•°),è¡¨ç¤ºçº¿é•¿-é—´éš™-çº¿é•¿-é—´éš™... |\n\n### 2. çŸ©å½¢\n\n`rect`å…ƒç´ ï¼Œä½¿ç”¨`x`,`y`,`width`,`height`è¡¨ç¤ºä¸€ä¸ªçŸ©å½¢\n\n| ç‰¹æ€§           | è¯´æ˜                                                         |\n| -------------- | ------------------------------------------------------------ |\n| `fill`         | å¡«å……é¢œè‰²                                                     |\n| `fill-opacity` | å¡«å……ä¸é€æ˜åº¦                                                 |\n| `stroke`       | è¾¹æ¡†é¢œè‰²                                                     |\n| `stroke-width` | è¾¹æ¡†å®½åº¦ï¼Œè¾¹æ¡†æ˜¯éª‘åœ¨çŸ©å½¢è¾¹ç•Œä¸Šçš„ï¼Œä¸€åŠåœ¨çŸ©å½¢å¤–ï¼Œä¸€åŠåœ¨çŸ©å½¢å†… |\n| `rx`/`ry`      | åœ†è§’çŸ©å½¢ï¼Œæœ€å¤§å€¼ä¸ºçŸ©å½¢å®½/é«˜çš„ä¸€åŠï¼Œå¦‚æœåªæŒ‡å®šäº†ä¸€ä¸ªï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªéƒ½ä¸ºç›¸åŒçš„å€¼ |\n\n### 3. åœ†å’Œæ¤­åœ†\n\n`circle` å…ƒç´ è¡¨ç¤ºåœ†,ç”± `cx`,`cy`,`r` å±æ€§ç•Œå®š `ellipse` å…ƒç´ è¡¨ç¤ºæ¤­åœ†,ç”± `cx`,`cy`,`rx`,`ry` ç•Œå®š\n\n| ç‰¹æ€§           | è¯´æ˜                                                         |\n| -------------- | ------------------------------------------------------------ |\n| `fill`         | å¡«å……é¢œè‰²                                                     |\n| `fill-opacity` | å¡«å……ä¸é€æ˜åº¦                                                 |\n| `stroke`       | è¾¹æ¡†é¢œè‰²                                                     |\n| `stroke-width` | è¾¹æ¡†å®½åº¦ï¼Œè¾¹æ¡†æ˜¯éª‘åœ¨åœ†çš„è¾¹ç•Œä¸Šçš„ï¼Œä¸€åŠåœ¨åœ†/æ¤­åœ†å¤–ï¼Œä¸€åŠåœ¨åœ†/æ¤­åœ†å†… |\n\n### 4. å¤šè¾¹å½¢\n\n`polygon` å…ƒç´ æŒ‡å®šä¸€ä¸ªå¤šè¾¹å½¢,ç”± `points` å±æ€§æŒ‡å®šçš„ä¸€ç³»åˆ—åæ ‡ç‚¹ç•Œå®šï¼Œä¼šè‡ªåŠ¨å°é—­\n\n| ç‰¹æ€§           | è¯´æ˜                                                         |\n| -------------- | ------------------------------------------------------------ |\n| `fill`         | å¡«å……é¢œè‰²                                                     |\n| `fill-opacity` | å¡«å……ä¸é€æ˜åº¦                                                 |\n| `stroke`       | è¾¹æ¡†é¢œè‰²                                                     |\n| `stroke-width` | è¾¹æ¡†å®½åº¦                                                     |\n| `fill-rule`    | å¡«å……è§„åˆ™ï¼Œå¦‚æœå¤šè¾¹å½¢çš„è¾¹æœ‰äº¤å‰æ—¶ï¼Œéœ€è¦æŒ‡å®šï¼Œå¯ä»¥å– `mozero`(é»˜è®¤)å’Œ `evenodd` ä¸¤ä¸ªå€¼ã€‚ |\n\n`fill-rule` å€¼ä¸º `nonzero` æ—¶çš„åŸç†:åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯åœ¨å¤šè¾¹å½¢å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨æ—¶ï¼Œä»è¿™ä¸ªç‚¹ç”»ä¸€æ¡åˆ°æ— ç©·è¿œçš„å°„çº¿ï¼Œç„¶åæ•°è¿™ä¸ªçº¿å’Œå¤šè¾¹å½¢çš„è¾¹æœ‰å¤šå°‘æ¬¡äº¤å‰ã€‚å¦‚æœäº¤å‰çš„è¾¹çº¿æ˜¯ä»å³å¾€å·¦ç”»ï¼Œåˆ™æ€»æ•°åŠ  `1`ï¼Œå¦‚æœæ˜¯ä»å·¦å¾€å³åˆ™æ€»æ•°å‡ `1`. å¦‚æœæœ€åæ€»æ•°ä¸º `0` åˆ™è®¤ä¸ºæ”¹ç‚¹åœ¨å›¾å½¢å¤–éƒ¨ï¼Œå¦åˆ™åœ¨å†…éƒ¨ã€‚\n\n`fill-rule` å€¼ä¸º `evenodd` æ—¶åªæ•°å°„çº¿ä¸å¤šè¾¹å½¢è¾¹çš„äº¤å‰æ¬¡æ•°ï¼Œå¦‚æœä¸ºå¥‡æ•°åˆ™è®¤ä¸ºåœ¨å¤šè¾¹å½¢å†…éƒ¨ï¼Œå¦åˆ™è®¤ä¸ºåœ¨å¤šè¾¹å½¢å¤–éƒ¨ã€‚\n\n### 5. æŠ˜çº¿\n\n`polyline` å…ƒç´ è¡¨ç¤ºä¸€ä¸ªæŠ˜çº¿ï¼Œä½¿ç”¨ `points` å±æ€§æŒ‡å®šä¸€ç³»åˆ—ç‚¹ï¼Œä¸è‡ªåŠ¨å°é—­å›¾å½¢ã€‚\n\n### 6. ç‰¹æ€§æ€»ç»“\n\n| ç‰¹æ€§                | è¯´æ˜                                               |\n| ------------------- | -------------------------------------------------- |\n| `stroke`            | ç¬”ç”»é¢œè‰²                                           |\n| `stroke-width`      | ç¬”ç”»å®½åº¦                                           |\n| `stroke-opacity`    | ç¬”ç”»ä¸é€æ˜åº¦                                       |\n| `stroke-dasharray`  | è™šçº¿ç¬”ç”»                                           |\n| `stroke-linecap`    | ç¬”ç”»å¤´çš„å½¢çŠ¶ `butt`(é»˜è®¤),`round`,`square`         |\n| `stroke-linejoin`   | å›¾å½¢æ£±è§’ï¼Œæœ‰`miter`(é»˜è®¤),`round`å’Œ`bevel`ä¸‰ä¸ªå–å€¼ |\n| `stroke-miterlimit` | ç›¸äº¤å¤„æ˜¾ç¤ºå®½åº¦ä¸çº¿å®½çš„æœ€å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º`4`          |\n| `fill`              | å¡«å……é¢œè‰² é»˜è®¤`black`                               |\n| `fill-opacity`      | å¡«å……ä¸é€æ˜åº¦                                       |\n| `fill-rule`         | å¡«å……è§„åˆ™                                           |\n\n## äº”ã€æ–‡æ¡£ç»“æ„\n\n### 1. ç»“æ„å’Œè¡¨ç°\n\n`SVG` å…è®¸æ–‡æ¡£è¡¨ç°å’Œæ–‡æ¡£ç»“æ„åˆ†ç¦»ï¼Œ`SVG` æ”¯æŒå››ç§æ–¹å¼æŒ‡å®šè¡¨ç°ä¿¡æ¯ï¼šå†…è”æ ·å¼ã€å†…éƒ¨æ ·å¼è¡¨ã€å¤–éƒ¨æ ·å¼è¡¨ä»¥åŠè¡¨ç°å±æ€§\n\n| è¡¨ç°æ–¹å¼   | è¯´æ˜                                                         |\n| ---------- | ------------------------------------------------------------ |\n| å†…è”æ ·å¼   | å…ƒç´ å†…éƒ¨ä½¿ç”¨ `style` å±æ€§                                    |\n| å†…éƒ¨æ ·å¼è¡¨ | å†…éƒ¨æ ·å¼å®šä¹‰åœ¨ `defs` å…ƒç´ å†…éƒ¨                               |\n| å¤–éƒ¨æ ·å¼è¡¨ | ä¸ `html` ç±»ä¼¼ï¼Œå°†æ ·å¼å®šä¹‰åœ¨ `css` æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨é€‰æ‹©å™¨æ¥è®¾ç½®ç›¸åº”çš„å…ƒç´ æ ·å¼ |\n| è¡¨ç°å±æ€§   | `SVG` å…è®¸ä»¥å±æ€§çš„å½¢å¼æŒ‡å®šè¡¨ç°æ ·å¼ï¼Œä½†æ˜¯**è¡¨ç°å±æ€§çš„ä¼˜å…ˆçº§æœ€ä½**ï¼Œå¦‚æœä»¥å…¶ä»–ä¸‰ç§å½¢å¼æŒ‡å®šäº†ç›¸åŒçš„æ ·å¼å±æ€§ï¼Œåˆ™å°†è¦†ç›–é€šè¿‡è¡¨ç°å±æ€§æŒ‡å®šçš„æ ·å¼ |\n\nå†…éƒ¨æ ·å¼è¡¨ç¤ºä¾‹ï¼š\n\n```xml\n<svg width=\"200px\" height=\"200px\" xmlns=\"http://www.w3.org/2000/svg>\n    <defs>\n        <style type=\"text/css\"><![CDATA[\n            circle{\n                fill:#ccc\n            }\n        ]]></style>\n    </defs>\n    <circle cx=\"10\" cy=\"10\" r=\"5\"/>\n</svg>\n```\n\n### 2. åˆ†ç»„å’Œå¼•ç”¨\n\n`g` å…ƒç´ ç”¨æ¥å°†å…¶å­å…ƒç´ ä½œä¸ºä¸€ä¸ªç»„åˆï¼Œå¯ä»¥ä½¿æ–‡æ¡£ç»“æ„æ›´æ¸…æ™°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨gæ ‡ç­¾ä¸­æŒ‡å®šçš„æ‰€æœ‰æ ·å¼ä¼šåº”ç”¨äºç»„åˆå†…çš„æ‰€æœ‰å­å…ƒç´ ï¼Œå¯ä»¥ä¸ç”¨åœ¨æ‰€æœ‰å­å…ƒç´ ä¸ŠæŒ‡å®šå±æ€§ã€‚\n\n`use` å…ƒç´ ç”¨æ¥å¤ç”¨å›¾å½¢ä¸­é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œéœ€è¦ä¸º `use` æ ‡ç­¾çš„ `xlink:href` æŒ‡å®š `URI` æ¥å¼•ç”¨æŒ‡å®šçš„å›¾å½¢å…ƒç´ ã€‚åŒæ—¶è¿˜è¦æŒ‡å®š`x`å’Œ`y`å±æ€§ä»¥è¡¨ç¤ºç»„åˆåº”è¯¥ç§»åŠ¨åˆ°å“ªä¸ªä½ç½®ã€‚`use`å…ƒç´ å¹¶ä¸é™åˆ¶åªèƒ½ä½¿ç”¨åŒä¸€ä¸ªæ–‡ä»¶å†…çš„å¯¹è±¡ï¼Œ`xlink:href`å±æ€§å¯ä»¥æŒ‡å®šä»»ä½•æœ‰æ•ˆçš„æ–‡ä»¶æˆ–`URI`ã€‚\n\n`defs`å…ƒç´ ç”¨æ¥å®šä¹‰å¤ç”¨çš„å…ƒç´ ï¼Œä½†æ˜¯å®šä¹‰åœ¨`defs`å†…çš„å…ƒç´ å¹¶ä¸ä¼šè¢«æ˜¾ç¤ºï¼Œè€Œæ˜¯ä½œä¸ºæ¨¡æ¿ä¾›å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚\n\n`symbol`å…ƒç´ ä¸gå…ƒç´ ä¸åŒï¼Œ`symbol`æ°¸è¿œä¸ä¼šè¢«æ˜¾ç¤ºï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æŒ‡å®šè¢«åç»­ä½¿ç”¨çš„å…ƒç´ ï¼Œ`symbol`å…ƒç´ å¯ä»¥æŒ‡å®š `viewBox` å’Œ`preserveAspectRatio` å±æ€§ã€‚åœ¨å¼•ç”¨æ—¶é€šè¿‡ä¸º `use` å…ƒç´ æŒ‡å®š `width` å’Œ `height` å±æ€§å°±å¯ä»¥è®© `symbol` å…ƒç´ é€‚é…è§†å£å¤§å°ã€‚\n\n`image` å¯ä»¥ç”¨æ¥åŒ…å«ä¸€ä¸ªå®Œæ•´çš„ `SVG` æˆ–æ …æ ¼æ–‡ä»¶ã€‚å¦‚æœåŒ…å«ä¸€ä¸ª `SVG` æ–‡ä»¶ï¼Œåˆ™è§†å£ä¼šåŸºäºå¼•ç”¨çš„æ–‡ä»¶çš„ `x`,`y`,`width`,`height` å±æ€§æ¥å»ºç«‹ã€‚å¦‚æœåŒ…å«æ …æ ¼æ–‡ä»¶åˆ™ä¼šè¢«ç¼©æ”¾ä»¥é€‚é…è¯¥å±æ€§æŒ‡å®šçš„çŸ©å½¢ã€‚\n\n`SVG`è§„èŒƒè¦æ±‚ `SVG` é˜…è¯»å™¨æ”¯æŒ `JPEG` å’Œ `PNG` ä¸¤ç§æ …æ ¼æ–‡ä»¶ã€‚\n\n## å…­ã€åæ ‡ç³»ç»Ÿå˜æ¢\n\n### 1. translateå˜æ¢\n\n`translate` å˜æ¢ç”¨æ¥å¯¹ç”¨æˆ·åæ ‡è¿›è¡Œå¹³ç§»ï¼Œé€šè¿‡åˆ¶å®š `transform` å±æ€§å€¼æ¥è®¾ç½®: `transform = \"translate(x,y)\"`ã€‚\n\n`translate` å·¥ä½œåŸç†:é¦–å…ˆè·å–æ•´ä¸ªç½‘ç»œï¼Œç„¶åå°†å…¶ç§»åŠ¨åˆ°ç”»å¸ƒçš„æ–°ä½ç½®è€Œä¸æ˜¯ç§»åŠ¨æ‰€åœ¨çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´ç§»åŠ¨çš„æ˜¯æ•´ä¸ªåæ ‡ç³»ç»Ÿè€Œä¸æ˜¯å…ƒç´ æœ¬èº«ã€‚çœ‹ä¼¼æ¯”ç§»åŠ¨å…ƒç´ å¤æ‚ï¼Œå…¶å®åœ¨ä½¿ç”¨å…¶ä»–ä¸€ç³»åˆ—å˜æ¢æ—¶ï¼Œè¿™ç§ç§»åŠ¨æ•´ä¸ªåæ ‡ç³»çš„æ–¹æ³•ä»æ•°å­¦å’Œæ¦‚å¿µä¸Šè®²ï¼Œæ›´æ–¹ä¾¿ã€‚\n\n### 2. scaleå˜æ¢\n\nç¼©æ”¾åæ ‡ç³»ç»Ÿã€‚`transform = \"scale(value)\"` æˆ–è€… `transform=\"scale(x-value,y-value)\"`ã€‚\n\nä»…ä»…ä½¿ç”¨ `scale(n)` å˜æ¢æ—¶ï¼Œç½‘æ ¼ç³»ç»Ÿçš„åŸç‚¹ä½ç½®å¹¶æ²¡æœ‰å˜åŒ–ï¼Œåªæ˜¯æ¯ä¸ªç”¨æˆ·åæ ‡éƒ½å˜æˆäº†åŸæ¥çš„ `n` å€ï¼Œä¹Ÿå°±æ˜¯ç½‘æ ¼å˜å¤§äº†ï¼Œå› æ­¤çº¿ä¹Ÿä¼šå˜ç²—(ç”¨æˆ·å•ä½å¹¶æ²¡æœ‰å˜)ã€‚\n\n*æŠ€å·§ï¼šå¦‚æœä»å…¶ä»–ç³»ç»Ÿä¼ è¾“æ•°æ®åˆ° `SVG`ï¼Œåˆ™å¯èƒ½å¿…é¡»å¤„ç†ä½¿ç”¨ç¬›å¡å°”åæ ‡è¡¨ç¤ºçš„çŸ¢é‡å›¾å½¢ï¼Œåœ¨ç¬›å¡å°”åæ ‡ç³»ç»Ÿä¸­ï¼ŒåŸç‚¹ä½äºå·¦ä¸‹è§’ï¼Œ`y`å‘ä¸Šé€’å¢ï¼Œ`x`å‘å³é€’å¢ã€‚è€Œ `SVG` åæ ‡åŸç‚¹ä½äºå·¦ä¸Šè§’ï¼Œæ­¤æ—¶ä½¿ç”¨ `scale(1,-1)` å°±å¯ä»¥å®Œæˆä¸¤è€…ä¹‹é—´çš„è½¬æ¢ã€‚*\n\n**ç¼©æ”¾å˜æ¢æ°¸è¿œä¸ä¼šæ”¹å˜å›¾å½¢å¯¹è±¡çš„ç½‘æ ¼åæ ‡æˆ–è€…ç¬”ç”»å®½åº¦ï¼Œä»…ä»…æ”¹å˜å¯¹åº”ç”»å¸ƒä¸Šçš„åæ ‡ç³»ç»Ÿç½‘æ ¼çš„å¤§å°ã€‚**\n\n### 3. rotateå˜æ¢\n\næ ¹æ®æŒ‡å®šçš„è§’åº¦æ—‹è½¬åæ ‡ç³»ç»Ÿï¼Œé»˜è®¤çš„åæ ‡ç³»ç»Ÿä¸­ï¼Œè§’åº¦çš„æµ‹é‡é¡ºæ—¶é’ˆå¢åŠ ï¼Œ`0` åº¦ä¸º `3` ç‚¹é’Ÿæ–¹å‘ã€‚\n\næ³¨æ„ï¼Œé™¤éå¦è¡ŒæŒ‡å®šï¼Œå¦åˆ™æ—‹è½¬ä»¥åŸç‚¹ä¸ºä¸­å¿ƒã€‚ æ­¤æ—¶å¯ä»¥é€šè¿‡å¹³ç§»+æ—‹è½¬çš„æ–¹å¼æ¥æŒ‡å®šæ—‹è½¬ä¸­å¿ƒï¼š `translate(centerX,centerY) rotate(angle) translate(-centerX,-centerY)`\n\nä½†æ˜¯æœ‰ä¸ªæ›´ç®€å•çš„æ–¹å¼ï¼š`rotate(angle,centerX,centerY)`\n\n### 4. å›´ç»•ä¸­å¿ƒç‚¹ç¼©æ”¾\n\nä¸Šé¢æåˆ°ï¼Œç¼©æ”¾é»˜è®¤æ˜¯ä»¥åŸç‚¹ä¸ºåŸºå‡†çš„ï¼Œè¿™æ˜¾ç„¶ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼æŒ‡å®šç¼©æ”¾ä¸­å¿ƒï¼š\n\n```\ntranslate(-centerX*(factor-1),-centerY*(factor-1)) scale(factor)\n```\n\n### 5. skewXå’ŒskewYå˜æ¢\n\nè¿™ä¸¤ä¸ªå˜æ¢ç”¨æ¥å€¾æ–œæŸä¸ªè½´ï¼Œä¸€èˆ¬å½¢å¼ä¸º `skewX(angle),skewY(angle)`ã€‚è¿™æ ·çš„ç»“æœå°±æ˜¯ä½¿å¾— `x` è½´å’Œ `y` è½´ä¸å†å‚ç›´ã€‚\n\n### 6. çŸ©é˜µå˜æ¢\n\nè®¡ç®—æœºå›¾å½¢å­¦ä¸­åæ ‡å˜æ¢éƒ½é€šè¿‡çŸ©é˜µæ¥å®ç°ï¼Œé™¤ä¸Šè¿°å˜æ¢æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥ä¸ºå˜æ¢æŒ‡å®šå˜æ¢çŸ©é˜µï¼Œå˜æ¢çŸ©é˜µä¸º `matrix(a,b,c,d,e,f)`ï¼Œæ­¤æ—¶æŒ‡å®šçš„å˜æ¢çŸ©é˜µä¸º:\n\n```text\na  c  e\nb  d  f\n0  0  1\n```\n\n## ä¸ƒã€è·¯å¾„\n\n### 1. pathå‘½ä»¤\n\n`SVG` ä¸­æ‰€æœ‰åŸºæœ¬å½¢çŠ¶éƒ½æ˜¯ `path` çš„ç®€å†™å½¢å¼ï¼Œä½†æ˜¯å»ºè®®ä½¿ç”¨ç®€å†™å½¢å¼ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ä½¿ `SVG` æ–‡æ¡£æ›´å¯è¯»ã€‚\n\n`path` å…ƒç´ æ›´é€šç”¨ï¼Œå¯ä»¥é€šè¿‡åˆ¶å®šä¸€ç³»åˆ—ç›¸äº’è¿æ¥çš„çº¿ã€å¼§ã€æ›²çº¿æ¥ç»˜åˆ¶ä»»æ„å½¢çŠ¶çš„è½®å»“ï¼Œè¿™äº›è½®å»“ä¹Ÿå¯ä»¥å¡«å……æˆ–è€…ç»˜åˆ¶è½®å»“çº¿ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰è£å‰ªåŒºåŸŸæˆ–è’™ç‰ˆã€‚\n\nä¸‹è¡¨ä¸º `path` å‘½ä»¤æ€»ç»“ï¼Œå…¶ä¸­å¤§å†™è¡¨ç¤ºç»å¯¹åæ ‡ï¼Œå°å†™è¡¨ç¤ºç›¸å¯¹åæ ‡ï¼š\n\n| å‘½ä»¤    | å‚æ•°                                        | è¯´æ˜                                                         |\n| ------- | ------------------------------------------- | ------------------------------------------------------------ |\n| `M` `m` | `x y`                                       | ç§»åŠ¨ç”»ç¬”åˆ°åˆ¶å®šåæ ‡                                           |\n| `L` `l` | `x y`                                       | ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®šåæ ‡çš„çº¿                                       |\n| `H` `h` | `x`                                         | ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®š `x` åæ ‡çš„æ¨ªçº¿                                |\n| `V` `v` | `y`                                         | ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®š`y`åæ ‡çš„å‚çº¿                                  |\n| `A` `a` | `rx ry x-axis-rotation large-arc sweep x y` | åœ†å¼§æ›²çº¿å‘½ä»¤æœ‰7ä¸ªå‚æ•°ï¼Œä¾æ¬¡è¡¨ç¤º`x`æ–¹å‘åŠå¾„ã€`y`æ–¹å‘åŠå¾„ã€æ—‹è½¬è§’åº¦ã€å¤§åœ†æ ‡è¯†ã€é¡ºé€†æ—¶é’ˆæ ‡è¯†ã€ç›®æ ‡ç‚¹`x`ã€ç›®æ ‡ç‚¹`y`ã€‚å¤§åœ†æ ‡è¯†å’Œé¡ºé€†æ—¶é’ˆä»¥`0`å’Œ`1`è¡¨ç¤ºã€‚`0`è¡¨ç¤ºå°åœ†ã€é€†æ—¶é’ˆ |\n| `Q` `q` | `x1 y1 x y`                                 | ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°`x, y`æ§åˆ¶ç‚¹ä¸º`x1, y1`çš„äºŒæ¬¡è´å¡å°”æ›²çº¿     |\n| `T` `t` | `x y`                                       | ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°`x`,`y`çš„å…‰æ»‘äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼Œæ§åˆ¶ç‚¹ä¸ºå‰ä¸€ä¸ª`Q`å‘½ä»¤çš„æ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å‰ä¸€æ¡åˆ™å·²å½“å‰ç‚¹ä¸ºæ§åˆ¶ç‚¹ã€‚ |\n| `C` `c` | `x1 y1 x2 y2 x y`                           | ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ° `x`,`y`æ§åˆ¶ç‚¹ä¸º`x1,y1` `x2,y2`çš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿ |\n| `S` `s` | `x2 y2 x y`                                 | ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°`x,y`çš„å…‰æ»‘ä¸‰æ¬¡è´å¡å°”æ›²çº¿ã€‚ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¸ºå‰ä¸€ä¸ª`C`å‘½ä»¤çš„ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å‰ä¸€æ¡æ›²çº¿ï¼Œåˆ™ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¸ºå½“å‰çš„ç‚¹ã€‚ |\n\nè·¯å¾„çš„å¡«å……åŒæ ·å¯ä»¥ä½¿ç”¨ `fill-rule` å±æ€§æŒ‡å®šå¡«å……è§„åˆ™ï¼Œå¦‚æœéœ€è¦å¡«å……ä¸€ä¸ªä¸­ç©ºçš„å½¢çŠ¶ï¼Œåˆ™åªéœ€è¦æ³¨æ„å¤–ä¾§è·¯å¾„é¡ºé€†æ—¶é’ˆæ–¹å‘å’Œå†…ä¾§ç©ºå¿ƒåŒºåŸŸé¡ºé€†æ—¶é’ˆæ–¹å‘å³å¯ã€‚\n\n## å…«ã€æ¸å˜\n\n### 1. çº¿æ€§æ¸å˜\n\nçº¿æ€§æ¸å˜æ˜¯ä¸€ç³»åˆ—é¢œè‰²æ²¿ç€ä¸€æ¡ç›´çº¿è¿‡æ¸¡ï¼Œåœ¨ç‰¹å®šçš„ä½ç½®æŒ‡å®šæƒ³è¦çš„é¢œè‰²ï¼Œè¢«ç§°ä¸ºæ¸å˜ç‚¹ã€‚æ¸å˜ç‚¹æ˜¯æ¸å˜ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œé¢œè‰²æ˜¯è¡¨ç°çš„ä¸€éƒ¨åˆ†ã€‚\n\nçº¿æ€§æ¸å˜ä½¿ç”¨`linearGradient`å…ƒç´ è¡¨ç¤ºï¼š\n\n```xml\n<defs>\n\t<linearGradient id=\"linear\">\n\t\t<stop offset=\"0%\" style=\"stop-color:#ffcc00;\"></stop>\n\t\t<stop offset=\"100%\" style=\"stop-color:#0099cc;\"></stop>\n\t</linearGradient>\n</defs>\n\t<rect x=\"20\" y=\"20\" width=\"200\" height=\"100\" style=\"fill:url(#linear);stroke:black;\"></rect>\n```\n\n![img](http://cdn.d3js.org.cn/images/doc/svg/8.4.jpg)\n\n`stop`å…ƒç´ æœ‰ä¸¤ä¸ªå¿…è¦å±æ€§ï¼š`offset`å’Œ`stop-color`ã€‚`offset`å±æ€§ç”¨æ¥æŒ‡å®šåœ¨å“ªä¸ªç‚¹çš„é¢œè‰²åº”è¯¥ç­‰äº`stop-color`ã€‚`offset`çš„å–å€¼èŒƒå›´0%-100%ã€‚\n\n`stop`å…ƒç´ çš„å±æ€§ï¼š\n\n| å±æ€§           | è¯´æ˜                             |\n| -------------- | -------------------------------- |\n| `offset`       | å¿…éœ€ï¼Œå–å€¼èŒƒå›´ `0%-100%`         |\n| `stop-color`   | å¿…éœ€ï¼Œå¯¹åº” `offset` ä½ç½®ç‚¹çš„é¢œè‰² |\n| `stop-opacity` | å¯¹åº” `offset` ä½ç½®ç‚¹çš„ä¸é€æ˜åº¦   |\n\n`linearGradient`å…ƒç´ å±æ€§ï¼š\n\n| å±æ€§           | è¯´æ˜                                                         |\n| -------------- | ------------------------------------------------------------ |\n| `x1`,`y1`      | æ¸å˜çš„èµ·ç‚¹ä½ç½®ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”è¡¨ç¤ºï¼Œé»˜è®¤çš„æ¸å˜æ–¹å‘æ˜¯ä»å·¦åˆ°å³     |\n| `x2`,`y2`      | æ¸å˜çš„ç»ˆç‚¹ä½ç½®ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”è¡¨ç¤º                               |\n| `spreadMethod` | å¦‚æœè®¾ç½®çš„`offset`ä¸èƒ½è¦†ç›–æ•´ä¸ªå¯¹è±¡ï¼Œè¯¥æ€ä¹ˆå¡«å……ã€‚`pad`: èµ·ç‚¹æˆ–ç»ˆç‚¹é¢œè‰²ä¼šæ‰©å±•åˆ°å¯¹è±¡è¾¹ç¼˜ã€‚`repeat`: æ¸å˜é‡å¤èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è¿‡ç¨‹ã€‚`reflect`: æ¸å˜æŒ‰ç»ˆç‚¹-èµ·ç‚¹-ç»ˆç‚¹çš„æ’åˆ—é‡å¤ã€‚ |\n\n### 2. å¾„å‘æ¸å˜\n\nå¾„å‘æ¸å˜çš„æ¯ä¸ªæ¸å˜ç‚¹æ˜¯ä¸€ä¸ªåœ†å½¢è·¯å¾„ï¼Œä»ä¸­å¿ƒç‚¹å‘å¤–æ‰©æ•£ã€‚è®¾ç½®æ–¹å¼ä¸çº¿æ€§æ¸å˜å¤§è‡´ç›¸åŒã€‚å¦‚æœå¡«å……å¯¹è±¡è¾¹ç•Œæ¡†ä¸æ˜¯æ­£æ–¹å½¢çš„ï¼Œåˆ™è¿‡æ¸¡è·¯å¾„ä¼šå˜æˆæ¤­åœ†æ¥åŒ¹é…è¾¹ç•Œæ¡†çš„é•¿å®½æ¯”ã€‚\n\n```xml\n<defs>\n\t<radialGradient id=\"radial\" cx=\"50%\" cy=\"50%\" >\n\t\t<stop offset=\"0%\" style=\"stop-color:#f00;\"></stop>\n\t\t<stop offset=\"50%\" style=\"stop-color:#0f0;\"></stop>\n\t\t<stop offset=\"100%\" style=\"stop-color:#00f;\"></stop>\n\t</radialGradient>\n</defs>\n<rect x=\"20\" y=\"20\" width=\"200\" height=\"200\" style=\"fill:url(#radial);stroke:black;\"></rect>\t\n```\n\n![img](http://cdn.d3js.org.cn/images/doc/svg/8.5.jpg)\n\n`radialGradient`å…ƒç´ å±æ€§ï¼š\n\n| å±æ€§           | è¯´æ˜                                                         |\n| -------------- | ------------------------------------------------------------ |\n| `cx`,`cy`,`r`  | å®šä¹‰æ¸å˜çš„èŒƒå›´ï¼Œæµ‹é‡åŠå¾„çš„å•ä½æ˜¯å¯¹è±¡çš„å®½é«˜å‡å€¼ï¼Œè€Œä¸æ˜¯å¯¹è§’çº¿ï¼Œé»˜è®¤éƒ½ä¸º`50%` |\n| `fx`,`fy`      | `0%`ç‚¹æ‰€å¤„çš„åœ†è·¯å¾„çš„åœ†å¿ƒï¼Œé»˜è®¤å’Œ`cx`,`cy`ä¸€æ ·                |\n| `spreadMethod` | `pad`,`repeat`,`reflect` ä¸‰ä¸ªå€¼ï¼Œç”¨æ¥è§£å†³ç»˜åˆ¶èŒƒå›´æ²¡æœ‰åˆ°è¾¾å›¾å½¢è¾¹ç¼˜çš„æƒ…å†µã€‚ |\n\n## ä¹ã€æ–‡æœ¬\n\n### 1. ç›¸å…³æœ¯è¯­\n\n| æœ¯è¯­                  | è¯´æ˜                                                         |\n| --------------------- | ------------------------------------------------------------ |\n| å­—ç¬¦                  | `XML`ä¸­ï¼Œå­—ç¬¦æ˜¯æŒ‡å¸¦æœ‰ä¸€ä¸ªæ•°å­—å€¼å¾—ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ï¼Œæ•°å­—å€¼ä¸`Unidode`æ ‡å‡†å¯¹åº” |\n| ç¬¦å·                  | å­—ç¬¦çš„è§†è§‰å‘ˆç°ã€‚æ¯ä¸ªå­—ç¬¦å¯ä»¥æœ‰å¤šç§è§†è§‰å‘ˆç°                   |\n| å­—ä½“                  | ä»£è¡¨æŸä¸ªå­—ç¬¦é›†åˆçš„ä¸€ç»„ç¬¦å·                                   |\n| åŸºçº¿                  | å­—ä½“ä¸­æ‰€æœ‰ç¬¦å·ä»¥åŸºçº¿å¯¹é½                                     |\n| ä¸Šå¡åº¦                | åŸºçº¿åˆ°å­—ä½“ä¸­æœ€é«˜å­—ç¬¦çš„é¡¶éƒ¨è·ç¦»                               |\n| ä¸‹å¡åº¦                | åŸºçº¿åˆ°æœ€æ·±å­—ç¬¦åº•éƒ¨çš„è·ç¦»                                     |\n| å¤§å†™å­—æ¯é«˜åº¦ã€`x`é«˜åº¦ | å¤§å†™å­—æ¯é«˜åº¦æ˜¯æŒ‡åŸºçº¿ä¸Šå¤§å†™å­—æ¯çš„é«˜åº¦ï¼Œ`x`é«˜åº¦æ˜¯åŸºçº¿åˆ°å°å†™å­—æ¯`x`é¡¶éƒ¨çš„é«˜åº¦ |\n\n### 2. æ–‡æœ¬å…ƒç´ çš„åŸºæœ¬å±æ€§\n\n`text` å…ƒç´ ä»¥æŒ‡å®šçš„xå’Œyå€¼ä½œä¸ºå…ƒç´ å†…å®¹ç¬¬ä¸€ä¸ªå­—ç¬¦çš„åŸºçº¿ä½ç½®ï¼Œé»˜è®¤æ ·å¼é»‘è‰²å¡«å……ã€æ²¡æœ‰è½®å»“ã€‚\n\n| å±æ€§              | è¯´æ˜                                                         |\n| ----------------- | ------------------------------------------------------------ |\n| `font-family`     | ä»¥ç©ºæ ¼åˆ†å‰²çš„ä¸€ç³»åˆ—å­—ä½“åç§°æˆ–é€šç”¨å­—ä½“åç§°                     |\n| `font-size`       | å¦‚æœæœ‰å¤šè¡Œæ–‡æœ¬ï¼Œåˆ™ `font-size` ä¸ºå¹³è¡Œçš„ä¸¤æ¡åŸºçº¿çš„è·ç¦»        |\n| `font-weight`     | ä¸¤ä¸ªå€¼ï¼š`bold`(ç²—ä½“)å’Œ`nromal`(é»˜è®¤)                         |\n| `font-style`      | å¸¸ç”¨çš„ä¸¤ä¸ªå€¼:`italic`(æ–œä½“)å’Œ`normal`                        |\n| `text-decoration` | å¯èƒ½çš„å€¼:`none`,`underline`(ä¸‹åˆ’çº¿),`overline`(ä¸Šåˆ’çº¿),`line-through`(åˆ é™¤çº¿) |\n| `word-spacing`    | å•è¯ä¹‹é—´çš„è·ç¦»                                               |\n| `letter-spacing`  | å­—æ¯ä¹‹é—´çš„é—´è·                                               |\n| `text-anchor`     | å¯¹é½æ–¹å¼ï¼š`start`,`middle`,`end`                             |\n| `textLength`      | è®¾ç½®æ–‡æœ¬çš„é•¿åº¦                                               |\n| `lengthAdjust`    | åœ¨æŒ‡å®šäº†`textLength`æ—¶ï¼Œå¯ä»¥é€šè¿‡`lengthAdjust`å±æ€§è®¾ç½®å­—ç¬¦çš„è°ƒæ•´æ–¹å¼ï¼Œå€¼ä¸º `spacing`(é»˜è®¤)æ—¶,åªè°ƒæ•´å­—ç¬¦çš„é—´è·ã€‚å½“å€¼ä¸º`spacingAndGlyphs`æ—¶ï¼ŒåŒæ—¶è°ƒæ•´å­—ç¬¦é—´è·å’Œå­—ç¬¦æœ¬èº«çš„å¤§å° |\n\n### 3. tspanå…ƒç´ \n\n`text` å…ƒç´ æ— æ³•å¯¹æ–‡æœ¬è¿›è¡Œæ¢è¡Œæ“ä½œï¼Œå¦‚æœéœ€è¦åˆ†è¡Œæ˜¾ç¤ºæ–‡æœ¬ï¼Œåˆ™éœ€è¦ä½¿ç”¨åœ¨textå…ƒç´ é‡ŒåµŒå…¥`tspan` å…ƒç´ ã€‚`tspan` å…ƒç´ ä¸`html`çš„`span`å…ƒç´ ç±»ä¼¼ï¼Œå¯ä»¥åµŒå¥—åœ¨æ–‡æœ¬å†…å®¹ä¸­ï¼Œå¹¶å¯ä»¥å•ç‹¬æ”¹å˜å…¶å†…éƒ¨æ–‡æœ¬å†…å®¹çš„æ ·å¼ã€‚\n\n`tspan`å…ƒç´ é™¤å¤§å°ï¼Œé¢œè‰²ç­‰è¡¨ç°æ ·å¼ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š\n\n| å±æ€§             | è¯´æ˜                                                         |\n| ---------------- | ------------------------------------------------------------ |\n| `dx`,`dy`        | `x`å’Œ`y`æ–¹å‘çš„åç§»                                           |\n| `x`,`y`          | å¯¹`tspan`è¿›è¡Œç»å¯¹å®šä½                                        |\n| `rotate`         | æ—‹è½¬å­—ç¬¦ï¼Œå¯ä»¥åŒæ—¶è®¾ç½®å¤šä¸ªå€¼ï¼Œè¿™äº›å€¼ä¼šä¾æ¬¡ä½œç”¨åœ¨`tspan`åŒ…è£¹çš„å­—æ¯ä¸Š |\n| `baseline-shift` | ä¸`dy`å±æ€§è®¾ç½®ä¸Šä¸‹æ ‡ç›¸æ¯”ï¼Œè¿™ä¸ªå±æ€§æ›´æ–¹ä¾¿ï¼Œå½“ä¸º`super`æ—¶ï¼Œä¼šä¸Šæ ‡ã€‚`sub` æ—¶ä¸ºä¸‹æ ‡ã€‚ä»…ä»…åœ¨æ‰€åœ¨çš„`tspan`å†…æœ‰æ•ˆ |\n\n### 4. çºµå‘æ–‡æœ¬\n\næ–‡æœ¬ä¸€èˆ¬ä»å·¦åˆ°å³æ’åˆ—ï¼Œå¦‚æœéœ€è¦ä¸Šä¸‹æ’åˆ—ï¼Œåˆ™éœ€è¦ä½¿ç”¨`writing-mode`å±æ€§ã€‚\n\nè®¾ç½®`writing-mode`å±æ€§å€¼ä¸º`tb`(top to bottom)ï¼Œå¯ä»¥å°†æ–‡æœ¬ä¸Šä¸‹æ’åˆ—ã€‚\n\n## 5. æ–‡æœ¬è·¯å¾„\n\nå¦‚æœè¦ä½¿å¾—æ–‡æœ¬æ²¿ç€æŸæ¡è·¯å¾„æ’åˆ—ï¼Œåˆ™éœ€è¦ä½¿ç”¨`textPath`å…ƒç´ ã€‚éœ€è¦å°†æ–‡æœ¬æ”¾åœ¨`textPath`å…ƒç´ å†…éƒ¨ï¼Œç„¶åä½¿ç”¨`textPath`å…ƒç´ çš„`xlink:href`å±æ€§å¼•ç”¨ä¸€ä¸ªå®šä¹‰å¥½çš„`path`å…ƒç´ ã€‚\n\n```xml\n<defs>\n\t<path id=\"path\" d=\"M30 40 C 50 10 ,70 10,120 40 S150 0,200 40\" style=\"fill:none;stroke:black\"></path>\n</defs>\n<g transform=\"translate(10,50)\">\n\t<path id=\"path\" d=\"M30 40 C 50 10 ,70 10,120 40 S150 0,200 40\" style=\"fill:none;stroke:black\"></path>\n\t<text>\n\t\t<textPath xlink:href=\"#path\">\n\t\t\thello world\n\t\t</textPath>\n\t</text>\n</g>\n<g transform=\"translate(10,100)\">\n\t<path id=\"path\" d=\"M30 40 C 50 10 ,70 10,120 40 S150 0,200 40\" style=\"fill:none;stroke:black\"></path>\n\t<text>\n\t\t<textPath xlink:href=\"#path\" startOffset=\"50%\" text-anchor=\"middle\">\n\t\t\thello world\n\t\t</textPath>\n\t</text>\n</g>\n```\n\n![img](http://cdn.d3js.org.cn/images/doc/svg/8.6.jpg)\n\n`startOffset`å±æ€§ç”¨æ¥æŒ‡å®šæ–‡æœ¬çš„èµ·ç‚¹ï¼Œå½“è®¾ç½®ä¸º`50%`ï¼Œå¹¶ä¸”è®¾ç½®`text-anchor`ä¸º`middle`æ—¶ï¼Œæ–‡æœ¬ä¼šè¢«å®šä¸ºåœ¨`path`çš„ä¸­é—´ã€‚","slug":"svg","published":1,"date":"2021-09-22T03:34:56.188Z","updated":"2021-10-12T03:01:44.120Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9ky000li02488sz67n4","content":"<h2 id=\"ä¸€ã€å…¥é—¨æŒ‡å—\"><a href=\"#ä¸€ã€å…¥é—¨æŒ‡å—\" class=\"headerlink\" title=\"ä¸€ã€å…¥é—¨æŒ‡å—\"></a>ä¸€ã€å…¥é—¨æŒ‡å—</h2><h3 id=\"1-å›¾å½¢ç³»ç»Ÿ\"><a href=\"#1-å›¾å½¢ç³»ç»Ÿ\" class=\"headerlink\" title=\"1. å›¾å½¢ç³»ç»Ÿ\"></a>1. å›¾å½¢ç³»ç»Ÿ</h3><p>è®¡ç®—æœºä¸­æè¿°å›¾å½¢ä¿¡æ¯çš„ä¸¤å¤§å›¾å½¢ç³»ç»Ÿï¼šæ …æ ¼å›¾å½¢å’ŒçŸ¢é‡å›¾å½¢ã€‚æ …æ ¼å›¾å½¢ä¸­å›¾å½¢è¢«è¡¨ç¤ºä¸ºå›¾ç‰‡å…ƒç´ æˆ–è€…åƒç´ çš„é•¿æ–¹å½¢æ•°ç»„ã€‚çŸ¢é‡å›¾å½¢ä¸­å›¾å½¢è¢«æè¿°ä¸ºä¸€ç³»åˆ—å‡ ä½•å½¢çŠ¶ï¼Œé€šè¿‡çŸ¢é‡å›¾å½¢é˜…è¯»å™¨åœ¨æŒ‡å®šçš„åæ ‡é›†ä¸Šç»˜åˆ¶å½¢çŠ¶ã€‚</p>\n<h3 id=\"2-SVG-Scalable-Vector-Graphics\"><a href=\"#2-SVG-Scalable-Vector-Graphics\" class=\"headerlink\" title=\"2. SVG(Scalable Vector Graphics)\"></a>2. SVG(Scalable Vector Graphics)</h3><p>SVG<code>æ˜¯ä¸€ç§</code>XML<code>åº”ç”¨ï¼Œç”¨æ¥è¡¨ç¤ºçŸ¢é‡å›¾å½¢ã€‚æ‰€æœ‰çš„å›¾å½¢æœ‰å…³ä¿¡æ¯è¢«å­˜å‚¨ä¸ºçº¯æ–‡æœ¬ï¼Œå…·æœ‰XMLçš„å¼€æ”¾æ€§ã€å¯ç§»æ¤æ€§å’Œå¯äº¤äº’æ€§ã€‚å½“å‰ç¨³å®šçš„</code>XML<code>å’Œ</code>SVG<code>ç‰ˆæœ¬éƒ½ä¸º</code>1.1</p>\n<p>SVGæ–‡æ¡£ç»“æ„æ˜¯æ ‡å‡†çš„ <code>XML</code> æ–‡æ¡£ï¼Œæ ¹å…ƒç´  <code>svg</code> å®šä¹‰å›¾å½¢çš„å¤§å°ï¼Œæ ¹å…ƒç´ ä¸­åŒ…å«å„ç§çš„å½¢çŠ¶å…ƒç´ ã€‚<code>SVG</code> å…è®¸ä½¿ç”¨å•ç‹¬çš„å±æ€§æŒ‡å®šå…ƒç´ çš„æ ·å¼ã€‚</p>\n<p><code>SVG</code> ä½¿ç”¨ <code>g</code> å…ƒç´ å¯¹å›¾å½¢è¿›è¡Œåˆ†ç»„ï¼Œä½¿ç”¨ <code>use</code> å…ƒç´ å®ç°å…ƒç´ çš„å¤ç”¨ã€‚</p>\n<h2 id=\"äºŒã€åœ¨ç½‘é¡µä¸­ä½¿ç”¨\"><a href=\"#äºŒã€åœ¨ç½‘é¡µä¸­ä½¿ç”¨\" class=\"headerlink\" title=\"äºŒã€åœ¨ç½‘é¡µä¸­ä½¿ç”¨\"></a>äºŒã€åœ¨ç½‘é¡µä¸­ä½¿ç”¨</h2><h3 id=\"1-å°†SVGä½œä¸ºå›¾åƒ\"><a href=\"#1-å°†SVGä½œä¸ºå›¾åƒ\" class=\"headerlink\" title=\"1. å°†SVGä½œä¸ºå›¾åƒ\"></a>1. å°†SVGä½œä¸ºå›¾åƒ</h3><p>å°† <code>svg</code> ä½œä¸ºå›¾åƒåŒ…å«åœ¨HTMLæ ‡è®°çš„ <code>img</code> å…ƒç´ å†…ï¼Œä½†æ˜¯è¿™æ ·æœ‰ä¸€å®šçš„å±€é™æ€§ï¼š</p>\n<p><strong><code>SVG</code>è½¬ä¸ºæ …æ ¼å›¾åƒæ—¶ä¸ä¸»é¡µé¢åˆ†ç¦»ï¼Œå¹¶ä¸”æ— æ³•åœ¨ä¸¤è€…ä¹‹é—´é€šä¿¡( <code>SVG</code> æ¸²æŸ“è¿‡ç¨‹ä¸ä¸»é¡µé¢ç‹¬ç«‹)ã€‚ä¸»é¡µé¢ä¸Šçš„æ ·å¼å¯¹ <code>SVG</code> æ— æ•ˆï¼Œè¿è¡Œåœ¨ä¸»é¡µé¢ä¸Šçš„è„šæœ¬æ— æ³•æ„ŸçŸ¥æˆ–è€…ä¿®æ”¹ <code>SVG</code> æ–‡æ¡£ç»“æ„ã€‚</strong></p>\n<p>åœ¨ <code>CSS</code> ä¸­åŒ…å« <code>SVG</code>ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ <code>background-image</code> å±æ€§ï¼Œåº”è¯¥é¿å… <code>SVG</code> å…ƒç´ æ–‡ä»¶å¤ªå¤§ã€‚</p>\n<h3 id=\"2-å°†SVGä½œä¸ºåº”ç”¨ç¨‹åº\"><a href=\"#2-å°†SVGä½œä¸ºåº”ç”¨ç¨‹åº\" class=\"headerlink\" title=\"2. å°†SVGä½œä¸ºåº”ç”¨ç¨‹åº\"></a>2. å°†SVGä½œä¸ºåº”ç”¨ç¨‹åº</h3><p>ä½¿ç”¨ <code>object</code> å…ƒç´ å°† <code>SVG</code> åµŒå…¥ <code>HTML</code> æ–‡æ¡£ä¸­ï¼Œ<code>object</code>å…ƒç´ çš„ <code>type</code> å±æ€§è¡¨ç¤ºè¦åµŒå…¥çš„æ–‡æ¡£ç±»å‹ï¼Œå¯¹ç”¨ <code>SVG</code> åº”è¯¥æ˜¯<code>type=&quot;image/svg+xml&quot;</code>ã€‚<code>object</code> å…ƒç´ å¿…é¡»æœ‰èµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ï¼Œè¿™ä¸¤ä¸ªæ ‡ç­¾ä¹‹é—´çš„å†…å®¹ä¸ºå¯¹è±¡æ•°æ®æœ¬èº«ä¸èƒ½è¢«æ¸²æŸ“æ—¶æ˜¾ç¤ºã€‚</p>\n<h2 id=\"ä¸‰ã€åæ ‡ç³»ç»Ÿ\"><a href=\"#ä¸‰ã€åæ ‡ç³»ç»Ÿ\" class=\"headerlink\" title=\"ä¸‰ã€åæ ‡ç³»ç»Ÿ\"></a>ä¸‰ã€åæ ‡ç³»ç»Ÿ</h2><h3 id=\"1-è§†å£\"><a href=\"#1-è§†å£\" class=\"headerlink\" title=\"1. è§†å£\"></a>1. è§†å£</h3><p>è§†å£æ˜¯æŒ‡æ–‡æ¡£æ‰“ç®—ä½¿ç”¨çš„ç”»å¸ƒåŒºåŸŸã€‚åœ¨ <code>svg</code> å…ƒç´ ä¸Šä½¿ç”¨ <code>width</code> å’Œ <code>height</code> å±æ€§ç¡®å®šè§†å£çš„å¤§å°ï¼Œå±æ€§å€¼å¯ä»¥ä»…ä»…æ˜¯ä¸ºæ•°å­—ä¹Ÿå¯ä»¥ä¸ºå¸¦å•ä½çš„æ•°å­—(å•ä½å¯ä»¥ä¸º<code>em</code>ã€<code>ex</code>ã€<code>px</code>ã€<code>pt</code>ã€<code>pc</code>ã€<code>cm</code>ã€<code>mm</code> å’Œ <code>in</code>)ä¹Ÿå¯ä»¥ä¸ºç™¾åˆ†æ¯”ã€‚</p>\n<h3 id=\"2-é»˜è®¤ç”¨æˆ·åæ ‡\"><a href=\"#2-é»˜è®¤ç”¨æˆ·åæ ‡\" class=\"headerlink\" title=\"2. é»˜è®¤ç”¨æˆ·åæ ‡\"></a>2. é»˜è®¤ç”¨æˆ·åæ ‡</h3><p><code>SVG</code> é˜…è¯»å™¨ä¼šè®¾ç½®ä¸€ä¸ªåæ ‡ç³»ç»Ÿï¼Œå³åŸç‚¹ <code>(0,0)</code> ä½äºè§†å£çš„å·¦ä¸Šè§’ï¼Œ<code>x</code> å‘å³é€’å¢ï¼Œ<code>y</code> å‘ä¸‹é€’å¢ã€‚è¿™ä¸ªåæ ‡ç³»ç»Ÿæ˜¯ä¸€ä¸ªçº¯ç²¹çš„å‡ ä½•ç³»ç»Ÿï¼Œç‚¹æ²¡æœ‰å¤§å°ï¼Œç½‘æ ¼çº¿è¢«è®¤ä¸ºæ˜¯æ— é™ç»†ã€‚</p>\n<p>åœ¨ <code>SVG</code> ä¸­æŒ‡å®šå•ä½å¹¶ä¸ä¼šå½±å“å…¶ä»–å…ƒç´ ä¸­ç»™å®šå•ä½çš„åæ ‡ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>SVG</code> æ–‡æ¡£ä¸­å„ä¸ªå…ƒç´ çš„å•ä½å¯ä»¥ä¸ç»Ÿä¸€ã€‚</p>\n<h3 id=\"3-æŒ‡å®šç”¨æˆ·åæ ‡\"><a href=\"#3-æŒ‡å®šç”¨æˆ·åæ ‡\" class=\"headerlink\" title=\"3. æŒ‡å®šç”¨æˆ·åæ ‡\"></a>3. æŒ‡å®šç”¨æˆ·åæ ‡</h3><p>æ‘’å¼ƒé˜…è¯»å™¨è®¾ç½®çš„é»˜è®¤ç”¨æˆ·åæ ‡ï¼Œå¯ä»¥è‡ªå·±ä¸ºè§†å£è®¾ç½®ä¸€ä¸ªç”¨æˆ·åæ ‡ã€‚é€šè¿‡åœ¨ <code>svg</code> å…ƒç´ ä¸Šè®¾ç½® <code>viewBox</code> å±æ€§ã€‚</p>\n<p><code>viewBox</code> å±æ€§ç”± <code>4</code> ä¸ªæ•°å€¼ç»„æˆï¼Œåˆ†åˆ«ä»£è¡¨è¦å åŠ åœ¨è§†å£ä¸Šçš„æœ€å° <code>x</code>ã€æœ€å° <code>y</code>ï¼Œå®½åº¦ã€é«˜åº¦ã€‚</p>\n<p>æ—¢ç„¶å¯ä»¥å¯¹ <code>svg</code> è‡ªå®šä¹‰ç”¨æˆ·åæ ‡ï¼Œé‚£ä¹ˆè‚¯å®šè¦è§£å†³ <code>svg</code> è§†å£é•¿å®½æ¯”ä¾‹å’Œ <code>viewBox</code> å®šä¹‰çš„é•¿å®½æ¯”ä¾‹ä¸åŒçš„é—®é¢˜ä»¥åŠå¦‚ä½•å¯¹é½é—®é¢˜ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ <code>preserveAspectRatio</code> å±æ€§äº†ã€‚</p>\n<p>å¦‚æœ <code>viewBox</code> çš„é•¿å®½æ¯”ä¾‹ä¸è§†å£çš„é•¿å®½æ¯”ä¾‹ä¸åŒï¼Œé‚£ä¹ˆ <code>svg</code> å¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ç§é€‰æ‹©ï¼š</p>\n<ul>\n<li>æŒ‰è¾ƒå°çš„å°ºå¯¸ç­‰æ¯”ä¾‹ç¼©æ”¾å›¾å½¢ï¼Œä½¿å›¾å½¢å®Œå…¨å¡«å……è§†å£</li>\n<li>æŒ‰è¾ƒå¤§çš„å°ºå¯¸ç­‰æ¯”ä¾‹ç¼©æ”¾å›¾å½¢ï¼Œç—…è£å‡æ‰è¶…å‡ºè§†å£çš„éƒ¨åˆ†</li>\n<li>æ‹‰ä¼¸å’Œå‹ç¼©ç»˜å›¾ä»¥ä½¿å…¶æ°å¥½å¡«å……è§†å£</li>\n</ul>\n<figure class=\"highlight autohotkey\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs autohotkey\">preserveAspectRatio` å±æ€§å…è®¸æŒ‡å®šè¢«ç¼©æ”¾çš„å›¾å½¢ç›¸å¯¹è§†å£çš„å¯¹é½æ–¹å¼,æ ¼å¼ä¸º `preserveAspectRatio = <span class=\"hljs-string\">&quot;alignment[meet|slice]&quot;</span><br></code></pre></td></tr></table></figure>\n\n<p>é»˜è®¤å€¼ä¸º <code>&quot;xMidYMid meet&quot;</code></p>\n<p><code>alignment</code>æŒ‡å®šè½´å’Œä½ç½®ï¼Œ<code>x</code> å’Œ <code>y</code> æ–¹å‘éƒ½æœ‰ <code>min</code>, <code>mid</code>, <code>max</code> ä¸‰ç§æ–¹å¼ï¼Œåˆ†åˆ«è¡¨ç¤º <code>x</code> å’Œ <code>y</code> æ–¹å‘çš„å¯¹é½æ–¹å¼ï¼Œå¯¹é½æ–¹å¼ç”± <code>x</code> å’Œ <code>y</code> ç»„åˆæŒ‡å®šï¼Œå…± <code>9</code> ä¸­æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ <code>alignment</code> å…±æœ‰å¦‚ä¸‹ <code>9</code> ä¸ªå–å€¼ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>y\\x</th>\n<th>xMin</th>\n<th>xMid</th>\n<th>xMax</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>yMin</strong></td>\n<td>xMinYMin</td>\n<td>xMidYMin</td>\n<td>xMaxYMin</td>\n</tr>\n<tr>\n<td><strong>yMid</strong></td>\n<td>xMinYMid</td>\n<td>xMidYMid</td>\n<td>xMaxYMid</td>\n</tr>\n<tr>\n<td><strong>yMax</strong></td>\n<td>xMinYMax</td>\n<td>xMidYMax</td>\n<td>xMaxYMax</td>\n</tr>\n</tbody></table>\n<p><code>meet</code> è¯´æ˜ç¬¦åœ¨å›¾å½¢è¶…å‡ºè§†å£æ—¶å€™ä¼šå¯¹å›¾å½¢é€‚å½“ç¼©å°è°ƒæ•´é€‚é…å¯ç”¨çš„ç©ºé—´</p>\n<p><code>slice</code> è¯´æ˜ç¬¦ç›´æ¥è£å‰ªè¶…å‡ºè§†å£çš„éƒ¨åˆ†</p>\n<p>é™¤äº†ä¸Šè¿°æ“ä½œä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®š <code>preserveAspectRatio=&quot;none&quot;</code>ï¼Œç”¨äºåœ¨ <code>viewBox</code> å’Œè§†å£å®½é«˜æ¯”ä¸åŒæ—¶ç¼©æ”¾å›¾åƒï¼Œæ­¤æ—¶å›¾åƒä¸ä¼šè¢«ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œä¼šè¢«æ‹‰ä¼¸ã€æŒ¤å‹ã€å˜å½¢ã€‚</p>\n<h3 id=\"4-åµŒå¥—åæ ‡ç³»ç»Ÿ\"><a href=\"#4-åµŒå¥—åæ ‡ç³»ç»Ÿ\" class=\"headerlink\" title=\"4. åµŒå¥—åæ ‡ç³»ç»Ÿ\"></a>4. åµŒå¥—åæ ‡ç³»ç»Ÿ</h3><p>å¯ä»¥å°†å¦ä¸€ä¸ª <code>svg</code> å…ƒç´ æ’å…¥åˆ°æ–‡æ¡£ä¸­æ¥å»ºç«‹ä¸€ä¸ªæ–°çš„è§†å£å’Œåæ ‡ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ <code>svg</code> ä¸­å¯ä»¥åµŒå¥—å¦ä¸€ä¸ª <code>svg</code>ï¼Œæ¯ä¸ª <code>svg</code> éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„è§†å£å’Œåæ ‡ç³»ç»Ÿ</p>\n<h2 id=\"å››ã€åŸºæœ¬å½¢çŠ¶\"><a href=\"#å››ã€åŸºæœ¬å½¢çŠ¶\" class=\"headerlink\" title=\"å››ã€åŸºæœ¬å½¢çŠ¶\"></a>å››ã€åŸºæœ¬å½¢çŠ¶</h2><h3 id=\"1-çº¿æ®µ\"><a href=\"#1-çº¿æ®µ\" class=\"headerlink\" title=\"1. çº¿æ®µ\"></a>1. çº¿æ®µ</h3><p><code>line</code> å…ƒç´ ï¼Œä½¿ç”¨ <code>x1</code>, <code>y1</code>, <code>x2</code>, <code>y2</code> å±æ€§æŒ‡å®šçº¿æ®µçš„èµ·æ­¢ç‚¹åæ ‡ã€‚æœ‰å¦‚ä¸‹ç‰¹æ€§:</p>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>stroke-width</code></td>\n<td>ç¬”ç”»å®½åº¦ï¼Œåæ ‡ç½‘æ ¼çº¿ä½äºç¬”ç”»çš„æ­£ä¸­é—´ï¼Œå¯ä»¥ä½¿ç”¨ <code>css</code> çš„ <code>shape-rendering</code> å€¼æ¥æ§åˆ¶åé”¯é½¿ç‰¹æ€§</td>\n</tr>\n<tr>\n<td><code>stroke</code></td>\n<td>ç¬”ç”»é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stroke-opacity</code></td>\n<td>çº¿æ¡çš„ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>stroke-dasharray</code></td>\n<td>è™šçº¿ï¼Œç”±ä¸€ç³»åˆ—æ•°å­—ç»„æˆï¼Œæ•°å­—ä¸ªæ•°ä¸ºå¶æ•°(è´Ÿè´£ä¼šè‡ªåŠ¨é‡å¤ä¸€éä½¿å…¶ä¸ºå¶æ•°),è¡¨ç¤ºçº¿é•¿-é—´éš™-çº¿é•¿-é—´éš™â€¦</td>\n</tr>\n</tbody></table>\n<h3 id=\"2-çŸ©å½¢\"><a href=\"#2-çŸ©å½¢\" class=\"headerlink\" title=\"2. çŸ©å½¢\"></a>2. çŸ©å½¢</h3><p><code>rect</code>å…ƒç´ ï¼Œä½¿ç”¨<code>x</code>,<code>y</code>,<code>width</code>,<code>height</code>è¡¨ç¤ºä¸€ä¸ªçŸ©å½¢</p>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>fill</code></td>\n<td>å¡«å……é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>fill-opacity</code></td>\n<td>å¡«å……ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>stroke</code></td>\n<td>è¾¹æ¡†é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stroke-width</code></td>\n<td>è¾¹æ¡†å®½åº¦ï¼Œè¾¹æ¡†æ˜¯éª‘åœ¨çŸ©å½¢è¾¹ç•Œä¸Šçš„ï¼Œä¸€åŠåœ¨çŸ©å½¢å¤–ï¼Œä¸€åŠåœ¨çŸ©å½¢å†…</td>\n</tr>\n<tr>\n<td><code>rx</code>/<code>ry</code></td>\n<td>åœ†è§’çŸ©å½¢ï¼Œæœ€å¤§å€¼ä¸ºçŸ©å½¢å®½/é«˜çš„ä¸€åŠï¼Œå¦‚æœåªæŒ‡å®šäº†ä¸€ä¸ªï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªéƒ½ä¸ºç›¸åŒçš„å€¼</td>\n</tr>\n</tbody></table>\n<h3 id=\"3-åœ†å’Œæ¤­åœ†\"><a href=\"#3-åœ†å’Œæ¤­åœ†\" class=\"headerlink\" title=\"3. åœ†å’Œæ¤­åœ†\"></a>3. åœ†å’Œæ¤­åœ†</h3><p><code>circle</code> å…ƒç´ è¡¨ç¤ºåœ†,ç”± <code>cx</code>,<code>cy</code>,<code>r</code> å±æ€§ç•Œå®š <code>ellipse</code> å…ƒç´ è¡¨ç¤ºæ¤­åœ†,ç”± <code>cx</code>,<code>cy</code>,<code>rx</code>,<code>ry</code> ç•Œå®š</p>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>fill</code></td>\n<td>å¡«å……é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>fill-opacity</code></td>\n<td>å¡«å……ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>stroke</code></td>\n<td>è¾¹æ¡†é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stroke-width</code></td>\n<td>è¾¹æ¡†å®½åº¦ï¼Œè¾¹æ¡†æ˜¯éª‘åœ¨åœ†çš„è¾¹ç•Œä¸Šçš„ï¼Œä¸€åŠåœ¨åœ†/æ¤­åœ†å¤–ï¼Œä¸€åŠåœ¨åœ†/æ¤­åœ†å†…</td>\n</tr>\n</tbody></table>\n<h3 id=\"4-å¤šè¾¹å½¢\"><a href=\"#4-å¤šè¾¹å½¢\" class=\"headerlink\" title=\"4. å¤šè¾¹å½¢\"></a>4. å¤šè¾¹å½¢</h3><p><code>polygon</code> å…ƒç´ æŒ‡å®šä¸€ä¸ªå¤šè¾¹å½¢,ç”± <code>points</code> å±æ€§æŒ‡å®šçš„ä¸€ç³»åˆ—åæ ‡ç‚¹ç•Œå®šï¼Œä¼šè‡ªåŠ¨å°é—­</p>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>fill</code></td>\n<td>å¡«å……é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>fill-opacity</code></td>\n<td>å¡«å……ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>stroke</code></td>\n<td>è¾¹æ¡†é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stroke-width</code></td>\n<td>è¾¹æ¡†å®½åº¦</td>\n</tr>\n<tr>\n<td><code>fill-rule</code></td>\n<td>å¡«å……è§„åˆ™ï¼Œå¦‚æœå¤šè¾¹å½¢çš„è¾¹æœ‰äº¤å‰æ—¶ï¼Œéœ€è¦æŒ‡å®šï¼Œå¯ä»¥å– <code>mozero</code>(é»˜è®¤)å’Œ <code>evenodd</code> ä¸¤ä¸ªå€¼ã€‚</td>\n</tr>\n</tbody></table>\n<p><code>fill-rule</code> å€¼ä¸º <code>nonzero</code> æ—¶çš„åŸç†:åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯åœ¨å¤šè¾¹å½¢å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨æ—¶ï¼Œä»è¿™ä¸ªç‚¹ç”»ä¸€æ¡åˆ°æ— ç©·è¿œçš„å°„çº¿ï¼Œç„¶åæ•°è¿™ä¸ªçº¿å’Œå¤šè¾¹å½¢çš„è¾¹æœ‰å¤šå°‘æ¬¡äº¤å‰ã€‚å¦‚æœäº¤å‰çš„è¾¹çº¿æ˜¯ä»å³å¾€å·¦ç”»ï¼Œåˆ™æ€»æ•°åŠ  <code>1</code>ï¼Œå¦‚æœæ˜¯ä»å·¦å¾€å³åˆ™æ€»æ•°å‡ <code>1</code>. å¦‚æœæœ€åæ€»æ•°ä¸º <code>0</code> åˆ™è®¤ä¸ºæ”¹ç‚¹åœ¨å›¾å½¢å¤–éƒ¨ï¼Œå¦åˆ™åœ¨å†…éƒ¨ã€‚</p>\n<p><code>fill-rule</code> å€¼ä¸º <code>evenodd</code> æ—¶åªæ•°å°„çº¿ä¸å¤šè¾¹å½¢è¾¹çš„äº¤å‰æ¬¡æ•°ï¼Œå¦‚æœä¸ºå¥‡æ•°åˆ™è®¤ä¸ºåœ¨å¤šè¾¹å½¢å†…éƒ¨ï¼Œå¦åˆ™è®¤ä¸ºåœ¨å¤šè¾¹å½¢å¤–éƒ¨ã€‚</p>\n<h3 id=\"5-æŠ˜çº¿\"><a href=\"#5-æŠ˜çº¿\" class=\"headerlink\" title=\"5. æŠ˜çº¿\"></a>5. æŠ˜çº¿</h3><p><code>polyline</code> å…ƒç´ è¡¨ç¤ºä¸€ä¸ªæŠ˜çº¿ï¼Œä½¿ç”¨ <code>points</code> å±æ€§æŒ‡å®šä¸€ç³»åˆ—ç‚¹ï¼Œä¸è‡ªåŠ¨å°é—­å›¾å½¢ã€‚</p>\n<h3 id=\"6-ç‰¹æ€§æ€»ç»“\"><a href=\"#6-ç‰¹æ€§æ€»ç»“\" class=\"headerlink\" title=\"6. ç‰¹æ€§æ€»ç»“\"></a>6. ç‰¹æ€§æ€»ç»“</h3><table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>stroke</code></td>\n<td>ç¬”ç”»é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stroke-width</code></td>\n<td>ç¬”ç”»å®½åº¦</td>\n</tr>\n<tr>\n<td><code>stroke-opacity</code></td>\n<td>ç¬”ç”»ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>stroke-dasharray</code></td>\n<td>è™šçº¿ç¬”ç”»</td>\n</tr>\n<tr>\n<td><code>stroke-linecap</code></td>\n<td>ç¬”ç”»å¤´çš„å½¢çŠ¶ <code>butt</code>(é»˜è®¤),<code>round</code>,<code>square</code></td>\n</tr>\n<tr>\n<td><code>stroke-linejoin</code></td>\n<td>å›¾å½¢æ£±è§’ï¼Œæœ‰<code>miter</code>(é»˜è®¤),<code>round</code>å’Œ<code>bevel</code>ä¸‰ä¸ªå–å€¼</td>\n</tr>\n<tr>\n<td><code>stroke-miterlimit</code></td>\n<td>ç›¸äº¤å¤„æ˜¾ç¤ºå®½åº¦ä¸çº¿å®½çš„æœ€å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º<code>4</code></td>\n</tr>\n<tr>\n<td><code>fill</code></td>\n<td>å¡«å……é¢œè‰² é»˜è®¤<code>black</code></td>\n</tr>\n<tr>\n<td><code>fill-opacity</code></td>\n<td>å¡«å……ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>fill-rule</code></td>\n<td>å¡«å……è§„åˆ™</td>\n</tr>\n</tbody></table>\n<h2 id=\"äº”ã€æ–‡æ¡£ç»“æ„\"><a href=\"#äº”ã€æ–‡æ¡£ç»“æ„\" class=\"headerlink\" title=\"äº”ã€æ–‡æ¡£ç»“æ„\"></a>äº”ã€æ–‡æ¡£ç»“æ„</h2><h3 id=\"1-ç»“æ„å’Œè¡¨ç°\"><a href=\"#1-ç»“æ„å’Œè¡¨ç°\" class=\"headerlink\" title=\"1. ç»“æ„å’Œè¡¨ç°\"></a>1. ç»“æ„å’Œè¡¨ç°</h3><p><code>SVG</code> å…è®¸æ–‡æ¡£è¡¨ç°å’Œæ–‡æ¡£ç»“æ„åˆ†ç¦»ï¼Œ<code>SVG</code> æ”¯æŒå››ç§æ–¹å¼æŒ‡å®šè¡¨ç°ä¿¡æ¯ï¼šå†…è”æ ·å¼ã€å†…éƒ¨æ ·å¼è¡¨ã€å¤–éƒ¨æ ·å¼è¡¨ä»¥åŠè¡¨ç°å±æ€§</p>\n<table>\n<thead>\n<tr>\n<th>è¡¨ç°æ–¹å¼</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>å†…è”æ ·å¼</td>\n<td>å…ƒç´ å†…éƒ¨ä½¿ç”¨ <code>style</code> å±æ€§</td>\n</tr>\n<tr>\n<td>å†…éƒ¨æ ·å¼è¡¨</td>\n<td>å†…éƒ¨æ ·å¼å®šä¹‰åœ¨ <code>defs</code> å…ƒç´ å†…éƒ¨</td>\n</tr>\n<tr>\n<td>å¤–éƒ¨æ ·å¼è¡¨</td>\n<td>ä¸ <code>html</code> ç±»ä¼¼ï¼Œå°†æ ·å¼å®šä¹‰åœ¨ <code>css</code> æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨é€‰æ‹©å™¨æ¥è®¾ç½®ç›¸åº”çš„å…ƒç´ æ ·å¼</td>\n</tr>\n<tr>\n<td>è¡¨ç°å±æ€§</td>\n<td><code>SVG</code> å…è®¸ä»¥å±æ€§çš„å½¢å¼æŒ‡å®šè¡¨ç°æ ·å¼ï¼Œä½†æ˜¯<strong>è¡¨ç°å±æ€§çš„ä¼˜å…ˆçº§æœ€ä½</strong>ï¼Œå¦‚æœä»¥å…¶ä»–ä¸‰ç§å½¢å¼æŒ‡å®šäº†ç›¸åŒçš„æ ·å¼å±æ€§ï¼Œåˆ™å°†è¦†ç›–é€šè¿‡è¡¨ç°å±æ€§æŒ‡å®šçš„æ ·å¼</td>\n</tr>\n</tbody></table>\n<p>å†…éƒ¨æ ·å¼è¡¨ç¤ºä¾‹ï¼š</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">svg</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;200px&quot;</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">&quot;200px&quot;</span> <span class=\"hljs-attr\">xmlns</span>=<span class=\"hljs-string\">&quot;http://www.w3.org/2000/svg&gt;</span></span><br><span class=\"hljs-string\"><span class=\"hljs-tag\">    &lt;defs&gt;</span></span><br><span class=\"hljs-string\"><span class=\"hljs-tag\">        &lt;style type=&quot;</span><span class=\"hljs-attr\">text</span>/<span class=\"hljs-attr\">css</span>&quot;&gt;</span>&lt;![CDATA[<br>            circle&#123;<br>                fill:#ccc<br>            &#125;<br>        ]]&gt;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">style</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">defs</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">circle</span> <span class=\"hljs-attr\">cx</span>=<span class=\"hljs-string\">&quot;10&quot;</span> <span class=\"hljs-attr\">cy</span>=<span class=\"hljs-string\">&quot;10&quot;</span> <span class=\"hljs-attr\">r</span>=<span class=\"hljs-string\">&quot;5&quot;</span>/&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">svg</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-åˆ†ç»„å’Œå¼•ç”¨\"><a href=\"#2-åˆ†ç»„å’Œå¼•ç”¨\" class=\"headerlink\" title=\"2. åˆ†ç»„å’Œå¼•ç”¨\"></a>2. åˆ†ç»„å’Œå¼•ç”¨</h3><p><code>g</code> å…ƒç´ ç”¨æ¥å°†å…¶å­å…ƒç´ ä½œä¸ºä¸€ä¸ªç»„åˆï¼Œå¯ä»¥ä½¿æ–‡æ¡£ç»“æ„æ›´æ¸…æ™°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨gæ ‡ç­¾ä¸­æŒ‡å®šçš„æ‰€æœ‰æ ·å¼ä¼šåº”ç”¨äºç»„åˆå†…çš„æ‰€æœ‰å­å…ƒç´ ï¼Œå¯ä»¥ä¸ç”¨åœ¨æ‰€æœ‰å­å…ƒç´ ä¸ŠæŒ‡å®šå±æ€§ã€‚</p>\n<p><code>use</code> å…ƒç´ ç”¨æ¥å¤ç”¨å›¾å½¢ä¸­é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œéœ€è¦ä¸º <code>use</code> æ ‡ç­¾çš„ <code>xlink:href</code> æŒ‡å®š <code>URI</code> æ¥å¼•ç”¨æŒ‡å®šçš„å›¾å½¢å…ƒç´ ã€‚åŒæ—¶è¿˜è¦æŒ‡å®š<code>x</code>å’Œ<code>y</code>å±æ€§ä»¥è¡¨ç¤ºç»„åˆåº”è¯¥ç§»åŠ¨åˆ°å“ªä¸ªä½ç½®ã€‚<code>use</code>å…ƒç´ å¹¶ä¸é™åˆ¶åªèƒ½ä½¿ç”¨åŒä¸€ä¸ªæ–‡ä»¶å†…çš„å¯¹è±¡ï¼Œ<code>xlink:href</code>å±æ€§å¯ä»¥æŒ‡å®šä»»ä½•æœ‰æ•ˆçš„æ–‡ä»¶æˆ–<code>URI</code>ã€‚</p>\n<p><code>defs</code>å…ƒç´ ç”¨æ¥å®šä¹‰å¤ç”¨çš„å…ƒç´ ï¼Œä½†æ˜¯å®šä¹‰åœ¨<code>defs</code>å†…çš„å…ƒç´ å¹¶ä¸ä¼šè¢«æ˜¾ç¤ºï¼Œè€Œæ˜¯ä½œä¸ºæ¨¡æ¿ä¾›å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚</p>\n<p><code>symbol</code>å…ƒç´ ä¸gå…ƒç´ ä¸åŒï¼Œ<code>symbol</code>æ°¸è¿œä¸ä¼šè¢«æ˜¾ç¤ºï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æŒ‡å®šè¢«åç»­ä½¿ç”¨çš„å…ƒç´ ï¼Œ<code>symbol</code>å…ƒç´ å¯ä»¥æŒ‡å®š <code>viewBox</code> å’Œ<code>preserveAspectRatio</code> å±æ€§ã€‚åœ¨å¼•ç”¨æ—¶é€šè¿‡ä¸º <code>use</code> å…ƒç´ æŒ‡å®š <code>width</code> å’Œ <code>height</code> å±æ€§å°±å¯ä»¥è®© <code>symbol</code> å…ƒç´ é€‚é…è§†å£å¤§å°ã€‚</p>\n<p><code>image</code> å¯ä»¥ç”¨æ¥åŒ…å«ä¸€ä¸ªå®Œæ•´çš„ <code>SVG</code> æˆ–æ …æ ¼æ–‡ä»¶ã€‚å¦‚æœåŒ…å«ä¸€ä¸ª <code>SVG</code> æ–‡ä»¶ï¼Œåˆ™è§†å£ä¼šåŸºäºå¼•ç”¨çš„æ–‡ä»¶çš„ <code>x</code>,<code>y</code>,<code>width</code>,<code>height</code> å±æ€§æ¥å»ºç«‹ã€‚å¦‚æœåŒ…å«æ …æ ¼æ–‡ä»¶åˆ™ä¼šè¢«ç¼©æ”¾ä»¥é€‚é…è¯¥å±æ€§æŒ‡å®šçš„çŸ©å½¢ã€‚</p>\n<p><code>SVG</code>è§„èŒƒè¦æ±‚ <code>SVG</code> é˜…è¯»å™¨æ”¯æŒ <code>JPEG</code> å’Œ <code>PNG</code> ä¸¤ç§æ …æ ¼æ–‡ä»¶ã€‚</p>\n<h2 id=\"å…­ã€åæ ‡ç³»ç»Ÿå˜æ¢\"><a href=\"#å…­ã€åæ ‡ç³»ç»Ÿå˜æ¢\" class=\"headerlink\" title=\"å…­ã€åæ ‡ç³»ç»Ÿå˜æ¢\"></a>å…­ã€åæ ‡ç³»ç»Ÿå˜æ¢</h2><h3 id=\"1-translateå˜æ¢\"><a href=\"#1-translateå˜æ¢\" class=\"headerlink\" title=\"1. translateå˜æ¢\"></a>1. translateå˜æ¢</h3><p><code>translate</code> å˜æ¢ç”¨æ¥å¯¹ç”¨æˆ·åæ ‡è¿›è¡Œå¹³ç§»ï¼Œé€šè¿‡åˆ¶å®š <code>transform</code> å±æ€§å€¼æ¥è®¾ç½®: <code>transform = &quot;translate(x,y)&quot;</code>ã€‚</p>\n<p><code>translate</code> å·¥ä½œåŸç†:é¦–å…ˆè·å–æ•´ä¸ªç½‘ç»œï¼Œç„¶åå°†å…¶ç§»åŠ¨åˆ°ç”»å¸ƒçš„æ–°ä½ç½®è€Œä¸æ˜¯ç§»åŠ¨æ‰€åœ¨çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´ç§»åŠ¨çš„æ˜¯æ•´ä¸ªåæ ‡ç³»ç»Ÿè€Œä¸æ˜¯å…ƒç´ æœ¬èº«ã€‚çœ‹ä¼¼æ¯”ç§»åŠ¨å…ƒç´ å¤æ‚ï¼Œå…¶å®åœ¨ä½¿ç”¨å…¶ä»–ä¸€ç³»åˆ—å˜æ¢æ—¶ï¼Œè¿™ç§ç§»åŠ¨æ•´ä¸ªåæ ‡ç³»çš„æ–¹æ³•ä»æ•°å­¦å’Œæ¦‚å¿µä¸Šè®²ï¼Œæ›´æ–¹ä¾¿ã€‚</p>\n<h3 id=\"2-scaleå˜æ¢\"><a href=\"#2-scaleå˜æ¢\" class=\"headerlink\" title=\"2. scaleå˜æ¢\"></a>2. scaleå˜æ¢</h3><p>ç¼©æ”¾åæ ‡ç³»ç»Ÿã€‚<code>transform = &quot;scale(value)&quot;</code> æˆ–è€… <code>transform=&quot;scale(x-value,y-value)&quot;</code>ã€‚</p>\n<p>ä»…ä»…ä½¿ç”¨ <code>scale(n)</code> å˜æ¢æ—¶ï¼Œç½‘æ ¼ç³»ç»Ÿçš„åŸç‚¹ä½ç½®å¹¶æ²¡æœ‰å˜åŒ–ï¼Œåªæ˜¯æ¯ä¸ªç”¨æˆ·åæ ‡éƒ½å˜æˆäº†åŸæ¥çš„ <code>n</code> å€ï¼Œä¹Ÿå°±æ˜¯ç½‘æ ¼å˜å¤§äº†ï¼Œå› æ­¤çº¿ä¹Ÿä¼šå˜ç²—(ç”¨æˆ·å•ä½å¹¶æ²¡æœ‰å˜)ã€‚</p>\n<p><em>æŠ€å·§ï¼šå¦‚æœä»å…¶ä»–ç³»ç»Ÿä¼ è¾“æ•°æ®åˆ° <code>SVG</code>ï¼Œåˆ™å¯èƒ½å¿…é¡»å¤„ç†ä½¿ç”¨ç¬›å¡å°”åæ ‡è¡¨ç¤ºçš„çŸ¢é‡å›¾å½¢ï¼Œåœ¨ç¬›å¡å°”åæ ‡ç³»ç»Ÿä¸­ï¼ŒåŸç‚¹ä½äºå·¦ä¸‹è§’ï¼Œ<code>y</code>å‘ä¸Šé€’å¢ï¼Œ<code>x</code>å‘å³é€’å¢ã€‚è€Œ <code>SVG</code> åæ ‡åŸç‚¹ä½äºå·¦ä¸Šè§’ï¼Œæ­¤æ—¶ä½¿ç”¨ <code>scale(1,-1)</code> å°±å¯ä»¥å®Œæˆä¸¤è€…ä¹‹é—´çš„è½¬æ¢ã€‚</em></p>\n<p><strong>ç¼©æ”¾å˜æ¢æ°¸è¿œä¸ä¼šæ”¹å˜å›¾å½¢å¯¹è±¡çš„ç½‘æ ¼åæ ‡æˆ–è€…ç¬”ç”»å®½åº¦ï¼Œä»…ä»…æ”¹å˜å¯¹åº”ç”»å¸ƒä¸Šçš„åæ ‡ç³»ç»Ÿç½‘æ ¼çš„å¤§å°ã€‚</strong></p>\n<h3 id=\"3-rotateå˜æ¢\"><a href=\"#3-rotateå˜æ¢\" class=\"headerlink\" title=\"3. rotateå˜æ¢\"></a>3. rotateå˜æ¢</h3><p>æ ¹æ®æŒ‡å®šçš„è§’åº¦æ—‹è½¬åæ ‡ç³»ç»Ÿï¼Œé»˜è®¤çš„åæ ‡ç³»ç»Ÿä¸­ï¼Œè§’åº¦çš„æµ‹é‡é¡ºæ—¶é’ˆå¢åŠ ï¼Œ<code>0</code> åº¦ä¸º <code>3</code> ç‚¹é’Ÿæ–¹å‘ã€‚</p>\n<p>æ³¨æ„ï¼Œé™¤éå¦è¡ŒæŒ‡å®šï¼Œå¦åˆ™æ—‹è½¬ä»¥åŸç‚¹ä¸ºä¸­å¿ƒã€‚ æ­¤æ—¶å¯ä»¥é€šè¿‡å¹³ç§»+æ—‹è½¬çš„æ–¹å¼æ¥æŒ‡å®šæ—‹è½¬ä¸­å¿ƒï¼š <code>translate(centerX,centerY) rotate(angle) translate(-centerX,-centerY)</code></p>\n<p>ä½†æ˜¯æœ‰ä¸ªæ›´ç®€å•çš„æ–¹å¼ï¼š<code>rotate(angle,centerX,centerY)</code></p>\n<h3 id=\"4-å›´ç»•ä¸­å¿ƒç‚¹ç¼©æ”¾\"><a href=\"#4-å›´ç»•ä¸­å¿ƒç‚¹ç¼©æ”¾\" class=\"headerlink\" title=\"4. å›´ç»•ä¸­å¿ƒç‚¹ç¼©æ”¾\"></a>4. å›´ç»•ä¸­å¿ƒç‚¹ç¼©æ”¾</h3><p>ä¸Šé¢æåˆ°ï¼Œç¼©æ”¾é»˜è®¤æ˜¯ä»¥åŸç‚¹ä¸ºåŸºå‡†çš„ï¼Œè¿™æ˜¾ç„¶ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼æŒ‡å®šç¼©æ”¾ä¸­å¿ƒï¼š</p>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs maxima\"><span class=\"hljs-built_in\">translate</span>(-centerX*(<span class=\"hljs-built_in\">factor</span>-<span class=\"hljs-number\">1</span>),-centerY*(<span class=\"hljs-built_in\">factor</span>-<span class=\"hljs-number\">1</span>)) <span class=\"hljs-built_in\">scale</span>(<span class=\"hljs-built_in\">factor</span>)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"5-skewXå’ŒskewYå˜æ¢\"><a href=\"#5-skewXå’ŒskewYå˜æ¢\" class=\"headerlink\" title=\"5. skewXå’ŒskewYå˜æ¢\"></a>5. skewXå’ŒskewYå˜æ¢</h3><p>è¿™ä¸¤ä¸ªå˜æ¢ç”¨æ¥å€¾æ–œæŸä¸ªè½´ï¼Œä¸€èˆ¬å½¢å¼ä¸º <code>skewX(angle),skewY(angle)</code>ã€‚è¿™æ ·çš„ç»“æœå°±æ˜¯ä½¿å¾— <code>x</code> è½´å’Œ <code>y</code> è½´ä¸å†å‚ç›´ã€‚</p>\n<h3 id=\"6-çŸ©é˜µå˜æ¢\"><a href=\"#6-çŸ©é˜µå˜æ¢\" class=\"headerlink\" title=\"6. çŸ©é˜µå˜æ¢\"></a>6. çŸ©é˜µå˜æ¢</h3><p>è®¡ç®—æœºå›¾å½¢å­¦ä¸­åæ ‡å˜æ¢éƒ½é€šè¿‡çŸ©é˜µæ¥å®ç°ï¼Œé™¤ä¸Šè¿°å˜æ¢æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥ä¸ºå˜æ¢æŒ‡å®šå˜æ¢çŸ©é˜µï¼Œå˜æ¢çŸ©é˜µä¸º <code>matrix(a,b,c,d,e,f)</code>ï¼Œæ­¤æ—¶æŒ‡å®šçš„å˜æ¢çŸ©é˜µä¸º:</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs text\">a  c  e<br>b  d  f<br>0  0  1<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸ƒã€è·¯å¾„\"><a href=\"#ä¸ƒã€è·¯å¾„\" class=\"headerlink\" title=\"ä¸ƒã€è·¯å¾„\"></a>ä¸ƒã€è·¯å¾„</h2><h3 id=\"1-pathå‘½ä»¤\"><a href=\"#1-pathå‘½ä»¤\" class=\"headerlink\" title=\"1. pathå‘½ä»¤\"></a>1. pathå‘½ä»¤</h3><p><code>SVG</code> ä¸­æ‰€æœ‰åŸºæœ¬å½¢çŠ¶éƒ½æ˜¯ <code>path</code> çš„ç®€å†™å½¢å¼ï¼Œä½†æ˜¯å»ºè®®ä½¿ç”¨ç®€å†™å½¢å¼ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ä½¿ <code>SVG</code> æ–‡æ¡£æ›´å¯è¯»ã€‚</p>\n<p><code>path</code> å…ƒç´ æ›´é€šç”¨ï¼Œå¯ä»¥é€šè¿‡åˆ¶å®šä¸€ç³»åˆ—ç›¸äº’è¿æ¥çš„çº¿ã€å¼§ã€æ›²çº¿æ¥ç»˜åˆ¶ä»»æ„å½¢çŠ¶çš„è½®å»“ï¼Œè¿™äº›è½®å»“ä¹Ÿå¯ä»¥å¡«å……æˆ–è€…ç»˜åˆ¶è½®å»“çº¿ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰è£å‰ªåŒºåŸŸæˆ–è’™ç‰ˆã€‚</p>\n<p>ä¸‹è¡¨ä¸º <code>path</code> å‘½ä»¤æ€»ç»“ï¼Œå…¶ä¸­å¤§å†™è¡¨ç¤ºç»å¯¹åæ ‡ï¼Œå°å†™è¡¨ç¤ºç›¸å¯¹åæ ‡ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å‘½ä»¤</th>\n<th>å‚æ•°</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>M</code> <code>m</code></td>\n<td><code>x y</code></td>\n<td>ç§»åŠ¨ç”»ç¬”åˆ°åˆ¶å®šåæ ‡</td>\n</tr>\n<tr>\n<td><code>L</code> <code>l</code></td>\n<td><code>x y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®šåæ ‡çš„çº¿</td>\n</tr>\n<tr>\n<td><code>H</code> <code>h</code></td>\n<td><code>x</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®š <code>x</code> åæ ‡çš„æ¨ªçº¿</td>\n</tr>\n<tr>\n<td><code>V</code> <code>v</code></td>\n<td><code>y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®š<code>y</code>åæ ‡çš„å‚çº¿</td>\n</tr>\n<tr>\n<td><code>A</code> <code>a</code></td>\n<td><code>rx ry x-axis-rotation large-arc sweep x y</code></td>\n<td>åœ†å¼§æ›²çº¿å‘½ä»¤æœ‰7ä¸ªå‚æ•°ï¼Œä¾æ¬¡è¡¨ç¤º<code>x</code>æ–¹å‘åŠå¾„ã€<code>y</code>æ–¹å‘åŠå¾„ã€æ—‹è½¬è§’åº¦ã€å¤§åœ†æ ‡è¯†ã€é¡ºé€†æ—¶é’ˆæ ‡è¯†ã€ç›®æ ‡ç‚¹<code>x</code>ã€ç›®æ ‡ç‚¹<code>y</code>ã€‚å¤§åœ†æ ‡è¯†å’Œé¡ºé€†æ—¶é’ˆä»¥<code>0</code>å’Œ<code>1</code>è¡¨ç¤ºã€‚<code>0</code>è¡¨ç¤ºå°åœ†ã€é€†æ—¶é’ˆ</td>\n</tr>\n<tr>\n<td><code>Q</code> <code>q</code></td>\n<td><code>x1 y1 x y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°<code>x, y</code>æ§åˆ¶ç‚¹ä¸º<code>x1, y1</code>çš„äºŒæ¬¡è´å¡å°”æ›²çº¿</td>\n</tr>\n<tr>\n<td><code>T</code> <code>t</code></td>\n<td><code>x y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°<code>x</code>,<code>y</code>çš„å…‰æ»‘äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼Œæ§åˆ¶ç‚¹ä¸ºå‰ä¸€ä¸ª<code>Q</code>å‘½ä»¤çš„æ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å‰ä¸€æ¡åˆ™å·²å½“å‰ç‚¹ä¸ºæ§åˆ¶ç‚¹ã€‚</td>\n</tr>\n<tr>\n<td><code>C</code> <code>c</code></td>\n<td><code>x1 y1 x2 y2 x y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ° <code>x</code>,<code>y</code>æ§åˆ¶ç‚¹ä¸º<code>x1,y1</code> <code>x2,y2</code>çš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿</td>\n</tr>\n<tr>\n<td><code>S</code> <code>s</code></td>\n<td><code>x2 y2 x y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°<code>x,y</code>çš„å…‰æ»‘ä¸‰æ¬¡è´å¡å°”æ›²çº¿ã€‚ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¸ºå‰ä¸€ä¸ª<code>C</code>å‘½ä»¤çš„ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å‰ä¸€æ¡æ›²çº¿ï¼Œåˆ™ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¸ºå½“å‰çš„ç‚¹ã€‚</td>\n</tr>\n</tbody></table>\n<p>è·¯å¾„çš„å¡«å……åŒæ ·å¯ä»¥ä½¿ç”¨ <code>fill-rule</code> å±æ€§æŒ‡å®šå¡«å……è§„åˆ™ï¼Œå¦‚æœéœ€è¦å¡«å……ä¸€ä¸ªä¸­ç©ºçš„å½¢çŠ¶ï¼Œåˆ™åªéœ€è¦æ³¨æ„å¤–ä¾§è·¯å¾„é¡ºé€†æ—¶é’ˆæ–¹å‘å’Œå†…ä¾§ç©ºå¿ƒåŒºåŸŸé¡ºé€†æ—¶é’ˆæ–¹å‘å³å¯ã€‚</p>\n<h2 id=\"å…«ã€æ¸å˜\"><a href=\"#å…«ã€æ¸å˜\" class=\"headerlink\" title=\"å…«ã€æ¸å˜\"></a>å…«ã€æ¸å˜</h2><h3 id=\"1-çº¿æ€§æ¸å˜\"><a href=\"#1-çº¿æ€§æ¸å˜\" class=\"headerlink\" title=\"1. çº¿æ€§æ¸å˜\"></a>1. çº¿æ€§æ¸å˜</h3><p>çº¿æ€§æ¸å˜æ˜¯ä¸€ç³»åˆ—é¢œè‰²æ²¿ç€ä¸€æ¡ç›´çº¿è¿‡æ¸¡ï¼Œåœ¨ç‰¹å®šçš„ä½ç½®æŒ‡å®šæƒ³è¦çš„é¢œè‰²ï¼Œè¢«ç§°ä¸ºæ¸å˜ç‚¹ã€‚æ¸å˜ç‚¹æ˜¯æ¸å˜ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œé¢œè‰²æ˜¯è¡¨ç°çš„ä¸€éƒ¨åˆ†ã€‚</p>\n<p>çº¿æ€§æ¸å˜ä½¿ç”¨<code>linearGradient</code>å…ƒç´ è¡¨ç¤ºï¼š</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">defs</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">linearGradient</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;linear&quot;</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">stop</span> <span class=\"hljs-attr\">offset</span>=<span class=\"hljs-string\">&quot;0%&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;stop-color:#ffcc00;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">stop</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">stop</span> <span class=\"hljs-attr\">offset</span>=<span class=\"hljs-string\">&quot;100%&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;stop-color:#0099cc;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">stop</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">linearGradient</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">defs</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">rect</span> <span class=\"hljs-attr\">x</span>=<span class=\"hljs-string\">&quot;20&quot;</span> <span class=\"hljs-attr\">y</span>=<span class=\"hljs-string\">&quot;20&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;200&quot;</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">&quot;100&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;fill:url(#linear);stroke:black;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">rect</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><img src=\"http://cdn.d3js.org.cn/images/doc/svg/8.4.jpg\" alt=\"img\"></p>\n<p><code>stop</code>å…ƒç´ æœ‰ä¸¤ä¸ªå¿…è¦å±æ€§ï¼š<code>offset</code>å’Œ<code>stop-color</code>ã€‚<code>offset</code>å±æ€§ç”¨æ¥æŒ‡å®šåœ¨å“ªä¸ªç‚¹çš„é¢œè‰²åº”è¯¥ç­‰äº<code>stop-color</code>ã€‚<code>offset</code>çš„å–å€¼èŒƒå›´0%-100%ã€‚</p>\n<p><code>stop</code>å…ƒç´ çš„å±æ€§ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>offset</code></td>\n<td>å¿…éœ€ï¼Œå–å€¼èŒƒå›´ <code>0%-100%</code></td>\n</tr>\n<tr>\n<td><code>stop-color</code></td>\n<td>å¿…éœ€ï¼Œå¯¹åº” <code>offset</code> ä½ç½®ç‚¹çš„é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stop-opacity</code></td>\n<td>å¯¹åº” <code>offset</code> ä½ç½®ç‚¹çš„ä¸é€æ˜åº¦</td>\n</tr>\n</tbody></table>\n<p><code>linearGradient</code>å…ƒç´ å±æ€§ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>x1</code>,<code>y1</code></td>\n<td>æ¸å˜çš„èµ·ç‚¹ä½ç½®ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”è¡¨ç¤ºï¼Œé»˜è®¤çš„æ¸å˜æ–¹å‘æ˜¯ä»å·¦åˆ°å³</td>\n</tr>\n<tr>\n<td><code>x2</code>,<code>y2</code></td>\n<td>æ¸å˜çš„ç»ˆç‚¹ä½ç½®ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”è¡¨ç¤º</td>\n</tr>\n<tr>\n<td><code>spreadMethod</code></td>\n<td>å¦‚æœè®¾ç½®çš„<code>offset</code>ä¸èƒ½è¦†ç›–æ•´ä¸ªå¯¹è±¡ï¼Œè¯¥æ€ä¹ˆå¡«å……ã€‚<code>pad</code>: èµ·ç‚¹æˆ–ç»ˆç‚¹é¢œè‰²ä¼šæ‰©å±•åˆ°å¯¹è±¡è¾¹ç¼˜ã€‚<code>repeat</code>: æ¸å˜é‡å¤èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è¿‡ç¨‹ã€‚<code>reflect</code>: æ¸å˜æŒ‰ç»ˆç‚¹-èµ·ç‚¹-ç»ˆç‚¹çš„æ’åˆ—é‡å¤ã€‚</td>\n</tr>\n</tbody></table>\n<h3 id=\"2-å¾„å‘æ¸å˜\"><a href=\"#2-å¾„å‘æ¸å˜\" class=\"headerlink\" title=\"2. å¾„å‘æ¸å˜\"></a>2. å¾„å‘æ¸å˜</h3><p>å¾„å‘æ¸å˜çš„æ¯ä¸ªæ¸å˜ç‚¹æ˜¯ä¸€ä¸ªåœ†å½¢è·¯å¾„ï¼Œä»ä¸­å¿ƒç‚¹å‘å¤–æ‰©æ•£ã€‚è®¾ç½®æ–¹å¼ä¸çº¿æ€§æ¸å˜å¤§è‡´ç›¸åŒã€‚å¦‚æœå¡«å……å¯¹è±¡è¾¹ç•Œæ¡†ä¸æ˜¯æ­£æ–¹å½¢çš„ï¼Œåˆ™è¿‡æ¸¡è·¯å¾„ä¼šå˜æˆæ¤­åœ†æ¥åŒ¹é…è¾¹ç•Œæ¡†çš„é•¿å®½æ¯”ã€‚</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">defs</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">radialGradient</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;radial&quot;</span> <span class=\"hljs-attr\">cx</span>=<span class=\"hljs-string\">&quot;50%&quot;</span> <span class=\"hljs-attr\">cy</span>=<span class=\"hljs-string\">&quot;50%&quot;</span> &gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">stop</span> <span class=\"hljs-attr\">offset</span>=<span class=\"hljs-string\">&quot;0%&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;stop-color:#f00;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">stop</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">stop</span> <span class=\"hljs-attr\">offset</span>=<span class=\"hljs-string\">&quot;50%&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;stop-color:#0f0;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">stop</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">stop</span> <span class=\"hljs-attr\">offset</span>=<span class=\"hljs-string\">&quot;100%&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;stop-color:#00f;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">stop</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">radialGradient</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">defs</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">rect</span> <span class=\"hljs-attr\">x</span>=<span class=\"hljs-string\">&quot;20&quot;</span> <span class=\"hljs-attr\">y</span>=<span class=\"hljs-string\">&quot;20&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;200&quot;</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">&quot;200&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;fill:url(#radial);stroke:black;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">rect</span>&gt;</span>\t<br></code></pre></td></tr></table></figure>\n\n<p><img src=\"http://cdn.d3js.org.cn/images/doc/svg/8.5.jpg\" alt=\"img\"></p>\n<p><code>radialGradient</code>å…ƒç´ å±æ€§ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>cx</code>,<code>cy</code>,<code>r</code></td>\n<td>å®šä¹‰æ¸å˜çš„èŒƒå›´ï¼Œæµ‹é‡åŠå¾„çš„å•ä½æ˜¯å¯¹è±¡çš„å®½é«˜å‡å€¼ï¼Œè€Œä¸æ˜¯å¯¹è§’çº¿ï¼Œé»˜è®¤éƒ½ä¸º<code>50%</code></td>\n</tr>\n<tr>\n<td><code>fx</code>,<code>fy</code></td>\n<td><code>0%</code>ç‚¹æ‰€å¤„çš„åœ†è·¯å¾„çš„åœ†å¿ƒï¼Œé»˜è®¤å’Œ<code>cx</code>,<code>cy</code>ä¸€æ ·</td>\n</tr>\n<tr>\n<td><code>spreadMethod</code></td>\n<td><code>pad</code>,<code>repeat</code>,<code>reflect</code> ä¸‰ä¸ªå€¼ï¼Œç”¨æ¥è§£å†³ç»˜åˆ¶èŒƒå›´æ²¡æœ‰åˆ°è¾¾å›¾å½¢è¾¹ç¼˜çš„æƒ…å†µã€‚</td>\n</tr>\n</tbody></table>\n<h2 id=\"ä¹ã€æ–‡æœ¬\"><a href=\"#ä¹ã€æ–‡æœ¬\" class=\"headerlink\" title=\"ä¹ã€æ–‡æœ¬\"></a>ä¹ã€æ–‡æœ¬</h2><h3 id=\"1-ç›¸å…³æœ¯è¯­\"><a href=\"#1-ç›¸å…³æœ¯è¯­\" class=\"headerlink\" title=\"1. ç›¸å…³æœ¯è¯­\"></a>1. ç›¸å…³æœ¯è¯­</h3><table>\n<thead>\n<tr>\n<th>æœ¯è¯­</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>å­—ç¬¦</td>\n<td><code>XML</code>ä¸­ï¼Œå­—ç¬¦æ˜¯æŒ‡å¸¦æœ‰ä¸€ä¸ªæ•°å­—å€¼å¾—ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ï¼Œæ•°å­—å€¼ä¸<code>Unidode</code>æ ‡å‡†å¯¹åº”</td>\n</tr>\n<tr>\n<td>ç¬¦å·</td>\n<td>å­—ç¬¦çš„è§†è§‰å‘ˆç°ã€‚æ¯ä¸ªå­—ç¬¦å¯ä»¥æœ‰å¤šç§è§†è§‰å‘ˆç°</td>\n</tr>\n<tr>\n<td>å­—ä½“</td>\n<td>ä»£è¡¨æŸä¸ªå­—ç¬¦é›†åˆçš„ä¸€ç»„ç¬¦å·</td>\n</tr>\n<tr>\n<td>åŸºçº¿</td>\n<td>å­—ä½“ä¸­æ‰€æœ‰ç¬¦å·ä»¥åŸºçº¿å¯¹é½</td>\n</tr>\n<tr>\n<td>ä¸Šå¡åº¦</td>\n<td>åŸºçº¿åˆ°å­—ä½“ä¸­æœ€é«˜å­—ç¬¦çš„é¡¶éƒ¨è·ç¦»</td>\n</tr>\n<tr>\n<td>ä¸‹å¡åº¦</td>\n<td>åŸºçº¿åˆ°æœ€æ·±å­—ç¬¦åº•éƒ¨çš„è·ç¦»</td>\n</tr>\n<tr>\n<td>å¤§å†™å­—æ¯é«˜åº¦ã€<code>x</code>é«˜åº¦</td>\n<td>å¤§å†™å­—æ¯é«˜åº¦æ˜¯æŒ‡åŸºçº¿ä¸Šå¤§å†™å­—æ¯çš„é«˜åº¦ï¼Œ<code>x</code>é«˜åº¦æ˜¯åŸºçº¿åˆ°å°å†™å­—æ¯<code>x</code>é¡¶éƒ¨çš„é«˜åº¦</td>\n</tr>\n</tbody></table>\n<h3 id=\"2-æ–‡æœ¬å…ƒç´ çš„åŸºæœ¬å±æ€§\"><a href=\"#2-æ–‡æœ¬å…ƒç´ çš„åŸºæœ¬å±æ€§\" class=\"headerlink\" title=\"2. æ–‡æœ¬å…ƒç´ çš„åŸºæœ¬å±æ€§\"></a>2. æ–‡æœ¬å…ƒç´ çš„åŸºæœ¬å±æ€§</h3><p><code>text</code> å…ƒç´ ä»¥æŒ‡å®šçš„xå’Œyå€¼ä½œä¸ºå…ƒç´ å†…å®¹ç¬¬ä¸€ä¸ªå­—ç¬¦çš„åŸºçº¿ä½ç½®ï¼Œé»˜è®¤æ ·å¼é»‘è‰²å¡«å……ã€æ²¡æœ‰è½®å»“ã€‚</p>\n<table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>font-family</code></td>\n<td>ä»¥ç©ºæ ¼åˆ†å‰²çš„ä¸€ç³»åˆ—å­—ä½“åç§°æˆ–é€šç”¨å­—ä½“åç§°</td>\n</tr>\n<tr>\n<td><code>font-size</code></td>\n<td>å¦‚æœæœ‰å¤šè¡Œæ–‡æœ¬ï¼Œåˆ™ <code>font-size</code> ä¸ºå¹³è¡Œçš„ä¸¤æ¡åŸºçº¿çš„è·ç¦»</td>\n</tr>\n<tr>\n<td><code>font-weight</code></td>\n<td>ä¸¤ä¸ªå€¼ï¼š<code>bold</code>(ç²—ä½“)å’Œ<code>nromal</code>(é»˜è®¤)</td>\n</tr>\n<tr>\n<td><code>font-style</code></td>\n<td>å¸¸ç”¨çš„ä¸¤ä¸ªå€¼:<code>italic</code>(æ–œä½“)å’Œ<code>normal</code></td>\n</tr>\n<tr>\n<td><code>text-decoration</code></td>\n<td>å¯èƒ½çš„å€¼:<code>none</code>,<code>underline</code>(ä¸‹åˆ’çº¿),<code>overline</code>(ä¸Šåˆ’çº¿),<code>line-through</code>(åˆ é™¤çº¿)</td>\n</tr>\n<tr>\n<td><code>word-spacing</code></td>\n<td>å•è¯ä¹‹é—´çš„è·ç¦»</td>\n</tr>\n<tr>\n<td><code>letter-spacing</code></td>\n<td>å­—æ¯ä¹‹é—´çš„é—´è·</td>\n</tr>\n<tr>\n<td><code>text-anchor</code></td>\n<td>å¯¹é½æ–¹å¼ï¼š<code>start</code>,<code>middle</code>,<code>end</code></td>\n</tr>\n<tr>\n<td><code>textLength</code></td>\n<td>è®¾ç½®æ–‡æœ¬çš„é•¿åº¦</td>\n</tr>\n<tr>\n<td><code>lengthAdjust</code></td>\n<td>åœ¨æŒ‡å®šäº†<code>textLength</code>æ—¶ï¼Œå¯ä»¥é€šè¿‡<code>lengthAdjust</code>å±æ€§è®¾ç½®å­—ç¬¦çš„è°ƒæ•´æ–¹å¼ï¼Œå€¼ä¸º <code>spacing</code>(é»˜è®¤)æ—¶,åªè°ƒæ•´å­—ç¬¦çš„é—´è·ã€‚å½“å€¼ä¸º<code>spacingAndGlyphs</code>æ—¶ï¼ŒåŒæ—¶è°ƒæ•´å­—ç¬¦é—´è·å’Œå­—ç¬¦æœ¬èº«çš„å¤§å°</td>\n</tr>\n</tbody></table>\n<h3 id=\"3-tspanå…ƒç´ \"><a href=\"#3-tspanå…ƒç´ \" class=\"headerlink\" title=\"3. tspanå…ƒç´ \"></a>3. tspanå…ƒç´ </h3><p><code>text</code> å…ƒç´ æ— æ³•å¯¹æ–‡æœ¬è¿›è¡Œæ¢è¡Œæ“ä½œï¼Œå¦‚æœéœ€è¦åˆ†è¡Œæ˜¾ç¤ºæ–‡æœ¬ï¼Œåˆ™éœ€è¦ä½¿ç”¨åœ¨textå…ƒç´ é‡ŒåµŒå…¥<code>tspan</code> å…ƒç´ ã€‚<code>tspan</code> å…ƒç´ ä¸<code>html</code>çš„<code>span</code>å…ƒç´ ç±»ä¼¼ï¼Œå¯ä»¥åµŒå¥—åœ¨æ–‡æœ¬å†…å®¹ä¸­ï¼Œå¹¶å¯ä»¥å•ç‹¬æ”¹å˜å…¶å†…éƒ¨æ–‡æœ¬å†…å®¹çš„æ ·å¼ã€‚</p>\n<p><code>tspan</code>å…ƒç´ é™¤å¤§å°ï¼Œé¢œè‰²ç­‰è¡¨ç°æ ·å¼ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>dx</code>,<code>dy</code></td>\n<td><code>x</code>å’Œ<code>y</code>æ–¹å‘çš„åç§»</td>\n</tr>\n<tr>\n<td><code>x</code>,<code>y</code></td>\n<td>å¯¹<code>tspan</code>è¿›è¡Œç»å¯¹å®šä½</td>\n</tr>\n<tr>\n<td><code>rotate</code></td>\n<td>æ—‹è½¬å­—ç¬¦ï¼Œå¯ä»¥åŒæ—¶è®¾ç½®å¤šä¸ªå€¼ï¼Œè¿™äº›å€¼ä¼šä¾æ¬¡ä½œç”¨åœ¨<code>tspan</code>åŒ…è£¹çš„å­—æ¯ä¸Š</td>\n</tr>\n<tr>\n<td><code>baseline-shift</code></td>\n<td>ä¸<code>dy</code>å±æ€§è®¾ç½®ä¸Šä¸‹æ ‡ç›¸æ¯”ï¼Œè¿™ä¸ªå±æ€§æ›´æ–¹ä¾¿ï¼Œå½“ä¸º<code>super</code>æ—¶ï¼Œä¼šä¸Šæ ‡ã€‚<code>sub</code> æ—¶ä¸ºä¸‹æ ‡ã€‚ä»…ä»…åœ¨æ‰€åœ¨çš„<code>tspan</code>å†…æœ‰æ•ˆ</td>\n</tr>\n</tbody></table>\n<h3 id=\"4-çºµå‘æ–‡æœ¬\"><a href=\"#4-çºµå‘æ–‡æœ¬\" class=\"headerlink\" title=\"4. çºµå‘æ–‡æœ¬\"></a>4. çºµå‘æ–‡æœ¬</h3><p>æ–‡æœ¬ä¸€èˆ¬ä»å·¦åˆ°å³æ’åˆ—ï¼Œå¦‚æœéœ€è¦ä¸Šä¸‹æ’åˆ—ï¼Œåˆ™éœ€è¦ä½¿ç”¨<code>writing-mode</code>å±æ€§ã€‚</p>\n<p>è®¾ç½®<code>writing-mode</code>å±æ€§å€¼ä¸º<code>tb</code>(top to bottom)ï¼Œå¯ä»¥å°†æ–‡æœ¬ä¸Šä¸‹æ’åˆ—ã€‚</p>\n<h2 id=\"5-æ–‡æœ¬è·¯å¾„\"><a href=\"#5-æ–‡æœ¬è·¯å¾„\" class=\"headerlink\" title=\"5. æ–‡æœ¬è·¯å¾„\"></a>5. æ–‡æœ¬è·¯å¾„</h2><p>å¦‚æœè¦ä½¿å¾—æ–‡æœ¬æ²¿ç€æŸæ¡è·¯å¾„æ’åˆ—ï¼Œåˆ™éœ€è¦ä½¿ç”¨<code>textPath</code>å…ƒç´ ã€‚éœ€è¦å°†æ–‡æœ¬æ”¾åœ¨<code>textPath</code>å…ƒç´ å†…éƒ¨ï¼Œç„¶åä½¿ç”¨<code>textPath</code>å…ƒç´ çš„<code>xlink:href</code>å±æ€§å¼•ç”¨ä¸€ä¸ªå®šä¹‰å¥½çš„<code>path</code>å…ƒç´ ã€‚</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">defs</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">path</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;path&quot;</span> <span class=\"hljs-attr\">d</span>=<span class=\"hljs-string\">&quot;M30 40 C 50 10 ,70 10,120 40 S150 0,200 40&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;fill:none;stroke:black&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">path</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">defs</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">g</span> <span class=\"hljs-attr\">transform</span>=<span class=\"hljs-string\">&quot;translate(10,50)&quot;</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">path</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;path&quot;</span> <span class=\"hljs-attr\">d</span>=<span class=\"hljs-string\">&quot;M30 40 C 50 10 ,70 10,120 40 S150 0,200 40&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;fill:none;stroke:black&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">path</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">text</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">textPath</span> <span class=\"hljs-attr\">xlink:href</span>=<span class=\"hljs-string\">&quot;#path&quot;</span>&gt;</span><br>\t\t\thello world<br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">textPath</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">text</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">g</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">g</span> <span class=\"hljs-attr\">transform</span>=<span class=\"hljs-string\">&quot;translate(10,100)&quot;</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">path</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;path&quot;</span> <span class=\"hljs-attr\">d</span>=<span class=\"hljs-string\">&quot;M30 40 C 50 10 ,70 10,120 40 S150 0,200 40&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;fill:none;stroke:black&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">path</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">text</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">textPath</span> <span class=\"hljs-attr\">xlink:href</span>=<span class=\"hljs-string\">&quot;#path&quot;</span> <span class=\"hljs-attr\">startOffset</span>=<span class=\"hljs-string\">&quot;50%&quot;</span> <span class=\"hljs-attr\">text-anchor</span>=<span class=\"hljs-string\">&quot;middle&quot;</span>&gt;</span><br>\t\t\thello world<br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">textPath</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">text</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">g</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><img src=\"http://cdn.d3js.org.cn/images/doc/svg/8.6.jpg\" alt=\"img\"></p>\n<p><code>startOffset</code>å±æ€§ç”¨æ¥æŒ‡å®šæ–‡æœ¬çš„èµ·ç‚¹ï¼Œå½“è®¾ç½®ä¸º<code>50%</code>ï¼Œå¹¶ä¸”è®¾ç½®<code>text-anchor</code>ä¸º<code>middle</code>æ—¶ï¼Œæ–‡æœ¬ä¼šè¢«å®šä¸ºåœ¨<code>path</code>çš„ä¸­é—´ã€‚</p>\n","site":{"data":{}},"wordcount":9311,"excerpt":"","more":"<h2 id=\"ä¸€ã€å…¥é—¨æŒ‡å—\"><a href=\"#ä¸€ã€å…¥é—¨æŒ‡å—\" class=\"headerlink\" title=\"ä¸€ã€å…¥é—¨æŒ‡å—\"></a>ä¸€ã€å…¥é—¨æŒ‡å—</h2><h3 id=\"1-å›¾å½¢ç³»ç»Ÿ\"><a href=\"#1-å›¾å½¢ç³»ç»Ÿ\" class=\"headerlink\" title=\"1. å›¾å½¢ç³»ç»Ÿ\"></a>1. å›¾å½¢ç³»ç»Ÿ</h3><p>è®¡ç®—æœºä¸­æè¿°å›¾å½¢ä¿¡æ¯çš„ä¸¤å¤§å›¾å½¢ç³»ç»Ÿï¼šæ …æ ¼å›¾å½¢å’ŒçŸ¢é‡å›¾å½¢ã€‚æ …æ ¼å›¾å½¢ä¸­å›¾å½¢è¢«è¡¨ç¤ºä¸ºå›¾ç‰‡å…ƒç´ æˆ–è€…åƒç´ çš„é•¿æ–¹å½¢æ•°ç»„ã€‚çŸ¢é‡å›¾å½¢ä¸­å›¾å½¢è¢«æè¿°ä¸ºä¸€ç³»åˆ—å‡ ä½•å½¢çŠ¶ï¼Œé€šè¿‡çŸ¢é‡å›¾å½¢é˜…è¯»å™¨åœ¨æŒ‡å®šçš„åæ ‡é›†ä¸Šç»˜åˆ¶å½¢çŠ¶ã€‚</p>\n<h3 id=\"2-SVG-Scalable-Vector-Graphics\"><a href=\"#2-SVG-Scalable-Vector-Graphics\" class=\"headerlink\" title=\"2. SVG(Scalable Vector Graphics)\"></a>2. SVG(Scalable Vector Graphics)</h3><p>SVG<code>æ˜¯ä¸€ç§</code>XML<code>åº”ç”¨ï¼Œç”¨æ¥è¡¨ç¤ºçŸ¢é‡å›¾å½¢ã€‚æ‰€æœ‰çš„å›¾å½¢æœ‰å…³ä¿¡æ¯è¢«å­˜å‚¨ä¸ºçº¯æ–‡æœ¬ï¼Œå…·æœ‰XMLçš„å¼€æ”¾æ€§ã€å¯ç§»æ¤æ€§å’Œå¯äº¤äº’æ€§ã€‚å½“å‰ç¨³å®šçš„</code>XML<code>å’Œ</code>SVG<code>ç‰ˆæœ¬éƒ½ä¸º</code>1.1</p>\n<p>SVGæ–‡æ¡£ç»“æ„æ˜¯æ ‡å‡†çš„ <code>XML</code> æ–‡æ¡£ï¼Œæ ¹å…ƒç´  <code>svg</code> å®šä¹‰å›¾å½¢çš„å¤§å°ï¼Œæ ¹å…ƒç´ ä¸­åŒ…å«å„ç§çš„å½¢çŠ¶å…ƒç´ ã€‚<code>SVG</code> å…è®¸ä½¿ç”¨å•ç‹¬çš„å±æ€§æŒ‡å®šå…ƒç´ çš„æ ·å¼ã€‚</p>\n<p><code>SVG</code> ä½¿ç”¨ <code>g</code> å…ƒç´ å¯¹å›¾å½¢è¿›è¡Œåˆ†ç»„ï¼Œä½¿ç”¨ <code>use</code> å…ƒç´ å®ç°å…ƒç´ çš„å¤ç”¨ã€‚</p>\n<h2 id=\"äºŒã€åœ¨ç½‘é¡µä¸­ä½¿ç”¨\"><a href=\"#äºŒã€åœ¨ç½‘é¡µä¸­ä½¿ç”¨\" class=\"headerlink\" title=\"äºŒã€åœ¨ç½‘é¡µä¸­ä½¿ç”¨\"></a>äºŒã€åœ¨ç½‘é¡µä¸­ä½¿ç”¨</h2><h3 id=\"1-å°†SVGä½œä¸ºå›¾åƒ\"><a href=\"#1-å°†SVGä½œä¸ºå›¾åƒ\" class=\"headerlink\" title=\"1. å°†SVGä½œä¸ºå›¾åƒ\"></a>1. å°†SVGä½œä¸ºå›¾åƒ</h3><p>å°† <code>svg</code> ä½œä¸ºå›¾åƒåŒ…å«åœ¨HTMLæ ‡è®°çš„ <code>img</code> å…ƒç´ å†…ï¼Œä½†æ˜¯è¿™æ ·æœ‰ä¸€å®šçš„å±€é™æ€§ï¼š</p>\n<p><strong><code>SVG</code>è½¬ä¸ºæ …æ ¼å›¾åƒæ—¶ä¸ä¸»é¡µé¢åˆ†ç¦»ï¼Œå¹¶ä¸”æ— æ³•åœ¨ä¸¤è€…ä¹‹é—´é€šä¿¡( <code>SVG</code> æ¸²æŸ“è¿‡ç¨‹ä¸ä¸»é¡µé¢ç‹¬ç«‹)ã€‚ä¸»é¡µé¢ä¸Šçš„æ ·å¼å¯¹ <code>SVG</code> æ— æ•ˆï¼Œè¿è¡Œåœ¨ä¸»é¡µé¢ä¸Šçš„è„šæœ¬æ— æ³•æ„ŸçŸ¥æˆ–è€…ä¿®æ”¹ <code>SVG</code> æ–‡æ¡£ç»“æ„ã€‚</strong></p>\n<p>åœ¨ <code>CSS</code> ä¸­åŒ…å« <code>SVG</code>ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ <code>background-image</code> å±æ€§ï¼Œåº”è¯¥é¿å… <code>SVG</code> å…ƒç´ æ–‡ä»¶å¤ªå¤§ã€‚</p>\n<h3 id=\"2-å°†SVGä½œä¸ºåº”ç”¨ç¨‹åº\"><a href=\"#2-å°†SVGä½œä¸ºåº”ç”¨ç¨‹åº\" class=\"headerlink\" title=\"2. å°†SVGä½œä¸ºåº”ç”¨ç¨‹åº\"></a>2. å°†SVGä½œä¸ºåº”ç”¨ç¨‹åº</h3><p>ä½¿ç”¨ <code>object</code> å…ƒç´ å°† <code>SVG</code> åµŒå…¥ <code>HTML</code> æ–‡æ¡£ä¸­ï¼Œ<code>object</code>å…ƒç´ çš„ <code>type</code> å±æ€§è¡¨ç¤ºè¦åµŒå…¥çš„æ–‡æ¡£ç±»å‹ï¼Œå¯¹ç”¨ <code>SVG</code> åº”è¯¥æ˜¯<code>type=&quot;image/svg+xml&quot;</code>ã€‚<code>object</code> å…ƒç´ å¿…é¡»æœ‰èµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ï¼Œè¿™ä¸¤ä¸ªæ ‡ç­¾ä¹‹é—´çš„å†…å®¹ä¸ºå¯¹è±¡æ•°æ®æœ¬èº«ä¸èƒ½è¢«æ¸²æŸ“æ—¶æ˜¾ç¤ºã€‚</p>\n<h2 id=\"ä¸‰ã€åæ ‡ç³»ç»Ÿ\"><a href=\"#ä¸‰ã€åæ ‡ç³»ç»Ÿ\" class=\"headerlink\" title=\"ä¸‰ã€åæ ‡ç³»ç»Ÿ\"></a>ä¸‰ã€åæ ‡ç³»ç»Ÿ</h2><h3 id=\"1-è§†å£\"><a href=\"#1-è§†å£\" class=\"headerlink\" title=\"1. è§†å£\"></a>1. è§†å£</h3><p>è§†å£æ˜¯æŒ‡æ–‡æ¡£æ‰“ç®—ä½¿ç”¨çš„ç”»å¸ƒåŒºåŸŸã€‚åœ¨ <code>svg</code> å…ƒç´ ä¸Šä½¿ç”¨ <code>width</code> å’Œ <code>height</code> å±æ€§ç¡®å®šè§†å£çš„å¤§å°ï¼Œå±æ€§å€¼å¯ä»¥ä»…ä»…æ˜¯ä¸ºæ•°å­—ä¹Ÿå¯ä»¥ä¸ºå¸¦å•ä½çš„æ•°å­—(å•ä½å¯ä»¥ä¸º<code>em</code>ã€<code>ex</code>ã€<code>px</code>ã€<code>pt</code>ã€<code>pc</code>ã€<code>cm</code>ã€<code>mm</code> å’Œ <code>in</code>)ä¹Ÿå¯ä»¥ä¸ºç™¾åˆ†æ¯”ã€‚</p>\n<h3 id=\"2-é»˜è®¤ç”¨æˆ·åæ ‡\"><a href=\"#2-é»˜è®¤ç”¨æˆ·åæ ‡\" class=\"headerlink\" title=\"2. é»˜è®¤ç”¨æˆ·åæ ‡\"></a>2. é»˜è®¤ç”¨æˆ·åæ ‡</h3><p><code>SVG</code> é˜…è¯»å™¨ä¼šè®¾ç½®ä¸€ä¸ªåæ ‡ç³»ç»Ÿï¼Œå³åŸç‚¹ <code>(0,0)</code> ä½äºè§†å£çš„å·¦ä¸Šè§’ï¼Œ<code>x</code> å‘å³é€’å¢ï¼Œ<code>y</code> å‘ä¸‹é€’å¢ã€‚è¿™ä¸ªåæ ‡ç³»ç»Ÿæ˜¯ä¸€ä¸ªçº¯ç²¹çš„å‡ ä½•ç³»ç»Ÿï¼Œç‚¹æ²¡æœ‰å¤§å°ï¼Œç½‘æ ¼çº¿è¢«è®¤ä¸ºæ˜¯æ— é™ç»†ã€‚</p>\n<p>åœ¨ <code>SVG</code> ä¸­æŒ‡å®šå•ä½å¹¶ä¸ä¼šå½±å“å…¶ä»–å…ƒç´ ä¸­ç»™å®šå•ä½çš„åæ ‡ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>SVG</code> æ–‡æ¡£ä¸­å„ä¸ªå…ƒç´ çš„å•ä½å¯ä»¥ä¸ç»Ÿä¸€ã€‚</p>\n<h3 id=\"3-æŒ‡å®šç”¨æˆ·åæ ‡\"><a href=\"#3-æŒ‡å®šç”¨æˆ·åæ ‡\" class=\"headerlink\" title=\"3. æŒ‡å®šç”¨æˆ·åæ ‡\"></a>3. æŒ‡å®šç”¨æˆ·åæ ‡</h3><p>æ‘’å¼ƒé˜…è¯»å™¨è®¾ç½®çš„é»˜è®¤ç”¨æˆ·åæ ‡ï¼Œå¯ä»¥è‡ªå·±ä¸ºè§†å£è®¾ç½®ä¸€ä¸ªç”¨æˆ·åæ ‡ã€‚é€šè¿‡åœ¨ <code>svg</code> å…ƒç´ ä¸Šè®¾ç½® <code>viewBox</code> å±æ€§ã€‚</p>\n<p><code>viewBox</code> å±æ€§ç”± <code>4</code> ä¸ªæ•°å€¼ç»„æˆï¼Œåˆ†åˆ«ä»£è¡¨è¦å åŠ åœ¨è§†å£ä¸Šçš„æœ€å° <code>x</code>ã€æœ€å° <code>y</code>ï¼Œå®½åº¦ã€é«˜åº¦ã€‚</p>\n<p>æ—¢ç„¶å¯ä»¥å¯¹ <code>svg</code> è‡ªå®šä¹‰ç”¨æˆ·åæ ‡ï¼Œé‚£ä¹ˆè‚¯å®šè¦è§£å†³ <code>svg</code> è§†å£é•¿å®½æ¯”ä¾‹å’Œ <code>viewBox</code> å®šä¹‰çš„é•¿å®½æ¯”ä¾‹ä¸åŒçš„é—®é¢˜ä»¥åŠå¦‚ä½•å¯¹é½é—®é¢˜ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ <code>preserveAspectRatio</code> å±æ€§äº†ã€‚</p>\n<p>å¦‚æœ <code>viewBox</code> çš„é•¿å®½æ¯”ä¾‹ä¸è§†å£çš„é•¿å®½æ¯”ä¾‹ä¸åŒï¼Œé‚£ä¹ˆ <code>svg</code> å¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ç§é€‰æ‹©ï¼š</p>\n<ul>\n<li>æŒ‰è¾ƒå°çš„å°ºå¯¸ç­‰æ¯”ä¾‹ç¼©æ”¾å›¾å½¢ï¼Œä½¿å›¾å½¢å®Œå…¨å¡«å……è§†å£</li>\n<li>æŒ‰è¾ƒå¤§çš„å°ºå¯¸ç­‰æ¯”ä¾‹ç¼©æ”¾å›¾å½¢ï¼Œç—…è£å‡æ‰è¶…å‡ºè§†å£çš„éƒ¨åˆ†</li>\n<li>æ‹‰ä¼¸å’Œå‹ç¼©ç»˜å›¾ä»¥ä½¿å…¶æ°å¥½å¡«å……è§†å£</li>\n</ul>\n<figure class=\"highlight autohotkey\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs autohotkey\">preserveAspectRatio` å±æ€§å…è®¸æŒ‡å®šè¢«ç¼©æ”¾çš„å›¾å½¢ç›¸å¯¹è§†å£çš„å¯¹é½æ–¹å¼,æ ¼å¼ä¸º `preserveAspectRatio = <span class=\"hljs-string\">&quot;alignment[meet|slice]&quot;</span><br></code></pre></td></tr></table></figure>\n\n<p>é»˜è®¤å€¼ä¸º <code>&quot;xMidYMid meet&quot;</code></p>\n<p><code>alignment</code>æŒ‡å®šè½´å’Œä½ç½®ï¼Œ<code>x</code> å’Œ <code>y</code> æ–¹å‘éƒ½æœ‰ <code>min</code>, <code>mid</code>, <code>max</code> ä¸‰ç§æ–¹å¼ï¼Œåˆ†åˆ«è¡¨ç¤º <code>x</code> å’Œ <code>y</code> æ–¹å‘çš„å¯¹é½æ–¹å¼ï¼Œå¯¹é½æ–¹å¼ç”± <code>x</code> å’Œ <code>y</code> ç»„åˆæŒ‡å®šï¼Œå…± <code>9</code> ä¸­æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ <code>alignment</code> å…±æœ‰å¦‚ä¸‹ <code>9</code> ä¸ªå–å€¼ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>y\\x</th>\n<th>xMin</th>\n<th>xMid</th>\n<th>xMax</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>yMin</strong></td>\n<td>xMinYMin</td>\n<td>xMidYMin</td>\n<td>xMaxYMin</td>\n</tr>\n<tr>\n<td><strong>yMid</strong></td>\n<td>xMinYMid</td>\n<td>xMidYMid</td>\n<td>xMaxYMid</td>\n</tr>\n<tr>\n<td><strong>yMax</strong></td>\n<td>xMinYMax</td>\n<td>xMidYMax</td>\n<td>xMaxYMax</td>\n</tr>\n</tbody></table>\n<p><code>meet</code> è¯´æ˜ç¬¦åœ¨å›¾å½¢è¶…å‡ºè§†å£æ—¶å€™ä¼šå¯¹å›¾å½¢é€‚å½“ç¼©å°è°ƒæ•´é€‚é…å¯ç”¨çš„ç©ºé—´</p>\n<p><code>slice</code> è¯´æ˜ç¬¦ç›´æ¥è£å‰ªè¶…å‡ºè§†å£çš„éƒ¨åˆ†</p>\n<p>é™¤äº†ä¸Šè¿°æ“ä½œä¹‹å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®š <code>preserveAspectRatio=&quot;none&quot;</code>ï¼Œç”¨äºåœ¨ <code>viewBox</code> å’Œè§†å£å®½é«˜æ¯”ä¸åŒæ—¶ç¼©æ”¾å›¾åƒï¼Œæ­¤æ—¶å›¾åƒä¸ä¼šè¢«ç­‰æ¯”ä¾‹ç¼©æ”¾ï¼Œä¼šè¢«æ‹‰ä¼¸ã€æŒ¤å‹ã€å˜å½¢ã€‚</p>\n<h3 id=\"4-åµŒå¥—åæ ‡ç³»ç»Ÿ\"><a href=\"#4-åµŒå¥—åæ ‡ç³»ç»Ÿ\" class=\"headerlink\" title=\"4. åµŒå¥—åæ ‡ç³»ç»Ÿ\"></a>4. åµŒå¥—åæ ‡ç³»ç»Ÿ</h3><p>å¯ä»¥å°†å¦ä¸€ä¸ª <code>svg</code> å…ƒç´ æ’å…¥åˆ°æ–‡æ¡£ä¸­æ¥å»ºç«‹ä¸€ä¸ªæ–°çš„è§†å£å’Œåæ ‡ç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ <code>svg</code> ä¸­å¯ä»¥åµŒå¥—å¦ä¸€ä¸ª <code>svg</code>ï¼Œæ¯ä¸ª <code>svg</code> éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„è§†å£å’Œåæ ‡ç³»ç»Ÿ</p>\n<h2 id=\"å››ã€åŸºæœ¬å½¢çŠ¶\"><a href=\"#å››ã€åŸºæœ¬å½¢çŠ¶\" class=\"headerlink\" title=\"å››ã€åŸºæœ¬å½¢çŠ¶\"></a>å››ã€åŸºæœ¬å½¢çŠ¶</h2><h3 id=\"1-çº¿æ®µ\"><a href=\"#1-çº¿æ®µ\" class=\"headerlink\" title=\"1. çº¿æ®µ\"></a>1. çº¿æ®µ</h3><p><code>line</code> å…ƒç´ ï¼Œä½¿ç”¨ <code>x1</code>, <code>y1</code>, <code>x2</code>, <code>y2</code> å±æ€§æŒ‡å®šçº¿æ®µçš„èµ·æ­¢ç‚¹åæ ‡ã€‚æœ‰å¦‚ä¸‹ç‰¹æ€§:</p>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>stroke-width</code></td>\n<td>ç¬”ç”»å®½åº¦ï¼Œåæ ‡ç½‘æ ¼çº¿ä½äºç¬”ç”»çš„æ­£ä¸­é—´ï¼Œå¯ä»¥ä½¿ç”¨ <code>css</code> çš„ <code>shape-rendering</code> å€¼æ¥æ§åˆ¶åé”¯é½¿ç‰¹æ€§</td>\n</tr>\n<tr>\n<td><code>stroke</code></td>\n<td>ç¬”ç”»é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stroke-opacity</code></td>\n<td>çº¿æ¡çš„ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>stroke-dasharray</code></td>\n<td>è™šçº¿ï¼Œç”±ä¸€ç³»åˆ—æ•°å­—ç»„æˆï¼Œæ•°å­—ä¸ªæ•°ä¸ºå¶æ•°(è´Ÿè´£ä¼šè‡ªåŠ¨é‡å¤ä¸€éä½¿å…¶ä¸ºå¶æ•°),è¡¨ç¤ºçº¿é•¿-é—´éš™-çº¿é•¿-é—´éš™â€¦</td>\n</tr>\n</tbody></table>\n<h3 id=\"2-çŸ©å½¢\"><a href=\"#2-çŸ©å½¢\" class=\"headerlink\" title=\"2. çŸ©å½¢\"></a>2. çŸ©å½¢</h3><p><code>rect</code>å…ƒç´ ï¼Œä½¿ç”¨<code>x</code>,<code>y</code>,<code>width</code>,<code>height</code>è¡¨ç¤ºä¸€ä¸ªçŸ©å½¢</p>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>fill</code></td>\n<td>å¡«å……é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>fill-opacity</code></td>\n<td>å¡«å……ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>stroke</code></td>\n<td>è¾¹æ¡†é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stroke-width</code></td>\n<td>è¾¹æ¡†å®½åº¦ï¼Œè¾¹æ¡†æ˜¯éª‘åœ¨çŸ©å½¢è¾¹ç•Œä¸Šçš„ï¼Œä¸€åŠåœ¨çŸ©å½¢å¤–ï¼Œä¸€åŠåœ¨çŸ©å½¢å†…</td>\n</tr>\n<tr>\n<td><code>rx</code>/<code>ry</code></td>\n<td>åœ†è§’çŸ©å½¢ï¼Œæœ€å¤§å€¼ä¸ºçŸ©å½¢å®½/é«˜çš„ä¸€åŠï¼Œå¦‚æœåªæŒ‡å®šäº†ä¸€ä¸ªï¼Œåˆ™è®¤ä¸ºä¸¤ä¸ªéƒ½ä¸ºç›¸åŒçš„å€¼</td>\n</tr>\n</tbody></table>\n<h3 id=\"3-åœ†å’Œæ¤­åœ†\"><a href=\"#3-åœ†å’Œæ¤­åœ†\" class=\"headerlink\" title=\"3. åœ†å’Œæ¤­åœ†\"></a>3. åœ†å’Œæ¤­åœ†</h3><p><code>circle</code> å…ƒç´ è¡¨ç¤ºåœ†,ç”± <code>cx</code>,<code>cy</code>,<code>r</code> å±æ€§ç•Œå®š <code>ellipse</code> å…ƒç´ è¡¨ç¤ºæ¤­åœ†,ç”± <code>cx</code>,<code>cy</code>,<code>rx</code>,<code>ry</code> ç•Œå®š</p>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>fill</code></td>\n<td>å¡«å……é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>fill-opacity</code></td>\n<td>å¡«å……ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>stroke</code></td>\n<td>è¾¹æ¡†é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stroke-width</code></td>\n<td>è¾¹æ¡†å®½åº¦ï¼Œè¾¹æ¡†æ˜¯éª‘åœ¨åœ†çš„è¾¹ç•Œä¸Šçš„ï¼Œä¸€åŠåœ¨åœ†/æ¤­åœ†å¤–ï¼Œä¸€åŠåœ¨åœ†/æ¤­åœ†å†…</td>\n</tr>\n</tbody></table>\n<h3 id=\"4-å¤šè¾¹å½¢\"><a href=\"#4-å¤šè¾¹å½¢\" class=\"headerlink\" title=\"4. å¤šè¾¹å½¢\"></a>4. å¤šè¾¹å½¢</h3><p><code>polygon</code> å…ƒç´ æŒ‡å®šä¸€ä¸ªå¤šè¾¹å½¢,ç”± <code>points</code> å±æ€§æŒ‡å®šçš„ä¸€ç³»åˆ—åæ ‡ç‚¹ç•Œå®šï¼Œä¼šè‡ªåŠ¨å°é—­</p>\n<table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>fill</code></td>\n<td>å¡«å……é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>fill-opacity</code></td>\n<td>å¡«å……ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>stroke</code></td>\n<td>è¾¹æ¡†é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stroke-width</code></td>\n<td>è¾¹æ¡†å®½åº¦</td>\n</tr>\n<tr>\n<td><code>fill-rule</code></td>\n<td>å¡«å……è§„åˆ™ï¼Œå¦‚æœå¤šè¾¹å½¢çš„è¾¹æœ‰äº¤å‰æ—¶ï¼Œéœ€è¦æŒ‡å®šï¼Œå¯ä»¥å– <code>mozero</code>(é»˜è®¤)å’Œ <code>evenodd</code> ä¸¤ä¸ªå€¼ã€‚</td>\n</tr>\n</tbody></table>\n<p><code>fill-rule</code> å€¼ä¸º <code>nonzero</code> æ—¶çš„åŸç†:åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯åœ¨å¤šè¾¹å½¢å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨æ—¶ï¼Œä»è¿™ä¸ªç‚¹ç”»ä¸€æ¡åˆ°æ— ç©·è¿œçš„å°„çº¿ï¼Œç„¶åæ•°è¿™ä¸ªçº¿å’Œå¤šè¾¹å½¢çš„è¾¹æœ‰å¤šå°‘æ¬¡äº¤å‰ã€‚å¦‚æœäº¤å‰çš„è¾¹çº¿æ˜¯ä»å³å¾€å·¦ç”»ï¼Œåˆ™æ€»æ•°åŠ  <code>1</code>ï¼Œå¦‚æœæ˜¯ä»å·¦å¾€å³åˆ™æ€»æ•°å‡ <code>1</code>. å¦‚æœæœ€åæ€»æ•°ä¸º <code>0</code> åˆ™è®¤ä¸ºæ”¹ç‚¹åœ¨å›¾å½¢å¤–éƒ¨ï¼Œå¦åˆ™åœ¨å†…éƒ¨ã€‚</p>\n<p><code>fill-rule</code> å€¼ä¸º <code>evenodd</code> æ—¶åªæ•°å°„çº¿ä¸å¤šè¾¹å½¢è¾¹çš„äº¤å‰æ¬¡æ•°ï¼Œå¦‚æœä¸ºå¥‡æ•°åˆ™è®¤ä¸ºåœ¨å¤šè¾¹å½¢å†…éƒ¨ï¼Œå¦åˆ™è®¤ä¸ºåœ¨å¤šè¾¹å½¢å¤–éƒ¨ã€‚</p>\n<h3 id=\"5-æŠ˜çº¿\"><a href=\"#5-æŠ˜çº¿\" class=\"headerlink\" title=\"5. æŠ˜çº¿\"></a>5. æŠ˜çº¿</h3><p><code>polyline</code> å…ƒç´ è¡¨ç¤ºä¸€ä¸ªæŠ˜çº¿ï¼Œä½¿ç”¨ <code>points</code> å±æ€§æŒ‡å®šä¸€ç³»åˆ—ç‚¹ï¼Œä¸è‡ªåŠ¨å°é—­å›¾å½¢ã€‚</p>\n<h3 id=\"6-ç‰¹æ€§æ€»ç»“\"><a href=\"#6-ç‰¹æ€§æ€»ç»“\" class=\"headerlink\" title=\"6. ç‰¹æ€§æ€»ç»“\"></a>6. ç‰¹æ€§æ€»ç»“</h3><table>\n<thead>\n<tr>\n<th>ç‰¹æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>stroke</code></td>\n<td>ç¬”ç”»é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stroke-width</code></td>\n<td>ç¬”ç”»å®½åº¦</td>\n</tr>\n<tr>\n<td><code>stroke-opacity</code></td>\n<td>ç¬”ç”»ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>stroke-dasharray</code></td>\n<td>è™šçº¿ç¬”ç”»</td>\n</tr>\n<tr>\n<td><code>stroke-linecap</code></td>\n<td>ç¬”ç”»å¤´çš„å½¢çŠ¶ <code>butt</code>(é»˜è®¤),<code>round</code>,<code>square</code></td>\n</tr>\n<tr>\n<td><code>stroke-linejoin</code></td>\n<td>å›¾å½¢æ£±è§’ï¼Œæœ‰<code>miter</code>(é»˜è®¤),<code>round</code>å’Œ<code>bevel</code>ä¸‰ä¸ªå–å€¼</td>\n</tr>\n<tr>\n<td><code>stroke-miterlimit</code></td>\n<td>ç›¸äº¤å¤„æ˜¾ç¤ºå®½åº¦ä¸çº¿å®½çš„æœ€å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º<code>4</code></td>\n</tr>\n<tr>\n<td><code>fill</code></td>\n<td>å¡«å……é¢œè‰² é»˜è®¤<code>black</code></td>\n</tr>\n<tr>\n<td><code>fill-opacity</code></td>\n<td>å¡«å……ä¸é€æ˜åº¦</td>\n</tr>\n<tr>\n<td><code>fill-rule</code></td>\n<td>å¡«å……è§„åˆ™</td>\n</tr>\n</tbody></table>\n<h2 id=\"äº”ã€æ–‡æ¡£ç»“æ„\"><a href=\"#äº”ã€æ–‡æ¡£ç»“æ„\" class=\"headerlink\" title=\"äº”ã€æ–‡æ¡£ç»“æ„\"></a>äº”ã€æ–‡æ¡£ç»“æ„</h2><h3 id=\"1-ç»“æ„å’Œè¡¨ç°\"><a href=\"#1-ç»“æ„å’Œè¡¨ç°\" class=\"headerlink\" title=\"1. ç»“æ„å’Œè¡¨ç°\"></a>1. ç»“æ„å’Œè¡¨ç°</h3><p><code>SVG</code> å…è®¸æ–‡æ¡£è¡¨ç°å’Œæ–‡æ¡£ç»“æ„åˆ†ç¦»ï¼Œ<code>SVG</code> æ”¯æŒå››ç§æ–¹å¼æŒ‡å®šè¡¨ç°ä¿¡æ¯ï¼šå†…è”æ ·å¼ã€å†…éƒ¨æ ·å¼è¡¨ã€å¤–éƒ¨æ ·å¼è¡¨ä»¥åŠè¡¨ç°å±æ€§</p>\n<table>\n<thead>\n<tr>\n<th>è¡¨ç°æ–¹å¼</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>å†…è”æ ·å¼</td>\n<td>å…ƒç´ å†…éƒ¨ä½¿ç”¨ <code>style</code> å±æ€§</td>\n</tr>\n<tr>\n<td>å†…éƒ¨æ ·å¼è¡¨</td>\n<td>å†…éƒ¨æ ·å¼å®šä¹‰åœ¨ <code>defs</code> å…ƒç´ å†…éƒ¨</td>\n</tr>\n<tr>\n<td>å¤–éƒ¨æ ·å¼è¡¨</td>\n<td>ä¸ <code>html</code> ç±»ä¼¼ï¼Œå°†æ ·å¼å®šä¹‰åœ¨ <code>css</code> æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨é€‰æ‹©å™¨æ¥è®¾ç½®ç›¸åº”çš„å…ƒç´ æ ·å¼</td>\n</tr>\n<tr>\n<td>è¡¨ç°å±æ€§</td>\n<td><code>SVG</code> å…è®¸ä»¥å±æ€§çš„å½¢å¼æŒ‡å®šè¡¨ç°æ ·å¼ï¼Œä½†æ˜¯<strong>è¡¨ç°å±æ€§çš„ä¼˜å…ˆçº§æœ€ä½</strong>ï¼Œå¦‚æœä»¥å…¶ä»–ä¸‰ç§å½¢å¼æŒ‡å®šäº†ç›¸åŒçš„æ ·å¼å±æ€§ï¼Œåˆ™å°†è¦†ç›–é€šè¿‡è¡¨ç°å±æ€§æŒ‡å®šçš„æ ·å¼</td>\n</tr>\n</tbody></table>\n<p>å†…éƒ¨æ ·å¼è¡¨ç¤ºä¾‹ï¼š</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">svg</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;200px&quot;</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">&quot;200px&quot;</span> <span class=\"hljs-attr\">xmlns</span>=<span class=\"hljs-string\">&quot;http://www.w3.org/2000/svg&gt;</span></span><br><span class=\"hljs-string\"><span class=\"hljs-tag\">    &lt;defs&gt;</span></span><br><span class=\"hljs-string\"><span class=\"hljs-tag\">        &lt;style type=&quot;</span><span class=\"hljs-attr\">text</span>/<span class=\"hljs-attr\">css</span>&quot;&gt;</span>&lt;![CDATA[<br>            circle&#123;<br>                fill:#ccc<br>            &#125;<br>        ]]&gt;<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">style</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">defs</span>&gt;</span><br>    <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">circle</span> <span class=\"hljs-attr\">cx</span>=<span class=\"hljs-string\">&quot;10&quot;</span> <span class=\"hljs-attr\">cy</span>=<span class=\"hljs-string\">&quot;10&quot;</span> <span class=\"hljs-attr\">r</span>=<span class=\"hljs-string\">&quot;5&quot;</span>/&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">svg</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-åˆ†ç»„å’Œå¼•ç”¨\"><a href=\"#2-åˆ†ç»„å’Œå¼•ç”¨\" class=\"headerlink\" title=\"2. åˆ†ç»„å’Œå¼•ç”¨\"></a>2. åˆ†ç»„å’Œå¼•ç”¨</h3><p><code>g</code> å…ƒç´ ç”¨æ¥å°†å…¶å­å…ƒç´ ä½œä¸ºä¸€ä¸ªç»„åˆï¼Œå¯ä»¥ä½¿æ–‡æ¡£ç»“æ„æ›´æ¸…æ™°ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œåœ¨gæ ‡ç­¾ä¸­æŒ‡å®šçš„æ‰€æœ‰æ ·å¼ä¼šåº”ç”¨äºç»„åˆå†…çš„æ‰€æœ‰å­å…ƒç´ ï¼Œå¯ä»¥ä¸ç”¨åœ¨æ‰€æœ‰å­å…ƒç´ ä¸ŠæŒ‡å®šå±æ€§ã€‚</p>\n<p><code>use</code> å…ƒç´ ç”¨æ¥å¤ç”¨å›¾å½¢ä¸­é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œéœ€è¦ä¸º <code>use</code> æ ‡ç­¾çš„ <code>xlink:href</code> æŒ‡å®š <code>URI</code> æ¥å¼•ç”¨æŒ‡å®šçš„å›¾å½¢å…ƒç´ ã€‚åŒæ—¶è¿˜è¦æŒ‡å®š<code>x</code>å’Œ<code>y</code>å±æ€§ä»¥è¡¨ç¤ºç»„åˆåº”è¯¥ç§»åŠ¨åˆ°å“ªä¸ªä½ç½®ã€‚<code>use</code>å…ƒç´ å¹¶ä¸é™åˆ¶åªèƒ½ä½¿ç”¨åŒä¸€ä¸ªæ–‡ä»¶å†…çš„å¯¹è±¡ï¼Œ<code>xlink:href</code>å±æ€§å¯ä»¥æŒ‡å®šä»»ä½•æœ‰æ•ˆçš„æ–‡ä»¶æˆ–<code>URI</code>ã€‚</p>\n<p><code>defs</code>å…ƒç´ ç”¨æ¥å®šä¹‰å¤ç”¨çš„å…ƒç´ ï¼Œä½†æ˜¯å®šä¹‰åœ¨<code>defs</code>å†…çš„å…ƒç´ å¹¶ä¸ä¼šè¢«æ˜¾ç¤ºï¼Œè€Œæ˜¯ä½œä¸ºæ¨¡æ¿ä¾›å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚</p>\n<p><code>symbol</code>å…ƒç´ ä¸gå…ƒç´ ä¸åŒï¼Œ<code>symbol</code>æ°¸è¿œä¸ä¼šè¢«æ˜¾ç¤ºï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æŒ‡å®šè¢«åç»­ä½¿ç”¨çš„å…ƒç´ ï¼Œ<code>symbol</code>å…ƒç´ å¯ä»¥æŒ‡å®š <code>viewBox</code> å’Œ<code>preserveAspectRatio</code> å±æ€§ã€‚åœ¨å¼•ç”¨æ—¶é€šè¿‡ä¸º <code>use</code> å…ƒç´ æŒ‡å®š <code>width</code> å’Œ <code>height</code> å±æ€§å°±å¯ä»¥è®© <code>symbol</code> å…ƒç´ é€‚é…è§†å£å¤§å°ã€‚</p>\n<p><code>image</code> å¯ä»¥ç”¨æ¥åŒ…å«ä¸€ä¸ªå®Œæ•´çš„ <code>SVG</code> æˆ–æ …æ ¼æ–‡ä»¶ã€‚å¦‚æœåŒ…å«ä¸€ä¸ª <code>SVG</code> æ–‡ä»¶ï¼Œåˆ™è§†å£ä¼šåŸºäºå¼•ç”¨çš„æ–‡ä»¶çš„ <code>x</code>,<code>y</code>,<code>width</code>,<code>height</code> å±æ€§æ¥å»ºç«‹ã€‚å¦‚æœåŒ…å«æ …æ ¼æ–‡ä»¶åˆ™ä¼šè¢«ç¼©æ”¾ä»¥é€‚é…è¯¥å±æ€§æŒ‡å®šçš„çŸ©å½¢ã€‚</p>\n<p><code>SVG</code>è§„èŒƒè¦æ±‚ <code>SVG</code> é˜…è¯»å™¨æ”¯æŒ <code>JPEG</code> å’Œ <code>PNG</code> ä¸¤ç§æ …æ ¼æ–‡ä»¶ã€‚</p>\n<h2 id=\"å…­ã€åæ ‡ç³»ç»Ÿå˜æ¢\"><a href=\"#å…­ã€åæ ‡ç³»ç»Ÿå˜æ¢\" class=\"headerlink\" title=\"å…­ã€åæ ‡ç³»ç»Ÿå˜æ¢\"></a>å…­ã€åæ ‡ç³»ç»Ÿå˜æ¢</h2><h3 id=\"1-translateå˜æ¢\"><a href=\"#1-translateå˜æ¢\" class=\"headerlink\" title=\"1. translateå˜æ¢\"></a>1. translateå˜æ¢</h3><p><code>translate</code> å˜æ¢ç”¨æ¥å¯¹ç”¨æˆ·åæ ‡è¿›è¡Œå¹³ç§»ï¼Œé€šè¿‡åˆ¶å®š <code>transform</code> å±æ€§å€¼æ¥è®¾ç½®: <code>transform = &quot;translate(x,y)&quot;</code>ã€‚</p>\n<p><code>translate</code> å·¥ä½œåŸç†:é¦–å…ˆè·å–æ•´ä¸ªç½‘ç»œï¼Œç„¶åå°†å…¶ç§»åŠ¨åˆ°ç”»å¸ƒçš„æ–°ä½ç½®è€Œä¸æ˜¯ç§»åŠ¨æ‰€åœ¨çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´ç§»åŠ¨çš„æ˜¯æ•´ä¸ªåæ ‡ç³»ç»Ÿè€Œä¸æ˜¯å…ƒç´ æœ¬èº«ã€‚çœ‹ä¼¼æ¯”ç§»åŠ¨å…ƒç´ å¤æ‚ï¼Œå…¶å®åœ¨ä½¿ç”¨å…¶ä»–ä¸€ç³»åˆ—å˜æ¢æ—¶ï¼Œè¿™ç§ç§»åŠ¨æ•´ä¸ªåæ ‡ç³»çš„æ–¹æ³•ä»æ•°å­¦å’Œæ¦‚å¿µä¸Šè®²ï¼Œæ›´æ–¹ä¾¿ã€‚</p>\n<h3 id=\"2-scaleå˜æ¢\"><a href=\"#2-scaleå˜æ¢\" class=\"headerlink\" title=\"2. scaleå˜æ¢\"></a>2. scaleå˜æ¢</h3><p>ç¼©æ”¾åæ ‡ç³»ç»Ÿã€‚<code>transform = &quot;scale(value)&quot;</code> æˆ–è€… <code>transform=&quot;scale(x-value,y-value)&quot;</code>ã€‚</p>\n<p>ä»…ä»…ä½¿ç”¨ <code>scale(n)</code> å˜æ¢æ—¶ï¼Œç½‘æ ¼ç³»ç»Ÿçš„åŸç‚¹ä½ç½®å¹¶æ²¡æœ‰å˜åŒ–ï¼Œåªæ˜¯æ¯ä¸ªç”¨æˆ·åæ ‡éƒ½å˜æˆäº†åŸæ¥çš„ <code>n</code> å€ï¼Œä¹Ÿå°±æ˜¯ç½‘æ ¼å˜å¤§äº†ï¼Œå› æ­¤çº¿ä¹Ÿä¼šå˜ç²—(ç”¨æˆ·å•ä½å¹¶æ²¡æœ‰å˜)ã€‚</p>\n<p><em>æŠ€å·§ï¼šå¦‚æœä»å…¶ä»–ç³»ç»Ÿä¼ è¾“æ•°æ®åˆ° <code>SVG</code>ï¼Œåˆ™å¯èƒ½å¿…é¡»å¤„ç†ä½¿ç”¨ç¬›å¡å°”åæ ‡è¡¨ç¤ºçš„çŸ¢é‡å›¾å½¢ï¼Œåœ¨ç¬›å¡å°”åæ ‡ç³»ç»Ÿä¸­ï¼ŒåŸç‚¹ä½äºå·¦ä¸‹è§’ï¼Œ<code>y</code>å‘ä¸Šé€’å¢ï¼Œ<code>x</code>å‘å³é€’å¢ã€‚è€Œ <code>SVG</code> åæ ‡åŸç‚¹ä½äºå·¦ä¸Šè§’ï¼Œæ­¤æ—¶ä½¿ç”¨ <code>scale(1,-1)</code> å°±å¯ä»¥å®Œæˆä¸¤è€…ä¹‹é—´çš„è½¬æ¢ã€‚</em></p>\n<p><strong>ç¼©æ”¾å˜æ¢æ°¸è¿œä¸ä¼šæ”¹å˜å›¾å½¢å¯¹è±¡çš„ç½‘æ ¼åæ ‡æˆ–è€…ç¬”ç”»å®½åº¦ï¼Œä»…ä»…æ”¹å˜å¯¹åº”ç”»å¸ƒä¸Šçš„åæ ‡ç³»ç»Ÿç½‘æ ¼çš„å¤§å°ã€‚</strong></p>\n<h3 id=\"3-rotateå˜æ¢\"><a href=\"#3-rotateå˜æ¢\" class=\"headerlink\" title=\"3. rotateå˜æ¢\"></a>3. rotateå˜æ¢</h3><p>æ ¹æ®æŒ‡å®šçš„è§’åº¦æ—‹è½¬åæ ‡ç³»ç»Ÿï¼Œé»˜è®¤çš„åæ ‡ç³»ç»Ÿä¸­ï¼Œè§’åº¦çš„æµ‹é‡é¡ºæ—¶é’ˆå¢åŠ ï¼Œ<code>0</code> åº¦ä¸º <code>3</code> ç‚¹é’Ÿæ–¹å‘ã€‚</p>\n<p>æ³¨æ„ï¼Œé™¤éå¦è¡ŒæŒ‡å®šï¼Œå¦åˆ™æ—‹è½¬ä»¥åŸç‚¹ä¸ºä¸­å¿ƒã€‚ æ­¤æ—¶å¯ä»¥é€šè¿‡å¹³ç§»+æ—‹è½¬çš„æ–¹å¼æ¥æŒ‡å®šæ—‹è½¬ä¸­å¿ƒï¼š <code>translate(centerX,centerY) rotate(angle) translate(-centerX,-centerY)</code></p>\n<p>ä½†æ˜¯æœ‰ä¸ªæ›´ç®€å•çš„æ–¹å¼ï¼š<code>rotate(angle,centerX,centerY)</code></p>\n<h3 id=\"4-å›´ç»•ä¸­å¿ƒç‚¹ç¼©æ”¾\"><a href=\"#4-å›´ç»•ä¸­å¿ƒç‚¹ç¼©æ”¾\" class=\"headerlink\" title=\"4. å›´ç»•ä¸­å¿ƒç‚¹ç¼©æ”¾\"></a>4. å›´ç»•ä¸­å¿ƒç‚¹ç¼©æ”¾</h3><p>ä¸Šé¢æåˆ°ï¼Œç¼©æ”¾é»˜è®¤æ˜¯ä»¥åŸç‚¹ä¸ºåŸºå‡†çš„ï¼Œè¿™æ˜¾ç„¶ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼æŒ‡å®šç¼©æ”¾ä¸­å¿ƒï¼š</p>\n<figure class=\"highlight maxima\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs maxima\"><span class=\"hljs-built_in\">translate</span>(-centerX*(<span class=\"hljs-built_in\">factor</span>-<span class=\"hljs-number\">1</span>),-centerY*(<span class=\"hljs-built_in\">factor</span>-<span class=\"hljs-number\">1</span>)) <span class=\"hljs-built_in\">scale</span>(<span class=\"hljs-built_in\">factor</span>)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"5-skewXå’ŒskewYå˜æ¢\"><a href=\"#5-skewXå’ŒskewYå˜æ¢\" class=\"headerlink\" title=\"5. skewXå’ŒskewYå˜æ¢\"></a>5. skewXå’ŒskewYå˜æ¢</h3><p>è¿™ä¸¤ä¸ªå˜æ¢ç”¨æ¥å€¾æ–œæŸä¸ªè½´ï¼Œä¸€èˆ¬å½¢å¼ä¸º <code>skewX(angle),skewY(angle)</code>ã€‚è¿™æ ·çš„ç»“æœå°±æ˜¯ä½¿å¾— <code>x</code> è½´å’Œ <code>y</code> è½´ä¸å†å‚ç›´ã€‚</p>\n<h3 id=\"6-çŸ©é˜µå˜æ¢\"><a href=\"#6-çŸ©é˜µå˜æ¢\" class=\"headerlink\" title=\"6. çŸ©é˜µå˜æ¢\"></a>6. çŸ©é˜µå˜æ¢</h3><p>è®¡ç®—æœºå›¾å½¢å­¦ä¸­åæ ‡å˜æ¢éƒ½é€šè¿‡çŸ©é˜µæ¥å®ç°ï¼Œé™¤ä¸Šè¿°å˜æ¢æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥ä¸ºå˜æ¢æŒ‡å®šå˜æ¢çŸ©é˜µï¼Œå˜æ¢çŸ©é˜µä¸º <code>matrix(a,b,c,d,e,f)</code>ï¼Œæ­¤æ—¶æŒ‡å®šçš„å˜æ¢çŸ©é˜µä¸º:</p>\n<figure class=\"highlight text\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs text\">a  c  e<br>b  d  f<br>0  0  1<br></code></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸ƒã€è·¯å¾„\"><a href=\"#ä¸ƒã€è·¯å¾„\" class=\"headerlink\" title=\"ä¸ƒã€è·¯å¾„\"></a>ä¸ƒã€è·¯å¾„</h2><h3 id=\"1-pathå‘½ä»¤\"><a href=\"#1-pathå‘½ä»¤\" class=\"headerlink\" title=\"1. pathå‘½ä»¤\"></a>1. pathå‘½ä»¤</h3><p><code>SVG</code> ä¸­æ‰€æœ‰åŸºæœ¬å½¢çŠ¶éƒ½æ˜¯ <code>path</code> çš„ç®€å†™å½¢å¼ï¼Œä½†æ˜¯å»ºè®®ä½¿ç”¨ç®€å†™å½¢å¼ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ä½¿ <code>SVG</code> æ–‡æ¡£æ›´å¯è¯»ã€‚</p>\n<p><code>path</code> å…ƒç´ æ›´é€šç”¨ï¼Œå¯ä»¥é€šè¿‡åˆ¶å®šä¸€ç³»åˆ—ç›¸äº’è¿æ¥çš„çº¿ã€å¼§ã€æ›²çº¿æ¥ç»˜åˆ¶ä»»æ„å½¢çŠ¶çš„è½®å»“ï¼Œè¿™äº›è½®å»“ä¹Ÿå¯ä»¥å¡«å……æˆ–è€…ç»˜åˆ¶è½®å»“çº¿ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å®šä¹‰è£å‰ªåŒºåŸŸæˆ–è’™ç‰ˆã€‚</p>\n<p>ä¸‹è¡¨ä¸º <code>path</code> å‘½ä»¤æ€»ç»“ï¼Œå…¶ä¸­å¤§å†™è¡¨ç¤ºç»å¯¹åæ ‡ï¼Œå°å†™è¡¨ç¤ºç›¸å¯¹åæ ‡ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å‘½ä»¤</th>\n<th>å‚æ•°</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>M</code> <code>m</code></td>\n<td><code>x y</code></td>\n<td>ç§»åŠ¨ç”»ç¬”åˆ°åˆ¶å®šåæ ‡</td>\n</tr>\n<tr>\n<td><code>L</code> <code>l</code></td>\n<td><code>x y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®šåæ ‡çš„çº¿</td>\n</tr>\n<tr>\n<td><code>H</code> <code>h</code></td>\n<td><code>x</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®š <code>x</code> åæ ‡çš„æ¨ªçº¿</td>\n</tr>\n<tr>\n<td><code>V</code> <code>v</code></td>\n<td><code>y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡åˆ°ç»™å®š<code>y</code>åæ ‡çš„å‚çº¿</td>\n</tr>\n<tr>\n<td><code>A</code> <code>a</code></td>\n<td><code>rx ry x-axis-rotation large-arc sweep x y</code></td>\n<td>åœ†å¼§æ›²çº¿å‘½ä»¤æœ‰7ä¸ªå‚æ•°ï¼Œä¾æ¬¡è¡¨ç¤º<code>x</code>æ–¹å‘åŠå¾„ã€<code>y</code>æ–¹å‘åŠå¾„ã€æ—‹è½¬è§’åº¦ã€å¤§åœ†æ ‡è¯†ã€é¡ºé€†æ—¶é’ˆæ ‡è¯†ã€ç›®æ ‡ç‚¹<code>x</code>ã€ç›®æ ‡ç‚¹<code>y</code>ã€‚å¤§åœ†æ ‡è¯†å’Œé¡ºé€†æ—¶é’ˆä»¥<code>0</code>å’Œ<code>1</code>è¡¨ç¤ºã€‚<code>0</code>è¡¨ç¤ºå°åœ†ã€é€†æ—¶é’ˆ</td>\n</tr>\n<tr>\n<td><code>Q</code> <code>q</code></td>\n<td><code>x1 y1 x y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°<code>x, y</code>æ§åˆ¶ç‚¹ä¸º<code>x1, y1</code>çš„äºŒæ¬¡è´å¡å°”æ›²çº¿</td>\n</tr>\n<tr>\n<td><code>T</code> <code>t</code></td>\n<td><code>x y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°<code>x</code>,<code>y</code>çš„å…‰æ»‘äºŒæ¬¡è´å¡å°”æ›²çº¿ï¼Œæ§åˆ¶ç‚¹ä¸ºå‰ä¸€ä¸ª<code>Q</code>å‘½ä»¤çš„æ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å‰ä¸€æ¡åˆ™å·²å½“å‰ç‚¹ä¸ºæ§åˆ¶ç‚¹ã€‚</td>\n</tr>\n<tr>\n<td><code>C</code> <code>c</code></td>\n<td><code>x1 y1 x2 y2 x y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ° <code>x</code>,<code>y</code>æ§åˆ¶ç‚¹ä¸º<code>x1,y1</code> <code>x2,y2</code>çš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿</td>\n</tr>\n<tr>\n<td><code>S</code> <code>s</code></td>\n<td><code>x2 y2 x y</code></td>\n<td>ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ç‚¹åˆ°<code>x,y</code>çš„å…‰æ»‘ä¸‰æ¬¡è´å¡å°”æ›²çº¿ã€‚ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¸ºå‰ä¸€ä¸ª<code>C</code>å‘½ä»¤çš„ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹çš„ä¸­å¿ƒå¯¹ç§°ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å‰ä¸€æ¡æ›²çº¿ï¼Œåˆ™ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹ä¸ºå½“å‰çš„ç‚¹ã€‚</td>\n</tr>\n</tbody></table>\n<p>è·¯å¾„çš„å¡«å……åŒæ ·å¯ä»¥ä½¿ç”¨ <code>fill-rule</code> å±æ€§æŒ‡å®šå¡«å……è§„åˆ™ï¼Œå¦‚æœéœ€è¦å¡«å……ä¸€ä¸ªä¸­ç©ºçš„å½¢çŠ¶ï¼Œåˆ™åªéœ€è¦æ³¨æ„å¤–ä¾§è·¯å¾„é¡ºé€†æ—¶é’ˆæ–¹å‘å’Œå†…ä¾§ç©ºå¿ƒåŒºåŸŸé¡ºé€†æ—¶é’ˆæ–¹å‘å³å¯ã€‚</p>\n<h2 id=\"å…«ã€æ¸å˜\"><a href=\"#å…«ã€æ¸å˜\" class=\"headerlink\" title=\"å…«ã€æ¸å˜\"></a>å…«ã€æ¸å˜</h2><h3 id=\"1-çº¿æ€§æ¸å˜\"><a href=\"#1-çº¿æ€§æ¸å˜\" class=\"headerlink\" title=\"1. çº¿æ€§æ¸å˜\"></a>1. çº¿æ€§æ¸å˜</h3><p>çº¿æ€§æ¸å˜æ˜¯ä¸€ç³»åˆ—é¢œè‰²æ²¿ç€ä¸€æ¡ç›´çº¿è¿‡æ¸¡ï¼Œåœ¨ç‰¹å®šçš„ä½ç½®æŒ‡å®šæƒ³è¦çš„é¢œè‰²ï¼Œè¢«ç§°ä¸ºæ¸å˜ç‚¹ã€‚æ¸å˜ç‚¹æ˜¯æ¸å˜ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œé¢œè‰²æ˜¯è¡¨ç°çš„ä¸€éƒ¨åˆ†ã€‚</p>\n<p>çº¿æ€§æ¸å˜ä½¿ç”¨<code>linearGradient</code>å…ƒç´ è¡¨ç¤ºï¼š</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">defs</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">linearGradient</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;linear&quot;</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">stop</span> <span class=\"hljs-attr\">offset</span>=<span class=\"hljs-string\">&quot;0%&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;stop-color:#ffcc00;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">stop</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">stop</span> <span class=\"hljs-attr\">offset</span>=<span class=\"hljs-string\">&quot;100%&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;stop-color:#0099cc;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">stop</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">linearGradient</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">defs</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">rect</span> <span class=\"hljs-attr\">x</span>=<span class=\"hljs-string\">&quot;20&quot;</span> <span class=\"hljs-attr\">y</span>=<span class=\"hljs-string\">&quot;20&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;200&quot;</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">&quot;100&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;fill:url(#linear);stroke:black;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">rect</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><img src=\"http://cdn.d3js.org.cn/images/doc/svg/8.4.jpg\" alt=\"img\"></p>\n<p><code>stop</code>å…ƒç´ æœ‰ä¸¤ä¸ªå¿…è¦å±æ€§ï¼š<code>offset</code>å’Œ<code>stop-color</code>ã€‚<code>offset</code>å±æ€§ç”¨æ¥æŒ‡å®šåœ¨å“ªä¸ªç‚¹çš„é¢œè‰²åº”è¯¥ç­‰äº<code>stop-color</code>ã€‚<code>offset</code>çš„å–å€¼èŒƒå›´0%-100%ã€‚</p>\n<p><code>stop</code>å…ƒç´ çš„å±æ€§ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>offset</code></td>\n<td>å¿…éœ€ï¼Œå–å€¼èŒƒå›´ <code>0%-100%</code></td>\n</tr>\n<tr>\n<td><code>stop-color</code></td>\n<td>å¿…éœ€ï¼Œå¯¹åº” <code>offset</code> ä½ç½®ç‚¹çš„é¢œè‰²</td>\n</tr>\n<tr>\n<td><code>stop-opacity</code></td>\n<td>å¯¹åº” <code>offset</code> ä½ç½®ç‚¹çš„ä¸é€æ˜åº¦</td>\n</tr>\n</tbody></table>\n<p><code>linearGradient</code>å…ƒç´ å±æ€§ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>x1</code>,<code>y1</code></td>\n<td>æ¸å˜çš„èµ·ç‚¹ä½ç½®ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”è¡¨ç¤ºï¼Œé»˜è®¤çš„æ¸å˜æ–¹å‘æ˜¯ä»å·¦åˆ°å³</td>\n</tr>\n<tr>\n<td><code>x2</code>,<code>y2</code></td>\n<td>æ¸å˜çš„ç»ˆç‚¹ä½ç½®ï¼Œä½¿ç”¨ç™¾åˆ†æ¯”è¡¨ç¤º</td>\n</tr>\n<tr>\n<td><code>spreadMethod</code></td>\n<td>å¦‚æœè®¾ç½®çš„<code>offset</code>ä¸èƒ½è¦†ç›–æ•´ä¸ªå¯¹è±¡ï¼Œè¯¥æ€ä¹ˆå¡«å……ã€‚<code>pad</code>: èµ·ç‚¹æˆ–ç»ˆç‚¹é¢œè‰²ä¼šæ‰©å±•åˆ°å¯¹è±¡è¾¹ç¼˜ã€‚<code>repeat</code>: æ¸å˜é‡å¤èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è¿‡ç¨‹ã€‚<code>reflect</code>: æ¸å˜æŒ‰ç»ˆç‚¹-èµ·ç‚¹-ç»ˆç‚¹çš„æ’åˆ—é‡å¤ã€‚</td>\n</tr>\n</tbody></table>\n<h3 id=\"2-å¾„å‘æ¸å˜\"><a href=\"#2-å¾„å‘æ¸å˜\" class=\"headerlink\" title=\"2. å¾„å‘æ¸å˜\"></a>2. å¾„å‘æ¸å˜</h3><p>å¾„å‘æ¸å˜çš„æ¯ä¸ªæ¸å˜ç‚¹æ˜¯ä¸€ä¸ªåœ†å½¢è·¯å¾„ï¼Œä»ä¸­å¿ƒç‚¹å‘å¤–æ‰©æ•£ã€‚è®¾ç½®æ–¹å¼ä¸çº¿æ€§æ¸å˜å¤§è‡´ç›¸åŒã€‚å¦‚æœå¡«å……å¯¹è±¡è¾¹ç•Œæ¡†ä¸æ˜¯æ­£æ–¹å½¢çš„ï¼Œåˆ™è¿‡æ¸¡è·¯å¾„ä¼šå˜æˆæ¤­åœ†æ¥åŒ¹é…è¾¹ç•Œæ¡†çš„é•¿å®½æ¯”ã€‚</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">defs</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">radialGradient</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;radial&quot;</span> <span class=\"hljs-attr\">cx</span>=<span class=\"hljs-string\">&quot;50%&quot;</span> <span class=\"hljs-attr\">cy</span>=<span class=\"hljs-string\">&quot;50%&quot;</span> &gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">stop</span> <span class=\"hljs-attr\">offset</span>=<span class=\"hljs-string\">&quot;0%&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;stop-color:#f00;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">stop</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">stop</span> <span class=\"hljs-attr\">offset</span>=<span class=\"hljs-string\">&quot;50%&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;stop-color:#0f0;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">stop</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">stop</span> <span class=\"hljs-attr\">offset</span>=<span class=\"hljs-string\">&quot;100%&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;stop-color:#00f;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">stop</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">radialGradient</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">defs</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">rect</span> <span class=\"hljs-attr\">x</span>=<span class=\"hljs-string\">&quot;20&quot;</span> <span class=\"hljs-attr\">y</span>=<span class=\"hljs-string\">&quot;20&quot;</span> <span class=\"hljs-attr\">width</span>=<span class=\"hljs-string\">&quot;200&quot;</span> <span class=\"hljs-attr\">height</span>=<span class=\"hljs-string\">&quot;200&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;fill:url(#radial);stroke:black;&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">rect</span>&gt;</span>\t<br></code></pre></td></tr></table></figure>\n\n<p><img src=\"http://cdn.d3js.org.cn/images/doc/svg/8.5.jpg\" alt=\"img\"></p>\n<p><code>radialGradient</code>å…ƒç´ å±æ€§ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>cx</code>,<code>cy</code>,<code>r</code></td>\n<td>å®šä¹‰æ¸å˜çš„èŒƒå›´ï¼Œæµ‹é‡åŠå¾„çš„å•ä½æ˜¯å¯¹è±¡çš„å®½é«˜å‡å€¼ï¼Œè€Œä¸æ˜¯å¯¹è§’çº¿ï¼Œé»˜è®¤éƒ½ä¸º<code>50%</code></td>\n</tr>\n<tr>\n<td><code>fx</code>,<code>fy</code></td>\n<td><code>0%</code>ç‚¹æ‰€å¤„çš„åœ†è·¯å¾„çš„åœ†å¿ƒï¼Œé»˜è®¤å’Œ<code>cx</code>,<code>cy</code>ä¸€æ ·</td>\n</tr>\n<tr>\n<td><code>spreadMethod</code></td>\n<td><code>pad</code>,<code>repeat</code>,<code>reflect</code> ä¸‰ä¸ªå€¼ï¼Œç”¨æ¥è§£å†³ç»˜åˆ¶èŒƒå›´æ²¡æœ‰åˆ°è¾¾å›¾å½¢è¾¹ç¼˜çš„æƒ…å†µã€‚</td>\n</tr>\n</tbody></table>\n<h2 id=\"ä¹ã€æ–‡æœ¬\"><a href=\"#ä¹ã€æ–‡æœ¬\" class=\"headerlink\" title=\"ä¹ã€æ–‡æœ¬\"></a>ä¹ã€æ–‡æœ¬</h2><h3 id=\"1-ç›¸å…³æœ¯è¯­\"><a href=\"#1-ç›¸å…³æœ¯è¯­\" class=\"headerlink\" title=\"1. ç›¸å…³æœ¯è¯­\"></a>1. ç›¸å…³æœ¯è¯­</h3><table>\n<thead>\n<tr>\n<th>æœ¯è¯­</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>å­—ç¬¦</td>\n<td><code>XML</code>ä¸­ï¼Œå­—ç¬¦æ˜¯æŒ‡å¸¦æœ‰ä¸€ä¸ªæ•°å­—å€¼å¾—ä¸€ä¸ªæˆ–å¤šä¸ªå­—èŠ‚ï¼Œæ•°å­—å€¼ä¸<code>Unidode</code>æ ‡å‡†å¯¹åº”</td>\n</tr>\n<tr>\n<td>ç¬¦å·</td>\n<td>å­—ç¬¦çš„è§†è§‰å‘ˆç°ã€‚æ¯ä¸ªå­—ç¬¦å¯ä»¥æœ‰å¤šç§è§†è§‰å‘ˆç°</td>\n</tr>\n<tr>\n<td>å­—ä½“</td>\n<td>ä»£è¡¨æŸä¸ªå­—ç¬¦é›†åˆçš„ä¸€ç»„ç¬¦å·</td>\n</tr>\n<tr>\n<td>åŸºçº¿</td>\n<td>å­—ä½“ä¸­æ‰€æœ‰ç¬¦å·ä»¥åŸºçº¿å¯¹é½</td>\n</tr>\n<tr>\n<td>ä¸Šå¡åº¦</td>\n<td>åŸºçº¿åˆ°å­—ä½“ä¸­æœ€é«˜å­—ç¬¦çš„é¡¶éƒ¨è·ç¦»</td>\n</tr>\n<tr>\n<td>ä¸‹å¡åº¦</td>\n<td>åŸºçº¿åˆ°æœ€æ·±å­—ç¬¦åº•éƒ¨çš„è·ç¦»</td>\n</tr>\n<tr>\n<td>å¤§å†™å­—æ¯é«˜åº¦ã€<code>x</code>é«˜åº¦</td>\n<td>å¤§å†™å­—æ¯é«˜åº¦æ˜¯æŒ‡åŸºçº¿ä¸Šå¤§å†™å­—æ¯çš„é«˜åº¦ï¼Œ<code>x</code>é«˜åº¦æ˜¯åŸºçº¿åˆ°å°å†™å­—æ¯<code>x</code>é¡¶éƒ¨çš„é«˜åº¦</td>\n</tr>\n</tbody></table>\n<h3 id=\"2-æ–‡æœ¬å…ƒç´ çš„åŸºæœ¬å±æ€§\"><a href=\"#2-æ–‡æœ¬å…ƒç´ çš„åŸºæœ¬å±æ€§\" class=\"headerlink\" title=\"2. æ–‡æœ¬å…ƒç´ çš„åŸºæœ¬å±æ€§\"></a>2. æ–‡æœ¬å…ƒç´ çš„åŸºæœ¬å±æ€§</h3><p><code>text</code> å…ƒç´ ä»¥æŒ‡å®šçš„xå’Œyå€¼ä½œä¸ºå…ƒç´ å†…å®¹ç¬¬ä¸€ä¸ªå­—ç¬¦çš„åŸºçº¿ä½ç½®ï¼Œé»˜è®¤æ ·å¼é»‘è‰²å¡«å……ã€æ²¡æœ‰è½®å»“ã€‚</p>\n<table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>font-family</code></td>\n<td>ä»¥ç©ºæ ¼åˆ†å‰²çš„ä¸€ç³»åˆ—å­—ä½“åç§°æˆ–é€šç”¨å­—ä½“åç§°</td>\n</tr>\n<tr>\n<td><code>font-size</code></td>\n<td>å¦‚æœæœ‰å¤šè¡Œæ–‡æœ¬ï¼Œåˆ™ <code>font-size</code> ä¸ºå¹³è¡Œçš„ä¸¤æ¡åŸºçº¿çš„è·ç¦»</td>\n</tr>\n<tr>\n<td><code>font-weight</code></td>\n<td>ä¸¤ä¸ªå€¼ï¼š<code>bold</code>(ç²—ä½“)å’Œ<code>nromal</code>(é»˜è®¤)</td>\n</tr>\n<tr>\n<td><code>font-style</code></td>\n<td>å¸¸ç”¨çš„ä¸¤ä¸ªå€¼:<code>italic</code>(æ–œä½“)å’Œ<code>normal</code></td>\n</tr>\n<tr>\n<td><code>text-decoration</code></td>\n<td>å¯èƒ½çš„å€¼:<code>none</code>,<code>underline</code>(ä¸‹åˆ’çº¿),<code>overline</code>(ä¸Šåˆ’çº¿),<code>line-through</code>(åˆ é™¤çº¿)</td>\n</tr>\n<tr>\n<td><code>word-spacing</code></td>\n<td>å•è¯ä¹‹é—´çš„è·ç¦»</td>\n</tr>\n<tr>\n<td><code>letter-spacing</code></td>\n<td>å­—æ¯ä¹‹é—´çš„é—´è·</td>\n</tr>\n<tr>\n<td><code>text-anchor</code></td>\n<td>å¯¹é½æ–¹å¼ï¼š<code>start</code>,<code>middle</code>,<code>end</code></td>\n</tr>\n<tr>\n<td><code>textLength</code></td>\n<td>è®¾ç½®æ–‡æœ¬çš„é•¿åº¦</td>\n</tr>\n<tr>\n<td><code>lengthAdjust</code></td>\n<td>åœ¨æŒ‡å®šäº†<code>textLength</code>æ—¶ï¼Œå¯ä»¥é€šè¿‡<code>lengthAdjust</code>å±æ€§è®¾ç½®å­—ç¬¦çš„è°ƒæ•´æ–¹å¼ï¼Œå€¼ä¸º <code>spacing</code>(é»˜è®¤)æ—¶,åªè°ƒæ•´å­—ç¬¦çš„é—´è·ã€‚å½“å€¼ä¸º<code>spacingAndGlyphs</code>æ—¶ï¼ŒåŒæ—¶è°ƒæ•´å­—ç¬¦é—´è·å’Œå­—ç¬¦æœ¬èº«çš„å¤§å°</td>\n</tr>\n</tbody></table>\n<h3 id=\"3-tspanå…ƒç´ \"><a href=\"#3-tspanå…ƒç´ \" class=\"headerlink\" title=\"3. tspanå…ƒç´ \"></a>3. tspanå…ƒç´ </h3><p><code>text</code> å…ƒç´ æ— æ³•å¯¹æ–‡æœ¬è¿›è¡Œæ¢è¡Œæ“ä½œï¼Œå¦‚æœéœ€è¦åˆ†è¡Œæ˜¾ç¤ºæ–‡æœ¬ï¼Œåˆ™éœ€è¦ä½¿ç”¨åœ¨textå…ƒç´ é‡ŒåµŒå…¥<code>tspan</code> å…ƒç´ ã€‚<code>tspan</code> å…ƒç´ ä¸<code>html</code>çš„<code>span</code>å…ƒç´ ç±»ä¼¼ï¼Œå¯ä»¥åµŒå¥—åœ¨æ–‡æœ¬å†…å®¹ä¸­ï¼Œå¹¶å¯ä»¥å•ç‹¬æ”¹å˜å…¶å†…éƒ¨æ–‡æœ¬å†…å®¹çš„æ ·å¼ã€‚</p>\n<p><code>tspan</code>å…ƒç´ é™¤å¤§å°ï¼Œé¢œè‰²ç­‰è¡¨ç°æ ·å¼ä¹‹å¤–ï¼Œè¿˜å¯ä»¥è®¾ç½®ä»¥ä¸‹å±æ€§ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å±æ€§</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>dx</code>,<code>dy</code></td>\n<td><code>x</code>å’Œ<code>y</code>æ–¹å‘çš„åç§»</td>\n</tr>\n<tr>\n<td><code>x</code>,<code>y</code></td>\n<td>å¯¹<code>tspan</code>è¿›è¡Œç»å¯¹å®šä½</td>\n</tr>\n<tr>\n<td><code>rotate</code></td>\n<td>æ—‹è½¬å­—ç¬¦ï¼Œå¯ä»¥åŒæ—¶è®¾ç½®å¤šä¸ªå€¼ï¼Œè¿™äº›å€¼ä¼šä¾æ¬¡ä½œç”¨åœ¨<code>tspan</code>åŒ…è£¹çš„å­—æ¯ä¸Š</td>\n</tr>\n<tr>\n<td><code>baseline-shift</code></td>\n<td>ä¸<code>dy</code>å±æ€§è®¾ç½®ä¸Šä¸‹æ ‡ç›¸æ¯”ï¼Œè¿™ä¸ªå±æ€§æ›´æ–¹ä¾¿ï¼Œå½“ä¸º<code>super</code>æ—¶ï¼Œä¼šä¸Šæ ‡ã€‚<code>sub</code> æ—¶ä¸ºä¸‹æ ‡ã€‚ä»…ä»…åœ¨æ‰€åœ¨çš„<code>tspan</code>å†…æœ‰æ•ˆ</td>\n</tr>\n</tbody></table>\n<h3 id=\"4-çºµå‘æ–‡æœ¬\"><a href=\"#4-çºµå‘æ–‡æœ¬\" class=\"headerlink\" title=\"4. çºµå‘æ–‡æœ¬\"></a>4. çºµå‘æ–‡æœ¬</h3><p>æ–‡æœ¬ä¸€èˆ¬ä»å·¦åˆ°å³æ’åˆ—ï¼Œå¦‚æœéœ€è¦ä¸Šä¸‹æ’åˆ—ï¼Œåˆ™éœ€è¦ä½¿ç”¨<code>writing-mode</code>å±æ€§ã€‚</p>\n<p>è®¾ç½®<code>writing-mode</code>å±æ€§å€¼ä¸º<code>tb</code>(top to bottom)ï¼Œå¯ä»¥å°†æ–‡æœ¬ä¸Šä¸‹æ’åˆ—ã€‚</p>\n<h2 id=\"5-æ–‡æœ¬è·¯å¾„\"><a href=\"#5-æ–‡æœ¬è·¯å¾„\" class=\"headerlink\" title=\"5. æ–‡æœ¬è·¯å¾„\"></a>5. æ–‡æœ¬è·¯å¾„</h2><p>å¦‚æœè¦ä½¿å¾—æ–‡æœ¬æ²¿ç€æŸæ¡è·¯å¾„æ’åˆ—ï¼Œåˆ™éœ€è¦ä½¿ç”¨<code>textPath</code>å…ƒç´ ã€‚éœ€è¦å°†æ–‡æœ¬æ”¾åœ¨<code>textPath</code>å…ƒç´ å†…éƒ¨ï¼Œç„¶åä½¿ç”¨<code>textPath</code>å…ƒç´ çš„<code>xlink:href</code>å±æ€§å¼•ç”¨ä¸€ä¸ªå®šä¹‰å¥½çš„<code>path</code>å…ƒç´ ã€‚</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">defs</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">path</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;path&quot;</span> <span class=\"hljs-attr\">d</span>=<span class=\"hljs-string\">&quot;M30 40 C 50 10 ,70 10,120 40 S150 0,200 40&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;fill:none;stroke:black&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">path</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">defs</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">g</span> <span class=\"hljs-attr\">transform</span>=<span class=\"hljs-string\">&quot;translate(10,50)&quot;</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">path</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;path&quot;</span> <span class=\"hljs-attr\">d</span>=<span class=\"hljs-string\">&quot;M30 40 C 50 10 ,70 10,120 40 S150 0,200 40&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;fill:none;stroke:black&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">path</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">text</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">textPath</span> <span class=\"hljs-attr\">xlink:href</span>=<span class=\"hljs-string\">&quot;#path&quot;</span>&gt;</span><br>\t\t\thello world<br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">textPath</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">text</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">g</span>&gt;</span><br><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">g</span> <span class=\"hljs-attr\">transform</span>=<span class=\"hljs-string\">&quot;translate(10,100)&quot;</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">path</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;path&quot;</span> <span class=\"hljs-attr\">d</span>=<span class=\"hljs-string\">&quot;M30 40 C 50 10 ,70 10,120 40 S150 0,200 40&quot;</span> <span class=\"hljs-attr\">style</span>=<span class=\"hljs-string\">&quot;fill:none;stroke:black&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">path</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">text</span>&gt;</span><br>\t\t<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">textPath</span> <span class=\"hljs-attr\">xlink:href</span>=<span class=\"hljs-string\">&quot;#path&quot;</span> <span class=\"hljs-attr\">startOffset</span>=<span class=\"hljs-string\">&quot;50%&quot;</span> <span class=\"hljs-attr\">text-anchor</span>=<span class=\"hljs-string\">&quot;middle&quot;</span>&gt;</span><br>\t\t\thello world<br>\t\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">textPath</span>&gt;</span><br>\t<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">text</span>&gt;</span><br><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">g</span>&gt;</span><br></code></pre></td></tr></table></figure>\n\n<p><img src=\"http://cdn.d3js.org.cn/images/doc/svg/8.6.jpg\" alt=\"img\"></p>\n<p><code>startOffset</code>å±æ€§ç”¨æ¥æŒ‡å®šæ–‡æœ¬çš„èµ·ç‚¹ï¼Œå½“è®¾ç½®ä¸º<code>50%</code>ï¼Œå¹¶ä¸”è®¾ç½®<code>text-anchor</code>ä¸º<code>middle</code>æ—¶ï¼Œæ–‡æœ¬ä¼šè¢«å®šä¸ºåœ¨<code>path</code>çš„ä¸­é—´ã€‚</p>\n"},{"title":"æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹","keywords":"æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹","_content":"# æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆé¢è¯•ï¼šä¸ºä»€ä¹ˆæ‰“å¼€æµè§ˆå™¨é¡µé¢ï¼Œä¼šæœ‰å››ä¸ªè¿›ç¨‹ï¼Ÿï¼‰\n\n> å¼•ç”¨è‡ª[é“¾æ¥](https://juejin.cn/post/7067725869598375967#heading-0)\n\n## è¿›ç¨‹å’Œçº¿ç¨‹\n\nä¸è¿‡ï¼Œåœ¨ä»‹ç»è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹å‰ï¼Œæˆ‘éœ€è¦å…ˆè®²è§£ä¸‹ï¼Œä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†ã€‚å› ä¸ºå¦‚æœä½ ç†è§£äº†å¹¶è¡Œå¤„ç†çš„æ¦‚å¿µï¼Œé‚£ä¹ˆå†ç†è§£è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹é—´çš„å…³ç³»å°±ä¼šå˜å¾—è½»æ¾è®¸å¤šã€‚\n\n## ä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†\n\nè®¡ç®—æœºä¸­çš„å¹¶è¡Œå¤„ç†å°±æ˜¯åŒä¸€æ—¶åˆ»å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦è®¡ç®—ä¸‹é¢è¿™ä¸‰ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œå¹¶æ˜¾ç¤ºå‡ºç»“æœã€‚\n\n```js\nA = 1+2\nB = 20/5\nC = 7*8\nå¤åˆ¶ä»£ç \n```\n\nåœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹æ‹†åˆ†ä¸ºå››ä¸ªä»»åŠ¡ï¼š\n\n- ä»»åŠ¡ 1 æ˜¯è®¡ç®— A=1+2ï¼›\n- ä»»åŠ¡ 2 æ˜¯è®¡ç®— B=20/5ï¼›\n- ä»»åŠ¡ 3 æ˜¯è®¡ç®— C=7*8ï¼›\n- ä»»åŠ¡ 4 æ˜¯æ˜¾ç¤ºæœ€åè®¡ç®—çš„ç»“æœã€‚\n\næ­£å¸¸æƒ…å†µä¸‹ç¨‹åºå¯ä»¥ä½¿ç”¨**å•çº¿ç¨‹**æ¥å¤„ç†ï¼Œä¹Ÿå°±æ˜¯åˆ†å››æ­¥æŒ‰ç…§é¡ºåºåˆ†åˆ«æ‰§è¡Œè¿™å››ä¸ªä»»åŠ¡ã€‚\n\nå¦‚æœé‡‡ç”¨**å¤šçº¿ç¨‹**ï¼Œä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€åˆ†â€œä¸¤æ­¥èµ°â€ï¼šç¬¬ä¸€æ­¥ï¼Œä½¿ç”¨ä¸‰ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œå‰ä¸‰ä¸ªä»»åŠ¡ï¼›ç¬¬äºŒæ­¥ï¼Œå†æ‰§è¡Œç¬¬å››ä¸ªæ˜¾ç¤ºä»»åŠ¡ã€‚\n\né€šè¿‡å¯¹æ¯”åˆ†æï¼Œä½ ä¼šå‘ç°ç”¨å•çº¿ç¨‹æ‰§è¡Œéœ€è¦å››æ­¥ï¼Œè€Œä½¿ç”¨å¤šçº¿ç¨‹åªéœ€è¦ä¸¤æ­¥ã€‚å› æ­¤ï¼Œ**ä½¿ç”¨å¹¶è¡Œå¤„ç†èƒ½å¤§å¤§æå‡æ€§èƒ½ã€‚**\n\n## çº¿ç¨‹ VS è¿›ç¨‹\n\nå¤šçº¿ç¨‹å¯ä»¥å¹¶è¡Œå¤„ç†ä»»åŠ¡ï¼Œä½†æ˜¯**çº¿ç¨‹æ˜¯ä¸èƒ½å•ç‹¬å­˜åœ¨çš„ï¼Œå®ƒæ˜¯ç”±è¿›ç¨‹æ¥å¯åŠ¨å’Œç®¡ç†çš„**ã€‚é‚£ä»€ä¹ˆåˆæ˜¯è¿›ç¨‹å‘¢ï¼Ÿ\n\n**ä¸€ä¸ªè¿›ç¨‹å°±æ˜¯ä¸€ä¸ªç¨‹åºçš„è¿è¡Œå®ä¾‹**ã€‚è¯¦ç»†è§£é‡Šå°±æ˜¯ï¼Œå¯åŠ¨ä¸€ä¸ªç¨‹åºçš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šä¸ºè¯¥ç¨‹åºåˆ›å»ºä¸€å—å†…å­˜ï¼Œç”¨æ¥å­˜æ”¾ä»£ç ã€è¿è¡Œä¸­çš„æ•°æ®å’Œä¸€ä¸ªæ‰§è¡Œä»»åŠ¡çš„ä¸»çº¿ç¨‹ï¼Œæˆ‘ä»¬æŠŠè¿™æ ·çš„ä¸€ä¸ªè¿è¡Œç¯å¢ƒå«**è¿›ç¨‹**ã€‚\n\n![è¿›ç¨‹ä¸­çš„å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03c20111e2b94345b039995084ee03db~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)\n\nä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ**çº¿ç¨‹æ˜¯ä¾é™„äºè¿›ç¨‹çš„ï¼Œè€Œè¿›ç¨‹ä¸­ä½¿ç”¨å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†èƒ½æå‡è¿ç®—æ•ˆç‡**ã€‚æ€»ç»“æ¥è¯´ï¼Œè¿›ç¨‹å’Œçº¿ç¨‹ä¹‹é—´çš„å…³ç³»æœ‰ä»¥ä¸‹ 4 ä¸ªç‰¹ç‚¹ã€‚\n\n**1. è¿›ç¨‹ä¸­çš„ä»»æ„ä¸€çº¿ç¨‹æ‰§è¡Œå‡ºé”™ï¼Œéƒ½ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹çš„å´©æºƒã€‚**\n\næˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿä»¥ä¸‹åœºæ™¯ï¼š\n\n```js\nA = 1+2\nB = 20/0\nC = 7*8\nå¤åˆ¶ä»£ç \n```\n\næˆ‘æŠŠä¸Šè¿°ä¸‰ä¸ªè¡¨è¾¾å¼ç¨ä½œä¿®æ”¹ï¼Œåœ¨è®¡ç®— B çš„å€¼çš„æ—¶å€™ï¼Œæˆ‘æŠŠè¡¨è¾¾å¼çš„åˆ†æ¯æ”¹æˆ 0ï¼Œå½“çº¿ç¨‹æ‰§è¡Œåˆ° B = 20/0 æ—¶ï¼Œç”±äºåˆ†æ¯ä¸º 0ï¼Œçº¿ç¨‹ä¼šæ‰§è¡Œå‡ºé”™ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹çš„å´©æºƒï¼Œå½“ç„¶å¦å¤–ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œçš„ç»“æœä¹Ÿæ²¡æœ‰äº†ã€‚\n\n**2. çº¿ç¨‹ä¹‹é—´å…±äº«è¿›ç¨‹ä¸­çš„æ•°æ®ã€‚**\n\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œçº¿ç¨‹ä¹‹é—´å¯ä»¥å¯¹è¿›ç¨‹çš„å…¬å…±æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œã€‚\n\n![çº¿ç¨‹ä¹‹é—´å…±äº«è¿›ç¨‹ä¸­çš„æ•°æ®](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce0a54836131420b983c12b6adf0e9f0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)\n\nä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œçº¿ç¨‹ 1ã€çº¿ç¨‹ 2ã€çº¿ç¨‹ 3 åˆ†åˆ«æŠŠæ‰§è¡Œçš„ç»“æœå†™å…¥ Aã€Bã€C ä¸­ï¼Œç„¶åçº¿ç¨‹ 2 ç»§ç»­ä» Aã€Bã€C ä¸­è¯»å–æ•°æ®ï¼Œç”¨æ¥æ˜¾ç¤ºæ‰§è¡Œç»“æœã€‚\n\n**3. å½“ä¸€ä¸ªè¿›ç¨‹å…³é—­ä¹‹åï¼Œæ“ä½œç³»ç»Ÿä¼šå›æ”¶è¿›ç¨‹æ‰€å ç”¨çš„å†…å­˜ã€‚**\n\nå½“ä¸€ä¸ªè¿›ç¨‹é€€å‡ºæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå›æ”¶è¯¥è¿›ç¨‹æ‰€ç”³è¯·çš„æ‰€æœ‰èµ„æºï¼›å³ä½¿å…¶ä¸­ä»»æ„çº¿ç¨‹å› ä¸ºæ“ä½œä¸å½“å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œå½“è¿›ç¨‹é€€å‡ºæ—¶ï¼Œè¿™äº›å†…å­˜ä¹Ÿä¼šè¢«æ­£ç¡®å›æ”¶ã€‚\n\næ¯”å¦‚ä¹‹å‰çš„ IE æµè§ˆå™¨ï¼Œæ”¯æŒå¾ˆå¤šæ’ä»¶ï¼Œè€Œè¿™äº›æ’ä»¶å¾ˆå®¹æ˜“å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè¿™æ„å‘³ç€åªè¦æµè§ˆå™¨å¼€ç€ï¼Œå†…å­˜å ç”¨å°±æœ‰å¯èƒ½ä¼šè¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯å½“å…³é—­æµè§ˆå™¨è¿›ç¨‹æ—¶ï¼Œè¿™äº›å†…å­˜å°±éƒ½ä¼šè¢«ç³»ç»Ÿå›æ”¶æ‰\n\n**4. è¿›ç¨‹ä¹‹é—´çš„å†…å®¹ç›¸äº’éš”ç¦»ã€‚**\n\nè¿›ç¨‹éš”ç¦»æ˜¯ä¸ºä¿æŠ¤æ“ä½œç³»ç»Ÿä¸­è¿›ç¨‹äº’ä¸å¹²æ‰°çš„æŠ€æœ¯ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹åªèƒ½è®¿é—®è‡ªå·±å æœ‰çš„æ•°æ®ï¼Œä¹Ÿå°±é¿å…å‡ºç°è¿›ç¨‹ A å†™å…¥æ•°æ®åˆ°è¿›ç¨‹ B çš„æƒ…å†µã€‚æ­£æ˜¯å› ä¸ºè¿›ç¨‹ä¹‹é—´çš„æ•°æ®æ˜¯ä¸¥æ ¼éš”ç¦»çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªè¿›ç¨‹å¦‚æœå´©æºƒäº†ï¼Œæˆ–è€…æŒ‚èµ·äº†ï¼Œæ˜¯ä¸ä¼šå½±å“åˆ°å…¶ä»–è¿›ç¨‹çš„ã€‚å¦‚æœè¿›ç¨‹ä¹‹é—´éœ€è¦è¿›è¡Œæ•°æ®çš„é€šä¿¡ï¼Œè¿™æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨ç”¨äºè¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰çš„æœºåˆ¶äº†\n\n## å•è¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\n\né¡¾åæ€ä¹‰ï¼Œ**å•è¿›ç¨‹æµè§ˆå™¨æ˜¯æŒ‡æµè§ˆå™¨çš„æ‰€æœ‰åŠŸèƒ½æ¨¡å—éƒ½æ˜¯è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹é‡Œ**ï¼Œè¿™äº›æ¨¡å—åŒ…å«ç½‘ç»œã€æ’ä»¶ã€Javascriptè¿è¡Œç¯å¢ƒã€æ¸²æŸ“å¼•æ“å’Œé¡µé¢ç­‰ã€‚å…¶å®æ—©åœ¨2007å¹´ä¹‹å‰ï¼Œå¸‚é¢ä¸Šæµè§ˆå™¨éƒ½æ˜¯å•è¿›ç¨‹çš„ã€‚å•è¿›ç¨‹æµè§ˆå™¨çš„æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\n![å•è¿›ç¨‹æµè§ˆå™¨](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f13158e5fe114b79a2be3b1b168467a0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)\n\nå¦‚æ­¤å¤šçš„åŠŸèƒ½æ¨¡å—è¿è¡Œåœ¨ä¸€ä¸ªè¿›ç¨‹é‡Œï¼Œæ˜¯å¯¼è‡´å•è¿›ç¨‹æµè§ˆå™¨**ä¸ç¨³å®šã€ä¸æµç•…å’Œä¸å®‰å…¨**çš„ä¸€ä¸ªä¸»è¦å› ç´ ã€‚\n\n**é—®é¢˜ 1ï¼šä¸ç¨³å®š**\n\næ—©æœŸæµè§ˆå™¨éœ€è¦å€ŸåŠ©äº**æ’ä»¶**æ¥å®ç°è¯¸å¦‚Webè§†é¢‘ã€Webæ¸¸æˆç­‰å„ç§å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½†æ˜¯æ’ä»¶æ˜¯æœ€å®¹æ˜“å‡ºé—®é¢˜çš„æ¨¡å—ï¼Œå¹¶ä¸”è¿˜è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹ä¸­ï¼Œæ‰€ä»¥ä¸€ä¸ªæ’ä»¶çš„æ„å¤–å´©æºƒä¼šå¼•èµ·æ•´ä¸ªæµè§ˆå™¨çš„å´©æºƒã€‚\n\né™¤äº†æ’ä»¶ä¹‹å¤–ï¼Œ**æ¸²æŸ“å¼•æ“æ¨¡å—**ä¹Ÿæ˜¯ä¸ç¨³å®šçš„ï¼Œé€šå¸¸ä¸€äº›å¤æ‚çš„Javascriptä»£ç å°±æœ‰å¯èƒ½å¼•èµ·æ¸²æŸ“å¼•æ“æ¨¡å—çš„å´©æºƒã€‚å’Œæ’ä»¶ä¸€æ ·ï¼Œæ¸²æŸ“å¼•æ“çš„å´©æºƒä¹Ÿä¼šå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨çš„å´©æºƒ\n\n**é—®é¢˜ 2ï¼šä¸æµç•…**\n\nä»ä¸Šé¢çš„**å•è¿›ç¨‹æµè§ˆå™¨æ¶æ„ç¤ºæ„å›¾**å¯ä»¥çœ‹å‡ºï¼Œæ‰€æœ‰é¡µé¢çš„æ¸²æŸ“æ¨¡å—ã€Javascriptæ‰§è¡Œç¯å¢ƒä»¥åŠæ’ä»¶éƒ½æ˜¯è¿è¡Œåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­çš„ï¼Œè¿™å°±æ„å‘³ç€åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªæ¨¡å—å¯ä»¥æ‰§è¡Œã€‚\n\næ¯”å¦‚ï¼Œä¸‹é¢è¿™ä¸ªæ— é™å¾ªç¯çš„è„šæœ¬ï¼š\n\n```js\nfunction freeze() { \n    while (1) { \n        console.log(\"freeze\"); \n    }\n}\nfreeze();\n```\n\nå¦‚æœè®©è¿™ä¸ªè„šæœ¬è¿è¡Œåœ¨ä¸€ä¸ªå•è¿›ç¨‹æµè§ˆå™¨çš„é¡µé¢é‡Œï¼Œå› ä¸ºè¿™ä¸ªè„šæœ¬æ˜¯æ— é™å¾ªç¯çš„ï¼Œæ‰€æœ‰å½“å…¶æ‰§è¡Œæ—¶ï¼Œå®ƒä¼šç‹¬å æ•´ä¸ªçº¿ç¨‹ï¼Œè¿™æ ·å¯¼è‡´å…¶ä»–è¿è¡Œåœ¨è¯¥çº¿ç¨‹ä¸­çš„æ¨¡å—å°±æ²¡æœ‰æœºä¼šæ‰§è¡Œã€‚å› ä¸ºå•è¿›ç¨‹æµè§ˆå™¨ä¸­æ‰€æœ‰çš„é¡µé¢éƒ½è¿è¡Œåœ¨è¯¥çº¿ç¨‹ä¸­ï¼Œæ‰€ä»¥è¿™äº›é¡µé¢å°±æ²¡æœ‰æœºä¼šå»æ‰§è¡Œä»»åŠ¡ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨å¤±å»å“åº”ï¼Œå˜å¡é¡¿ã€‚\n\né™¤äº†ä¸Šè¿°**è„šæœ¬**æˆ–è€…**æ’ä»¶**ä¼šè®©å•è¿›ç¨‹æµè§ˆå™¨å˜å¡é¡¿å¤–ï¼Œ**é¡µé¢çš„å†…å­˜æ³„æ¼**ä¹Ÿæ˜¯å•è¿›ç¨‹å˜æ…¢çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚é€šå¸¸æµè§ˆå™¨çš„å†…æ ¸éƒ½æ˜¯éå¸¸å¤æ‚çš„ï¼Œè¿è¡Œä¸€ä¸ªå¤æ‚ç‚¹çš„é¡µé¢å†å…³é—­é¡µé¢ï¼Œä¼šå­˜åœ¨å†…å­˜ä¸èƒ½å®Œå…¨å›æ”¶çš„æƒ…å†µï¼Œè¿™æ ·å¯¼è‡´çš„é—®é¢˜æ˜¯ä½¿ç”¨æ—¶é—´è¶Šé•¿ï¼Œå†…å­˜å ç”¨è¶Šé«˜ï¼Œæµè§ˆå™¨ä¼šå˜å¾—è¶Šæ…¢ã€‚\n\n**é—®é¢˜ 3ï¼šä¸å®‰å…¨**\n\nä¸å®‰å…¨è¿™é‡Œä¾ç„¶å¯ä»¥ä»æ’ä»¶å’Œé¡µé¢è„šæœ¬ä¸¤ä¸ªæ–¹é¢æ¥è§£é‡Šè¯¥é—®é¢˜ã€‚\n\næ’ä»¶å¯ä»¥ä½¿ç”¨C/C++ç­‰ä»£ç ç¼–å†™ï¼Œé€šè¿‡æ’ä»¶å¯ä»¥è·å–åˆ°æ“ä½œç³»ç»Ÿçš„ä»»æ„èµ„æºï¼Œå½“ä½ åœ¨é¡µé¢è¿è¡Œä¸€ä¸ªæ’ä»¶æ—¶ä¹Ÿæ„å‘³ç€è¿™ä¸ªæ’ä»¶èƒ½å®Œå…¨æ“ä½œä½ çš„ç”µè„‘ã€‚å¦‚æœæ˜¯ä¸€ä¸ªæ¶æ„æ’ä»¶ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥é‡Šæ”¾ç—…æ¯’ã€çªƒå–ä½ çš„è´¦å·å¯†ç ï¼Œå¼•å‘å®‰å…¨æ€§é—®é¢˜ã€‚\n\nè‡³äºé¡µé¢è„šæœ¬ï¼Œå®ƒå¯ä»¥é€šè¿‡æµè§ˆå™¨çš„æ¼æ´æ¥è·å–ç³»ç»Ÿæƒé™ï¼Œè¿™äº›è„šæœ¬è·å–ç³»ç»Ÿæƒé™ä¹‹åä¹Ÿå¯ä»¥å¯¹ä½ çš„ç”µè„‘åšä¸€äº›æ¶æ„çš„äº‹æƒ…ï¼ŒåŒæ ·ä¹Ÿä¼šå¼•å‘å®‰å…¨é—®é¢˜ã€‚\n\nä»¥ä¸Šè¿™äº›å°±æ˜¯å•è¿›ç¨‹æµè§ˆå™¨çš„ç‰¹ç‚¹ï¼Œä¸ç¨³å®šã€ä¸æµç•…å’Œä¸å®‰å…¨ã€‚\n\n## å¤šè¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\n\n### **æ—©æœŸå¤šè¿›ç¨‹æ¶æ„**\n\n2008å¹´Chromeå‘å¸ƒæ—¶çš„è¿›ç¨‹æ¶æ„ï¼š\n\n![æ—©æœŸå¤šè¿›ç¨‹æ¶æ„](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8114114a549c4346b6bc5134ec89e116~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)\n\nä»é€”ä¸­å¯ä»¥çœ‹å‡ºï¼ŒChromeçš„é¡µé¢æ˜¯è¿è¡Œåœ¨å•ç‹¬çš„æ¸²æŸ“è¿›ç¨‹ä¸­çš„ï¼ŒåŒæ—¶é¡µé¢é‡Œçš„æ’ä»¶ä¹Ÿæ˜¯è¿è¡Œåœ¨å•ç‹¬çš„æ’ä»¶è¿›ç¨‹ä¸­çš„ï¼Œè¿›ç¨‹ä¹‹é—´é€šè¿‡IPCæœºåˆ¶è¿›è¡Œé€šä¿¡ã€‚\n\n**æˆ‘ä»¬å…ˆçœ‹çœ‹å¦‚ä½•è§£å†³ä¸ç¨³å®šçš„é—®é¢˜**ã€‚ç”±äºè¿›ç¨‹æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œæ‰€ä»¥å½“ä¸€ä¸ªé¡µé¢æˆ–è€…æ’ä»¶å´©æºƒæ—¶ï¼Œå½±å“åˆ°çš„ä»…ä»…æ˜¯å½“å‰çš„é¡µé¢è¿›ç¨‹æˆ–è€…æ’ä»¶è¿›ç¨‹ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°æµè§ˆå™¨å’Œå…¶ä»–é¡µé¢ï¼Œè¿™å°±å®Œç¾åœ°è§£å†³äº†é¡µé¢æˆ–è€…æ’ä»¶çš„å´©æºƒå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨å´©æºƒï¼Œä¹Ÿå°±æ˜¯ä¸ç¨³å®šçš„é—®é¢˜ã€‚\n\n**æ¥ä¸‹æ¥å†æ¥çœ‹çœ‹ä¸æµç•…çš„é—®é¢˜æ˜¯å¦‚ä½•è§£å†³çš„**ã€‚åŒæ ·ï¼ŒJavascriptä¹Ÿæ˜¯è¿è¡Œåœ¨æ¸²æŸ“è¿›ç¨‹ä¸­çš„ï¼Œæ‰€ä»¥å³ä½¿Javascripté˜»å¡äº†æ¸²æŸ“è¿›ç¨‹ï¼Œå½±å“åˆ°çš„ä¹Ÿæ˜¯å½“å‰çš„é¡µé¢æ¸²æŸ“ï¼Œè€Œå¹¶ä¸ä¼šå½±å“æµè§ˆå™¨å’Œå…¶ä»–é¡µé¢ï¼Œå› ä¸ºå…¶ä»–é¡µé¢çš„è„šæœ¬æ˜¯è¿è¡Œåœ¨ä»–ä»¬è‡ªå·±çš„æ¸²æŸ“è¿›ç¨‹ä¸­çš„ã€‚æ‰€ä»¥å½“æˆ‘ä»¬å†åœ¨Chromeä¸­è¿è¡Œä¸Šé¢é‚£ä¸ªæ­»å¾ªç¯çš„è„šæœ¬æ—¶ï¼Œæ²¡æœ‰å“åº”çš„ä»…ä»…æ˜¯å½“å‰çš„é¡µé¢ã€‚å¯¹äºå†…å­˜æ³„æ¼çš„è§£å†³æ–¹æ³•å°±æ›´ç®€å•äº†ï¼Œå› ä¸ºå½“å…³é—­ä¸€ä¸ªé¡µé¢æ—¶ï¼Œæ•´ä¸ªæ¸²æŸ“è¿›ç¨‹ä¹Ÿä¼šè¢«å…³é—­ï¼Œä¹‹åè¯¥è¿›ç¨‹æ‰€å ç”¨çš„å†…å­˜éƒ½ä¼šè¢«ç³»ç»Ÿå›æ”¶ï¼Œè¿™æ ·å°±è½»æ¾è§£å†³äº†æµè§ˆå™¨é¡µé¢çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚\n\n**æœ€åå†æ¥çœ‹çœ‹ä¸Šé¢çš„ä¸å®‰å…¨çš„é—®é¢˜æ˜¯æ€ä¹ˆè§£å†³çš„**ã€‚é‡‡ç”¨å¤šè¿›ç¨‹æ¶æ„çš„é¢å¤–å¥½å¤„æ˜¯å¯ä»¥ä½¿ç”¨å®‰å…¨æ²™ç®±ï¼Œä½ å¯ä»¥æŠŠæ²™ç®±çœ‹æˆæ˜¯æ“ä½œç³»ç»Ÿç»™è¿›ç¨‹ä¸Šäº†ä¸€æŠŠé”ï¼Œæ²™ç®±é‡Œé¢çš„ç¨‹åºå¯ä»¥è¿è¡Œï¼Œä½†æ˜¯ä¸èƒ½åœ¨ä½ çš„ç¡¬ç›˜ä¸Šå†™å…¥ä»»ä½•æ•°æ®ï¼Œä¾‹å¦‚ä½ çš„æ–‡æ¡£å’Œæ¡Œé¢ã€‚ChromeæŠŠæ’ä»¶è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹é”åœ¨æ²™ç®±é‡Œé¢ï¼Œè¿™æ ·å³ä½¿åœ¨æ¸²æŸ“è¿›ç¨‹æˆ–è€…æ’ä»¶è¿›ç¨‹é‡Œé¢æ‰§è¡Œäº†æ¶æ„ç¨‹åºï¼Œæ¶æ„ç¨‹åºä¹Ÿæ— æ³•çªç ´æ²™ç®±å»è·å–ç³»ç»Ÿæƒé™ã€‚\n\n### ç›®å‰å¤šè¿›ç¨‹æ¶æ„\n\næœ€æ–°çš„Chromeè¿›ç¨‹æ¶æ„å›¾ï¼š\n\n![ç›®å‰å¤šè¿›ç¨‹æ¶æ„å›¾](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f1f48d1fbfe148a9b939296e23ae080e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)\n\nä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæœ€æ–°çš„Chromeæµè§ˆå™¨åŒ…æ‹¬ï¼šæµè§ˆå™¨ä¸»è¿›ç¨‹ï¼ˆBrowser Processï¼‰ã€GPUè¿›ç¨‹ï¼ˆGPU Processï¼‰ã€ç½‘ç»œè¿›ç¨‹ï¼ˆNetwork Processï¼‰ã€æ¸²æŸ“è¿›ç¨‹ï¼ˆRender Processï¼‰ã€æ’ä»¶è¿›ç¨‹ï¼ˆPlugin Processï¼‰ã€‚\n\n**æµè§ˆå™¨è¿›ç¨‹**åªè¦è´Ÿè´£é¡µé¢æ˜¾ç¤ºã€ç”¨æˆ·äº¤äº’ã€å­è¿›ç¨‹ç®¡ç†ã€èµ„æºä¸‹è½½ã€æä¾›å­˜å‚¨ç­‰åŠŸèƒ½ã€‚\n\n**æ¸²æŸ“è¿›ç¨‹**ï¼ˆæµè§ˆå™¨å†…æ ¸ï¼‰æ ¸å¿ƒä»»åŠ¡æ˜¯å°†HTMLã€CSSå’ŒJavascriptè½¬æ¢ä¸ºç”¨æˆ·å¯ä»¥ä¸ä¹‹äº¤äº’çš„ç½‘é¡µï¼Œæ’ç‰ˆå¼•æ“Blinkå’ŒJavascriptå¼•æ“V8éƒ½æ˜¯è¿è¡Œåœ¨è¯¥è¿›ç¨‹ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒChromeä¼šä¸ºæ¯ä¸ªTabæ ‡ç­¾åˆ›å»ºä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæ¸²æŸ“è¿›ç¨‹éƒ½æ˜¯è¿è¡Œåœ¨æ²™ç®±æ¨¡å¼ä¸‹ã€‚æ¸²æŸ“è¿›ç¨‹ï¼Œé€šå¸¸ç”±ä»¥ä¸‹å¸¸é©»çº¿ç¨‹æ„æˆï¼šGUIæ¸²æŸ“çº¿ç¨‹ã€Javascriptå¼•æ“çº¿ç¨‹ã€å®šæ—¶è§¦å‘å™¨çº¿ç¨‹ã€äº‹ä»¶è§¦å‘çº¿ç¨‹ã€å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹ã€‚\n\n- **GUIæ¸²æŸ“çº¿ç¨‹**è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨é¡µé¢HTMLå…ƒç´ ï¼Œå½“ç•Œé¢éœ€è¦é‡ç»˜ï¼ˆrepaintï¼‰æˆ–ç”±äºæŸç§æ“ä½œå›æµï¼ˆreflowï¼‰æ—¶ï¼Œè¯¥çº¿ç¨‹å°±ä¼šæ‰§è¡Œã€‚åœ¨Javascriptå¼•æ“è¿è¡Œè„šæœ¬æœŸé—´ï¼ŒGUIæ¸²æŸ“å¼•æ“éƒ½æ˜¯æŒ‚èµ·çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´è¢«å†»ç»“äº†ã€‚\n- **Javascriptå¼•æ“çº¿ç¨‹**ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºJSå†…æ ¸ï¼Œä¸»è¦è´Ÿè´£å¤„ç†Javascriptè„šæœ¬ç¨‹åºï¼Œä¾‹å¦‚V8å¼•æ“æ˜¯è§£æJSè„šæœ¬ï¼Œè¿è¡Œä»£ç ã€‚\n  - **GUIæ¸²æŸ“çº¿ç¨‹å’ŒJavascriptå¼•æ“çº¿ç¨‹æ˜¯äº’æ–¥çš„**ã€‚ç”±äº JavaScript æ˜¯å¯æ“çºµ DOM çš„ï¼Œå¦‚æœåœ¨ä¿®æ”¹è¿™äº›å…ƒç´ å±æ€§åŒæ—¶æ¸²æŸ“ç•Œé¢ï¼ˆå³ JavaScript çº¿ç¨‹å’Œ UI çº¿ç¨‹åŒæ—¶è¿è¡Œï¼‰ï¼Œé‚£ä¹ˆæ¸²æŸ“çº¿ç¨‹å‰åè·å¾—çš„å…ƒç´ æ•°æ®å°±å¯èƒ½ä¸ä¸€è‡´äº†ã€‚å› æ­¤ä¸ºäº†é˜²æ­¢æ¸²æŸ“å‡ºç°ä¸å¯é¢„æœŸçš„ç»“æœï¼Œæµè§ˆå™¨è®¾ç½® GUI æ¸²æŸ“çº¿ç¨‹ä¸ JavaScript å¼•æ“ä¸ºäº’æ–¥çš„å…³ç³»ï¼Œå½“ JavaScript å¼•æ“æ‰§è¡Œæ—¶ GUI çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼ŒGUI æ›´æ–°ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ç­‰åˆ°å¼•æ“çº¿ç¨‹ç©ºé—²æ—¶ç«‹å³è¢«æ‰§è¡Œã€‚\n- **å®šæ—¶è§¦å‘å™¨çº¿ç¨‹**ï¼Œæµè§ˆå™¨å®šæ—¶å™¨ï¼ˆsetTimeoutå’ŒsetIntervalï¼‰å¹¶ä¸æ˜¯ç”±Javascriptå¼•æ“è®¡æ•°çš„ï¼Œå› ä¸ºJavascriptå¼•æ“æ˜¯å•çº¿ç¨‹çš„ï¼Œå¦‚æœå¤„äºé˜»å¡çŠ¶æ€å°±ä¼šå½±å“è®¡æ—¶çš„å‡†ç¡®æ€§ï¼Œå› æ­¤é€šè¿‡å¦å¤–ä¸€ä¸ªå•ç‹¬çš„å®šæ—¶è§¦å‘å™¨çº¿ç¨‹æ¥è®¡æ—¶æ˜¯æ›´ä¸ºåˆç†çš„æ–¹æ³•ã€‚\n- **äº‹ä»¶è§¦å‘çº¿ç¨‹**ï¼Œå½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘æ—¶è¯¥çº¿ç¨‹ä¼šæŠŠäº‹ä»¶æ·»åŠ åˆ°å¾…å¤„ç†é˜Ÿåˆ—çš„é˜Ÿå°¾ï¼Œç­‰å¾… JS å¼•æ“çš„å¤„ç†ã€‚è¿™äº›äº‹ä»¶å¯ä»¥æ˜¯å½“å‰æ‰§è¡Œçš„ä»£ç å—å¦‚å®šæ—¶ä»»åŠ¡ã€ä¹Ÿå¯æ¥è‡ªæµè§ˆå™¨å†…æ ¸çš„å…¶ä»–çº¿ç¨‹å¦‚é¼ æ ‡ç‚¹å‡»ã€AJAX å¼‚æ­¥è¯·æ±‚ç­‰ï¼Œä½†ç”±äº JS çš„å•çº¿ç¨‹å…³ç³»æ‰€æœ‰è¿™äº›äº‹ä»¶éƒ½å¾—æ’é˜Ÿç­‰å¾… JS å¼•æ“å¤„ç†ã€‚\n- **å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹**ï¼Œåœ¨XMLHttpRequestè¿æ¥åæ˜¯é€šè¿‡æµè§ˆå™¨å¼€å¯ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚ï¼Œå½“æ£€æµ‹åˆ°çŠ¶æ€å˜æ›´æ—¶ï¼Œå¦‚æœè®¾ç½®æœ‰å›è°ƒå‡½æ•°ï¼Œå¼‚æ­¥çº¿ç¨‹å°±äº§ç”ŸçŠ¶æ€å˜æ›´äº‹ä»¶æ”¾åˆ° JavaScript å¼•æ“çš„å¤„ç†é˜Ÿåˆ—ä¸­ç­‰å¾…å¤„ç†ã€‚\n\n**GPUè¿›ç¨‹**ã€‚å…¶å®ï¼ŒChrome åˆšå¼€å§‹å‘å¸ƒçš„æ—¶å€™æ˜¯æ²¡æœ‰ GPU è¿›ç¨‹çš„ã€‚è€Œ GPU çš„ä½¿ç”¨åˆè¡·æ˜¯ä¸ºäº†å®ç° 3D CSS çš„æ•ˆæœï¼Œåªæ˜¯éšåç½‘é¡µã€Chrome çš„ UI ç•Œé¢éƒ½é€‰æ‹©é‡‡ç”¨ GPU æ¥ç»˜åˆ¶ï¼Œè¿™ä½¿å¾— GPU æˆä¸ºæµè§ˆå™¨æ™®éçš„éœ€æ±‚ã€‚æœ€åï¼ŒChrome åœ¨å…¶å¤šè¿›ç¨‹æ¶æ„ä¸Šä¹Ÿå¼•å…¥äº† GPU è¿›ç¨‹ã€‚\n\n**ç½‘ç»œè¿›ç¨‹**ä¸»è¦è´Ÿè´£é¡µé¢çš„ç½‘ç»œèµ„æºåŠ è½½ï¼Œä¹‹å‰æ˜¯ä½œä¸ºä¸€ä¸ªæ¨¡å—è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹é‡Œé¢çš„ï¼Œç›´è‡³æœ€è¿‘æ‰ç‹¬ç«‹å‡ºæ¥ï¼Œæˆä¸ºä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ã€‚\n\n**æ’ä»¶è¿›ç¨‹**ä¸»è¦è´Ÿè´£æ’ä»¶çš„è¿è¡Œï¼Œå› ä¸ºæ’ä»¶å®¹æ˜“å´©æºƒï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡æ’ä»¶è¿›ç¨‹æ¥éš”ç¦»ï¼Œä»¥ä¿è¯æ’ä»¶è¿›ç¨‹å´©æºƒä¸ä¼šå¯¹æµè§ˆå™¨å’Œé¡µé¢é€ æˆå½±å“","source":"_posts/æµè§ˆå™¨è¿›ç¨‹å’Œçº¿ç¨‹.md","raw":"---\ntitle:  æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹\ntag: æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹\nkeywords: æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹\ncategories: æµè§ˆå™¨ç›¸å…³çŸ¥è¯†\n---\n# æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆé¢è¯•ï¼šä¸ºä»€ä¹ˆæ‰“å¼€æµè§ˆå™¨é¡µé¢ï¼Œä¼šæœ‰å››ä¸ªè¿›ç¨‹ï¼Ÿï¼‰\n\n> å¼•ç”¨è‡ª[é“¾æ¥](https://juejin.cn/post/7067725869598375967#heading-0)\n\n## è¿›ç¨‹å’Œçº¿ç¨‹\n\nä¸è¿‡ï¼Œåœ¨ä»‹ç»è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹å‰ï¼Œæˆ‘éœ€è¦å…ˆè®²è§£ä¸‹ï¼Œä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†ã€‚å› ä¸ºå¦‚æœä½ ç†è§£äº†å¹¶è¡Œå¤„ç†çš„æ¦‚å¿µï¼Œé‚£ä¹ˆå†ç†è§£è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹é—´çš„å…³ç³»å°±ä¼šå˜å¾—è½»æ¾è®¸å¤šã€‚\n\n## ä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†\n\nè®¡ç®—æœºä¸­çš„å¹¶è¡Œå¤„ç†å°±æ˜¯åŒä¸€æ—¶åˆ»å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦è®¡ç®—ä¸‹é¢è¿™ä¸‰ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œå¹¶æ˜¾ç¤ºå‡ºç»“æœã€‚\n\n```js\nA = 1+2\nB = 20/5\nC = 7*8\nå¤åˆ¶ä»£ç \n```\n\nåœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹æ‹†åˆ†ä¸ºå››ä¸ªä»»åŠ¡ï¼š\n\n- ä»»åŠ¡ 1 æ˜¯è®¡ç®— A=1+2ï¼›\n- ä»»åŠ¡ 2 æ˜¯è®¡ç®— B=20/5ï¼›\n- ä»»åŠ¡ 3 æ˜¯è®¡ç®— C=7*8ï¼›\n- ä»»åŠ¡ 4 æ˜¯æ˜¾ç¤ºæœ€åè®¡ç®—çš„ç»“æœã€‚\n\næ­£å¸¸æƒ…å†µä¸‹ç¨‹åºå¯ä»¥ä½¿ç”¨**å•çº¿ç¨‹**æ¥å¤„ç†ï¼Œä¹Ÿå°±æ˜¯åˆ†å››æ­¥æŒ‰ç…§é¡ºåºåˆ†åˆ«æ‰§è¡Œè¿™å››ä¸ªä»»åŠ¡ã€‚\n\nå¦‚æœé‡‡ç”¨**å¤šçº¿ç¨‹**ï¼Œä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€åˆ†â€œä¸¤æ­¥èµ°â€ï¼šç¬¬ä¸€æ­¥ï¼Œä½¿ç”¨ä¸‰ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œå‰ä¸‰ä¸ªä»»åŠ¡ï¼›ç¬¬äºŒæ­¥ï¼Œå†æ‰§è¡Œç¬¬å››ä¸ªæ˜¾ç¤ºä»»åŠ¡ã€‚\n\né€šè¿‡å¯¹æ¯”åˆ†æï¼Œä½ ä¼šå‘ç°ç”¨å•çº¿ç¨‹æ‰§è¡Œéœ€è¦å››æ­¥ï¼Œè€Œä½¿ç”¨å¤šçº¿ç¨‹åªéœ€è¦ä¸¤æ­¥ã€‚å› æ­¤ï¼Œ**ä½¿ç”¨å¹¶è¡Œå¤„ç†èƒ½å¤§å¤§æå‡æ€§èƒ½ã€‚**\n\n## çº¿ç¨‹ VS è¿›ç¨‹\n\nå¤šçº¿ç¨‹å¯ä»¥å¹¶è¡Œå¤„ç†ä»»åŠ¡ï¼Œä½†æ˜¯**çº¿ç¨‹æ˜¯ä¸èƒ½å•ç‹¬å­˜åœ¨çš„ï¼Œå®ƒæ˜¯ç”±è¿›ç¨‹æ¥å¯åŠ¨å’Œç®¡ç†çš„**ã€‚é‚£ä»€ä¹ˆåˆæ˜¯è¿›ç¨‹å‘¢ï¼Ÿ\n\n**ä¸€ä¸ªè¿›ç¨‹å°±æ˜¯ä¸€ä¸ªç¨‹åºçš„è¿è¡Œå®ä¾‹**ã€‚è¯¦ç»†è§£é‡Šå°±æ˜¯ï¼Œå¯åŠ¨ä¸€ä¸ªç¨‹åºçš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šä¸ºè¯¥ç¨‹åºåˆ›å»ºä¸€å—å†…å­˜ï¼Œç”¨æ¥å­˜æ”¾ä»£ç ã€è¿è¡Œä¸­çš„æ•°æ®å’Œä¸€ä¸ªæ‰§è¡Œä»»åŠ¡çš„ä¸»çº¿ç¨‹ï¼Œæˆ‘ä»¬æŠŠè¿™æ ·çš„ä¸€ä¸ªè¿è¡Œç¯å¢ƒå«**è¿›ç¨‹**ã€‚\n\n![è¿›ç¨‹ä¸­çš„å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03c20111e2b94345b039995084ee03db~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)\n\nä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ**çº¿ç¨‹æ˜¯ä¾é™„äºè¿›ç¨‹çš„ï¼Œè€Œè¿›ç¨‹ä¸­ä½¿ç”¨å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†èƒ½æå‡è¿ç®—æ•ˆç‡**ã€‚æ€»ç»“æ¥è¯´ï¼Œè¿›ç¨‹å’Œçº¿ç¨‹ä¹‹é—´çš„å…³ç³»æœ‰ä»¥ä¸‹ 4 ä¸ªç‰¹ç‚¹ã€‚\n\n**1. è¿›ç¨‹ä¸­çš„ä»»æ„ä¸€çº¿ç¨‹æ‰§è¡Œå‡ºé”™ï¼Œéƒ½ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹çš„å´©æºƒã€‚**\n\næˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿä»¥ä¸‹åœºæ™¯ï¼š\n\n```js\nA = 1+2\nB = 20/0\nC = 7*8\nå¤åˆ¶ä»£ç \n```\n\næˆ‘æŠŠä¸Šè¿°ä¸‰ä¸ªè¡¨è¾¾å¼ç¨ä½œä¿®æ”¹ï¼Œåœ¨è®¡ç®— B çš„å€¼çš„æ—¶å€™ï¼Œæˆ‘æŠŠè¡¨è¾¾å¼çš„åˆ†æ¯æ”¹æˆ 0ï¼Œå½“çº¿ç¨‹æ‰§è¡Œåˆ° B = 20/0 æ—¶ï¼Œç”±äºåˆ†æ¯ä¸º 0ï¼Œçº¿ç¨‹ä¼šæ‰§è¡Œå‡ºé”™ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹çš„å´©æºƒï¼Œå½“ç„¶å¦å¤–ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œçš„ç»“æœä¹Ÿæ²¡æœ‰äº†ã€‚\n\n**2. çº¿ç¨‹ä¹‹é—´å…±äº«è¿›ç¨‹ä¸­çš„æ•°æ®ã€‚**\n\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œçº¿ç¨‹ä¹‹é—´å¯ä»¥å¯¹è¿›ç¨‹çš„å…¬å…±æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œã€‚\n\n![çº¿ç¨‹ä¹‹é—´å…±äº«è¿›ç¨‹ä¸­çš„æ•°æ®](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce0a54836131420b983c12b6adf0e9f0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)\n\nä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œçº¿ç¨‹ 1ã€çº¿ç¨‹ 2ã€çº¿ç¨‹ 3 åˆ†åˆ«æŠŠæ‰§è¡Œçš„ç»“æœå†™å…¥ Aã€Bã€C ä¸­ï¼Œç„¶åçº¿ç¨‹ 2 ç»§ç»­ä» Aã€Bã€C ä¸­è¯»å–æ•°æ®ï¼Œç”¨æ¥æ˜¾ç¤ºæ‰§è¡Œç»“æœã€‚\n\n**3. å½“ä¸€ä¸ªè¿›ç¨‹å…³é—­ä¹‹åï¼Œæ“ä½œç³»ç»Ÿä¼šå›æ”¶è¿›ç¨‹æ‰€å ç”¨çš„å†…å­˜ã€‚**\n\nå½“ä¸€ä¸ªè¿›ç¨‹é€€å‡ºæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå›æ”¶è¯¥è¿›ç¨‹æ‰€ç”³è¯·çš„æ‰€æœ‰èµ„æºï¼›å³ä½¿å…¶ä¸­ä»»æ„çº¿ç¨‹å› ä¸ºæ“ä½œä¸å½“å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œå½“è¿›ç¨‹é€€å‡ºæ—¶ï¼Œè¿™äº›å†…å­˜ä¹Ÿä¼šè¢«æ­£ç¡®å›æ”¶ã€‚\n\næ¯”å¦‚ä¹‹å‰çš„ IE æµè§ˆå™¨ï¼Œæ”¯æŒå¾ˆå¤šæ’ä»¶ï¼Œè€Œè¿™äº›æ’ä»¶å¾ˆå®¹æ˜“å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè¿™æ„å‘³ç€åªè¦æµè§ˆå™¨å¼€ç€ï¼Œå†…å­˜å ç”¨å°±æœ‰å¯èƒ½ä¼šè¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯å½“å…³é—­æµè§ˆå™¨è¿›ç¨‹æ—¶ï¼Œè¿™äº›å†…å­˜å°±éƒ½ä¼šè¢«ç³»ç»Ÿå›æ”¶æ‰\n\n**4. è¿›ç¨‹ä¹‹é—´çš„å†…å®¹ç›¸äº’éš”ç¦»ã€‚**\n\nè¿›ç¨‹éš”ç¦»æ˜¯ä¸ºä¿æŠ¤æ“ä½œç³»ç»Ÿä¸­è¿›ç¨‹äº’ä¸å¹²æ‰°çš„æŠ€æœ¯ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹åªèƒ½è®¿é—®è‡ªå·±å æœ‰çš„æ•°æ®ï¼Œä¹Ÿå°±é¿å…å‡ºç°è¿›ç¨‹ A å†™å…¥æ•°æ®åˆ°è¿›ç¨‹ B çš„æƒ…å†µã€‚æ­£æ˜¯å› ä¸ºè¿›ç¨‹ä¹‹é—´çš„æ•°æ®æ˜¯ä¸¥æ ¼éš”ç¦»çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªè¿›ç¨‹å¦‚æœå´©æºƒäº†ï¼Œæˆ–è€…æŒ‚èµ·äº†ï¼Œæ˜¯ä¸ä¼šå½±å“åˆ°å…¶ä»–è¿›ç¨‹çš„ã€‚å¦‚æœè¿›ç¨‹ä¹‹é—´éœ€è¦è¿›è¡Œæ•°æ®çš„é€šä¿¡ï¼Œè¿™æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨ç”¨äºè¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰çš„æœºåˆ¶äº†\n\n## å•è¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\n\né¡¾åæ€ä¹‰ï¼Œ**å•è¿›ç¨‹æµè§ˆå™¨æ˜¯æŒ‡æµè§ˆå™¨çš„æ‰€æœ‰åŠŸèƒ½æ¨¡å—éƒ½æ˜¯è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹é‡Œ**ï¼Œè¿™äº›æ¨¡å—åŒ…å«ç½‘ç»œã€æ’ä»¶ã€Javascriptè¿è¡Œç¯å¢ƒã€æ¸²æŸ“å¼•æ“å’Œé¡µé¢ç­‰ã€‚å…¶å®æ—©åœ¨2007å¹´ä¹‹å‰ï¼Œå¸‚é¢ä¸Šæµè§ˆå™¨éƒ½æ˜¯å•è¿›ç¨‹çš„ã€‚å•è¿›ç¨‹æµè§ˆå™¨çš„æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\n![å•è¿›ç¨‹æµè§ˆå™¨](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f13158e5fe114b79a2be3b1b168467a0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)\n\nå¦‚æ­¤å¤šçš„åŠŸèƒ½æ¨¡å—è¿è¡Œåœ¨ä¸€ä¸ªè¿›ç¨‹é‡Œï¼Œæ˜¯å¯¼è‡´å•è¿›ç¨‹æµè§ˆå™¨**ä¸ç¨³å®šã€ä¸æµç•…å’Œä¸å®‰å…¨**çš„ä¸€ä¸ªä¸»è¦å› ç´ ã€‚\n\n**é—®é¢˜ 1ï¼šä¸ç¨³å®š**\n\næ—©æœŸæµè§ˆå™¨éœ€è¦å€ŸåŠ©äº**æ’ä»¶**æ¥å®ç°è¯¸å¦‚Webè§†é¢‘ã€Webæ¸¸æˆç­‰å„ç§å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½†æ˜¯æ’ä»¶æ˜¯æœ€å®¹æ˜“å‡ºé—®é¢˜çš„æ¨¡å—ï¼Œå¹¶ä¸”è¿˜è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹ä¸­ï¼Œæ‰€ä»¥ä¸€ä¸ªæ’ä»¶çš„æ„å¤–å´©æºƒä¼šå¼•èµ·æ•´ä¸ªæµè§ˆå™¨çš„å´©æºƒã€‚\n\né™¤äº†æ’ä»¶ä¹‹å¤–ï¼Œ**æ¸²æŸ“å¼•æ“æ¨¡å—**ä¹Ÿæ˜¯ä¸ç¨³å®šçš„ï¼Œé€šå¸¸ä¸€äº›å¤æ‚çš„Javascriptä»£ç å°±æœ‰å¯èƒ½å¼•èµ·æ¸²æŸ“å¼•æ“æ¨¡å—çš„å´©æºƒã€‚å’Œæ’ä»¶ä¸€æ ·ï¼Œæ¸²æŸ“å¼•æ“çš„å´©æºƒä¹Ÿä¼šå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨çš„å´©æºƒ\n\n**é—®é¢˜ 2ï¼šä¸æµç•…**\n\nä»ä¸Šé¢çš„**å•è¿›ç¨‹æµè§ˆå™¨æ¶æ„ç¤ºæ„å›¾**å¯ä»¥çœ‹å‡ºï¼Œæ‰€æœ‰é¡µé¢çš„æ¸²æŸ“æ¨¡å—ã€Javascriptæ‰§è¡Œç¯å¢ƒä»¥åŠæ’ä»¶éƒ½æ˜¯è¿è¡Œåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­çš„ï¼Œè¿™å°±æ„å‘³ç€åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªæ¨¡å—å¯ä»¥æ‰§è¡Œã€‚\n\næ¯”å¦‚ï¼Œä¸‹é¢è¿™ä¸ªæ— é™å¾ªç¯çš„è„šæœ¬ï¼š\n\n```js\nfunction freeze() { \n    while (1) { \n        console.log(\"freeze\"); \n    }\n}\nfreeze();\n```\n\nå¦‚æœè®©è¿™ä¸ªè„šæœ¬è¿è¡Œåœ¨ä¸€ä¸ªå•è¿›ç¨‹æµè§ˆå™¨çš„é¡µé¢é‡Œï¼Œå› ä¸ºè¿™ä¸ªè„šæœ¬æ˜¯æ— é™å¾ªç¯çš„ï¼Œæ‰€æœ‰å½“å…¶æ‰§è¡Œæ—¶ï¼Œå®ƒä¼šç‹¬å æ•´ä¸ªçº¿ç¨‹ï¼Œè¿™æ ·å¯¼è‡´å…¶ä»–è¿è¡Œåœ¨è¯¥çº¿ç¨‹ä¸­çš„æ¨¡å—å°±æ²¡æœ‰æœºä¼šæ‰§è¡Œã€‚å› ä¸ºå•è¿›ç¨‹æµè§ˆå™¨ä¸­æ‰€æœ‰çš„é¡µé¢éƒ½è¿è¡Œåœ¨è¯¥çº¿ç¨‹ä¸­ï¼Œæ‰€ä»¥è¿™äº›é¡µé¢å°±æ²¡æœ‰æœºä¼šå»æ‰§è¡Œä»»åŠ¡ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨å¤±å»å“åº”ï¼Œå˜å¡é¡¿ã€‚\n\né™¤äº†ä¸Šè¿°**è„šæœ¬**æˆ–è€…**æ’ä»¶**ä¼šè®©å•è¿›ç¨‹æµè§ˆå™¨å˜å¡é¡¿å¤–ï¼Œ**é¡µé¢çš„å†…å­˜æ³„æ¼**ä¹Ÿæ˜¯å•è¿›ç¨‹å˜æ…¢çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚é€šå¸¸æµè§ˆå™¨çš„å†…æ ¸éƒ½æ˜¯éå¸¸å¤æ‚çš„ï¼Œè¿è¡Œä¸€ä¸ªå¤æ‚ç‚¹çš„é¡µé¢å†å…³é—­é¡µé¢ï¼Œä¼šå­˜åœ¨å†…å­˜ä¸èƒ½å®Œå…¨å›æ”¶çš„æƒ…å†µï¼Œè¿™æ ·å¯¼è‡´çš„é—®é¢˜æ˜¯ä½¿ç”¨æ—¶é—´è¶Šé•¿ï¼Œå†…å­˜å ç”¨è¶Šé«˜ï¼Œæµè§ˆå™¨ä¼šå˜å¾—è¶Šæ…¢ã€‚\n\n**é—®é¢˜ 3ï¼šä¸å®‰å…¨**\n\nä¸å®‰å…¨è¿™é‡Œä¾ç„¶å¯ä»¥ä»æ’ä»¶å’Œé¡µé¢è„šæœ¬ä¸¤ä¸ªæ–¹é¢æ¥è§£é‡Šè¯¥é—®é¢˜ã€‚\n\næ’ä»¶å¯ä»¥ä½¿ç”¨C/C++ç­‰ä»£ç ç¼–å†™ï¼Œé€šè¿‡æ’ä»¶å¯ä»¥è·å–åˆ°æ“ä½œç³»ç»Ÿçš„ä»»æ„èµ„æºï¼Œå½“ä½ åœ¨é¡µé¢è¿è¡Œä¸€ä¸ªæ’ä»¶æ—¶ä¹Ÿæ„å‘³ç€è¿™ä¸ªæ’ä»¶èƒ½å®Œå…¨æ“ä½œä½ çš„ç”µè„‘ã€‚å¦‚æœæ˜¯ä¸€ä¸ªæ¶æ„æ’ä»¶ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥é‡Šæ”¾ç—…æ¯’ã€çªƒå–ä½ çš„è´¦å·å¯†ç ï¼Œå¼•å‘å®‰å…¨æ€§é—®é¢˜ã€‚\n\nè‡³äºé¡µé¢è„šæœ¬ï¼Œå®ƒå¯ä»¥é€šè¿‡æµè§ˆå™¨çš„æ¼æ´æ¥è·å–ç³»ç»Ÿæƒé™ï¼Œè¿™äº›è„šæœ¬è·å–ç³»ç»Ÿæƒé™ä¹‹åä¹Ÿå¯ä»¥å¯¹ä½ çš„ç”µè„‘åšä¸€äº›æ¶æ„çš„äº‹æƒ…ï¼ŒåŒæ ·ä¹Ÿä¼šå¼•å‘å®‰å…¨é—®é¢˜ã€‚\n\nä»¥ä¸Šè¿™äº›å°±æ˜¯å•è¿›ç¨‹æµè§ˆå™¨çš„ç‰¹ç‚¹ï¼Œä¸ç¨³å®šã€ä¸æµç•…å’Œä¸å®‰å…¨ã€‚\n\n## å¤šè¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\n\n### **æ—©æœŸå¤šè¿›ç¨‹æ¶æ„**\n\n2008å¹´Chromeå‘å¸ƒæ—¶çš„è¿›ç¨‹æ¶æ„ï¼š\n\n![æ—©æœŸå¤šè¿›ç¨‹æ¶æ„](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8114114a549c4346b6bc5134ec89e116~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)\n\nä»é€”ä¸­å¯ä»¥çœ‹å‡ºï¼ŒChromeçš„é¡µé¢æ˜¯è¿è¡Œåœ¨å•ç‹¬çš„æ¸²æŸ“è¿›ç¨‹ä¸­çš„ï¼ŒåŒæ—¶é¡µé¢é‡Œçš„æ’ä»¶ä¹Ÿæ˜¯è¿è¡Œåœ¨å•ç‹¬çš„æ’ä»¶è¿›ç¨‹ä¸­çš„ï¼Œè¿›ç¨‹ä¹‹é—´é€šè¿‡IPCæœºåˆ¶è¿›è¡Œé€šä¿¡ã€‚\n\n**æˆ‘ä»¬å…ˆçœ‹çœ‹å¦‚ä½•è§£å†³ä¸ç¨³å®šçš„é—®é¢˜**ã€‚ç”±äºè¿›ç¨‹æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œæ‰€ä»¥å½“ä¸€ä¸ªé¡µé¢æˆ–è€…æ’ä»¶å´©æºƒæ—¶ï¼Œå½±å“åˆ°çš„ä»…ä»…æ˜¯å½“å‰çš„é¡µé¢è¿›ç¨‹æˆ–è€…æ’ä»¶è¿›ç¨‹ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°æµè§ˆå™¨å’Œå…¶ä»–é¡µé¢ï¼Œè¿™å°±å®Œç¾åœ°è§£å†³äº†é¡µé¢æˆ–è€…æ’ä»¶çš„å´©æºƒå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨å´©æºƒï¼Œä¹Ÿå°±æ˜¯ä¸ç¨³å®šçš„é—®é¢˜ã€‚\n\n**æ¥ä¸‹æ¥å†æ¥çœ‹çœ‹ä¸æµç•…çš„é—®é¢˜æ˜¯å¦‚ä½•è§£å†³çš„**ã€‚åŒæ ·ï¼ŒJavascriptä¹Ÿæ˜¯è¿è¡Œåœ¨æ¸²æŸ“è¿›ç¨‹ä¸­çš„ï¼Œæ‰€ä»¥å³ä½¿Javascripté˜»å¡äº†æ¸²æŸ“è¿›ç¨‹ï¼Œå½±å“åˆ°çš„ä¹Ÿæ˜¯å½“å‰çš„é¡µé¢æ¸²æŸ“ï¼Œè€Œå¹¶ä¸ä¼šå½±å“æµè§ˆå™¨å’Œå…¶ä»–é¡µé¢ï¼Œå› ä¸ºå…¶ä»–é¡µé¢çš„è„šæœ¬æ˜¯è¿è¡Œåœ¨ä»–ä»¬è‡ªå·±çš„æ¸²æŸ“è¿›ç¨‹ä¸­çš„ã€‚æ‰€ä»¥å½“æˆ‘ä»¬å†åœ¨Chromeä¸­è¿è¡Œä¸Šé¢é‚£ä¸ªæ­»å¾ªç¯çš„è„šæœ¬æ—¶ï¼Œæ²¡æœ‰å“åº”çš„ä»…ä»…æ˜¯å½“å‰çš„é¡µé¢ã€‚å¯¹äºå†…å­˜æ³„æ¼çš„è§£å†³æ–¹æ³•å°±æ›´ç®€å•äº†ï¼Œå› ä¸ºå½“å…³é—­ä¸€ä¸ªé¡µé¢æ—¶ï¼Œæ•´ä¸ªæ¸²æŸ“è¿›ç¨‹ä¹Ÿä¼šè¢«å…³é—­ï¼Œä¹‹åè¯¥è¿›ç¨‹æ‰€å ç”¨çš„å†…å­˜éƒ½ä¼šè¢«ç³»ç»Ÿå›æ”¶ï¼Œè¿™æ ·å°±è½»æ¾è§£å†³äº†æµè§ˆå™¨é¡µé¢çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚\n\n**æœ€åå†æ¥çœ‹çœ‹ä¸Šé¢çš„ä¸å®‰å…¨çš„é—®é¢˜æ˜¯æ€ä¹ˆè§£å†³çš„**ã€‚é‡‡ç”¨å¤šè¿›ç¨‹æ¶æ„çš„é¢å¤–å¥½å¤„æ˜¯å¯ä»¥ä½¿ç”¨å®‰å…¨æ²™ç®±ï¼Œä½ å¯ä»¥æŠŠæ²™ç®±çœ‹æˆæ˜¯æ“ä½œç³»ç»Ÿç»™è¿›ç¨‹ä¸Šäº†ä¸€æŠŠé”ï¼Œæ²™ç®±é‡Œé¢çš„ç¨‹åºå¯ä»¥è¿è¡Œï¼Œä½†æ˜¯ä¸èƒ½åœ¨ä½ çš„ç¡¬ç›˜ä¸Šå†™å…¥ä»»ä½•æ•°æ®ï¼Œä¾‹å¦‚ä½ çš„æ–‡æ¡£å’Œæ¡Œé¢ã€‚ChromeæŠŠæ’ä»¶è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹é”åœ¨æ²™ç®±é‡Œé¢ï¼Œè¿™æ ·å³ä½¿åœ¨æ¸²æŸ“è¿›ç¨‹æˆ–è€…æ’ä»¶è¿›ç¨‹é‡Œé¢æ‰§è¡Œäº†æ¶æ„ç¨‹åºï¼Œæ¶æ„ç¨‹åºä¹Ÿæ— æ³•çªç ´æ²™ç®±å»è·å–ç³»ç»Ÿæƒé™ã€‚\n\n### ç›®å‰å¤šè¿›ç¨‹æ¶æ„\n\næœ€æ–°çš„Chromeè¿›ç¨‹æ¶æ„å›¾ï¼š\n\n![ç›®å‰å¤šè¿›ç¨‹æ¶æ„å›¾](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f1f48d1fbfe148a9b939296e23ae080e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp?)\n\nä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæœ€æ–°çš„Chromeæµè§ˆå™¨åŒ…æ‹¬ï¼šæµè§ˆå™¨ä¸»è¿›ç¨‹ï¼ˆBrowser Processï¼‰ã€GPUè¿›ç¨‹ï¼ˆGPU Processï¼‰ã€ç½‘ç»œè¿›ç¨‹ï¼ˆNetwork Processï¼‰ã€æ¸²æŸ“è¿›ç¨‹ï¼ˆRender Processï¼‰ã€æ’ä»¶è¿›ç¨‹ï¼ˆPlugin Processï¼‰ã€‚\n\n**æµè§ˆå™¨è¿›ç¨‹**åªè¦è´Ÿè´£é¡µé¢æ˜¾ç¤ºã€ç”¨æˆ·äº¤äº’ã€å­è¿›ç¨‹ç®¡ç†ã€èµ„æºä¸‹è½½ã€æä¾›å­˜å‚¨ç­‰åŠŸèƒ½ã€‚\n\n**æ¸²æŸ“è¿›ç¨‹**ï¼ˆæµè§ˆå™¨å†…æ ¸ï¼‰æ ¸å¿ƒä»»åŠ¡æ˜¯å°†HTMLã€CSSå’ŒJavascriptè½¬æ¢ä¸ºç”¨æˆ·å¯ä»¥ä¸ä¹‹äº¤äº’çš„ç½‘é¡µï¼Œæ’ç‰ˆå¼•æ“Blinkå’ŒJavascriptå¼•æ“V8éƒ½æ˜¯è¿è¡Œåœ¨è¯¥è¿›ç¨‹ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒChromeä¼šä¸ºæ¯ä¸ªTabæ ‡ç­¾åˆ›å»ºä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæ¸²æŸ“è¿›ç¨‹éƒ½æ˜¯è¿è¡Œåœ¨æ²™ç®±æ¨¡å¼ä¸‹ã€‚æ¸²æŸ“è¿›ç¨‹ï¼Œé€šå¸¸ç”±ä»¥ä¸‹å¸¸é©»çº¿ç¨‹æ„æˆï¼šGUIæ¸²æŸ“çº¿ç¨‹ã€Javascriptå¼•æ“çº¿ç¨‹ã€å®šæ—¶è§¦å‘å™¨çº¿ç¨‹ã€äº‹ä»¶è§¦å‘çº¿ç¨‹ã€å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹ã€‚\n\n- **GUIæ¸²æŸ“çº¿ç¨‹**è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨é¡µé¢HTMLå…ƒç´ ï¼Œå½“ç•Œé¢éœ€è¦é‡ç»˜ï¼ˆrepaintï¼‰æˆ–ç”±äºæŸç§æ“ä½œå›æµï¼ˆreflowï¼‰æ—¶ï¼Œè¯¥çº¿ç¨‹å°±ä¼šæ‰§è¡Œã€‚åœ¨Javascriptå¼•æ“è¿è¡Œè„šæœ¬æœŸé—´ï¼ŒGUIæ¸²æŸ“å¼•æ“éƒ½æ˜¯æŒ‚èµ·çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´è¢«å†»ç»“äº†ã€‚\n- **Javascriptå¼•æ“çº¿ç¨‹**ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºJSå†…æ ¸ï¼Œä¸»è¦è´Ÿè´£å¤„ç†Javascriptè„šæœ¬ç¨‹åºï¼Œä¾‹å¦‚V8å¼•æ“æ˜¯è§£æJSè„šæœ¬ï¼Œè¿è¡Œä»£ç ã€‚\n  - **GUIæ¸²æŸ“çº¿ç¨‹å’ŒJavascriptå¼•æ“çº¿ç¨‹æ˜¯äº’æ–¥çš„**ã€‚ç”±äº JavaScript æ˜¯å¯æ“çºµ DOM çš„ï¼Œå¦‚æœåœ¨ä¿®æ”¹è¿™äº›å…ƒç´ å±æ€§åŒæ—¶æ¸²æŸ“ç•Œé¢ï¼ˆå³ JavaScript çº¿ç¨‹å’Œ UI çº¿ç¨‹åŒæ—¶è¿è¡Œï¼‰ï¼Œé‚£ä¹ˆæ¸²æŸ“çº¿ç¨‹å‰åè·å¾—çš„å…ƒç´ æ•°æ®å°±å¯èƒ½ä¸ä¸€è‡´äº†ã€‚å› æ­¤ä¸ºäº†é˜²æ­¢æ¸²æŸ“å‡ºç°ä¸å¯é¢„æœŸçš„ç»“æœï¼Œæµè§ˆå™¨è®¾ç½® GUI æ¸²æŸ“çº¿ç¨‹ä¸ JavaScript å¼•æ“ä¸ºäº’æ–¥çš„å…³ç³»ï¼Œå½“ JavaScript å¼•æ“æ‰§è¡Œæ—¶ GUI çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼ŒGUI æ›´æ–°ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ç­‰åˆ°å¼•æ“çº¿ç¨‹ç©ºé—²æ—¶ç«‹å³è¢«æ‰§è¡Œã€‚\n- **å®šæ—¶è§¦å‘å™¨çº¿ç¨‹**ï¼Œæµè§ˆå™¨å®šæ—¶å™¨ï¼ˆsetTimeoutå’ŒsetIntervalï¼‰å¹¶ä¸æ˜¯ç”±Javascriptå¼•æ“è®¡æ•°çš„ï¼Œå› ä¸ºJavascriptå¼•æ“æ˜¯å•çº¿ç¨‹çš„ï¼Œå¦‚æœå¤„äºé˜»å¡çŠ¶æ€å°±ä¼šå½±å“è®¡æ—¶çš„å‡†ç¡®æ€§ï¼Œå› æ­¤é€šè¿‡å¦å¤–ä¸€ä¸ªå•ç‹¬çš„å®šæ—¶è§¦å‘å™¨çº¿ç¨‹æ¥è®¡æ—¶æ˜¯æ›´ä¸ºåˆç†çš„æ–¹æ³•ã€‚\n- **äº‹ä»¶è§¦å‘çº¿ç¨‹**ï¼Œå½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘æ—¶è¯¥çº¿ç¨‹ä¼šæŠŠäº‹ä»¶æ·»åŠ åˆ°å¾…å¤„ç†é˜Ÿåˆ—çš„é˜Ÿå°¾ï¼Œç­‰å¾… JS å¼•æ“çš„å¤„ç†ã€‚è¿™äº›äº‹ä»¶å¯ä»¥æ˜¯å½“å‰æ‰§è¡Œçš„ä»£ç å—å¦‚å®šæ—¶ä»»åŠ¡ã€ä¹Ÿå¯æ¥è‡ªæµè§ˆå™¨å†…æ ¸çš„å…¶ä»–çº¿ç¨‹å¦‚é¼ æ ‡ç‚¹å‡»ã€AJAX å¼‚æ­¥è¯·æ±‚ç­‰ï¼Œä½†ç”±äº JS çš„å•çº¿ç¨‹å…³ç³»æ‰€æœ‰è¿™äº›äº‹ä»¶éƒ½å¾—æ’é˜Ÿç­‰å¾… JS å¼•æ“å¤„ç†ã€‚\n- **å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹**ï¼Œåœ¨XMLHttpRequestè¿æ¥åæ˜¯é€šè¿‡æµè§ˆå™¨å¼€å¯ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚ï¼Œå½“æ£€æµ‹åˆ°çŠ¶æ€å˜æ›´æ—¶ï¼Œå¦‚æœè®¾ç½®æœ‰å›è°ƒå‡½æ•°ï¼Œå¼‚æ­¥çº¿ç¨‹å°±äº§ç”ŸçŠ¶æ€å˜æ›´äº‹ä»¶æ”¾åˆ° JavaScript å¼•æ“çš„å¤„ç†é˜Ÿåˆ—ä¸­ç­‰å¾…å¤„ç†ã€‚\n\n**GPUè¿›ç¨‹**ã€‚å…¶å®ï¼ŒChrome åˆšå¼€å§‹å‘å¸ƒçš„æ—¶å€™æ˜¯æ²¡æœ‰ GPU è¿›ç¨‹çš„ã€‚è€Œ GPU çš„ä½¿ç”¨åˆè¡·æ˜¯ä¸ºäº†å®ç° 3D CSS çš„æ•ˆæœï¼Œåªæ˜¯éšåç½‘é¡µã€Chrome çš„ UI ç•Œé¢éƒ½é€‰æ‹©é‡‡ç”¨ GPU æ¥ç»˜åˆ¶ï¼Œè¿™ä½¿å¾— GPU æˆä¸ºæµè§ˆå™¨æ™®éçš„éœ€æ±‚ã€‚æœ€åï¼ŒChrome åœ¨å…¶å¤šè¿›ç¨‹æ¶æ„ä¸Šä¹Ÿå¼•å…¥äº† GPU è¿›ç¨‹ã€‚\n\n**ç½‘ç»œè¿›ç¨‹**ä¸»è¦è´Ÿè´£é¡µé¢çš„ç½‘ç»œèµ„æºåŠ è½½ï¼Œä¹‹å‰æ˜¯ä½œä¸ºä¸€ä¸ªæ¨¡å—è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹é‡Œé¢çš„ï¼Œç›´è‡³æœ€è¿‘æ‰ç‹¬ç«‹å‡ºæ¥ï¼Œæˆä¸ºä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ã€‚\n\n**æ’ä»¶è¿›ç¨‹**ä¸»è¦è´Ÿè´£æ’ä»¶çš„è¿è¡Œï¼Œå› ä¸ºæ’ä»¶å®¹æ˜“å´©æºƒï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡æ’ä»¶è¿›ç¨‹æ¥éš”ç¦»ï¼Œä»¥ä¿è¯æ’ä»¶è¿›ç¨‹å´©æºƒä¸ä¼šå¯¹æµè§ˆå™¨å’Œé¡µé¢é€ æˆå½±å“","slug":"æµè§ˆå™¨è¿›ç¨‹å’Œçº¿ç¨‹","published":1,"date":"2022-03-23T12:29:43.861Z","updated":"2022-03-23T14:44:36.804Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9kz000pi0242uwlejpx","content":"<h1 id=\"æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆé¢è¯•ï¼šä¸ºä»€ä¹ˆæ‰“å¼€æµè§ˆå™¨é¡µé¢ï¼Œä¼šæœ‰å››ä¸ªè¿›ç¨‹ï¼Ÿï¼‰\"><a href=\"#æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆé¢è¯•ï¼šä¸ºä»€ä¹ˆæ‰“å¼€æµè§ˆå™¨é¡µé¢ï¼Œä¼šæœ‰å››ä¸ªè¿›ç¨‹ï¼Ÿï¼‰\" class=\"headerlink\" title=\"æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆé¢è¯•ï¼šä¸ºä»€ä¹ˆæ‰“å¼€æµè§ˆå™¨é¡µé¢ï¼Œä¼šæœ‰å››ä¸ªè¿›ç¨‹ï¼Ÿï¼‰\"></a>æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆé¢è¯•ï¼šä¸ºä»€ä¹ˆæ‰“å¼€æµè§ˆå™¨é¡µé¢ï¼Œä¼šæœ‰å››ä¸ªè¿›ç¨‹ï¼Ÿï¼‰</h1><blockquote>\n<p>å¼•ç”¨è‡ª<a href=\"https://juejin.cn/post/7067725869598375967#heading-0\">é“¾æ¥</a></p>\n</blockquote>\n<h2 id=\"è¿›ç¨‹å’Œçº¿ç¨‹\"><a href=\"#è¿›ç¨‹å’Œçº¿ç¨‹\" class=\"headerlink\" title=\"è¿›ç¨‹å’Œçº¿ç¨‹\"></a>è¿›ç¨‹å’Œçº¿ç¨‹</h2><p>ä¸è¿‡ï¼Œåœ¨ä»‹ç»è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹å‰ï¼Œæˆ‘éœ€è¦å…ˆè®²è§£ä¸‹ï¼Œä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†ã€‚å› ä¸ºå¦‚æœä½ ç†è§£äº†å¹¶è¡Œå¤„ç†çš„æ¦‚å¿µï¼Œé‚£ä¹ˆå†ç†è§£è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹é—´çš„å…³ç³»å°±ä¼šå˜å¾—è½»æ¾è®¸å¤šã€‚</p>\n<h2 id=\"ä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†\"><a href=\"#ä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†\"></a>ä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†</h2><p>è®¡ç®—æœºä¸­çš„å¹¶è¡Œå¤„ç†å°±æ˜¯åŒä¸€æ—¶åˆ»å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦è®¡ç®—ä¸‹é¢è¿™ä¸‰ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œå¹¶æ˜¾ç¤ºå‡ºç»“æœã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\">A = <span class=\"hljs-number\">1</span>+<span class=\"hljs-number\">2</span><br>B = <span class=\"hljs-number\">20</span>/<span class=\"hljs-number\">5</span><br>C = <span class=\"hljs-number\">7</span>*<span class=\"hljs-number\">8</span><br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure>\n\n<p>åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹æ‹†åˆ†ä¸ºå››ä¸ªä»»åŠ¡ï¼š</p>\n<ul>\n<li>ä»»åŠ¡ 1 æ˜¯è®¡ç®— A=1+2ï¼›</li>\n<li>ä»»åŠ¡ 2 æ˜¯è®¡ç®— B=20/5ï¼›</li>\n<li>ä»»åŠ¡ 3 æ˜¯è®¡ç®— C=7*8ï¼›</li>\n<li>ä»»åŠ¡ 4 æ˜¯æ˜¾ç¤ºæœ€åè®¡ç®—çš„ç»“æœã€‚</li>\n</ul>\n<p>æ­£å¸¸æƒ…å†µä¸‹ç¨‹åºå¯ä»¥ä½¿ç”¨<strong>å•çº¿ç¨‹</strong>æ¥å¤„ç†ï¼Œä¹Ÿå°±æ˜¯åˆ†å››æ­¥æŒ‰ç…§é¡ºåºåˆ†åˆ«æ‰§è¡Œè¿™å››ä¸ªä»»åŠ¡ã€‚</p>\n<p>å¦‚æœé‡‡ç”¨<strong>å¤šçº¿ç¨‹</strong>ï¼Œä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€åˆ†â€œä¸¤æ­¥èµ°â€ï¼šç¬¬ä¸€æ­¥ï¼Œä½¿ç”¨ä¸‰ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œå‰ä¸‰ä¸ªä»»åŠ¡ï¼›ç¬¬äºŒæ­¥ï¼Œå†æ‰§è¡Œç¬¬å››ä¸ªæ˜¾ç¤ºä»»åŠ¡ã€‚</p>\n<p>é€šè¿‡å¯¹æ¯”åˆ†æï¼Œä½ ä¼šå‘ç°ç”¨å•çº¿ç¨‹æ‰§è¡Œéœ€è¦å››æ­¥ï¼Œè€Œä½¿ç”¨å¤šçº¿ç¨‹åªéœ€è¦ä¸¤æ­¥ã€‚å› æ­¤ï¼Œ<strong>ä½¿ç”¨å¹¶è¡Œå¤„ç†èƒ½å¤§å¤§æå‡æ€§èƒ½ã€‚</strong></p>\n<h2 id=\"çº¿ç¨‹-VS-è¿›ç¨‹\"><a href=\"#çº¿ç¨‹-VS-è¿›ç¨‹\" class=\"headerlink\" title=\"çº¿ç¨‹ VS è¿›ç¨‹\"></a>çº¿ç¨‹ VS è¿›ç¨‹</h2><p>å¤šçº¿ç¨‹å¯ä»¥å¹¶è¡Œå¤„ç†ä»»åŠ¡ï¼Œä½†æ˜¯<strong>çº¿ç¨‹æ˜¯ä¸èƒ½å•ç‹¬å­˜åœ¨çš„ï¼Œå®ƒæ˜¯ç”±è¿›ç¨‹æ¥å¯åŠ¨å’Œç®¡ç†çš„</strong>ã€‚é‚£ä»€ä¹ˆåˆæ˜¯è¿›ç¨‹å‘¢ï¼Ÿ</p>\n<p><strong>ä¸€ä¸ªè¿›ç¨‹å°±æ˜¯ä¸€ä¸ªç¨‹åºçš„è¿è¡Œå®ä¾‹</strong>ã€‚è¯¦ç»†è§£é‡Šå°±æ˜¯ï¼Œå¯åŠ¨ä¸€ä¸ªç¨‹åºçš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šä¸ºè¯¥ç¨‹åºåˆ›å»ºä¸€å—å†…å­˜ï¼Œç”¨æ¥å­˜æ”¾ä»£ç ã€è¿è¡Œä¸­çš„æ•°æ®å’Œä¸€ä¸ªæ‰§è¡Œä»»åŠ¡çš„ä¸»çº¿ç¨‹ï¼Œæˆ‘ä»¬æŠŠè¿™æ ·çš„ä¸€ä¸ªè¿è¡Œç¯å¢ƒå«<strong>è¿›ç¨‹</strong>ã€‚</p>\n<p><img src=\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03c20111e2b94345b039995084ee03db~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp\" alt=\"è¿›ç¨‹ä¸­çš„å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹\"></p>\n<p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ<strong>çº¿ç¨‹æ˜¯ä¾é™„äºè¿›ç¨‹çš„ï¼Œè€Œè¿›ç¨‹ä¸­ä½¿ç”¨å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†èƒ½æå‡è¿ç®—æ•ˆç‡</strong>ã€‚æ€»ç»“æ¥è¯´ï¼Œè¿›ç¨‹å’Œçº¿ç¨‹ä¹‹é—´çš„å…³ç³»æœ‰ä»¥ä¸‹ 4 ä¸ªç‰¹ç‚¹ã€‚</p>\n<p><strong>1. è¿›ç¨‹ä¸­çš„ä»»æ„ä¸€çº¿ç¨‹æ‰§è¡Œå‡ºé”™ï¼Œéƒ½ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹çš„å´©æºƒã€‚</strong></p>\n<p>æˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿä»¥ä¸‹åœºæ™¯ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\">A = <span class=\"hljs-number\">1</span>+<span class=\"hljs-number\">2</span><br>B = <span class=\"hljs-number\">20</span>/<span class=\"hljs-number\">0</span><br>C = <span class=\"hljs-number\">7</span>*<span class=\"hljs-number\">8</span><br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure>\n\n<p>æˆ‘æŠŠä¸Šè¿°ä¸‰ä¸ªè¡¨è¾¾å¼ç¨ä½œä¿®æ”¹ï¼Œåœ¨è®¡ç®— B çš„å€¼çš„æ—¶å€™ï¼Œæˆ‘æŠŠè¡¨è¾¾å¼çš„åˆ†æ¯æ”¹æˆ 0ï¼Œå½“çº¿ç¨‹æ‰§è¡Œåˆ° B = 20/0 æ—¶ï¼Œç”±äºåˆ†æ¯ä¸º 0ï¼Œçº¿ç¨‹ä¼šæ‰§è¡Œå‡ºé”™ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹çš„å´©æºƒï¼Œå½“ç„¶å¦å¤–ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œçš„ç»“æœä¹Ÿæ²¡æœ‰äº†ã€‚</p>\n<p><strong>2. çº¿ç¨‹ä¹‹é—´å…±äº«è¿›ç¨‹ä¸­çš„æ•°æ®ã€‚</strong></p>\n<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œçº¿ç¨‹ä¹‹é—´å¯ä»¥å¯¹è¿›ç¨‹çš„å…¬å…±æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œã€‚</p>\n<p><img src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce0a54836131420b983c12b6adf0e9f0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp\" alt=\"çº¿ç¨‹ä¹‹é—´å…±äº«è¿›ç¨‹ä¸­çš„æ•°æ®\"></p>\n<p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œçº¿ç¨‹ 1ã€çº¿ç¨‹ 2ã€çº¿ç¨‹ 3 åˆ†åˆ«æŠŠæ‰§è¡Œçš„ç»“æœå†™å…¥ Aã€Bã€C ä¸­ï¼Œç„¶åçº¿ç¨‹ 2 ç»§ç»­ä» Aã€Bã€C ä¸­è¯»å–æ•°æ®ï¼Œç”¨æ¥æ˜¾ç¤ºæ‰§è¡Œç»“æœã€‚</p>\n<p><strong>3. å½“ä¸€ä¸ªè¿›ç¨‹å…³é—­ä¹‹åï¼Œæ“ä½œç³»ç»Ÿä¼šå›æ”¶è¿›ç¨‹æ‰€å ç”¨çš„å†…å­˜ã€‚</strong></p>\n<p>å½“ä¸€ä¸ªè¿›ç¨‹é€€å‡ºæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå›æ”¶è¯¥è¿›ç¨‹æ‰€ç”³è¯·çš„æ‰€æœ‰èµ„æºï¼›å³ä½¿å…¶ä¸­ä»»æ„çº¿ç¨‹å› ä¸ºæ“ä½œä¸å½“å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œå½“è¿›ç¨‹é€€å‡ºæ—¶ï¼Œè¿™äº›å†…å­˜ä¹Ÿä¼šè¢«æ­£ç¡®å›æ”¶ã€‚</p>\n<p>æ¯”å¦‚ä¹‹å‰çš„ IE æµè§ˆå™¨ï¼Œæ”¯æŒå¾ˆå¤šæ’ä»¶ï¼Œè€Œè¿™äº›æ’ä»¶å¾ˆå®¹æ˜“å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè¿™æ„å‘³ç€åªè¦æµè§ˆå™¨å¼€ç€ï¼Œå†…å­˜å ç”¨å°±æœ‰å¯èƒ½ä¼šè¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯å½“å…³é—­æµè§ˆå™¨è¿›ç¨‹æ—¶ï¼Œè¿™äº›å†…å­˜å°±éƒ½ä¼šè¢«ç³»ç»Ÿå›æ”¶æ‰</p>\n<p><strong>4. è¿›ç¨‹ä¹‹é—´çš„å†…å®¹ç›¸äº’éš”ç¦»ã€‚</strong></p>\n<p>è¿›ç¨‹éš”ç¦»æ˜¯ä¸ºä¿æŠ¤æ“ä½œç³»ç»Ÿä¸­è¿›ç¨‹äº’ä¸å¹²æ‰°çš„æŠ€æœ¯ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹åªèƒ½è®¿é—®è‡ªå·±å æœ‰çš„æ•°æ®ï¼Œä¹Ÿå°±é¿å…å‡ºç°è¿›ç¨‹ A å†™å…¥æ•°æ®åˆ°è¿›ç¨‹ B çš„æƒ…å†µã€‚æ­£æ˜¯å› ä¸ºè¿›ç¨‹ä¹‹é—´çš„æ•°æ®æ˜¯ä¸¥æ ¼éš”ç¦»çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªè¿›ç¨‹å¦‚æœå´©æºƒäº†ï¼Œæˆ–è€…æŒ‚èµ·äº†ï¼Œæ˜¯ä¸ä¼šå½±å“åˆ°å…¶ä»–è¿›ç¨‹çš„ã€‚å¦‚æœè¿›ç¨‹ä¹‹é—´éœ€è¦è¿›è¡Œæ•°æ®çš„é€šä¿¡ï¼Œè¿™æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨ç”¨äºè¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰çš„æœºåˆ¶äº†</p>\n<h2 id=\"å•è¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\"><a href=\"#å•è¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\" class=\"headerlink\" title=\"å•è¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\"></a>å•è¿›ç¨‹æµè§ˆå™¨æ—¶ä»£</h2><p>é¡¾åæ€ä¹‰ï¼Œ<strong>å•è¿›ç¨‹æµè§ˆå™¨æ˜¯æŒ‡æµè§ˆå™¨çš„æ‰€æœ‰åŠŸèƒ½æ¨¡å—éƒ½æ˜¯è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹é‡Œ</strong>ï¼Œè¿™äº›æ¨¡å—åŒ…å«ç½‘ç»œã€æ’ä»¶ã€Javascriptè¿è¡Œç¯å¢ƒã€æ¸²æŸ“å¼•æ“å’Œé¡µé¢ç­‰ã€‚å…¶å®æ—©åœ¨2007å¹´ä¹‹å‰ï¼Œå¸‚é¢ä¸Šæµè§ˆå™¨éƒ½æ˜¯å•è¿›ç¨‹çš„ã€‚å•è¿›ç¨‹æµè§ˆå™¨çš„æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n<p><img src=\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f13158e5fe114b79a2be3b1b168467a0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp\" alt=\"å•è¿›ç¨‹æµè§ˆå™¨\"></p>\n<p>å¦‚æ­¤å¤šçš„åŠŸèƒ½æ¨¡å—è¿è¡Œåœ¨ä¸€ä¸ªè¿›ç¨‹é‡Œï¼Œæ˜¯å¯¼è‡´å•è¿›ç¨‹æµè§ˆå™¨<strong>ä¸ç¨³å®šã€ä¸æµç•…å’Œä¸å®‰å…¨</strong>çš„ä¸€ä¸ªä¸»è¦å› ç´ ã€‚</p>\n<p><strong>é—®é¢˜ 1ï¼šä¸ç¨³å®š</strong></p>\n<p>æ—©æœŸæµè§ˆå™¨éœ€è¦å€ŸåŠ©äº<strong>æ’ä»¶</strong>æ¥å®ç°è¯¸å¦‚Webè§†é¢‘ã€Webæ¸¸æˆç­‰å„ç§å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½†æ˜¯æ’ä»¶æ˜¯æœ€å®¹æ˜“å‡ºé—®é¢˜çš„æ¨¡å—ï¼Œå¹¶ä¸”è¿˜è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹ä¸­ï¼Œæ‰€ä»¥ä¸€ä¸ªæ’ä»¶çš„æ„å¤–å´©æºƒä¼šå¼•èµ·æ•´ä¸ªæµè§ˆå™¨çš„å´©æºƒã€‚</p>\n<p>é™¤äº†æ’ä»¶ä¹‹å¤–ï¼Œ<strong>æ¸²æŸ“å¼•æ“æ¨¡å—</strong>ä¹Ÿæ˜¯ä¸ç¨³å®šçš„ï¼Œé€šå¸¸ä¸€äº›å¤æ‚çš„Javascriptä»£ç å°±æœ‰å¯èƒ½å¼•èµ·æ¸²æŸ“å¼•æ“æ¨¡å—çš„å´©æºƒã€‚å’Œæ’ä»¶ä¸€æ ·ï¼Œæ¸²æŸ“å¼•æ“çš„å´©æºƒä¹Ÿä¼šå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨çš„å´©æºƒ</p>\n<p><strong>é—®é¢˜ 2ï¼šä¸æµç•…</strong></p>\n<p>ä»ä¸Šé¢çš„<strong>å•è¿›ç¨‹æµè§ˆå™¨æ¶æ„ç¤ºæ„å›¾</strong>å¯ä»¥çœ‹å‡ºï¼Œæ‰€æœ‰é¡µé¢çš„æ¸²æŸ“æ¨¡å—ã€Javascriptæ‰§è¡Œç¯å¢ƒä»¥åŠæ’ä»¶éƒ½æ˜¯è¿è¡Œåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­çš„ï¼Œè¿™å°±æ„å‘³ç€åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªæ¨¡å—å¯ä»¥æ‰§è¡Œã€‚</p>\n<p>æ¯”å¦‚ï¼Œä¸‹é¢è¿™ä¸ªæ— é™å¾ªç¯çš„è„šæœ¬ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">freeze</span>(<span class=\"hljs-params\"></span>) &#123; <br>    <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-number\">1</span>) &#123; <br>        <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;freeze&quot;</span>); <br>    &#125;<br>&#125;<br><span class=\"hljs-title function_\">freeze</span>();<br></code></pre></td></tr></table></figure>\n\n<p>å¦‚æœè®©è¿™ä¸ªè„šæœ¬è¿è¡Œåœ¨ä¸€ä¸ªå•è¿›ç¨‹æµè§ˆå™¨çš„é¡µé¢é‡Œï¼Œå› ä¸ºè¿™ä¸ªè„šæœ¬æ˜¯æ— é™å¾ªç¯çš„ï¼Œæ‰€æœ‰å½“å…¶æ‰§è¡Œæ—¶ï¼Œå®ƒä¼šç‹¬å æ•´ä¸ªçº¿ç¨‹ï¼Œè¿™æ ·å¯¼è‡´å…¶ä»–è¿è¡Œåœ¨è¯¥çº¿ç¨‹ä¸­çš„æ¨¡å—å°±æ²¡æœ‰æœºä¼šæ‰§è¡Œã€‚å› ä¸ºå•è¿›ç¨‹æµè§ˆå™¨ä¸­æ‰€æœ‰çš„é¡µé¢éƒ½è¿è¡Œåœ¨è¯¥çº¿ç¨‹ä¸­ï¼Œæ‰€ä»¥è¿™äº›é¡µé¢å°±æ²¡æœ‰æœºä¼šå»æ‰§è¡Œä»»åŠ¡ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨å¤±å»å“åº”ï¼Œå˜å¡é¡¿ã€‚</p>\n<p>é™¤äº†ä¸Šè¿°<strong>è„šæœ¬</strong>æˆ–è€…<strong>æ’ä»¶</strong>ä¼šè®©å•è¿›ç¨‹æµè§ˆå™¨å˜å¡é¡¿å¤–ï¼Œ<strong>é¡µé¢çš„å†…å­˜æ³„æ¼</strong>ä¹Ÿæ˜¯å•è¿›ç¨‹å˜æ…¢çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚é€šå¸¸æµè§ˆå™¨çš„å†…æ ¸éƒ½æ˜¯éå¸¸å¤æ‚çš„ï¼Œè¿è¡Œä¸€ä¸ªå¤æ‚ç‚¹çš„é¡µé¢å†å…³é—­é¡µé¢ï¼Œä¼šå­˜åœ¨å†…å­˜ä¸èƒ½å®Œå…¨å›æ”¶çš„æƒ…å†µï¼Œè¿™æ ·å¯¼è‡´çš„é—®é¢˜æ˜¯ä½¿ç”¨æ—¶é—´è¶Šé•¿ï¼Œå†…å­˜å ç”¨è¶Šé«˜ï¼Œæµè§ˆå™¨ä¼šå˜å¾—è¶Šæ…¢ã€‚</p>\n<p><strong>é—®é¢˜ 3ï¼šä¸å®‰å…¨</strong></p>\n<p>ä¸å®‰å…¨è¿™é‡Œä¾ç„¶å¯ä»¥ä»æ’ä»¶å’Œé¡µé¢è„šæœ¬ä¸¤ä¸ªæ–¹é¢æ¥è§£é‡Šè¯¥é—®é¢˜ã€‚</p>\n<p>æ’ä»¶å¯ä»¥ä½¿ç”¨C/C++ç­‰ä»£ç ç¼–å†™ï¼Œé€šè¿‡æ’ä»¶å¯ä»¥è·å–åˆ°æ“ä½œç³»ç»Ÿçš„ä»»æ„èµ„æºï¼Œå½“ä½ åœ¨é¡µé¢è¿è¡Œä¸€ä¸ªæ’ä»¶æ—¶ä¹Ÿæ„å‘³ç€è¿™ä¸ªæ’ä»¶èƒ½å®Œå…¨æ“ä½œä½ çš„ç”µè„‘ã€‚å¦‚æœæ˜¯ä¸€ä¸ªæ¶æ„æ’ä»¶ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥é‡Šæ”¾ç—…æ¯’ã€çªƒå–ä½ çš„è´¦å·å¯†ç ï¼Œå¼•å‘å®‰å…¨æ€§é—®é¢˜ã€‚</p>\n<p>è‡³äºé¡µé¢è„šæœ¬ï¼Œå®ƒå¯ä»¥é€šè¿‡æµè§ˆå™¨çš„æ¼æ´æ¥è·å–ç³»ç»Ÿæƒé™ï¼Œè¿™äº›è„šæœ¬è·å–ç³»ç»Ÿæƒé™ä¹‹åä¹Ÿå¯ä»¥å¯¹ä½ çš„ç”µè„‘åšä¸€äº›æ¶æ„çš„äº‹æƒ…ï¼ŒåŒæ ·ä¹Ÿä¼šå¼•å‘å®‰å…¨é—®é¢˜ã€‚</p>\n<p>ä»¥ä¸Šè¿™äº›å°±æ˜¯å•è¿›ç¨‹æµè§ˆå™¨çš„ç‰¹ç‚¹ï¼Œä¸ç¨³å®šã€ä¸æµç•…å’Œä¸å®‰å…¨ã€‚</p>\n<h2 id=\"å¤šè¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\"><a href=\"#å¤šè¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\" class=\"headerlink\" title=\"å¤šè¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\"></a>å¤šè¿›ç¨‹æµè§ˆå™¨æ—¶ä»£</h2><h3 id=\"æ—©æœŸå¤šè¿›ç¨‹æ¶æ„\"><a href=\"#æ—©æœŸå¤šè¿›ç¨‹æ¶æ„\" class=\"headerlink\" title=\"æ—©æœŸå¤šè¿›ç¨‹æ¶æ„\"></a><strong>æ—©æœŸå¤šè¿›ç¨‹æ¶æ„</strong></h3><p>2008å¹´Chromeå‘å¸ƒæ—¶çš„è¿›ç¨‹æ¶æ„ï¼š</p>\n<p><img src=\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8114114a549c4346b6bc5134ec89e116~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp\" alt=\"æ—©æœŸå¤šè¿›ç¨‹æ¶æ„\"></p>\n<p>ä»é€”ä¸­å¯ä»¥çœ‹å‡ºï¼ŒChromeçš„é¡µé¢æ˜¯è¿è¡Œåœ¨å•ç‹¬çš„æ¸²æŸ“è¿›ç¨‹ä¸­çš„ï¼ŒåŒæ—¶é¡µé¢é‡Œçš„æ’ä»¶ä¹Ÿæ˜¯è¿è¡Œåœ¨å•ç‹¬çš„æ’ä»¶è¿›ç¨‹ä¸­çš„ï¼Œè¿›ç¨‹ä¹‹é—´é€šè¿‡IPCæœºåˆ¶è¿›è¡Œé€šä¿¡ã€‚</p>\n<p><strong>æˆ‘ä»¬å…ˆçœ‹çœ‹å¦‚ä½•è§£å†³ä¸ç¨³å®šçš„é—®é¢˜</strong>ã€‚ç”±äºè¿›ç¨‹æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œæ‰€ä»¥å½“ä¸€ä¸ªé¡µé¢æˆ–è€…æ’ä»¶å´©æºƒæ—¶ï¼Œå½±å“åˆ°çš„ä»…ä»…æ˜¯å½“å‰çš„é¡µé¢è¿›ç¨‹æˆ–è€…æ’ä»¶è¿›ç¨‹ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°æµè§ˆå™¨å’Œå…¶ä»–é¡µé¢ï¼Œè¿™å°±å®Œç¾åœ°è§£å†³äº†é¡µé¢æˆ–è€…æ’ä»¶çš„å´©æºƒå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨å´©æºƒï¼Œä¹Ÿå°±æ˜¯ä¸ç¨³å®šçš„é—®é¢˜ã€‚</p>\n<p><strong>æ¥ä¸‹æ¥å†æ¥çœ‹çœ‹ä¸æµç•…çš„é—®é¢˜æ˜¯å¦‚ä½•è§£å†³çš„</strong>ã€‚åŒæ ·ï¼ŒJavascriptä¹Ÿæ˜¯è¿è¡Œåœ¨æ¸²æŸ“è¿›ç¨‹ä¸­çš„ï¼Œæ‰€ä»¥å³ä½¿Javascripté˜»å¡äº†æ¸²æŸ“è¿›ç¨‹ï¼Œå½±å“åˆ°çš„ä¹Ÿæ˜¯å½“å‰çš„é¡µé¢æ¸²æŸ“ï¼Œè€Œå¹¶ä¸ä¼šå½±å“æµè§ˆå™¨å’Œå…¶ä»–é¡µé¢ï¼Œå› ä¸ºå…¶ä»–é¡µé¢çš„è„šæœ¬æ˜¯è¿è¡Œåœ¨ä»–ä»¬è‡ªå·±çš„æ¸²æŸ“è¿›ç¨‹ä¸­çš„ã€‚æ‰€ä»¥å½“æˆ‘ä»¬å†åœ¨Chromeä¸­è¿è¡Œä¸Šé¢é‚£ä¸ªæ­»å¾ªç¯çš„è„šæœ¬æ—¶ï¼Œæ²¡æœ‰å“åº”çš„ä»…ä»…æ˜¯å½“å‰çš„é¡µé¢ã€‚å¯¹äºå†…å­˜æ³„æ¼çš„è§£å†³æ–¹æ³•å°±æ›´ç®€å•äº†ï¼Œå› ä¸ºå½“å…³é—­ä¸€ä¸ªé¡µé¢æ—¶ï¼Œæ•´ä¸ªæ¸²æŸ“è¿›ç¨‹ä¹Ÿä¼šè¢«å…³é—­ï¼Œä¹‹åè¯¥è¿›ç¨‹æ‰€å ç”¨çš„å†…å­˜éƒ½ä¼šè¢«ç³»ç»Ÿå›æ”¶ï¼Œè¿™æ ·å°±è½»æ¾è§£å†³äº†æµè§ˆå™¨é¡µé¢çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚</p>\n<p><strong>æœ€åå†æ¥çœ‹çœ‹ä¸Šé¢çš„ä¸å®‰å…¨çš„é—®é¢˜æ˜¯æ€ä¹ˆè§£å†³çš„</strong>ã€‚é‡‡ç”¨å¤šè¿›ç¨‹æ¶æ„çš„é¢å¤–å¥½å¤„æ˜¯å¯ä»¥ä½¿ç”¨å®‰å…¨æ²™ç®±ï¼Œä½ å¯ä»¥æŠŠæ²™ç®±çœ‹æˆæ˜¯æ“ä½œç³»ç»Ÿç»™è¿›ç¨‹ä¸Šäº†ä¸€æŠŠé”ï¼Œæ²™ç®±é‡Œé¢çš„ç¨‹åºå¯ä»¥è¿è¡Œï¼Œä½†æ˜¯ä¸èƒ½åœ¨ä½ çš„ç¡¬ç›˜ä¸Šå†™å…¥ä»»ä½•æ•°æ®ï¼Œä¾‹å¦‚ä½ çš„æ–‡æ¡£å’Œæ¡Œé¢ã€‚ChromeæŠŠæ’ä»¶è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹é”åœ¨æ²™ç®±é‡Œé¢ï¼Œè¿™æ ·å³ä½¿åœ¨æ¸²æŸ“è¿›ç¨‹æˆ–è€…æ’ä»¶è¿›ç¨‹é‡Œé¢æ‰§è¡Œäº†æ¶æ„ç¨‹åºï¼Œæ¶æ„ç¨‹åºä¹Ÿæ— æ³•çªç ´æ²™ç®±å»è·å–ç³»ç»Ÿæƒé™ã€‚</p>\n<h3 id=\"ç›®å‰å¤šè¿›ç¨‹æ¶æ„\"><a href=\"#ç›®å‰å¤šè¿›ç¨‹æ¶æ„\" class=\"headerlink\" title=\"ç›®å‰å¤šè¿›ç¨‹æ¶æ„\"></a>ç›®å‰å¤šè¿›ç¨‹æ¶æ„</h3><p>æœ€æ–°çš„Chromeè¿›ç¨‹æ¶æ„å›¾ï¼š</p>\n<p><img src=\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f1f48d1fbfe148a9b939296e23ae080e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp\" alt=\"ç›®å‰å¤šè¿›ç¨‹æ¶æ„å›¾\"></p>\n<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæœ€æ–°çš„Chromeæµè§ˆå™¨åŒ…æ‹¬ï¼šæµè§ˆå™¨ä¸»è¿›ç¨‹ï¼ˆBrowser Processï¼‰ã€GPUè¿›ç¨‹ï¼ˆGPU Processï¼‰ã€ç½‘ç»œè¿›ç¨‹ï¼ˆNetwork Processï¼‰ã€æ¸²æŸ“è¿›ç¨‹ï¼ˆRender Processï¼‰ã€æ’ä»¶è¿›ç¨‹ï¼ˆPlugin Processï¼‰ã€‚</p>\n<p><strong>æµè§ˆå™¨è¿›ç¨‹</strong>åªè¦è´Ÿè´£é¡µé¢æ˜¾ç¤ºã€ç”¨æˆ·äº¤äº’ã€å­è¿›ç¨‹ç®¡ç†ã€èµ„æºä¸‹è½½ã€æä¾›å­˜å‚¨ç­‰åŠŸèƒ½ã€‚</p>\n<p><strong>æ¸²æŸ“è¿›ç¨‹</strong>ï¼ˆæµè§ˆå™¨å†…æ ¸ï¼‰æ ¸å¿ƒä»»åŠ¡æ˜¯å°†HTMLã€CSSå’ŒJavascriptè½¬æ¢ä¸ºç”¨æˆ·å¯ä»¥ä¸ä¹‹äº¤äº’çš„ç½‘é¡µï¼Œæ’ç‰ˆå¼•æ“Blinkå’ŒJavascriptå¼•æ“V8éƒ½æ˜¯è¿è¡Œåœ¨è¯¥è¿›ç¨‹ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒChromeä¼šä¸ºæ¯ä¸ªTabæ ‡ç­¾åˆ›å»ºä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæ¸²æŸ“è¿›ç¨‹éƒ½æ˜¯è¿è¡Œåœ¨æ²™ç®±æ¨¡å¼ä¸‹ã€‚æ¸²æŸ“è¿›ç¨‹ï¼Œé€šå¸¸ç”±ä»¥ä¸‹å¸¸é©»çº¿ç¨‹æ„æˆï¼šGUIæ¸²æŸ“çº¿ç¨‹ã€Javascriptå¼•æ“çº¿ç¨‹ã€å®šæ—¶è§¦å‘å™¨çº¿ç¨‹ã€äº‹ä»¶è§¦å‘çº¿ç¨‹ã€å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹ã€‚</p>\n<ul>\n<li><strong>GUIæ¸²æŸ“çº¿ç¨‹</strong>è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨é¡µé¢HTMLå…ƒç´ ï¼Œå½“ç•Œé¢éœ€è¦é‡ç»˜ï¼ˆrepaintï¼‰æˆ–ç”±äºæŸç§æ“ä½œå›æµï¼ˆreflowï¼‰æ—¶ï¼Œè¯¥çº¿ç¨‹å°±ä¼šæ‰§è¡Œã€‚åœ¨Javascriptå¼•æ“è¿è¡Œè„šæœ¬æœŸé—´ï¼ŒGUIæ¸²æŸ“å¼•æ“éƒ½æ˜¯æŒ‚èµ·çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´è¢«å†»ç»“äº†ã€‚</li>\n<li><strong>Javascriptå¼•æ“çº¿ç¨‹</strong>ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºJSå†…æ ¸ï¼Œä¸»è¦è´Ÿè´£å¤„ç†Javascriptè„šæœ¬ç¨‹åºï¼Œä¾‹å¦‚V8å¼•æ“æ˜¯è§£æJSè„šæœ¬ï¼Œè¿è¡Œä»£ç ã€‚<ul>\n<li><strong>GUIæ¸²æŸ“çº¿ç¨‹å’ŒJavascriptå¼•æ“çº¿ç¨‹æ˜¯äº’æ–¥çš„</strong>ã€‚ç”±äº JavaScript æ˜¯å¯æ“çºµ DOM çš„ï¼Œå¦‚æœåœ¨ä¿®æ”¹è¿™äº›å…ƒç´ å±æ€§åŒæ—¶æ¸²æŸ“ç•Œé¢ï¼ˆå³ JavaScript çº¿ç¨‹å’Œ UI çº¿ç¨‹åŒæ—¶è¿è¡Œï¼‰ï¼Œé‚£ä¹ˆæ¸²æŸ“çº¿ç¨‹å‰åè·å¾—çš„å…ƒç´ æ•°æ®å°±å¯èƒ½ä¸ä¸€è‡´äº†ã€‚å› æ­¤ä¸ºäº†é˜²æ­¢æ¸²æŸ“å‡ºç°ä¸å¯é¢„æœŸçš„ç»“æœï¼Œæµè§ˆå™¨è®¾ç½® GUI æ¸²æŸ“çº¿ç¨‹ä¸ JavaScript å¼•æ“ä¸ºäº’æ–¥çš„å…³ç³»ï¼Œå½“ JavaScript å¼•æ“æ‰§è¡Œæ—¶ GUI çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼ŒGUI æ›´æ–°ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ç­‰åˆ°å¼•æ“çº¿ç¨‹ç©ºé—²æ—¶ç«‹å³è¢«æ‰§è¡Œã€‚</li>\n</ul>\n</li>\n<li><strong>å®šæ—¶è§¦å‘å™¨çº¿ç¨‹</strong>ï¼Œæµè§ˆå™¨å®šæ—¶å™¨ï¼ˆsetTimeoutå’ŒsetIntervalï¼‰å¹¶ä¸æ˜¯ç”±Javascriptå¼•æ“è®¡æ•°çš„ï¼Œå› ä¸ºJavascriptå¼•æ“æ˜¯å•çº¿ç¨‹çš„ï¼Œå¦‚æœå¤„äºé˜»å¡çŠ¶æ€å°±ä¼šå½±å“è®¡æ—¶çš„å‡†ç¡®æ€§ï¼Œå› æ­¤é€šè¿‡å¦å¤–ä¸€ä¸ªå•ç‹¬çš„å®šæ—¶è§¦å‘å™¨çº¿ç¨‹æ¥è®¡æ—¶æ˜¯æ›´ä¸ºåˆç†çš„æ–¹æ³•ã€‚</li>\n<li><strong>äº‹ä»¶è§¦å‘çº¿ç¨‹</strong>ï¼Œå½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘æ—¶è¯¥çº¿ç¨‹ä¼šæŠŠäº‹ä»¶æ·»åŠ åˆ°å¾…å¤„ç†é˜Ÿåˆ—çš„é˜Ÿå°¾ï¼Œç­‰å¾… JS å¼•æ“çš„å¤„ç†ã€‚è¿™äº›äº‹ä»¶å¯ä»¥æ˜¯å½“å‰æ‰§è¡Œçš„ä»£ç å—å¦‚å®šæ—¶ä»»åŠ¡ã€ä¹Ÿå¯æ¥è‡ªæµè§ˆå™¨å†…æ ¸çš„å…¶ä»–çº¿ç¨‹å¦‚é¼ æ ‡ç‚¹å‡»ã€AJAX å¼‚æ­¥è¯·æ±‚ç­‰ï¼Œä½†ç”±äº JS çš„å•çº¿ç¨‹å…³ç³»æ‰€æœ‰è¿™äº›äº‹ä»¶éƒ½å¾—æ’é˜Ÿç­‰å¾… JS å¼•æ“å¤„ç†ã€‚</li>\n<li><strong>å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹</strong>ï¼Œåœ¨XMLHttpRequestè¿æ¥åæ˜¯é€šè¿‡æµè§ˆå™¨å¼€å¯ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚ï¼Œå½“æ£€æµ‹åˆ°çŠ¶æ€å˜æ›´æ—¶ï¼Œå¦‚æœè®¾ç½®æœ‰å›è°ƒå‡½æ•°ï¼Œå¼‚æ­¥çº¿ç¨‹å°±äº§ç”ŸçŠ¶æ€å˜æ›´äº‹ä»¶æ”¾åˆ° JavaScript å¼•æ“çš„å¤„ç†é˜Ÿåˆ—ä¸­ç­‰å¾…å¤„ç†ã€‚</li>\n</ul>\n<p><strong>GPUè¿›ç¨‹</strong>ã€‚å…¶å®ï¼ŒChrome åˆšå¼€å§‹å‘å¸ƒçš„æ—¶å€™æ˜¯æ²¡æœ‰ GPU è¿›ç¨‹çš„ã€‚è€Œ GPU çš„ä½¿ç”¨åˆè¡·æ˜¯ä¸ºäº†å®ç° 3D CSS çš„æ•ˆæœï¼Œåªæ˜¯éšåç½‘é¡µã€Chrome çš„ UI ç•Œé¢éƒ½é€‰æ‹©é‡‡ç”¨ GPU æ¥ç»˜åˆ¶ï¼Œè¿™ä½¿å¾— GPU æˆä¸ºæµè§ˆå™¨æ™®éçš„éœ€æ±‚ã€‚æœ€åï¼ŒChrome åœ¨å…¶å¤šè¿›ç¨‹æ¶æ„ä¸Šä¹Ÿå¼•å…¥äº† GPU è¿›ç¨‹ã€‚</p>\n<p><strong>ç½‘ç»œè¿›ç¨‹</strong>ä¸»è¦è´Ÿè´£é¡µé¢çš„ç½‘ç»œèµ„æºåŠ è½½ï¼Œä¹‹å‰æ˜¯ä½œä¸ºä¸€ä¸ªæ¨¡å—è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹é‡Œé¢çš„ï¼Œç›´è‡³æœ€è¿‘æ‰ç‹¬ç«‹å‡ºæ¥ï¼Œæˆä¸ºä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ã€‚</p>\n<p><strong>æ’ä»¶è¿›ç¨‹</strong>ä¸»è¦è´Ÿè´£æ’ä»¶çš„è¿è¡Œï¼Œå› ä¸ºæ’ä»¶å®¹æ˜“å´©æºƒï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡æ’ä»¶è¿›ç¨‹æ¥éš”ç¦»ï¼Œä»¥ä¿è¯æ’ä»¶è¿›ç¨‹å´©æºƒä¸ä¼šå¯¹æµè§ˆå™¨å’Œé¡µé¢é€ æˆå½±å“</p>\n","site":{"data":{}},"wordcount":4281,"excerpt":"","more":"<h1 id=\"æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆé¢è¯•ï¼šä¸ºä»€ä¹ˆæ‰“å¼€æµè§ˆå™¨é¡µé¢ï¼Œä¼šæœ‰å››ä¸ªè¿›ç¨‹ï¼Ÿï¼‰\"><a href=\"#æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆé¢è¯•ï¼šä¸ºä»€ä¹ˆæ‰“å¼€æµè§ˆå™¨é¡µé¢ï¼Œä¼šæœ‰å››ä¸ªè¿›ç¨‹ï¼Ÿï¼‰\" class=\"headerlink\" title=\"æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆé¢è¯•ï¼šä¸ºä»€ä¹ˆæ‰“å¼€æµè§ˆå™¨é¡µé¢ï¼Œä¼šæœ‰å››ä¸ªè¿›ç¨‹ï¼Ÿï¼‰\"></a>æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹ï¼ˆé¢è¯•ï¼šä¸ºä»€ä¹ˆæ‰“å¼€æµè§ˆå™¨é¡µé¢ï¼Œä¼šæœ‰å››ä¸ªè¿›ç¨‹ï¼Ÿï¼‰</h1><blockquote>\n<p>å¼•ç”¨è‡ª<a href=\"https://juejin.cn/post/7067725869598375967#heading-0\">é“¾æ¥</a></p>\n</blockquote>\n<h2 id=\"è¿›ç¨‹å’Œçº¿ç¨‹\"><a href=\"#è¿›ç¨‹å’Œçº¿ç¨‹\" class=\"headerlink\" title=\"è¿›ç¨‹å’Œçº¿ç¨‹\"></a>è¿›ç¨‹å’Œçº¿ç¨‹</h2><p>ä¸è¿‡ï¼Œåœ¨ä»‹ç»è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹å‰ï¼Œæˆ‘éœ€è¦å…ˆè®²è§£ä¸‹ï¼Œä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†ã€‚å› ä¸ºå¦‚æœä½ ç†è§£äº†å¹¶è¡Œå¤„ç†çš„æ¦‚å¿µï¼Œé‚£ä¹ˆå†ç†è§£è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹é—´çš„å…³ç³»å°±ä¼šå˜å¾—è½»æ¾è®¸å¤šã€‚</p>\n<h2 id=\"ä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†\"><a href=\"#ä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†\"></a>ä»€ä¹ˆæ˜¯å¹¶è¡Œå¤„ç†</h2><p>è®¡ç®—æœºä¸­çš„å¹¶è¡Œå¤„ç†å°±æ˜¯åŒä¸€æ—¶åˆ»å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦è®¡ç®—ä¸‹é¢è¿™ä¸‰ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œå¹¶æ˜¾ç¤ºå‡ºç»“æœã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\">A = <span class=\"hljs-number\">1</span>+<span class=\"hljs-number\">2</span><br>B = <span class=\"hljs-number\">20</span>/<span class=\"hljs-number\">5</span><br>C = <span class=\"hljs-number\">7</span>*<span class=\"hljs-number\">8</span><br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure>\n\n<p>åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªè¿‡ç¨‹æ‹†åˆ†ä¸ºå››ä¸ªä»»åŠ¡ï¼š</p>\n<ul>\n<li>ä»»åŠ¡ 1 æ˜¯è®¡ç®— A=1+2ï¼›</li>\n<li>ä»»åŠ¡ 2 æ˜¯è®¡ç®— B=20/5ï¼›</li>\n<li>ä»»åŠ¡ 3 æ˜¯è®¡ç®— C=7*8ï¼›</li>\n<li>ä»»åŠ¡ 4 æ˜¯æ˜¾ç¤ºæœ€åè®¡ç®—çš„ç»“æœã€‚</li>\n</ul>\n<p>æ­£å¸¸æƒ…å†µä¸‹ç¨‹åºå¯ä»¥ä½¿ç”¨<strong>å•çº¿ç¨‹</strong>æ¥å¤„ç†ï¼Œä¹Ÿå°±æ˜¯åˆ†å››æ­¥æŒ‰ç…§é¡ºåºåˆ†åˆ«æ‰§è¡Œè¿™å››ä¸ªä»»åŠ¡ã€‚</p>\n<p>å¦‚æœé‡‡ç”¨<strong>å¤šçº¿ç¨‹</strong>ï¼Œä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€åˆ†â€œä¸¤æ­¥èµ°â€ï¼šç¬¬ä¸€æ­¥ï¼Œä½¿ç”¨ä¸‰ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œå‰ä¸‰ä¸ªä»»åŠ¡ï¼›ç¬¬äºŒæ­¥ï¼Œå†æ‰§è¡Œç¬¬å››ä¸ªæ˜¾ç¤ºä»»åŠ¡ã€‚</p>\n<p>é€šè¿‡å¯¹æ¯”åˆ†æï¼Œä½ ä¼šå‘ç°ç”¨å•çº¿ç¨‹æ‰§è¡Œéœ€è¦å››æ­¥ï¼Œè€Œä½¿ç”¨å¤šçº¿ç¨‹åªéœ€è¦ä¸¤æ­¥ã€‚å› æ­¤ï¼Œ<strong>ä½¿ç”¨å¹¶è¡Œå¤„ç†èƒ½å¤§å¤§æå‡æ€§èƒ½ã€‚</strong></p>\n<h2 id=\"çº¿ç¨‹-VS-è¿›ç¨‹\"><a href=\"#çº¿ç¨‹-VS-è¿›ç¨‹\" class=\"headerlink\" title=\"çº¿ç¨‹ VS è¿›ç¨‹\"></a>çº¿ç¨‹ VS è¿›ç¨‹</h2><p>å¤šçº¿ç¨‹å¯ä»¥å¹¶è¡Œå¤„ç†ä»»åŠ¡ï¼Œä½†æ˜¯<strong>çº¿ç¨‹æ˜¯ä¸èƒ½å•ç‹¬å­˜åœ¨çš„ï¼Œå®ƒæ˜¯ç”±è¿›ç¨‹æ¥å¯åŠ¨å’Œç®¡ç†çš„</strong>ã€‚é‚£ä»€ä¹ˆåˆæ˜¯è¿›ç¨‹å‘¢ï¼Ÿ</p>\n<p><strong>ä¸€ä¸ªè¿›ç¨‹å°±æ˜¯ä¸€ä¸ªç¨‹åºçš„è¿è¡Œå®ä¾‹</strong>ã€‚è¯¦ç»†è§£é‡Šå°±æ˜¯ï¼Œå¯åŠ¨ä¸€ä¸ªç¨‹åºçš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šä¸ºè¯¥ç¨‹åºåˆ›å»ºä¸€å—å†…å­˜ï¼Œç”¨æ¥å­˜æ”¾ä»£ç ã€è¿è¡Œä¸­çš„æ•°æ®å’Œä¸€ä¸ªæ‰§è¡Œä»»åŠ¡çš„ä¸»çº¿ç¨‹ï¼Œæˆ‘ä»¬æŠŠè¿™æ ·çš„ä¸€ä¸ªè¿è¡Œç¯å¢ƒå«<strong>è¿›ç¨‹</strong>ã€‚</p>\n<p><img src=\"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/03c20111e2b94345b039995084ee03db~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp\" alt=\"è¿›ç¨‹ä¸­çš„å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹\"></p>\n<p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ<strong>çº¿ç¨‹æ˜¯ä¾é™„äºè¿›ç¨‹çš„ï¼Œè€Œè¿›ç¨‹ä¸­ä½¿ç”¨å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†èƒ½æå‡è¿ç®—æ•ˆç‡</strong>ã€‚æ€»ç»“æ¥è¯´ï¼Œè¿›ç¨‹å’Œçº¿ç¨‹ä¹‹é—´çš„å…³ç³»æœ‰ä»¥ä¸‹ 4 ä¸ªç‰¹ç‚¹ã€‚</p>\n<p><strong>1. è¿›ç¨‹ä¸­çš„ä»»æ„ä¸€çº¿ç¨‹æ‰§è¡Œå‡ºé”™ï¼Œéƒ½ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹çš„å´©æºƒã€‚</strong></p>\n<p>æˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿä»¥ä¸‹åœºæ™¯ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\">A = <span class=\"hljs-number\">1</span>+<span class=\"hljs-number\">2</span><br>B = <span class=\"hljs-number\">20</span>/<span class=\"hljs-number\">0</span><br>C = <span class=\"hljs-number\">7</span>*<span class=\"hljs-number\">8</span><br>å¤åˆ¶ä»£ç <br></code></pre></td></tr></table></figure>\n\n<p>æˆ‘æŠŠä¸Šè¿°ä¸‰ä¸ªè¡¨è¾¾å¼ç¨ä½œä¿®æ”¹ï¼Œåœ¨è®¡ç®— B çš„å€¼çš„æ—¶å€™ï¼Œæˆ‘æŠŠè¡¨è¾¾å¼çš„åˆ†æ¯æ”¹æˆ 0ï¼Œå½“çº¿ç¨‹æ‰§è¡Œåˆ° B = 20/0 æ—¶ï¼Œç”±äºåˆ†æ¯ä¸º 0ï¼Œçº¿ç¨‹ä¼šæ‰§è¡Œå‡ºé”™ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹çš„å´©æºƒï¼Œå½“ç„¶å¦å¤–ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œçš„ç»“æœä¹Ÿæ²¡æœ‰äº†ã€‚</p>\n<p><strong>2. çº¿ç¨‹ä¹‹é—´å…±äº«è¿›ç¨‹ä¸­çš„æ•°æ®ã€‚</strong></p>\n<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œçº¿ç¨‹ä¹‹é—´å¯ä»¥å¯¹è¿›ç¨‹çš„å…¬å…±æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œã€‚</p>\n<p><img src=\"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce0a54836131420b983c12b6adf0e9f0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp\" alt=\"çº¿ç¨‹ä¹‹é—´å…±äº«è¿›ç¨‹ä¸­çš„æ•°æ®\"></p>\n<p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œçº¿ç¨‹ 1ã€çº¿ç¨‹ 2ã€çº¿ç¨‹ 3 åˆ†åˆ«æŠŠæ‰§è¡Œçš„ç»“æœå†™å…¥ Aã€Bã€C ä¸­ï¼Œç„¶åçº¿ç¨‹ 2 ç»§ç»­ä» Aã€Bã€C ä¸­è¯»å–æ•°æ®ï¼Œç”¨æ¥æ˜¾ç¤ºæ‰§è¡Œç»“æœã€‚</p>\n<p><strong>3. å½“ä¸€ä¸ªè¿›ç¨‹å…³é—­ä¹‹åï¼Œæ“ä½œç³»ç»Ÿä¼šå›æ”¶è¿›ç¨‹æ‰€å ç”¨çš„å†…å­˜ã€‚</strong></p>\n<p>å½“ä¸€ä¸ªè¿›ç¨‹é€€å‡ºæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå›æ”¶è¯¥è¿›ç¨‹æ‰€ç”³è¯·çš„æ‰€æœ‰èµ„æºï¼›å³ä½¿å…¶ä¸­ä»»æ„çº¿ç¨‹å› ä¸ºæ“ä½œä¸å½“å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œå½“è¿›ç¨‹é€€å‡ºæ—¶ï¼Œè¿™äº›å†…å­˜ä¹Ÿä¼šè¢«æ­£ç¡®å›æ”¶ã€‚</p>\n<p>æ¯”å¦‚ä¹‹å‰çš„ IE æµè§ˆå™¨ï¼Œæ”¯æŒå¾ˆå¤šæ’ä»¶ï¼Œè€Œè¿™äº›æ’ä»¶å¾ˆå®¹æ˜“å¯¼è‡´å†…å­˜æ³„æ¼ï¼Œè¿™æ„å‘³ç€åªè¦æµè§ˆå™¨å¼€ç€ï¼Œå†…å­˜å ç”¨å°±æœ‰å¯èƒ½ä¼šè¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯å½“å…³é—­æµè§ˆå™¨è¿›ç¨‹æ—¶ï¼Œè¿™äº›å†…å­˜å°±éƒ½ä¼šè¢«ç³»ç»Ÿå›æ”¶æ‰</p>\n<p><strong>4. è¿›ç¨‹ä¹‹é—´çš„å†…å®¹ç›¸äº’éš”ç¦»ã€‚</strong></p>\n<p>è¿›ç¨‹éš”ç¦»æ˜¯ä¸ºä¿æŠ¤æ“ä½œç³»ç»Ÿä¸­è¿›ç¨‹äº’ä¸å¹²æ‰°çš„æŠ€æœ¯ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹åªèƒ½è®¿é—®è‡ªå·±å æœ‰çš„æ•°æ®ï¼Œä¹Ÿå°±é¿å…å‡ºç°è¿›ç¨‹ A å†™å…¥æ•°æ®åˆ°è¿›ç¨‹ B çš„æƒ…å†µã€‚æ­£æ˜¯å› ä¸ºè¿›ç¨‹ä¹‹é—´çš„æ•°æ®æ˜¯ä¸¥æ ¼éš”ç¦»çš„ï¼Œæ‰€ä»¥ä¸€ä¸ªè¿›ç¨‹å¦‚æœå´©æºƒäº†ï¼Œæˆ–è€…æŒ‚èµ·äº†ï¼Œæ˜¯ä¸ä¼šå½±å“åˆ°å…¶ä»–è¿›ç¨‹çš„ã€‚å¦‚æœè¿›ç¨‹ä¹‹é—´éœ€è¦è¿›è¡Œæ•°æ®çš„é€šä¿¡ï¼Œè¿™æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨ç”¨äºè¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰çš„æœºåˆ¶äº†</p>\n<h2 id=\"å•è¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\"><a href=\"#å•è¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\" class=\"headerlink\" title=\"å•è¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\"></a>å•è¿›ç¨‹æµè§ˆå™¨æ—¶ä»£</h2><p>é¡¾åæ€ä¹‰ï¼Œ<strong>å•è¿›ç¨‹æµè§ˆå™¨æ˜¯æŒ‡æµè§ˆå™¨çš„æ‰€æœ‰åŠŸèƒ½æ¨¡å—éƒ½æ˜¯è¿è¡Œåœ¨åŒä¸€ä¸ªè¿›ç¨‹é‡Œ</strong>ï¼Œè¿™äº›æ¨¡å—åŒ…å«ç½‘ç»œã€æ’ä»¶ã€Javascriptè¿è¡Œç¯å¢ƒã€æ¸²æŸ“å¼•æ“å’Œé¡µé¢ç­‰ã€‚å…¶å®æ—©åœ¨2007å¹´ä¹‹å‰ï¼Œå¸‚é¢ä¸Šæµè§ˆå™¨éƒ½æ˜¯å•è¿›ç¨‹çš„ã€‚å•è¿›ç¨‹æµè§ˆå™¨çš„æ¶æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n<p><img src=\"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f13158e5fe114b79a2be3b1b168467a0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp\" alt=\"å•è¿›ç¨‹æµè§ˆå™¨\"></p>\n<p>å¦‚æ­¤å¤šçš„åŠŸèƒ½æ¨¡å—è¿è¡Œåœ¨ä¸€ä¸ªè¿›ç¨‹é‡Œï¼Œæ˜¯å¯¼è‡´å•è¿›ç¨‹æµè§ˆå™¨<strong>ä¸ç¨³å®šã€ä¸æµç•…å’Œä¸å®‰å…¨</strong>çš„ä¸€ä¸ªä¸»è¦å› ç´ ã€‚</p>\n<p><strong>é—®é¢˜ 1ï¼šä¸ç¨³å®š</strong></p>\n<p>æ—©æœŸæµè§ˆå™¨éœ€è¦å€ŸåŠ©äº<strong>æ’ä»¶</strong>æ¥å®ç°è¯¸å¦‚Webè§†é¢‘ã€Webæ¸¸æˆç­‰å„ç§å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½†æ˜¯æ’ä»¶æ˜¯æœ€å®¹æ˜“å‡ºé—®é¢˜çš„æ¨¡å—ï¼Œå¹¶ä¸”è¿˜è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹ä¸­ï¼Œæ‰€ä»¥ä¸€ä¸ªæ’ä»¶çš„æ„å¤–å´©æºƒä¼šå¼•èµ·æ•´ä¸ªæµè§ˆå™¨çš„å´©æºƒã€‚</p>\n<p>é™¤äº†æ’ä»¶ä¹‹å¤–ï¼Œ<strong>æ¸²æŸ“å¼•æ“æ¨¡å—</strong>ä¹Ÿæ˜¯ä¸ç¨³å®šçš„ï¼Œé€šå¸¸ä¸€äº›å¤æ‚çš„Javascriptä»£ç å°±æœ‰å¯èƒ½å¼•èµ·æ¸²æŸ“å¼•æ“æ¨¡å—çš„å´©æºƒã€‚å’Œæ’ä»¶ä¸€æ ·ï¼Œæ¸²æŸ“å¼•æ“çš„å´©æºƒä¹Ÿä¼šå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨çš„å´©æºƒ</p>\n<p><strong>é—®é¢˜ 2ï¼šä¸æµç•…</strong></p>\n<p>ä»ä¸Šé¢çš„<strong>å•è¿›ç¨‹æµè§ˆå™¨æ¶æ„ç¤ºæ„å›¾</strong>å¯ä»¥çœ‹å‡ºï¼Œæ‰€æœ‰é¡µé¢çš„æ¸²æŸ“æ¨¡å—ã€Javascriptæ‰§è¡Œç¯å¢ƒä»¥åŠæ’ä»¶éƒ½æ˜¯è¿è¡Œåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­çš„ï¼Œè¿™å°±æ„å‘³ç€åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªæ¨¡å—å¯ä»¥æ‰§è¡Œã€‚</p>\n<p>æ¯”å¦‚ï¼Œä¸‹é¢è¿™ä¸ªæ— é™å¾ªç¯çš„è„šæœ¬ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs js\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">freeze</span>(<span class=\"hljs-params\"></span>) &#123; <br>    <span class=\"hljs-keyword\">while</span> (<span class=\"hljs-number\">1</span>) &#123; <br>        <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(<span class=\"hljs-string\">&quot;freeze&quot;</span>); <br>    &#125;<br>&#125;<br><span class=\"hljs-title function_\">freeze</span>();<br></code></pre></td></tr></table></figure>\n\n<p>å¦‚æœè®©è¿™ä¸ªè„šæœ¬è¿è¡Œåœ¨ä¸€ä¸ªå•è¿›ç¨‹æµè§ˆå™¨çš„é¡µé¢é‡Œï¼Œå› ä¸ºè¿™ä¸ªè„šæœ¬æ˜¯æ— é™å¾ªç¯çš„ï¼Œæ‰€æœ‰å½“å…¶æ‰§è¡Œæ—¶ï¼Œå®ƒä¼šç‹¬å æ•´ä¸ªçº¿ç¨‹ï¼Œè¿™æ ·å¯¼è‡´å…¶ä»–è¿è¡Œåœ¨è¯¥çº¿ç¨‹ä¸­çš„æ¨¡å—å°±æ²¡æœ‰æœºä¼šæ‰§è¡Œã€‚å› ä¸ºå•è¿›ç¨‹æµè§ˆå™¨ä¸­æ‰€æœ‰çš„é¡µé¢éƒ½è¿è¡Œåœ¨è¯¥çº¿ç¨‹ä¸­ï¼Œæ‰€ä»¥è¿™äº›é¡µé¢å°±æ²¡æœ‰æœºä¼šå»æ‰§è¡Œä»»åŠ¡ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨å¤±å»å“åº”ï¼Œå˜å¡é¡¿ã€‚</p>\n<p>é™¤äº†ä¸Šè¿°<strong>è„šæœ¬</strong>æˆ–è€…<strong>æ’ä»¶</strong>ä¼šè®©å•è¿›ç¨‹æµè§ˆå™¨å˜å¡é¡¿å¤–ï¼Œ<strong>é¡µé¢çš„å†…å­˜æ³„æ¼</strong>ä¹Ÿæ˜¯å•è¿›ç¨‹å˜æ…¢çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚é€šå¸¸æµè§ˆå™¨çš„å†…æ ¸éƒ½æ˜¯éå¸¸å¤æ‚çš„ï¼Œè¿è¡Œä¸€ä¸ªå¤æ‚ç‚¹çš„é¡µé¢å†å…³é—­é¡µé¢ï¼Œä¼šå­˜åœ¨å†…å­˜ä¸èƒ½å®Œå…¨å›æ”¶çš„æƒ…å†µï¼Œè¿™æ ·å¯¼è‡´çš„é—®é¢˜æ˜¯ä½¿ç”¨æ—¶é—´è¶Šé•¿ï¼Œå†…å­˜å ç”¨è¶Šé«˜ï¼Œæµè§ˆå™¨ä¼šå˜å¾—è¶Šæ…¢ã€‚</p>\n<p><strong>é—®é¢˜ 3ï¼šä¸å®‰å…¨</strong></p>\n<p>ä¸å®‰å…¨è¿™é‡Œä¾ç„¶å¯ä»¥ä»æ’ä»¶å’Œé¡µé¢è„šæœ¬ä¸¤ä¸ªæ–¹é¢æ¥è§£é‡Šè¯¥é—®é¢˜ã€‚</p>\n<p>æ’ä»¶å¯ä»¥ä½¿ç”¨C/C++ç­‰ä»£ç ç¼–å†™ï¼Œé€šè¿‡æ’ä»¶å¯ä»¥è·å–åˆ°æ“ä½œç³»ç»Ÿçš„ä»»æ„èµ„æºï¼Œå½“ä½ åœ¨é¡µé¢è¿è¡Œä¸€ä¸ªæ’ä»¶æ—¶ä¹Ÿæ„å‘³ç€è¿™ä¸ªæ’ä»¶èƒ½å®Œå…¨æ“ä½œä½ çš„ç”µè„‘ã€‚å¦‚æœæ˜¯ä¸€ä¸ªæ¶æ„æ’ä»¶ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥é‡Šæ”¾ç—…æ¯’ã€çªƒå–ä½ çš„è´¦å·å¯†ç ï¼Œå¼•å‘å®‰å…¨æ€§é—®é¢˜ã€‚</p>\n<p>è‡³äºé¡µé¢è„šæœ¬ï¼Œå®ƒå¯ä»¥é€šè¿‡æµè§ˆå™¨çš„æ¼æ´æ¥è·å–ç³»ç»Ÿæƒé™ï¼Œè¿™äº›è„šæœ¬è·å–ç³»ç»Ÿæƒé™ä¹‹åä¹Ÿå¯ä»¥å¯¹ä½ çš„ç”µè„‘åšä¸€äº›æ¶æ„çš„äº‹æƒ…ï¼ŒåŒæ ·ä¹Ÿä¼šå¼•å‘å®‰å…¨é—®é¢˜ã€‚</p>\n<p>ä»¥ä¸Šè¿™äº›å°±æ˜¯å•è¿›ç¨‹æµè§ˆå™¨çš„ç‰¹ç‚¹ï¼Œä¸ç¨³å®šã€ä¸æµç•…å’Œä¸å®‰å…¨ã€‚</p>\n<h2 id=\"å¤šè¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\"><a href=\"#å¤šè¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\" class=\"headerlink\" title=\"å¤šè¿›ç¨‹æµè§ˆå™¨æ—¶ä»£\"></a>å¤šè¿›ç¨‹æµè§ˆå™¨æ—¶ä»£</h2><h3 id=\"æ—©æœŸå¤šè¿›ç¨‹æ¶æ„\"><a href=\"#æ—©æœŸå¤šè¿›ç¨‹æ¶æ„\" class=\"headerlink\" title=\"æ—©æœŸå¤šè¿›ç¨‹æ¶æ„\"></a><strong>æ—©æœŸå¤šè¿›ç¨‹æ¶æ„</strong></h3><p>2008å¹´Chromeå‘å¸ƒæ—¶çš„è¿›ç¨‹æ¶æ„ï¼š</p>\n<p><img src=\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8114114a549c4346b6bc5134ec89e116~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp\" alt=\"æ—©æœŸå¤šè¿›ç¨‹æ¶æ„\"></p>\n<p>ä»é€”ä¸­å¯ä»¥çœ‹å‡ºï¼ŒChromeçš„é¡µé¢æ˜¯è¿è¡Œåœ¨å•ç‹¬çš„æ¸²æŸ“è¿›ç¨‹ä¸­çš„ï¼ŒåŒæ—¶é¡µé¢é‡Œçš„æ’ä»¶ä¹Ÿæ˜¯è¿è¡Œåœ¨å•ç‹¬çš„æ’ä»¶è¿›ç¨‹ä¸­çš„ï¼Œè¿›ç¨‹ä¹‹é—´é€šè¿‡IPCæœºåˆ¶è¿›è¡Œé€šä¿¡ã€‚</p>\n<p><strong>æˆ‘ä»¬å…ˆçœ‹çœ‹å¦‚ä½•è§£å†³ä¸ç¨³å®šçš„é—®é¢˜</strong>ã€‚ç”±äºè¿›ç¨‹æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œæ‰€ä»¥å½“ä¸€ä¸ªé¡µé¢æˆ–è€…æ’ä»¶å´©æºƒæ—¶ï¼Œå½±å“åˆ°çš„ä»…ä»…æ˜¯å½“å‰çš„é¡µé¢è¿›ç¨‹æˆ–è€…æ’ä»¶è¿›ç¨‹ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°æµè§ˆå™¨å’Œå…¶ä»–é¡µé¢ï¼Œè¿™å°±å®Œç¾åœ°è§£å†³äº†é¡µé¢æˆ–è€…æ’ä»¶çš„å´©æºƒå¯¼è‡´æ•´ä¸ªæµè§ˆå™¨å´©æºƒï¼Œä¹Ÿå°±æ˜¯ä¸ç¨³å®šçš„é—®é¢˜ã€‚</p>\n<p><strong>æ¥ä¸‹æ¥å†æ¥çœ‹çœ‹ä¸æµç•…çš„é—®é¢˜æ˜¯å¦‚ä½•è§£å†³çš„</strong>ã€‚åŒæ ·ï¼ŒJavascriptä¹Ÿæ˜¯è¿è¡Œåœ¨æ¸²æŸ“è¿›ç¨‹ä¸­çš„ï¼Œæ‰€ä»¥å³ä½¿Javascripté˜»å¡äº†æ¸²æŸ“è¿›ç¨‹ï¼Œå½±å“åˆ°çš„ä¹Ÿæ˜¯å½“å‰çš„é¡µé¢æ¸²æŸ“ï¼Œè€Œå¹¶ä¸ä¼šå½±å“æµè§ˆå™¨å’Œå…¶ä»–é¡µé¢ï¼Œå› ä¸ºå…¶ä»–é¡µé¢çš„è„šæœ¬æ˜¯è¿è¡Œåœ¨ä»–ä»¬è‡ªå·±çš„æ¸²æŸ“è¿›ç¨‹ä¸­çš„ã€‚æ‰€ä»¥å½“æˆ‘ä»¬å†åœ¨Chromeä¸­è¿è¡Œä¸Šé¢é‚£ä¸ªæ­»å¾ªç¯çš„è„šæœ¬æ—¶ï¼Œæ²¡æœ‰å“åº”çš„ä»…ä»…æ˜¯å½“å‰çš„é¡µé¢ã€‚å¯¹äºå†…å­˜æ³„æ¼çš„è§£å†³æ–¹æ³•å°±æ›´ç®€å•äº†ï¼Œå› ä¸ºå½“å…³é—­ä¸€ä¸ªé¡µé¢æ—¶ï¼Œæ•´ä¸ªæ¸²æŸ“è¿›ç¨‹ä¹Ÿä¼šè¢«å…³é—­ï¼Œä¹‹åè¯¥è¿›ç¨‹æ‰€å ç”¨çš„å†…å­˜éƒ½ä¼šè¢«ç³»ç»Ÿå›æ”¶ï¼Œè¿™æ ·å°±è½»æ¾è§£å†³äº†æµè§ˆå™¨é¡µé¢çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚</p>\n<p><strong>æœ€åå†æ¥çœ‹çœ‹ä¸Šé¢çš„ä¸å®‰å…¨çš„é—®é¢˜æ˜¯æ€ä¹ˆè§£å†³çš„</strong>ã€‚é‡‡ç”¨å¤šè¿›ç¨‹æ¶æ„çš„é¢å¤–å¥½å¤„æ˜¯å¯ä»¥ä½¿ç”¨å®‰å…¨æ²™ç®±ï¼Œä½ å¯ä»¥æŠŠæ²™ç®±çœ‹æˆæ˜¯æ“ä½œç³»ç»Ÿç»™è¿›ç¨‹ä¸Šäº†ä¸€æŠŠé”ï¼Œæ²™ç®±é‡Œé¢çš„ç¨‹åºå¯ä»¥è¿è¡Œï¼Œä½†æ˜¯ä¸èƒ½åœ¨ä½ çš„ç¡¬ç›˜ä¸Šå†™å…¥ä»»ä½•æ•°æ®ï¼Œä¾‹å¦‚ä½ çš„æ–‡æ¡£å’Œæ¡Œé¢ã€‚ChromeæŠŠæ’ä»¶è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹é”åœ¨æ²™ç®±é‡Œé¢ï¼Œè¿™æ ·å³ä½¿åœ¨æ¸²æŸ“è¿›ç¨‹æˆ–è€…æ’ä»¶è¿›ç¨‹é‡Œé¢æ‰§è¡Œäº†æ¶æ„ç¨‹åºï¼Œæ¶æ„ç¨‹åºä¹Ÿæ— æ³•çªç ´æ²™ç®±å»è·å–ç³»ç»Ÿæƒé™ã€‚</p>\n<h3 id=\"ç›®å‰å¤šè¿›ç¨‹æ¶æ„\"><a href=\"#ç›®å‰å¤šè¿›ç¨‹æ¶æ„\" class=\"headerlink\" title=\"ç›®å‰å¤šè¿›ç¨‹æ¶æ„\"></a>ç›®å‰å¤šè¿›ç¨‹æ¶æ„</h3><p>æœ€æ–°çš„Chromeè¿›ç¨‹æ¶æ„å›¾ï¼š</p>\n<p><img src=\"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f1f48d1fbfe148a9b939296e23ae080e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp\" alt=\"ç›®å‰å¤šè¿›ç¨‹æ¶æ„å›¾\"></p>\n<p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæœ€æ–°çš„Chromeæµè§ˆå™¨åŒ…æ‹¬ï¼šæµè§ˆå™¨ä¸»è¿›ç¨‹ï¼ˆBrowser Processï¼‰ã€GPUè¿›ç¨‹ï¼ˆGPU Processï¼‰ã€ç½‘ç»œè¿›ç¨‹ï¼ˆNetwork Processï¼‰ã€æ¸²æŸ“è¿›ç¨‹ï¼ˆRender Processï¼‰ã€æ’ä»¶è¿›ç¨‹ï¼ˆPlugin Processï¼‰ã€‚</p>\n<p><strong>æµè§ˆå™¨è¿›ç¨‹</strong>åªè¦è´Ÿè´£é¡µé¢æ˜¾ç¤ºã€ç”¨æˆ·äº¤äº’ã€å­è¿›ç¨‹ç®¡ç†ã€èµ„æºä¸‹è½½ã€æä¾›å­˜å‚¨ç­‰åŠŸèƒ½ã€‚</p>\n<p><strong>æ¸²æŸ“è¿›ç¨‹</strong>ï¼ˆæµè§ˆå™¨å†…æ ¸ï¼‰æ ¸å¿ƒä»»åŠ¡æ˜¯å°†HTMLã€CSSå’ŒJavascriptè½¬æ¢ä¸ºç”¨æˆ·å¯ä»¥ä¸ä¹‹äº¤äº’çš„ç½‘é¡µï¼Œæ’ç‰ˆå¼•æ“Blinkå’ŒJavascriptå¼•æ“V8éƒ½æ˜¯è¿è¡Œåœ¨è¯¥è¿›ç¨‹ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒChromeä¼šä¸ºæ¯ä¸ªTabæ ‡ç­¾åˆ›å»ºä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæ¸²æŸ“è¿›ç¨‹éƒ½æ˜¯è¿è¡Œåœ¨æ²™ç®±æ¨¡å¼ä¸‹ã€‚æ¸²æŸ“è¿›ç¨‹ï¼Œé€šå¸¸ç”±ä»¥ä¸‹å¸¸é©»çº¿ç¨‹æ„æˆï¼šGUIæ¸²æŸ“çº¿ç¨‹ã€Javascriptå¼•æ“çº¿ç¨‹ã€å®šæ—¶è§¦å‘å™¨çº¿ç¨‹ã€äº‹ä»¶è§¦å‘çº¿ç¨‹ã€å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹ã€‚</p>\n<ul>\n<li><strong>GUIæ¸²æŸ“çº¿ç¨‹</strong>è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨é¡µé¢HTMLå…ƒç´ ï¼Œå½“ç•Œé¢éœ€è¦é‡ç»˜ï¼ˆrepaintï¼‰æˆ–ç”±äºæŸç§æ“ä½œå›æµï¼ˆreflowï¼‰æ—¶ï¼Œè¯¥çº¿ç¨‹å°±ä¼šæ‰§è¡Œã€‚åœ¨Javascriptå¼•æ“è¿è¡Œè„šæœ¬æœŸé—´ï¼ŒGUIæ¸²æŸ“å¼•æ“éƒ½æ˜¯æŒ‚èµ·çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´è¢«å†»ç»“äº†ã€‚</li>\n<li><strong>Javascriptå¼•æ“çº¿ç¨‹</strong>ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºJSå†…æ ¸ï¼Œä¸»è¦è´Ÿè´£å¤„ç†Javascriptè„šæœ¬ç¨‹åºï¼Œä¾‹å¦‚V8å¼•æ“æ˜¯è§£æJSè„šæœ¬ï¼Œè¿è¡Œä»£ç ã€‚<ul>\n<li><strong>GUIæ¸²æŸ“çº¿ç¨‹å’ŒJavascriptå¼•æ“çº¿ç¨‹æ˜¯äº’æ–¥çš„</strong>ã€‚ç”±äº JavaScript æ˜¯å¯æ“çºµ DOM çš„ï¼Œå¦‚æœåœ¨ä¿®æ”¹è¿™äº›å…ƒç´ å±æ€§åŒæ—¶æ¸²æŸ“ç•Œé¢ï¼ˆå³ JavaScript çº¿ç¨‹å’Œ UI çº¿ç¨‹åŒæ—¶è¿è¡Œï¼‰ï¼Œé‚£ä¹ˆæ¸²æŸ“çº¿ç¨‹å‰åè·å¾—çš„å…ƒç´ æ•°æ®å°±å¯èƒ½ä¸ä¸€è‡´äº†ã€‚å› æ­¤ä¸ºäº†é˜²æ­¢æ¸²æŸ“å‡ºç°ä¸å¯é¢„æœŸçš„ç»“æœï¼Œæµè§ˆå™¨è®¾ç½® GUI æ¸²æŸ“çº¿ç¨‹ä¸ JavaScript å¼•æ“ä¸ºäº’æ–¥çš„å…³ç³»ï¼Œå½“ JavaScript å¼•æ“æ‰§è¡Œæ—¶ GUI çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼ŒGUI æ›´æ–°ä¼šè¢«ä¿å­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ç­‰åˆ°å¼•æ“çº¿ç¨‹ç©ºé—²æ—¶ç«‹å³è¢«æ‰§è¡Œã€‚</li>\n</ul>\n</li>\n<li><strong>å®šæ—¶è§¦å‘å™¨çº¿ç¨‹</strong>ï¼Œæµè§ˆå™¨å®šæ—¶å™¨ï¼ˆsetTimeoutå’ŒsetIntervalï¼‰å¹¶ä¸æ˜¯ç”±Javascriptå¼•æ“è®¡æ•°çš„ï¼Œå› ä¸ºJavascriptå¼•æ“æ˜¯å•çº¿ç¨‹çš„ï¼Œå¦‚æœå¤„äºé˜»å¡çŠ¶æ€å°±ä¼šå½±å“è®¡æ—¶çš„å‡†ç¡®æ€§ï¼Œå› æ­¤é€šè¿‡å¦å¤–ä¸€ä¸ªå•ç‹¬çš„å®šæ—¶è§¦å‘å™¨çº¿ç¨‹æ¥è®¡æ—¶æ˜¯æ›´ä¸ºåˆç†çš„æ–¹æ³•ã€‚</li>\n<li><strong>äº‹ä»¶è§¦å‘çº¿ç¨‹</strong>ï¼Œå½“ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘æ—¶è¯¥çº¿ç¨‹ä¼šæŠŠäº‹ä»¶æ·»åŠ åˆ°å¾…å¤„ç†é˜Ÿåˆ—çš„é˜Ÿå°¾ï¼Œç­‰å¾… JS å¼•æ“çš„å¤„ç†ã€‚è¿™äº›äº‹ä»¶å¯ä»¥æ˜¯å½“å‰æ‰§è¡Œçš„ä»£ç å—å¦‚å®šæ—¶ä»»åŠ¡ã€ä¹Ÿå¯æ¥è‡ªæµè§ˆå™¨å†…æ ¸çš„å…¶ä»–çº¿ç¨‹å¦‚é¼ æ ‡ç‚¹å‡»ã€AJAX å¼‚æ­¥è¯·æ±‚ç­‰ï¼Œä½†ç”±äº JS çš„å•çº¿ç¨‹å…³ç³»æ‰€æœ‰è¿™äº›äº‹ä»¶éƒ½å¾—æ’é˜Ÿç­‰å¾… JS å¼•æ“å¤„ç†ã€‚</li>\n<li><strong>å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹</strong>ï¼Œåœ¨XMLHttpRequestè¿æ¥åæ˜¯é€šè¿‡æµè§ˆå™¨å¼€å¯ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚ï¼Œå½“æ£€æµ‹åˆ°çŠ¶æ€å˜æ›´æ—¶ï¼Œå¦‚æœè®¾ç½®æœ‰å›è°ƒå‡½æ•°ï¼Œå¼‚æ­¥çº¿ç¨‹å°±äº§ç”ŸçŠ¶æ€å˜æ›´äº‹ä»¶æ”¾åˆ° JavaScript å¼•æ“çš„å¤„ç†é˜Ÿåˆ—ä¸­ç­‰å¾…å¤„ç†ã€‚</li>\n</ul>\n<p><strong>GPUè¿›ç¨‹</strong>ã€‚å…¶å®ï¼ŒChrome åˆšå¼€å§‹å‘å¸ƒçš„æ—¶å€™æ˜¯æ²¡æœ‰ GPU è¿›ç¨‹çš„ã€‚è€Œ GPU çš„ä½¿ç”¨åˆè¡·æ˜¯ä¸ºäº†å®ç° 3D CSS çš„æ•ˆæœï¼Œåªæ˜¯éšåç½‘é¡µã€Chrome çš„ UI ç•Œé¢éƒ½é€‰æ‹©é‡‡ç”¨ GPU æ¥ç»˜åˆ¶ï¼Œè¿™ä½¿å¾— GPU æˆä¸ºæµè§ˆå™¨æ™®éçš„éœ€æ±‚ã€‚æœ€åï¼ŒChrome åœ¨å…¶å¤šè¿›ç¨‹æ¶æ„ä¸Šä¹Ÿå¼•å…¥äº† GPU è¿›ç¨‹ã€‚</p>\n<p><strong>ç½‘ç»œè¿›ç¨‹</strong>ä¸»è¦è´Ÿè´£é¡µé¢çš„ç½‘ç»œèµ„æºåŠ è½½ï¼Œä¹‹å‰æ˜¯ä½œä¸ºä¸€ä¸ªæ¨¡å—è¿è¡Œåœ¨æµè§ˆå™¨è¿›ç¨‹é‡Œé¢çš„ï¼Œç›´è‡³æœ€è¿‘æ‰ç‹¬ç«‹å‡ºæ¥ï¼Œæˆä¸ºä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ã€‚</p>\n<p><strong>æ’ä»¶è¿›ç¨‹</strong>ä¸»è¦è´Ÿè´£æ’ä»¶çš„è¿è¡Œï¼Œå› ä¸ºæ’ä»¶å®¹æ˜“å´©æºƒï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡æ’ä»¶è¿›ç¨‹æ¥éš”ç¦»ï¼Œä»¥ä¿è¯æ’ä»¶è¿›ç¨‹å´©æºƒä¸ä¼šå¯¹æµè§ˆå™¨å’Œé¡µé¢é€ æˆå½±å“</p>\n"},{"title":"è®¾è®¡æ¨¡å¼","keywords":"è®¾è®¡æ¨¡å¼","_content":"\n## 1.è®¾è®¡æ¨¡å¼æ¦‚è®º\n\n### 1.1 ä»£ç ä¸è®¾è®¡æ¨¡å¼\n\n#### ğŸ… æˆ‘ä»¬å†™ä»£ç åˆ°åº•æ˜¯åœ¨å†™ä»€ä¹ˆï¼Ÿ\n\næˆ‘ä»¬å†™é¡¹ç›®å…¶å®å°±æ˜¯å†™æ¨¡å—ç„¶åè®¾è®¡å®ƒä»¬ä¹‹é—´çš„æ²Ÿé€šï¼Œè®¾è®¡æ¨¡å¼è¯´ç™½äº†å°±æ˜¯å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„è®¾è®¡æ¨¡å—ï¼Œ æ›´å¥½çš„ç»„ç»‡å®ƒä»¬ä¹‹é—´çš„æ²Ÿé€šã€‚\n\n#### ğŸ… è®¾è®¡æ¨¡å¼æ‰®æ¼”çš„è§’è‰²\n\n- å¸®åŠ©æˆ‘ä»¬ç»„ç»‡æ¨¡å—\n  - é€šè¿‡ä¸€äº›è®¾è®¡æ¨¡å¼ï¼Œç»„ç»‡æ¨¡å—é—´çš„ç»„æˆç»“æ„\n- å¸®åŠ©æˆ‘ä»¬è®¾è®¡æ²Ÿé€š\n  - æœ‰çš„è®¾è®¡æ¨¡å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬è®¾è®¡æ¨¡å—é—´å¦‚ä½•æ²Ÿé€š\n- æé«˜ä»£ç è´¨é‡\n  - é€šè¿‡è®¾è®¡æ¨¡å¼ï¼Œè®©ä»£ç æ›´åŠ ä¼˜é›…\n\n#### ğŸ… è®¾è®¡åŸåˆ™\n\n1. å¼€é—­åŸåˆ™\n\n   1. æˆ‘ä»¬çš„ç¨‹åºè¦å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼›æˆ‘ä»¬çš„ç¨‹åºè¦ç»™å…·ä½“ä½¿ç”¨çš„æ—¶å€™æ‰©å±•çš„æ¥å£ï¼Œä½†æ˜¯åœ¨å…·ä½“ä½¿ç”¨çš„æ—¶å€™ä¸èƒ½è®©å…¶ä¿®æ”¹æˆ‘ä»¬çš„æºç ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸ç”¨ä¿®æ”¹æºç å°±èƒ½æ‰©å±•åŠŸèƒ½ï¼Œåƒ vueã€react ç­‰éƒ½æœ‰æ‰©å±•çš„æ¥å£\n\n2. å•ä¸€èŒè´£åŸåˆ™\n\n   1. æˆ‘ä»¬çš„æ¨¡å—åªåšä¸€ä»¶äº‹æƒ…ï¼Œæ¨¡å—çš„èŒè´£è¶Šå•ä¸€è¶Šå¥½\n\n3. ä¾èµ–å€’ç½®åŸåˆ™\n\n   1. æˆ‘ä»¬çš„ä¸Šå±‚æ¨¡å—ä¸è¦ä¾èµ–äºå…·ä½“çš„ä¸‹å±‚æ¨¡å—ï¼Œåº”è¯¥ä¾èµ–äºæŠ½è±¡\n\n   2. å¦‚ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬åœ¨ä¸‹å±‚å’Œä¸Šå±‚ä¹‹é—´åŠ ä¸€ä¸ªæŠ½è±¡å±‚ï¼›ä¸‹å±‚å¦‚ä½•å˜åŠ¨éƒ½ä¸ä¼šå½±å“åˆ°ä¸Šå±‚ï¼Œåªéœ€æ›´æ”¹æŠ½è±¡å±‚å³å¯\n\n   3. ```javascript\n      // å…·ä½“å±‚\n      function Food1() {}\n      function Food2() {}\n      function Food3() {}\n\n      // æŠ½è±¡å±‚\n      function foodList(food) {\n        const foodMap = {\n          food1: new Food1(),\n          food2: new Food2(),\n          food3: new Food3()\n        }\n        return foodMap[food]\n      }\n\n      // ä¸Šå±‚\n      function order(food) {\n        return foodList(food)\n      }\n      ```\n\n4. æ¥å£éš”ç¦»åŸåˆ™\n\n   1. æˆ‘ä»¬çš„æ¥å£è¦ç»†åŒ–ï¼ŒåŠŸèƒ½è¦å•ä¸€ï¼Œä¸€ä¸ªæ¥å£ä¸è¦è°ƒç”¨å¤ªå¤šæ–¹æ³•ï¼Œä½¿å…¶èƒ½åŠ›å•ä¸€ï¼Œå¬èµ·æ¥åƒå•ä¸€èŒè´£åŸåˆ™ï¼›ä½†æ˜¯ 2 è€…çš„å…³æ³¨ç‚¹ä¸åŒï¼Œ å•ä¸€èŒè´£åŸåˆ™ä¸»è¦å…³æ³¨äºæ¨¡å—æœ¬èº«ï¼Œæ¥å£éš”ç¦»åŸåˆ™å…³æ³¨äºæ¥å£ï¼›æˆ‘ä»¬å°½é‡ç»†åŒ–æ¥å£ï¼Œæ¯ä¸ªæ¥å£åšçš„äº‹æƒ…å°½é‡å•ä¸€åŒ–ã€‚\n\n5. è¿ªç±³ç‰¹æ³•åˆ™\n\n   1. æˆ‘ä»¬è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´äº§ç”Ÿæ²Ÿé€šï¼Œæˆ‘ä»¬æœ€å¥½è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´çŸ¥é“çš„è¶Šå°‘è¶Šå¥½ï¼Œæ²¡å¿…è¦ 2 è€…ä¹‹é—´éå¸¸çš„äº†è§£ï¼›æˆ‘ä»¬çš„ä¸­ä»‹è€…æ¨¡å¼æ˜¯ä¸€ä¸ªå¾ˆå¥½ä½“ç°è¿ªç±³ç‰¹æ³•åˆ™çš„è®¾è®¡æ¨¡å¼ï¼Œä¸­ä»‹è€…æ¨¡å¼è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´æ²¡å¿…è¦ç›´æ¥çš„æ²Ÿé€šï¼Œå¦‚æœç›´æ¥æ²Ÿé€šéœ€è¦äº†è§£ 2 è€…ä¹‹é—´çš„ api å’Œå½¼æ­¤çš„è°ƒç”¨æ–¹å¼ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸€ä¸ªä¸­ä»‹è€…æ¥è½¬è¾¾æˆ‘ä»¬çš„éœ€æ±‚ï¼Œè€Œä¸ç”¨å½¼æ­¤çŸ¥é“\n\n6. é‡Œæ°æ›¿æ¢åŸåˆ™\n\n   1. å®ƒä¸»è¦å…³æ³¨äºç»§æ‰¿ï¼Œå®ƒçš„æ„ä¹‰æ˜¯ä»»ä½•ä½¿ç”¨çˆ¶ç±»çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨å­ç±»å»æ›¿æ¢ï¼Œç›´ç™½çš„è¯´æˆ‘ä»¬å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„å­ç±»å¿…é¡»å®Œå…¨ä¿è¯ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™æ ·çš„è¯çˆ¶ç±»ä½¿ç”¨çš„åœ°æ–¹ï¼Œå­ç±»å¯ä»¥è¿›è¡Œæ›¿æ¢\n\n### 1.2 è®¾è®¡æ¨¡å¼çš„åˆ†ç±»\n\n1. åˆ›å»ºå‹\n\n   è¿™äº›è®¾è®¡æ¨¡å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¼˜é›…åœ°åˆ›å»ºå¯¹è±¡\n\n   - å·¥å‚æ¨¡å¼-å¤§é‡åˆ›å»ºå¯¹è±¡\n   - å•ä¾‹æ¨¡å¼-å…¨å±€åªæœ‰ä¸€ä¸ªå®ä¾‹\n   - å»ºé€ è€…æ¨¡å¼-ç²¾ç»†åŒ–ç»„åˆå¯¹è±¡\n   - åŸå‹æ¨¡å¼-JavaScript çš„çµé­‚\n\n2. ç»“æ„å‹\n\n   å¸®åŠ©ä¼˜é›…åœ°è®¾è®¡ä»£ç ç»“æ„\n\n   - å¤–è§‚æ¨¡å¼-ç»™ä½ çš„ä¸€ä¸ªå¥—é¤\n   - é€‚é…å™¨æ¨¡å¼-ç”¨é€‚é…ä»£æ›¿æ›´æ”¹\n   - è£…é¥°ç€æ¨¡å¼-æ›´ä¼˜é›…åœ°æ‰©å±•éœ€æ±‚\n   - äº«å…ƒæ¨¡å¼-å…±äº«æ¥å‡å°‘æ•°é‡\n   - æ¡¥æ¥æ¨¡å¼-ç‹¬ç«‹å‡ºæ¥ï¼Œç„¶åå†å¯¹æ¥å‡ºå»\n\n3. è¡Œä¸ºå‹\n\n   æ¨¡å—ä¹‹é—´è¡Œä¸ºçš„æ¨¡å¼æ€»ç»“ï¼Œå¸®åŠ©ç»„ç»‡æ¨¡å—è¡Œä¸º\n\n   - è§‚å¯Ÿè€…æ¨¡å¼-ç¬¬ä¸‰æ–¹è½¬å‘\n   - çŠ¶æ€æ¨¡å¼-ç”¨çŠ¶æ€ä»£æ›¿åˆ¤æ–­\n   - ç­–ç•¥æ¨¡å¼-ç®—æ³•å·¥å‚\n   - èŒè´£é“¾æ¨¡å¼-åƒç”Ÿäº§çº¿ä¸€æ ·ç»„ç»‡æ¨¡å—\n   - å‘½ä»¤æ¨¡å¼-ç”¨å‘½ä»¤å»è§£è€¦\n   - è¿­ä»£å™¨æ¨¡å¼-å‘Šåˆ« for å¾ªç¯\n\n4. æŠ€å·§å‹\n\n   å¸®åŠ©ä¼˜åŒ–ä»£ç çš„æŠ€å·§\n\n   - é“¾æ¨¡å¼-é“¾å¼è°ƒç”¨\n   - å§”æ‰˜æ¨¡å¼\n   - æ•°æ®è®¿é—®æ¨¡å¼-ä¸€ä¸ªæ–¹ä¾¿çš„æ•°æ®ç®¡ç†å™¨\n   - æƒ°æ€§æ¨¡å¼-ç¬¬ä¸€æ¬¡æ‰§è¡Œå®ŒåæŠŠçŠ¶æ€è®°å½•ä¸‹æ¥\n   - ç­‰å¾…ç€æ¨¡å¼-ç­‰ä½ ä»¬éƒ½å›æ¥å†åƒé¥­\n\n## 2.è®¾è®¡æ¨¡å¼åº”ç”¨\n\n### 2.1.å°è£…å¯¹è±¡ï¼ˆåˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼‰\n\n#### 2.1.1 å·¥å‚æ¨¡å¼(å¦‚ï¼šåˆ›å»ºå¯¹è±¡)\n\n**å·¥å‚æ¨¡å¼çš„åŸºæœ¬ç»“æ„**\n\n```javascript\nfunction Factory (type) {\n    switch (type) {\n        case 'type1'\n        return new Type1()\n        case 'type2'\n        return new Type2()\n        case 'type3'\n        return new Type3()\n    }\n}\n```\n\nå·¥å‚æ¨¡å¼å°±æ˜¯å†™ä¸€ä¸ªæ–¹æ³•ï¼Œåªéœ€è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå°±èƒ½æ‹¿åˆ°æƒ³è¦çš„å¯¹è±¡\n\n#### 2.1.2 å»ºé€ è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue2 æºç ä¸­ Vue ç±»çš„åˆå§‹åŒ–ï¼‰\n\n**å»ºé€ è€…æ¨¡å¼çš„åŸºæœ¬ç»“æ„**\n\n```javascript\n//  æ¨¡å—1\nfunction Mode1() {}\n// æ¨¡å—2\nfunction Mode2() {}\n// æœ€ç»ˆä½¿ç”¨çš„ç±»\nfunction Final() {\n  this.mode1 = new Model()\n  this.mode2 = new Mode2()\n}\n```\n\nå»ºé€ è€…æ¨¡å¼å°±æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„ç±»çš„å„ä¸ªéƒ¨åˆ†ï¼Œæ‹†åˆ†æˆç‹¬ç«‹çš„ç±»ï¼Œç„¶åå†ç»„åˆæˆä¸€ä¸ªæœ€ç»ˆçš„ç±»\n\n#### 2.1.3 å•ä¾‹æ¨¡å¼ï¼ˆå¦‚ï¼š Vuexã€Vue-routerï¼‰\n\n**å•ä¾‹æ¨¡å¼çš„åŸºæœ¬ç»“æ„**\n\nå•ä¾‹æ¨¡å¼çš„åšæ³•ä¸æ˜¯å¾ˆå›ºå®šï¼Œä½†æ˜¯è¦ä¿è¯å…¨å±€åªæœ‰ä¸€ä¸ªå¯¹è±¡çš„æ€æƒ³\n\n```javascript\n// ä½œä¸ºå•ä¾‹å®ä¾‹åŒ–çš„å¯¹è±¡\nlet SingLeton = function (name) {\n  this.name = name\n}\n/*\nåœ¨SingLetonæŒ‚åœ¨ä¸€ä¸ªgetInstanceæ–¹æ³•ï¼Œåªèƒ½é€šè¿‡getInstanceæ–¹æ³•æ¥è·å–\nSingLetonçš„å®ä¾‹åŒ–å¯¹è±¡\n*/\nSingLeton.getInstance = function (name) {\n  if (this.instance) {\n    return this.instance\n  }\n  return (this.instance = new SingLeton(name))\n}\n```\n\né€šè¿‡ä¸€ä¸ªæ–¹æ³•ï¼Œä½¿ç”¨æ—¶åªå…è®¸é€šè¿‡æ­¤æ–¹æ³•æ‹¿åˆ°å­˜åœ¨å†…éƒ¨çš„åŒä¸€å®ä¾‹åŒ–çš„å¯¹è±¡\n\n### 2.2 æé«˜å¤ç”¨æ€§\n\n#### 2.2.1 æ¡¥æ¥æ¨¡å¼\n\nè¿™ä¸ªæ¨¡å¼å’Œå»ºé€ è€…æ¨¡å¼å¾ˆç±»ä¼¼ï¼Œæ‹†åˆ†å†ç»„åˆã€‚ä½†æ˜¯å»ºé€ è€…æ¨¡å¼çš„æ ¸å¿ƒæ˜¯å¦‚ä½•å»æ„é€ å¯¹è±¡ï¼Œæ¡¥æ¥æ¨¡å¼æ˜¯æŠŠè€¦åˆåŠŸèƒ½æŠ½ç¦»å‡ºå»\n\n```javascript\n// æœ‰ä¸‰ç§å½¢çŠ¶ï¼Œæ¯ç§å½¢çŠ¶éƒ½æœ‰3ç§é¢œè‰²\nfunction rect(color) {\n  //çŸ©å½¢\n  showcolor(color)\n}\nfunction circle(color) {\n  // åœ†å½¢\n  showcolor(color)\n}\nfunction delta(color) {\n  // ä¸‰è§’å½¢\n  showcolor(color)\n}\n\nnew circle('red')\n```\n\n#### 2.2.2 äº«å…ƒæ¨¡å¼\n\næå–å‡ºå…¬æœ‰éƒ¨åˆ†ä¸ç§æœ‰éƒ¨åˆ†ï¼Œç§æœ‰éƒ¨åˆ†ä½œä¸ºå¤–éƒ¨æ•°æ®ä¼ å…¥(æŠ½ç¦»ä¸€ä¸ªæ•°ç»„)ï¼Œä»è€Œå‡å°‘å¯¹è±¡æ•°é‡\n\n```javascript\n // æœ‰ä¸€ç™¾ç§ä¸åŒæ–‡å­—çš„å¼¹çª—ï¼Œæ¯ç§å¼¹çª—è¡Œä¸ºç›¸åŒï¼Œä½†æ˜¯æ–‡å­—å’Œæ ·å¼ä¸åŒï¼Œæˆ‘ä»¬æ²¡å¿…è¦æ–°é—´ä¸€ç™¾ä¸ªå¼¹çª—å¯¹è±¡\n    function Pop(){\n    }\n    // ä¿ç•™åŒæ ·çš„è¡Œä¸º\n    Pop.prototype.action=function(){}\n    //æ˜¾ç¤º\n    Pop.prototype.show=function(){}\n    // æå–å‡ºæ¯ä¸ªå¼¹çª—ä¸åŒçš„éƒ¨åˆ†ä½œä¸ºä¸€ä¸ªå¤–éƒ¨æ•°ç»„\n    var popArr=[\n        {text:\"window1\",style:[400,400]}\n        {text:\"window2\",style:[400,200]}\n    ]\n\n    var poper=new Pop()\n\n    for(var i=0;i<100;i++){\n        poper.show(popArr[i])\n    }\n```\n\n### 2.3 æé«˜å¯æ‰©å±•æ€§\n\n#### 2.3.1 é€‚é…å™¨æ¨¡å¼\n\nå½“é¢ä¸´ä¸¤ä¸ªæ–°è€æ¨¡å—é—´æ¥å£ api ä¸åŒ¹é…ï¼Œå¯ä»¥ç”¨é€‚é…æ¥è½¬åŒ– api\n\n```javascript\n// Aæ¡†æ¶è°ƒç”¨çš„æ–¹å¼\nA.c()\n// å‡å¦‚æˆ‘ä»¬é¡¹ç›®ä¸­æ¢æˆäº†jQueyï¼Œæˆ‘ä»¬ä¸æƒ³å…¨éƒ¨å»æ›¿æ¢Aæ–¹æ³•ï¼Œå°±ç”¨é€‚é…å™¨çš„æ–¹æ³•\nA.c = function () {\n  return $.on.apply(this.arguments)\n}\n```\n\n#### 2.3.2 è£…é¥°è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue é‡å†™æ•°ç»„æ–¹æ³•ï¼‰\n\nå½“è€çš„æ–¹æ³•ï¼Œä¸æ–¹ä¾¿å»ç›´æ¥ä¿®æ”¹ï¼Œå¯ä»¥é€šè£…é¥°è€…æ¥å¢åŠ åŠŸèƒ½\n\n```javascript\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\n\nimport { def } from '../util/index'\n\nconst arrayProto = Array.prototype\nexport const arrayMethods = Object.create(arrayProto)\n\nconst methodsToPatch = ['push', 'pop', 'shift', 'unshift', 'splice', 'sort', 'reverse']\n\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  const original = arrayProto[method]\n  def(arrayMethods, method, function mutator(...args) {\n    const result = original.apply(this, args)\n    const ob = this.__ob__\n    let inserted\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args\n        break\n      case 'splice':\n        inserted = args.slice(2)\n        break\n    }\n    if (inserted) ob.observeArray(inserted)\n    // notify change\n    ob.dep.notify()\n    return result\n  })\n})\n```\n\n#### 2.3.3 å‘½ä»¤æ¨¡å¼\n\nè§£è€¦å®ç°ä¸å…·ä½“å‘½ä»¤ï¼Œè®©æ˜¯å®ç°ç«¯å’Œå‘½ä»¤ç«¯æ‰©å±•çš„æ›´è½»æ¾\n\n```javascript\nvar createImg = (function () {\n  var action = {\n    create: function (obj) {\n      var htmlArr = []\n      var _htmlstring = ''\n      var _htmlTemplate = \"<div><img src='{{img-url}}' /></div><h2>{{title}}</h2>\"\n      var displayWay = {\n        normal: function (arr) {\n          return arr\n        },\n        reverse: function (arr) {\n          return arr.reverse\n        }\n      }\n\n      obj.imgArr.forEach((img) => {\n        var _html\n        _html = _htmlTemplate.replace('{{img-url}}', img.img).replace('{{title}}', img.title)\n        htmlArr.push(_html)\n      })\n      htmlArr = displayWay[obj.type](htmlArr)\n      _htmlstring = htmlArr.join('')\n      return '<div>' + _htmlstring + '</div>'\n    },\n    display: function (obj) {\n      var _html = this.create(obj)\n      obj.target.innerHTML = _html\n    }\n  }\n\n  return function excute(obj) {\n    var _default = {\n      imgArr: [{ img: 'xxxx', title: 'default title' }],\n      type: 'normal',\n      target: document.body\n    }\n    for (var item in _default) {\n      _default[item] = obj[item] || _default[item]\n    }\n    action.display(_default)\n  }\n})()\ncreateImg({\n  imgArr: [\n    { img: 'xxxx', title: 'default title1' },\n    { img: 'xxxx', title: 'default title2' }\n  ],\n  type: 'normal'\n})\n```\n\n#### 2.3.4 è§‚å¯Ÿè€…æ¨¡å¼\n\né€‚ç”¨äºä¸é€‚åˆç›´æ¥æ²Ÿé€šçš„æ¨¡å—ä¹‹é—´çš„ç»„ç»‡\n\n```javascript\nfunction observe {\n  this.message={}\n}\n\nobserve.prototype.regist=function(type,fn) {\n  this.message[type]=fn\n}\n\nobserve.prototype.fire=function(type){\n  this.message[type]()\n}\n\nobserve.prototype.remove=function(type){\n  this.message[type]=null\n}\n```\n\n#### 2.3.5 èŒè´£é“¾æ¨¡å¼\n\nç»„ç»‡åŒæ­¥æ¨¡å—ï¼ŒæŠŠè¦åšçš„äº‹æƒ…åˆ’åˆ†ä¸ºæ¨¡å—ï¼Œè¦åšçš„äº‹æƒ…ä¸€æ¬¡ä¼ é€’\n\n```javascript\n// è¡¨å•äº‹ä»¶ç»‘å®š->è¡¨å•å‰ç«¯éªŒè¯->è¡¨å•åç«¯éªŒè¯\n// æ€æƒ³ï¼šæŠŠä½ è¦åšçš„äº‹æƒ…æ‹†åˆ†ä¸ºæ¨¡å—ï¼Œæ¨¡å—ä¹‹é—´åªåšè‡ªå·±æ¨¡å—çš„äº‹æƒ…\n\ninput.onblur = function () {\n  var _value = input.value\n  var _arr = [font, middle, back, fontAgain]\n  async function test() {\n    var _result = _value\n    while (_arr.length > 0) {\n      _result = await _arr.shift()(_result)\n    }\n    return _result\n  }\n  test().then((res) => {\n    console.log(res)\n  })\n}\n\nfunction font(result) {}\n\nfunction middle(result) {}\n\nfunction back(result) {}\n\nfunction fontAgain(result) {}\n```\n\n#### 2.3.6 è®¿é—®è€…æ¨¡å¼\n\nè§£è€¦æ•°æ®æ“ä½œä¸æ•°æ®ç»“æ„\n\n```javascript\nvar data = []\n\nvar handler = function () {}\n\nhandler.prototype.get = function () {}\n\nvar vistor = function (handler, data) {\n  handler.get(data)\n}\n```\n\n### 2.4 æé«˜ä»£ç è´¨é‡\n\n#### 2.4.1 ç­–ç•¥/çŠ¶æ€æ¨¡å¼\n\nå¸®åŠ©æˆ‘ä»¬ä¼˜åŒ– if-else ç»“æ„\n\n```javascript\n  function Strategy (type,a,b) {\n    var Strategyer={\n      add:function (a,b){\n        return a+b\n      }\n      minus:function(a,b){\n        return a-b\n      }\n      division:function (a,b){\n        return a/b\n      }\n    }\n    return Strategyer[type](a,b)\n  }\n```\n\n#### 2.4.2 å¤–è§‚æ¨¡å¼\n\nä¸€ç§å¥—é¤åŒ–æ¥å£çš„æ€æƒ³ï¼Œå°è£…å¸¸ç”¨æ–¹æ³•ä¸ºä¸€ä¸ªç»Ÿä¸€çš„æ¥å£\n\n```javascript\n// åˆ’åˆ†åŠŸèƒ½ï¼Œç»™ä½¿ç”¨è€…ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£\nfunction tab() {\n  this.dom = null\n}\ntab.prototype.initHTML = function () {}\ntab.prototype.changeTab = function () {}\ntab.prototype.eventBind = function () {\n  var self = this\n  this.dom.onclick = function () {\n    self.changeTab()\n  }\n}\ntab.prototype.init = function (config) {\n  this.initHTML(config)\n  this.eventBind()\n}\n```\n\n#### 2.4.3 è¿­ä»£å™¨æ¨¡å¼\n\nå¸®åŠ©æ›´å¥½çš„éå†æ•°æ®\n\n#### 2.4.4 å¤‡å¿˜å½•æ¨¡å¼\n\nç¼“å­˜å›åˆ°è¿‡å»çš„çŠ¶æ€\n","source":"_posts/è®¾è®¡æ¨¡å¼.md","raw":"---\ntitle: è®¾è®¡æ¨¡å¼\ntag: è®¾è®¡æ¨¡å¼\nkeywords: è®¾è®¡æ¨¡å¼\ncategories: è®¾è®¡æ¨¡å¼\n---\n\n## 1.è®¾è®¡æ¨¡å¼æ¦‚è®º\n\n### 1.1 ä»£ç ä¸è®¾è®¡æ¨¡å¼\n\n#### ğŸ… æˆ‘ä»¬å†™ä»£ç åˆ°åº•æ˜¯åœ¨å†™ä»€ä¹ˆï¼Ÿ\n\næˆ‘ä»¬å†™é¡¹ç›®å…¶å®å°±æ˜¯å†™æ¨¡å—ç„¶åè®¾è®¡å®ƒä»¬ä¹‹é—´çš„æ²Ÿé€šï¼Œè®¾è®¡æ¨¡å¼è¯´ç™½äº†å°±æ˜¯å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„è®¾è®¡æ¨¡å—ï¼Œ æ›´å¥½çš„ç»„ç»‡å®ƒä»¬ä¹‹é—´çš„æ²Ÿé€šã€‚\n\n#### ğŸ… è®¾è®¡æ¨¡å¼æ‰®æ¼”çš„è§’è‰²\n\n- å¸®åŠ©æˆ‘ä»¬ç»„ç»‡æ¨¡å—\n  - é€šè¿‡ä¸€äº›è®¾è®¡æ¨¡å¼ï¼Œç»„ç»‡æ¨¡å—é—´çš„ç»„æˆç»“æ„\n- å¸®åŠ©æˆ‘ä»¬è®¾è®¡æ²Ÿé€š\n  - æœ‰çš„è®¾è®¡æ¨¡å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬è®¾è®¡æ¨¡å—é—´å¦‚ä½•æ²Ÿé€š\n- æé«˜ä»£ç è´¨é‡\n  - é€šè¿‡è®¾è®¡æ¨¡å¼ï¼Œè®©ä»£ç æ›´åŠ ä¼˜é›…\n\n#### ğŸ… è®¾è®¡åŸåˆ™\n\n1. å¼€é—­åŸåˆ™\n\n   1. æˆ‘ä»¬çš„ç¨‹åºè¦å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼›æˆ‘ä»¬çš„ç¨‹åºè¦ç»™å…·ä½“ä½¿ç”¨çš„æ—¶å€™æ‰©å±•çš„æ¥å£ï¼Œä½†æ˜¯åœ¨å…·ä½“ä½¿ç”¨çš„æ—¶å€™ä¸èƒ½è®©å…¶ä¿®æ”¹æˆ‘ä»¬çš„æºç ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸ç”¨ä¿®æ”¹æºç å°±èƒ½æ‰©å±•åŠŸèƒ½ï¼Œåƒ vueã€react ç­‰éƒ½æœ‰æ‰©å±•çš„æ¥å£\n\n2. å•ä¸€èŒè´£åŸåˆ™\n\n   1. æˆ‘ä»¬çš„æ¨¡å—åªåšä¸€ä»¶äº‹æƒ…ï¼Œæ¨¡å—çš„èŒè´£è¶Šå•ä¸€è¶Šå¥½\n\n3. ä¾èµ–å€’ç½®åŸåˆ™\n\n   1. æˆ‘ä»¬çš„ä¸Šå±‚æ¨¡å—ä¸è¦ä¾èµ–äºå…·ä½“çš„ä¸‹å±‚æ¨¡å—ï¼Œåº”è¯¥ä¾èµ–äºæŠ½è±¡\n\n   2. å¦‚ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬åœ¨ä¸‹å±‚å’Œä¸Šå±‚ä¹‹é—´åŠ ä¸€ä¸ªæŠ½è±¡å±‚ï¼›ä¸‹å±‚å¦‚ä½•å˜åŠ¨éƒ½ä¸ä¼šå½±å“åˆ°ä¸Šå±‚ï¼Œåªéœ€æ›´æ”¹æŠ½è±¡å±‚å³å¯\n\n   3. ```javascript\n      // å…·ä½“å±‚\n      function Food1() {}\n      function Food2() {}\n      function Food3() {}\n\n      // æŠ½è±¡å±‚\n      function foodList(food) {\n        const foodMap = {\n          food1: new Food1(),\n          food2: new Food2(),\n          food3: new Food3()\n        }\n        return foodMap[food]\n      }\n\n      // ä¸Šå±‚\n      function order(food) {\n        return foodList(food)\n      }\n      ```\n\n4. æ¥å£éš”ç¦»åŸåˆ™\n\n   1. æˆ‘ä»¬çš„æ¥å£è¦ç»†åŒ–ï¼ŒåŠŸèƒ½è¦å•ä¸€ï¼Œä¸€ä¸ªæ¥å£ä¸è¦è°ƒç”¨å¤ªå¤šæ–¹æ³•ï¼Œä½¿å…¶èƒ½åŠ›å•ä¸€ï¼Œå¬èµ·æ¥åƒå•ä¸€èŒè´£åŸåˆ™ï¼›ä½†æ˜¯ 2 è€…çš„å…³æ³¨ç‚¹ä¸åŒï¼Œ å•ä¸€èŒè´£åŸåˆ™ä¸»è¦å…³æ³¨äºæ¨¡å—æœ¬èº«ï¼Œæ¥å£éš”ç¦»åŸåˆ™å…³æ³¨äºæ¥å£ï¼›æˆ‘ä»¬å°½é‡ç»†åŒ–æ¥å£ï¼Œæ¯ä¸ªæ¥å£åšçš„äº‹æƒ…å°½é‡å•ä¸€åŒ–ã€‚\n\n5. è¿ªç±³ç‰¹æ³•åˆ™\n\n   1. æˆ‘ä»¬è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´äº§ç”Ÿæ²Ÿé€šï¼Œæˆ‘ä»¬æœ€å¥½è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´çŸ¥é“çš„è¶Šå°‘è¶Šå¥½ï¼Œæ²¡å¿…è¦ 2 è€…ä¹‹é—´éå¸¸çš„äº†è§£ï¼›æˆ‘ä»¬çš„ä¸­ä»‹è€…æ¨¡å¼æ˜¯ä¸€ä¸ªå¾ˆå¥½ä½“ç°è¿ªç±³ç‰¹æ³•åˆ™çš„è®¾è®¡æ¨¡å¼ï¼Œä¸­ä»‹è€…æ¨¡å¼è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´æ²¡å¿…è¦ç›´æ¥çš„æ²Ÿé€šï¼Œå¦‚æœç›´æ¥æ²Ÿé€šéœ€è¦äº†è§£ 2 è€…ä¹‹é—´çš„ api å’Œå½¼æ­¤çš„è°ƒç”¨æ–¹å¼ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸€ä¸ªä¸­ä»‹è€…æ¥è½¬è¾¾æˆ‘ä»¬çš„éœ€æ±‚ï¼Œè€Œä¸ç”¨å½¼æ­¤çŸ¥é“\n\n6. é‡Œæ°æ›¿æ¢åŸåˆ™\n\n   1. å®ƒä¸»è¦å…³æ³¨äºç»§æ‰¿ï¼Œå®ƒçš„æ„ä¹‰æ˜¯ä»»ä½•ä½¿ç”¨çˆ¶ç±»çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨å­ç±»å»æ›¿æ¢ï¼Œç›´ç™½çš„è¯´æˆ‘ä»¬å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„å­ç±»å¿…é¡»å®Œå…¨ä¿è¯ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™æ ·çš„è¯çˆ¶ç±»ä½¿ç”¨çš„åœ°æ–¹ï¼Œå­ç±»å¯ä»¥è¿›è¡Œæ›¿æ¢\n\n### 1.2 è®¾è®¡æ¨¡å¼çš„åˆ†ç±»\n\n1. åˆ›å»ºå‹\n\n   è¿™äº›è®¾è®¡æ¨¡å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¼˜é›…åœ°åˆ›å»ºå¯¹è±¡\n\n   - å·¥å‚æ¨¡å¼-å¤§é‡åˆ›å»ºå¯¹è±¡\n   - å•ä¾‹æ¨¡å¼-å…¨å±€åªæœ‰ä¸€ä¸ªå®ä¾‹\n   - å»ºé€ è€…æ¨¡å¼-ç²¾ç»†åŒ–ç»„åˆå¯¹è±¡\n   - åŸå‹æ¨¡å¼-JavaScript çš„çµé­‚\n\n2. ç»“æ„å‹\n\n   å¸®åŠ©ä¼˜é›…åœ°è®¾è®¡ä»£ç ç»“æ„\n\n   - å¤–è§‚æ¨¡å¼-ç»™ä½ çš„ä¸€ä¸ªå¥—é¤\n   - é€‚é…å™¨æ¨¡å¼-ç”¨é€‚é…ä»£æ›¿æ›´æ”¹\n   - è£…é¥°ç€æ¨¡å¼-æ›´ä¼˜é›…åœ°æ‰©å±•éœ€æ±‚\n   - äº«å…ƒæ¨¡å¼-å…±äº«æ¥å‡å°‘æ•°é‡\n   - æ¡¥æ¥æ¨¡å¼-ç‹¬ç«‹å‡ºæ¥ï¼Œç„¶åå†å¯¹æ¥å‡ºå»\n\n3. è¡Œä¸ºå‹\n\n   æ¨¡å—ä¹‹é—´è¡Œä¸ºçš„æ¨¡å¼æ€»ç»“ï¼Œå¸®åŠ©ç»„ç»‡æ¨¡å—è¡Œä¸º\n\n   - è§‚å¯Ÿè€…æ¨¡å¼-ç¬¬ä¸‰æ–¹è½¬å‘\n   - çŠ¶æ€æ¨¡å¼-ç”¨çŠ¶æ€ä»£æ›¿åˆ¤æ–­\n   - ç­–ç•¥æ¨¡å¼-ç®—æ³•å·¥å‚\n   - èŒè´£é“¾æ¨¡å¼-åƒç”Ÿäº§çº¿ä¸€æ ·ç»„ç»‡æ¨¡å—\n   - å‘½ä»¤æ¨¡å¼-ç”¨å‘½ä»¤å»è§£è€¦\n   - è¿­ä»£å™¨æ¨¡å¼-å‘Šåˆ« for å¾ªç¯\n\n4. æŠ€å·§å‹\n\n   å¸®åŠ©ä¼˜åŒ–ä»£ç çš„æŠ€å·§\n\n   - é“¾æ¨¡å¼-é“¾å¼è°ƒç”¨\n   - å§”æ‰˜æ¨¡å¼\n   - æ•°æ®è®¿é—®æ¨¡å¼-ä¸€ä¸ªæ–¹ä¾¿çš„æ•°æ®ç®¡ç†å™¨\n   - æƒ°æ€§æ¨¡å¼-ç¬¬ä¸€æ¬¡æ‰§è¡Œå®ŒåæŠŠçŠ¶æ€è®°å½•ä¸‹æ¥\n   - ç­‰å¾…ç€æ¨¡å¼-ç­‰ä½ ä»¬éƒ½å›æ¥å†åƒé¥­\n\n## 2.è®¾è®¡æ¨¡å¼åº”ç”¨\n\n### 2.1.å°è£…å¯¹è±¡ï¼ˆåˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼‰\n\n#### 2.1.1 å·¥å‚æ¨¡å¼(å¦‚ï¼šåˆ›å»ºå¯¹è±¡)\n\n**å·¥å‚æ¨¡å¼çš„åŸºæœ¬ç»“æ„**\n\n```javascript\nfunction Factory (type) {\n    switch (type) {\n        case 'type1'\n        return new Type1()\n        case 'type2'\n        return new Type2()\n        case 'type3'\n        return new Type3()\n    }\n}\n```\n\nå·¥å‚æ¨¡å¼å°±æ˜¯å†™ä¸€ä¸ªæ–¹æ³•ï¼Œåªéœ€è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå°±èƒ½æ‹¿åˆ°æƒ³è¦çš„å¯¹è±¡\n\n#### 2.1.2 å»ºé€ è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue2 æºç ä¸­ Vue ç±»çš„åˆå§‹åŒ–ï¼‰\n\n**å»ºé€ è€…æ¨¡å¼çš„åŸºæœ¬ç»“æ„**\n\n```javascript\n//  æ¨¡å—1\nfunction Mode1() {}\n// æ¨¡å—2\nfunction Mode2() {}\n// æœ€ç»ˆä½¿ç”¨çš„ç±»\nfunction Final() {\n  this.mode1 = new Model()\n  this.mode2 = new Mode2()\n}\n```\n\nå»ºé€ è€…æ¨¡å¼å°±æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„ç±»çš„å„ä¸ªéƒ¨åˆ†ï¼Œæ‹†åˆ†æˆç‹¬ç«‹çš„ç±»ï¼Œç„¶åå†ç»„åˆæˆä¸€ä¸ªæœ€ç»ˆçš„ç±»\n\n#### 2.1.3 å•ä¾‹æ¨¡å¼ï¼ˆå¦‚ï¼š Vuexã€Vue-routerï¼‰\n\n**å•ä¾‹æ¨¡å¼çš„åŸºæœ¬ç»“æ„**\n\nå•ä¾‹æ¨¡å¼çš„åšæ³•ä¸æ˜¯å¾ˆå›ºå®šï¼Œä½†æ˜¯è¦ä¿è¯å…¨å±€åªæœ‰ä¸€ä¸ªå¯¹è±¡çš„æ€æƒ³\n\n```javascript\n// ä½œä¸ºå•ä¾‹å®ä¾‹åŒ–çš„å¯¹è±¡\nlet SingLeton = function (name) {\n  this.name = name\n}\n/*\nåœ¨SingLetonæŒ‚åœ¨ä¸€ä¸ªgetInstanceæ–¹æ³•ï¼Œåªèƒ½é€šè¿‡getInstanceæ–¹æ³•æ¥è·å–\nSingLetonçš„å®ä¾‹åŒ–å¯¹è±¡\n*/\nSingLeton.getInstance = function (name) {\n  if (this.instance) {\n    return this.instance\n  }\n  return (this.instance = new SingLeton(name))\n}\n```\n\né€šè¿‡ä¸€ä¸ªæ–¹æ³•ï¼Œä½¿ç”¨æ—¶åªå…è®¸é€šè¿‡æ­¤æ–¹æ³•æ‹¿åˆ°å­˜åœ¨å†…éƒ¨çš„åŒä¸€å®ä¾‹åŒ–çš„å¯¹è±¡\n\n### 2.2 æé«˜å¤ç”¨æ€§\n\n#### 2.2.1 æ¡¥æ¥æ¨¡å¼\n\nè¿™ä¸ªæ¨¡å¼å’Œå»ºé€ è€…æ¨¡å¼å¾ˆç±»ä¼¼ï¼Œæ‹†åˆ†å†ç»„åˆã€‚ä½†æ˜¯å»ºé€ è€…æ¨¡å¼çš„æ ¸å¿ƒæ˜¯å¦‚ä½•å»æ„é€ å¯¹è±¡ï¼Œæ¡¥æ¥æ¨¡å¼æ˜¯æŠŠè€¦åˆåŠŸèƒ½æŠ½ç¦»å‡ºå»\n\n```javascript\n// æœ‰ä¸‰ç§å½¢çŠ¶ï¼Œæ¯ç§å½¢çŠ¶éƒ½æœ‰3ç§é¢œè‰²\nfunction rect(color) {\n  //çŸ©å½¢\n  showcolor(color)\n}\nfunction circle(color) {\n  // åœ†å½¢\n  showcolor(color)\n}\nfunction delta(color) {\n  // ä¸‰è§’å½¢\n  showcolor(color)\n}\n\nnew circle('red')\n```\n\n#### 2.2.2 äº«å…ƒæ¨¡å¼\n\næå–å‡ºå…¬æœ‰éƒ¨åˆ†ä¸ç§æœ‰éƒ¨åˆ†ï¼Œç§æœ‰éƒ¨åˆ†ä½œä¸ºå¤–éƒ¨æ•°æ®ä¼ å…¥(æŠ½ç¦»ä¸€ä¸ªæ•°ç»„)ï¼Œä»è€Œå‡å°‘å¯¹è±¡æ•°é‡\n\n```javascript\n // æœ‰ä¸€ç™¾ç§ä¸åŒæ–‡å­—çš„å¼¹çª—ï¼Œæ¯ç§å¼¹çª—è¡Œä¸ºç›¸åŒï¼Œä½†æ˜¯æ–‡å­—å’Œæ ·å¼ä¸åŒï¼Œæˆ‘ä»¬æ²¡å¿…è¦æ–°é—´ä¸€ç™¾ä¸ªå¼¹çª—å¯¹è±¡\n    function Pop(){\n    }\n    // ä¿ç•™åŒæ ·çš„è¡Œä¸º\n    Pop.prototype.action=function(){}\n    //æ˜¾ç¤º\n    Pop.prototype.show=function(){}\n    // æå–å‡ºæ¯ä¸ªå¼¹çª—ä¸åŒçš„éƒ¨åˆ†ä½œä¸ºä¸€ä¸ªå¤–éƒ¨æ•°ç»„\n    var popArr=[\n        {text:\"window1\",style:[400,400]}\n        {text:\"window2\",style:[400,200]}\n    ]\n\n    var poper=new Pop()\n\n    for(var i=0;i<100;i++){\n        poper.show(popArr[i])\n    }\n```\n\n### 2.3 æé«˜å¯æ‰©å±•æ€§\n\n#### 2.3.1 é€‚é…å™¨æ¨¡å¼\n\nå½“é¢ä¸´ä¸¤ä¸ªæ–°è€æ¨¡å—é—´æ¥å£ api ä¸åŒ¹é…ï¼Œå¯ä»¥ç”¨é€‚é…æ¥è½¬åŒ– api\n\n```javascript\n// Aæ¡†æ¶è°ƒç”¨çš„æ–¹å¼\nA.c()\n// å‡å¦‚æˆ‘ä»¬é¡¹ç›®ä¸­æ¢æˆäº†jQueyï¼Œæˆ‘ä»¬ä¸æƒ³å…¨éƒ¨å»æ›¿æ¢Aæ–¹æ³•ï¼Œå°±ç”¨é€‚é…å™¨çš„æ–¹æ³•\nA.c = function () {\n  return $.on.apply(this.arguments)\n}\n```\n\n#### 2.3.2 è£…é¥°è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue é‡å†™æ•°ç»„æ–¹æ³•ï¼‰\n\nå½“è€çš„æ–¹æ³•ï¼Œä¸æ–¹ä¾¿å»ç›´æ¥ä¿®æ”¹ï¼Œå¯ä»¥é€šè£…é¥°è€…æ¥å¢åŠ åŠŸèƒ½\n\n```javascript\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\n\nimport { def } from '../util/index'\n\nconst arrayProto = Array.prototype\nexport const arrayMethods = Object.create(arrayProto)\n\nconst methodsToPatch = ['push', 'pop', 'shift', 'unshift', 'splice', 'sort', 'reverse']\n\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  const original = arrayProto[method]\n  def(arrayMethods, method, function mutator(...args) {\n    const result = original.apply(this, args)\n    const ob = this.__ob__\n    let inserted\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args\n        break\n      case 'splice':\n        inserted = args.slice(2)\n        break\n    }\n    if (inserted) ob.observeArray(inserted)\n    // notify change\n    ob.dep.notify()\n    return result\n  })\n})\n```\n\n#### 2.3.3 å‘½ä»¤æ¨¡å¼\n\nè§£è€¦å®ç°ä¸å…·ä½“å‘½ä»¤ï¼Œè®©æ˜¯å®ç°ç«¯å’Œå‘½ä»¤ç«¯æ‰©å±•çš„æ›´è½»æ¾\n\n```javascript\nvar createImg = (function () {\n  var action = {\n    create: function (obj) {\n      var htmlArr = []\n      var _htmlstring = ''\n      var _htmlTemplate = \"<div><img src='{{img-url}}' /></div><h2>{{title}}</h2>\"\n      var displayWay = {\n        normal: function (arr) {\n          return arr\n        },\n        reverse: function (arr) {\n          return arr.reverse\n        }\n      }\n\n      obj.imgArr.forEach((img) => {\n        var _html\n        _html = _htmlTemplate.replace('{{img-url}}', img.img).replace('{{title}}', img.title)\n        htmlArr.push(_html)\n      })\n      htmlArr = displayWay[obj.type](htmlArr)\n      _htmlstring = htmlArr.join('')\n      return '<div>' + _htmlstring + '</div>'\n    },\n    display: function (obj) {\n      var _html = this.create(obj)\n      obj.target.innerHTML = _html\n    }\n  }\n\n  return function excute(obj) {\n    var _default = {\n      imgArr: [{ img: 'xxxx', title: 'default title' }],\n      type: 'normal',\n      target: document.body\n    }\n    for (var item in _default) {\n      _default[item] = obj[item] || _default[item]\n    }\n    action.display(_default)\n  }\n})()\ncreateImg({\n  imgArr: [\n    { img: 'xxxx', title: 'default title1' },\n    { img: 'xxxx', title: 'default title2' }\n  ],\n  type: 'normal'\n})\n```\n\n#### 2.3.4 è§‚å¯Ÿè€…æ¨¡å¼\n\né€‚ç”¨äºä¸é€‚åˆç›´æ¥æ²Ÿé€šçš„æ¨¡å—ä¹‹é—´çš„ç»„ç»‡\n\n```javascript\nfunction observe {\n  this.message={}\n}\n\nobserve.prototype.regist=function(type,fn) {\n  this.message[type]=fn\n}\n\nobserve.prototype.fire=function(type){\n  this.message[type]()\n}\n\nobserve.prototype.remove=function(type){\n  this.message[type]=null\n}\n```\n\n#### 2.3.5 èŒè´£é“¾æ¨¡å¼\n\nç»„ç»‡åŒæ­¥æ¨¡å—ï¼ŒæŠŠè¦åšçš„äº‹æƒ…åˆ’åˆ†ä¸ºæ¨¡å—ï¼Œè¦åšçš„äº‹æƒ…ä¸€æ¬¡ä¼ é€’\n\n```javascript\n// è¡¨å•äº‹ä»¶ç»‘å®š->è¡¨å•å‰ç«¯éªŒè¯->è¡¨å•åç«¯éªŒè¯\n// æ€æƒ³ï¼šæŠŠä½ è¦åšçš„äº‹æƒ…æ‹†åˆ†ä¸ºæ¨¡å—ï¼Œæ¨¡å—ä¹‹é—´åªåšè‡ªå·±æ¨¡å—çš„äº‹æƒ…\n\ninput.onblur = function () {\n  var _value = input.value\n  var _arr = [font, middle, back, fontAgain]\n  async function test() {\n    var _result = _value\n    while (_arr.length > 0) {\n      _result = await _arr.shift()(_result)\n    }\n    return _result\n  }\n  test().then((res) => {\n    console.log(res)\n  })\n}\n\nfunction font(result) {}\n\nfunction middle(result) {}\n\nfunction back(result) {}\n\nfunction fontAgain(result) {}\n```\n\n#### 2.3.6 è®¿é—®è€…æ¨¡å¼\n\nè§£è€¦æ•°æ®æ“ä½œä¸æ•°æ®ç»“æ„\n\n```javascript\nvar data = []\n\nvar handler = function () {}\n\nhandler.prototype.get = function () {}\n\nvar vistor = function (handler, data) {\n  handler.get(data)\n}\n```\n\n### 2.4 æé«˜ä»£ç è´¨é‡\n\n#### 2.4.1 ç­–ç•¥/çŠ¶æ€æ¨¡å¼\n\nå¸®åŠ©æˆ‘ä»¬ä¼˜åŒ– if-else ç»“æ„\n\n```javascript\n  function Strategy (type,a,b) {\n    var Strategyer={\n      add:function (a,b){\n        return a+b\n      }\n      minus:function(a,b){\n        return a-b\n      }\n      division:function (a,b){\n        return a/b\n      }\n    }\n    return Strategyer[type](a,b)\n  }\n```\n\n#### 2.4.2 å¤–è§‚æ¨¡å¼\n\nä¸€ç§å¥—é¤åŒ–æ¥å£çš„æ€æƒ³ï¼Œå°è£…å¸¸ç”¨æ–¹æ³•ä¸ºä¸€ä¸ªç»Ÿä¸€çš„æ¥å£\n\n```javascript\n// åˆ’åˆ†åŠŸèƒ½ï¼Œç»™ä½¿ç”¨è€…ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£\nfunction tab() {\n  this.dom = null\n}\ntab.prototype.initHTML = function () {}\ntab.prototype.changeTab = function () {}\ntab.prototype.eventBind = function () {\n  var self = this\n  this.dom.onclick = function () {\n    self.changeTab()\n  }\n}\ntab.prototype.init = function (config) {\n  this.initHTML(config)\n  this.eventBind()\n}\n```\n\n#### 2.4.3 è¿­ä»£å™¨æ¨¡å¼\n\nå¸®åŠ©æ›´å¥½çš„éå†æ•°æ®\n\n#### 2.4.4 å¤‡å¿˜å½•æ¨¡å¼\n\nç¼“å­˜å›åˆ°è¿‡å»çš„çŠ¶æ€\n","slug":"è®¾è®¡æ¨¡å¼","published":1,"date":"2022-12-06T09:12:16.385Z","updated":"2023-02-02T07:10:28.370Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9l0000qi024ekbq2km7","content":"<h2 id=\"1-è®¾è®¡æ¨¡å¼æ¦‚è®º\"><a href=\"#1-è®¾è®¡æ¨¡å¼æ¦‚è®º\" class=\"headerlink\" title=\"1.è®¾è®¡æ¨¡å¼æ¦‚è®º\"></a>1.è®¾è®¡æ¨¡å¼æ¦‚è®º</h2><h3 id=\"1-1-ä»£ç ä¸è®¾è®¡æ¨¡å¼\"><a href=\"#1-1-ä»£ç ä¸è®¾è®¡æ¨¡å¼\" class=\"headerlink\" title=\"1.1 ä»£ç ä¸è®¾è®¡æ¨¡å¼\"></a>1.1 ä»£ç ä¸è®¾è®¡æ¨¡å¼</h3><h4 id=\"ğŸ…-æˆ‘ä»¬å†™ä»£ç åˆ°åº•æ˜¯åœ¨å†™ä»€ä¹ˆï¼Ÿ\"><a href=\"#ğŸ…-æˆ‘ä»¬å†™ä»£ç åˆ°åº•æ˜¯åœ¨å†™ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"ğŸ… æˆ‘ä»¬å†™ä»£ç åˆ°åº•æ˜¯åœ¨å†™ä»€ä¹ˆï¼Ÿ\"></a>ğŸ… æˆ‘ä»¬å†™ä»£ç åˆ°åº•æ˜¯åœ¨å†™ä»€ä¹ˆï¼Ÿ</h4><p>æˆ‘ä»¬å†™é¡¹ç›®å…¶å®å°±æ˜¯å†™æ¨¡å—ç„¶åè®¾è®¡å®ƒä»¬ä¹‹é—´çš„æ²Ÿé€šï¼Œè®¾è®¡æ¨¡å¼è¯´ç™½äº†å°±æ˜¯å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„è®¾è®¡æ¨¡å—ï¼Œ æ›´å¥½çš„ç»„ç»‡å®ƒä»¬ä¹‹é—´çš„æ²Ÿé€šã€‚</p>\n<h4 id=\"ğŸ…-è®¾è®¡æ¨¡å¼æ‰®æ¼”çš„è§’è‰²\"><a href=\"#ğŸ…-è®¾è®¡æ¨¡å¼æ‰®æ¼”çš„è§’è‰²\" class=\"headerlink\" title=\"ğŸ… è®¾è®¡æ¨¡å¼æ‰®æ¼”çš„è§’è‰²\"></a>ğŸ… è®¾è®¡æ¨¡å¼æ‰®æ¼”çš„è§’è‰²</h4><ul>\n<li>å¸®åŠ©æˆ‘ä»¬ç»„ç»‡æ¨¡å—<ul>\n<li>é€šè¿‡ä¸€äº›è®¾è®¡æ¨¡å¼ï¼Œç»„ç»‡æ¨¡å—é—´çš„ç»„æˆç»“æ„</li>\n</ul>\n</li>\n<li>å¸®åŠ©æˆ‘ä»¬è®¾è®¡æ²Ÿé€š<ul>\n<li>æœ‰çš„è®¾è®¡æ¨¡å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬è®¾è®¡æ¨¡å—é—´å¦‚ä½•æ²Ÿé€š</li>\n</ul>\n</li>\n<li>æé«˜ä»£ç è´¨é‡<ul>\n<li>é€šè¿‡è®¾è®¡æ¨¡å¼ï¼Œè®©ä»£ç æ›´åŠ ä¼˜é›…</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"ğŸ…-è®¾è®¡åŸåˆ™\"><a href=\"#ğŸ…-è®¾è®¡åŸåˆ™\" class=\"headerlink\" title=\"ğŸ… è®¾è®¡åŸåˆ™\"></a>ğŸ… è®¾è®¡åŸåˆ™</h4><ol>\n<li><p>å¼€é—­åŸåˆ™</p>\n<ol>\n<li>æˆ‘ä»¬çš„ç¨‹åºè¦å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼›æˆ‘ä»¬çš„ç¨‹åºè¦ç»™å…·ä½“ä½¿ç”¨çš„æ—¶å€™æ‰©å±•çš„æ¥å£ï¼Œä½†æ˜¯åœ¨å…·ä½“ä½¿ç”¨çš„æ—¶å€™ä¸èƒ½è®©å…¶ä¿®æ”¹æˆ‘ä»¬çš„æºç ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸ç”¨ä¿®æ”¹æºç å°±èƒ½æ‰©å±•åŠŸèƒ½ï¼Œåƒ vueã€react ç­‰éƒ½æœ‰æ‰©å±•çš„æ¥å£</li>\n</ol>\n</li>\n<li><p>å•ä¸€èŒè´£åŸåˆ™</p>\n<ol>\n<li>æˆ‘ä»¬çš„æ¨¡å—åªåšä¸€ä»¶äº‹æƒ…ï¼Œæ¨¡å—çš„èŒè´£è¶Šå•ä¸€è¶Šå¥½</li>\n</ol>\n</li>\n<li><p>ä¾èµ–å€’ç½®åŸåˆ™</p>\n<ol>\n<li><p>æˆ‘ä»¬çš„ä¸Šå±‚æ¨¡å—ä¸è¦ä¾èµ–äºå…·ä½“çš„ä¸‹å±‚æ¨¡å—ï¼Œåº”è¯¥ä¾èµ–äºæŠ½è±¡</p>\n</li>\n<li><p>å¦‚ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬åœ¨ä¸‹å±‚å’Œä¸Šå±‚ä¹‹é—´åŠ ä¸€ä¸ªæŠ½è±¡å±‚ï¼›ä¸‹å±‚å¦‚ä½•å˜åŠ¨éƒ½ä¸ä¼šå½±å“åˆ°ä¸Šå±‚ï¼Œåªéœ€æ›´æ”¹æŠ½è±¡å±‚å³å¯</p>\n</li>\n<li><p>```javascript<br>// å…·ä½“å±‚<br>function Food1() {}<br>function Food2() {}<br>function Food3() {}</p>\n<p>// æŠ½è±¡å±‚<br>function foodList(food) {<br>  const foodMap = {</p>\n<pre><code class=\"hljs\">food1: new Food1(),\nfood2: new Food2(),\nfood3: new Food3()\n</code></pre>\n<p>  }<br>  return foodMap[food]<br>}</p>\n<p>// ä¸Šå±‚<br>function order(food) {<br>  return foodList(food)<br>}</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs markdown\"><br><span class=\"hljs-bullet\">4.</span> æ¥å£éš”ç¦»åŸåˆ™<br><br><span class=\"hljs-bullet\">   1.</span> æˆ‘ä»¬çš„æ¥å£è¦ç»†åŒ–ï¼ŒåŠŸèƒ½è¦å•ä¸€ï¼Œä¸€ä¸ªæ¥å£ä¸è¦è°ƒç”¨å¤ªå¤šæ–¹æ³•ï¼Œä½¿å…¶èƒ½åŠ›å•ä¸€ï¼Œå¬èµ·æ¥åƒå•ä¸€èŒè´£åŸåˆ™ï¼›ä½†æ˜¯ 2 è€…çš„å…³æ³¨ç‚¹ä¸åŒï¼Œ å•ä¸€èŒè´£åŸåˆ™ä¸»è¦å…³æ³¨äºæ¨¡å—æœ¬èº«ï¼Œæ¥å£éš”ç¦»åŸåˆ™å…³æ³¨äºæ¥å£ï¼›æˆ‘ä»¬å°½é‡ç»†åŒ–æ¥å£ï¼Œæ¯ä¸ªæ¥å£åšçš„äº‹æƒ…å°½é‡å•ä¸€åŒ–ã€‚<br><br><span class=\"hljs-bullet\">5.</span> è¿ªç±³ç‰¹æ³•åˆ™<br><br><span class=\"hljs-bullet\">   1.</span> æˆ‘ä»¬è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´äº§ç”Ÿæ²Ÿé€šï¼Œæˆ‘ä»¬æœ€å¥½è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´çŸ¥é“çš„è¶Šå°‘è¶Šå¥½ï¼Œæ²¡å¿…è¦ 2 è€…ä¹‹é—´éå¸¸çš„äº†è§£ï¼›æˆ‘ä»¬çš„ä¸­ä»‹è€…æ¨¡å¼æ˜¯ä¸€ä¸ªå¾ˆå¥½ä½“ç°è¿ªç±³ç‰¹æ³•åˆ™çš„è®¾è®¡æ¨¡å¼ï¼Œä¸­ä»‹è€…æ¨¡å¼è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´æ²¡å¿…è¦ç›´æ¥çš„æ²Ÿé€šï¼Œå¦‚æœç›´æ¥æ²Ÿé€šéœ€è¦äº†è§£ 2 è€…ä¹‹é—´çš„ api å’Œå½¼æ­¤çš„è°ƒç”¨æ–¹å¼ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸€ä¸ªä¸­ä»‹è€…æ¥è½¬è¾¾æˆ‘ä»¬çš„éœ€æ±‚ï¼Œè€Œä¸ç”¨å½¼æ­¤çŸ¥é“<br><br><span class=\"hljs-bullet\">6.</span> é‡Œæ°æ›¿æ¢åŸåˆ™<br><br><span class=\"hljs-bullet\">   1.</span> å®ƒä¸»è¦å…³æ³¨äºç»§æ‰¿ï¼Œå®ƒçš„æ„ä¹‰æ˜¯ä»»ä½•ä½¿ç”¨çˆ¶ç±»çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨å­ç±»å»æ›¿æ¢ï¼Œç›´ç™½çš„è¯´æˆ‘ä»¬å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„å­ç±»å¿…é¡»å®Œå…¨ä¿è¯ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™æ ·çš„è¯çˆ¶ç±»ä½¿ç”¨çš„åœ°æ–¹ï¼Œå­ç±»å¯ä»¥è¿›è¡Œæ›¿æ¢<br><br><span class=\"hljs-section\">### 1.2 è®¾è®¡æ¨¡å¼çš„åˆ†ç±»</span><br><br><span class=\"hljs-bullet\">1.</span> åˆ›å»ºå‹<br><br>   è¿™äº›è®¾è®¡æ¨¡å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¼˜é›…åœ°åˆ›å»ºå¯¹è±¡<br><br><span class=\"hljs-bullet\">   -</span> å·¥å‚æ¨¡å¼-å¤§é‡åˆ›å»ºå¯¹è±¡<br><span class=\"hljs-bullet\">   -</span> å•ä¾‹æ¨¡å¼-å…¨å±€åªæœ‰ä¸€ä¸ªå®ä¾‹<br><span class=\"hljs-bullet\">   -</span> å»ºé€ è€…æ¨¡å¼-ç²¾ç»†åŒ–ç»„åˆå¯¹è±¡<br><span class=\"hljs-bullet\">   -</span> åŸå‹æ¨¡å¼-JavaScript çš„çµé­‚<br><br><span class=\"hljs-bullet\">2.</span> ç»“æ„å‹<br><br>   å¸®åŠ©ä¼˜é›…åœ°è®¾è®¡ä»£ç ç»“æ„<br><br><span class=\"hljs-bullet\">   -</span> å¤–è§‚æ¨¡å¼-ç»™ä½ çš„ä¸€ä¸ªå¥—é¤<br><span class=\"hljs-bullet\">   -</span> é€‚é…å™¨æ¨¡å¼-ç”¨é€‚é…ä»£æ›¿æ›´æ”¹<br><span class=\"hljs-bullet\">   -</span> è£…é¥°ç€æ¨¡å¼-æ›´ä¼˜é›…åœ°æ‰©å±•éœ€æ±‚<br><span class=\"hljs-bullet\">   -</span> äº«å…ƒæ¨¡å¼-å…±äº«æ¥å‡å°‘æ•°é‡<br><span class=\"hljs-bullet\">   -</span> æ¡¥æ¥æ¨¡å¼-ç‹¬ç«‹å‡ºæ¥ï¼Œç„¶åå†å¯¹æ¥å‡ºå»<br><br><span class=\"hljs-bullet\">3.</span> è¡Œä¸ºå‹<br><br>   æ¨¡å—ä¹‹é—´è¡Œä¸ºçš„æ¨¡å¼æ€»ç»“ï¼Œå¸®åŠ©ç»„ç»‡æ¨¡å—è¡Œä¸º<br><br><span class=\"hljs-bullet\">   -</span> è§‚å¯Ÿè€…æ¨¡å¼-ç¬¬ä¸‰æ–¹è½¬å‘<br><span class=\"hljs-bullet\">   -</span> çŠ¶æ€æ¨¡å¼-ç”¨çŠ¶æ€ä»£æ›¿åˆ¤æ–­<br><span class=\"hljs-bullet\">   -</span> ç­–ç•¥æ¨¡å¼-ç®—æ³•å·¥å‚<br><span class=\"hljs-bullet\">   -</span> èŒè´£é“¾æ¨¡å¼-åƒç”Ÿäº§çº¿ä¸€æ ·ç»„ç»‡æ¨¡å—<br><span class=\"hljs-bullet\">   -</span> å‘½ä»¤æ¨¡å¼-ç”¨å‘½ä»¤å»è§£è€¦<br><span class=\"hljs-bullet\">   -</span> è¿­ä»£å™¨æ¨¡å¼-å‘Šåˆ« for å¾ªç¯<br><br><span class=\"hljs-bullet\">4.</span> æŠ€å·§å‹<br><br>   å¸®åŠ©ä¼˜åŒ–ä»£ç çš„æŠ€å·§<br><br><span class=\"hljs-bullet\">   -</span> é“¾æ¨¡å¼-é“¾å¼è°ƒç”¨<br><span class=\"hljs-bullet\">   -</span> å§”æ‰˜æ¨¡å¼<br><span class=\"hljs-bullet\">   -</span> æ•°æ®è®¿é—®æ¨¡å¼-ä¸€ä¸ªæ–¹ä¾¿çš„æ•°æ®ç®¡ç†å™¨<br><span class=\"hljs-bullet\">   -</span> æƒ°æ€§æ¨¡å¼-ç¬¬ä¸€æ¬¡æ‰§è¡Œå®ŒåæŠŠçŠ¶æ€è®°å½•ä¸‹æ¥<br><span class=\"hljs-bullet\">   -</span> ç­‰å¾…ç€æ¨¡å¼-ç­‰ä½ ä»¬éƒ½å›æ¥å†åƒé¥­<br><br><span class=\"hljs-section\">## 2.è®¾è®¡æ¨¡å¼åº”ç”¨</span><br><br><span class=\"hljs-section\">### 2.1.å°è£…å¯¹è±¡ï¼ˆåˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼‰</span><br><br><span class=\"hljs-section\">#### 2.1.1 å·¥å‚æ¨¡å¼(å¦‚ï¼šåˆ›å»ºå¯¹è±¡)</span><br><br><span class=\"hljs-strong\">**å·¥å‚æ¨¡å¼çš„åŸºæœ¬ç»“æ„**</span><br><br><span class=\"hljs-code\">```javascript</span><br><span class=\"hljs-code\">function Factory (type) &#123;</span><br><span class=\"hljs-code\">    switch (type) &#123;</span><br><span class=\"hljs-code\">        case &#x27;type1&#x27;</span><br><span class=\"hljs-code\">        return new Type1()</span><br><span class=\"hljs-code\">        case &#x27;type2&#x27;</span><br><span class=\"hljs-code\">        return new Type2()</span><br><span class=\"hljs-code\">        case &#x27;type3&#x27;</span><br><span class=\"hljs-code\">        return new Type3()</span><br><span class=\"hljs-code\">    &#125;</span><br><span class=\"hljs-code\">&#125;</span><br></code></pre></td></tr></table></figure></li>\n</ol>\n</li>\n</ol>\n<p>å·¥å‚æ¨¡å¼å°±æ˜¯å†™ä¸€ä¸ªæ–¹æ³•ï¼Œåªéœ€è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå°±èƒ½æ‹¿åˆ°æƒ³è¦çš„å¯¹è±¡</p>\n<h4 id=\"2-1-2-å»ºé€ è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue2-æºç ä¸­-Vue-ç±»çš„åˆå§‹åŒ–ï¼‰\"><a href=\"#2-1-2-å»ºé€ è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue2-æºç ä¸­-Vue-ç±»çš„åˆå§‹åŒ–ï¼‰\" class=\"headerlink\" title=\"2.1.2 å»ºé€ è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue2 æºç ä¸­ Vue ç±»çš„åˆå§‹åŒ–ï¼‰\"></a>2.1.2 å»ºé€ è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue2 æºç ä¸­ Vue ç±»çš„åˆå§‹åŒ–ï¼‰</h4><p><strong>å»ºé€ è€…æ¨¡å¼çš„åŸºæœ¬ç»“æ„</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">//  æ¨¡å—1</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Mode1</span>(<span class=\"hljs-params\"></span>) &#123;&#125;<br><span class=\"hljs-comment\">// æ¨¡å—2</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Mode2</span>(<span class=\"hljs-params\"></span>) &#123;&#125;<br><span class=\"hljs-comment\">// æœ€ç»ˆä½¿ç”¨çš„ç±»</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Final</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">mode1</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Model</span>()<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">mode2</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Mode2</span>()<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>å»ºé€ è€…æ¨¡å¼å°±æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„ç±»çš„å„ä¸ªéƒ¨åˆ†ï¼Œæ‹†åˆ†æˆç‹¬ç«‹çš„ç±»ï¼Œç„¶åå†ç»„åˆæˆä¸€ä¸ªæœ€ç»ˆçš„ç±»</p>\n<h4 id=\"2-1-3-å•ä¾‹æ¨¡å¼ï¼ˆå¦‚ï¼š-Vuexã€Vue-routerï¼‰\"><a href=\"#2-1-3-å•ä¾‹æ¨¡å¼ï¼ˆå¦‚ï¼š-Vuexã€Vue-routerï¼‰\" class=\"headerlink\" title=\"2.1.3 å•ä¾‹æ¨¡å¼ï¼ˆå¦‚ï¼š Vuexã€Vue-routerï¼‰\"></a>2.1.3 å•ä¾‹æ¨¡å¼ï¼ˆå¦‚ï¼š Vuexã€Vue-routerï¼‰</h4><p><strong>å•ä¾‹æ¨¡å¼çš„åŸºæœ¬ç»“æ„</strong></p>\n<p>å•ä¾‹æ¨¡å¼çš„åšæ³•ä¸æ˜¯å¾ˆå›ºå®šï¼Œä½†æ˜¯è¦ä¿è¯å…¨å±€åªæœ‰ä¸€ä¸ªå¯¹è±¡çš„æ€æƒ³</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// ä½œä¸ºå•ä¾‹å®ä¾‹åŒ–çš„å¯¹è±¡</span><br><span class=\"hljs-keyword\">let</span> <span class=\"hljs-title class_\">SingLeton</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">name</span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">name</span> = name<br>&#125;<br><span class=\"hljs-comment\">/*</span><br><span class=\"hljs-comment\">åœ¨SingLetonæŒ‚åœ¨ä¸€ä¸ªgetInstanceæ–¹æ³•ï¼Œåªèƒ½é€šè¿‡getInstanceæ–¹æ³•æ¥è·å–</span><br><span class=\"hljs-comment\">SingLetonçš„å®ä¾‹åŒ–å¯¹è±¡</span><br><span class=\"hljs-comment\">*/</span><br><span class=\"hljs-title class_\">SingLeton</span>.<span class=\"hljs-property\">getInstance</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">name</span>) &#123;<br>  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">instance</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">instance</span><br>  &#125;<br>  <span class=\"hljs-keyword\">return</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">instance</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SingLeton</span>(name))<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>é€šè¿‡ä¸€ä¸ªæ–¹æ³•ï¼Œä½¿ç”¨æ—¶åªå…è®¸é€šè¿‡æ­¤æ–¹æ³•æ‹¿åˆ°å­˜åœ¨å†…éƒ¨çš„åŒä¸€å®ä¾‹åŒ–çš„å¯¹è±¡</p>\n<h3 id=\"2-2-æé«˜å¤ç”¨æ€§\"><a href=\"#2-2-æé«˜å¤ç”¨æ€§\" class=\"headerlink\" title=\"2.2 æé«˜å¤ç”¨æ€§\"></a>2.2 æé«˜å¤ç”¨æ€§</h3><h4 id=\"2-2-1-æ¡¥æ¥æ¨¡å¼\"><a href=\"#2-2-1-æ¡¥æ¥æ¨¡å¼\" class=\"headerlink\" title=\"2.2.1 æ¡¥æ¥æ¨¡å¼\"></a>2.2.1 æ¡¥æ¥æ¨¡å¼</h4><p>è¿™ä¸ªæ¨¡å¼å’Œå»ºé€ è€…æ¨¡å¼å¾ˆç±»ä¼¼ï¼Œæ‹†åˆ†å†ç»„åˆã€‚ä½†æ˜¯å»ºé€ è€…æ¨¡å¼çš„æ ¸å¿ƒæ˜¯å¦‚ä½•å»æ„é€ å¯¹è±¡ï¼Œæ¡¥æ¥æ¨¡å¼æ˜¯æŠŠè€¦åˆåŠŸèƒ½æŠ½ç¦»å‡ºå»</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// æœ‰ä¸‰ç§å½¢çŠ¶ï¼Œæ¯ç§å½¢çŠ¶éƒ½æœ‰3ç§é¢œè‰²</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">rect</span>(<span class=\"hljs-params\">color</span>) &#123;<br>  <span class=\"hljs-comment\">//çŸ©å½¢</span><br>  <span class=\"hljs-title function_\">showcolor</span>(color)<br>&#125;<br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">circle</span>(<span class=\"hljs-params\">color</span>) &#123;<br>  <span class=\"hljs-comment\">// åœ†å½¢</span><br>  <span class=\"hljs-title function_\">showcolor</span>(color)<br>&#125;<br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">delta</span>(<span class=\"hljs-params\">color</span>) &#123;<br>  <span class=\"hljs-comment\">// ä¸‰è§’å½¢</span><br>  <span class=\"hljs-title function_\">showcolor</span>(color)<br>&#125;<br><br><span class=\"hljs-keyword\">new</span> <span class=\"hljs-title function_\">circle</span>(<span class=\"hljs-string\">&#x27;red&#x27;</span>)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-2-2-äº«å…ƒæ¨¡å¼\"><a href=\"#2-2-2-äº«å…ƒæ¨¡å¼\" class=\"headerlink\" title=\"2.2.2 äº«å…ƒæ¨¡å¼\"></a>2.2.2 äº«å…ƒæ¨¡å¼</h4><p>æå–å‡ºå…¬æœ‰éƒ¨åˆ†ä¸ç§æœ‰éƒ¨åˆ†ï¼Œç§æœ‰éƒ¨åˆ†ä½œä¸ºå¤–éƒ¨æ•°æ®ä¼ å…¥(æŠ½ç¦»ä¸€ä¸ªæ•°ç»„)ï¼Œä»è€Œå‡å°‘å¯¹è±¡æ•°é‡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// æœ‰ä¸€ç™¾ç§ä¸åŒæ–‡å­—çš„å¼¹çª—ï¼Œæ¯ç§å¼¹çª—è¡Œä¸ºç›¸åŒï¼Œä½†æ˜¯æ–‡å­—å’Œæ ·å¼ä¸åŒï¼Œæˆ‘ä»¬æ²¡å¿…è¦æ–°é—´ä¸€ç™¾ä¸ªå¼¹çª—å¯¹è±¡</span><br>   <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Pop</span>(<span class=\"hljs-params\"></span>)&#123;<br>   &#125;<br>   <span class=\"hljs-comment\">// ä¿ç•™åŒæ ·çš„è¡Œä¸º</span><br>   <span class=\"hljs-title class_\">Pop</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">action</span>=<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>)&#123;&#125;<br>   <span class=\"hljs-comment\">//æ˜¾ç¤º</span><br>   <span class=\"hljs-title class_\">Pop</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">show</span>=<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>)&#123;&#125;<br>   <span class=\"hljs-comment\">// æå–å‡ºæ¯ä¸ªå¼¹çª—ä¸åŒçš„éƒ¨åˆ†ä½œä¸ºä¸€ä¸ªå¤–éƒ¨æ•°ç»„</span><br>   <span class=\"hljs-keyword\">var</span> popArr=[<br>       &#123;<span class=\"hljs-attr\">text</span>:<span class=\"hljs-string\">&quot;window1&quot;</span>,<span class=\"hljs-attr\">style</span>:[<span class=\"hljs-number\">400</span>,<span class=\"hljs-number\">400</span>]&#125;<br>       &#123;<span class=\"hljs-attr\">text</span>:<span class=\"hljs-string\">&quot;window2&quot;</span>,<span class=\"hljs-attr\">style</span>:[<span class=\"hljs-number\">400</span>,<span class=\"hljs-number\">200</span>]&#125;<br>   ]<br><br>   <span class=\"hljs-keyword\">var</span> poper=<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Pop</span>()<br><br>   <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> i=<span class=\"hljs-number\">0</span>;i&lt;<span class=\"hljs-number\">100</span>;i++)&#123;<br>       poper.<span class=\"hljs-title function_\">show</span>(popArr[i])<br>   &#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-3-æé«˜å¯æ‰©å±•æ€§\"><a href=\"#2-3-æé«˜å¯æ‰©å±•æ€§\" class=\"headerlink\" title=\"2.3 æé«˜å¯æ‰©å±•æ€§\"></a>2.3 æé«˜å¯æ‰©å±•æ€§</h3><h4 id=\"2-3-1-é€‚é…å™¨æ¨¡å¼\"><a href=\"#2-3-1-é€‚é…å™¨æ¨¡å¼\" class=\"headerlink\" title=\"2.3.1 é€‚é…å™¨æ¨¡å¼\"></a>2.3.1 é€‚é…å™¨æ¨¡å¼</h4><p>å½“é¢ä¸´ä¸¤ä¸ªæ–°è€æ¨¡å—é—´æ¥å£ api ä¸åŒ¹é…ï¼Œå¯ä»¥ç”¨é€‚é…æ¥è½¬åŒ– api</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// Aæ¡†æ¶è°ƒç”¨çš„æ–¹å¼</span><br>A.<span class=\"hljs-title function_\">c</span>()<br><span class=\"hljs-comment\">// å‡å¦‚æˆ‘ä»¬é¡¹ç›®ä¸­æ¢æˆäº†jQueyï¼Œæˆ‘ä»¬ä¸æƒ³å…¨éƒ¨å»æ›¿æ¢Aæ–¹æ³•ï¼Œå°±ç”¨é€‚é…å™¨çš„æ–¹æ³•</span><br>A.<span class=\"hljs-property\">c</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-keyword\">return</span> $.on.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">arguments</span>)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-2-è£…é¥°è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue-é‡å†™æ•°ç»„æ–¹æ³•ï¼‰\"><a href=\"#2-3-2-è£…é¥°è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue-é‡å†™æ•°ç»„æ–¹æ³•ï¼‰\" class=\"headerlink\" title=\"2.3.2 è£…é¥°è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue é‡å†™æ•°ç»„æ–¹æ³•ï¼‰\"></a>2.3.2 è£…é¥°è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue é‡å†™æ•°ç»„æ–¹æ³•ï¼‰</h4><p>å½“è€çš„æ–¹æ³•ï¼Œä¸æ–¹ä¾¿å»ç›´æ¥ä¿®æ”¹ï¼Œå¯ä»¥é€šè£…é¥°è€…æ¥å¢åŠ åŠŸèƒ½</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">/*</span><br><span class=\"hljs-comment\"> * not type checking this file because flow doesn&#x27;t play well with</span><br><span class=\"hljs-comment\"> * dynamically accessing methods on Array prototype</span><br><span class=\"hljs-comment\"> */</span><br><br><span class=\"hljs-keyword\">import</span> &#123; def &#125; <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;../util/index&#x27;</span><br><br><span class=\"hljs-keyword\">const</span> arrayProto = <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span><br><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> arrayMethods = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(arrayProto)<br><br><span class=\"hljs-keyword\">const</span> methodsToPatch = [<span class=\"hljs-string\">&#x27;push&#x27;</span>, <span class=\"hljs-string\">&#x27;pop&#x27;</span>, <span class=\"hljs-string\">&#x27;shift&#x27;</span>, <span class=\"hljs-string\">&#x27;unshift&#x27;</span>, <span class=\"hljs-string\">&#x27;splice&#x27;</span>, <span class=\"hljs-string\">&#x27;sort&#x27;</span>, <span class=\"hljs-string\">&#x27;reverse&#x27;</span>]<br><br><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * Intercept mutating methods and emit events</span><br><span class=\"hljs-comment\"> */</span><br>methodsToPatch.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">method</span>) &#123;<br>  <span class=\"hljs-comment\">// cache original method</span><br>  <span class=\"hljs-keyword\">const</span> original = arrayProto[method]<br>  <span class=\"hljs-title function_\">def</span>(arrayMethods, method, <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mutator</span>(<span class=\"hljs-params\">...args</span>) &#123;<br>    <span class=\"hljs-keyword\">const</span> result = original.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, args)<br>    <span class=\"hljs-keyword\">const</span> ob = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">__ob__</span><br>    <span class=\"hljs-keyword\">let</span> inserted<br>    <span class=\"hljs-keyword\">switch</span> (method) &#123;<br>      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&#x27;push&#x27;</span>:<br>      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&#x27;unshift&#x27;</span>:<br>        inserted = args<br>        <span class=\"hljs-keyword\">break</span><br>      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&#x27;splice&#x27;</span>:<br>        inserted = args.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">2</span>)<br>        <span class=\"hljs-keyword\">break</span><br>    &#125;<br>    <span class=\"hljs-keyword\">if</span> (inserted) ob.<span class=\"hljs-title function_\">observeArray</span>(inserted)<br>    <span class=\"hljs-comment\">// notify change</span><br>    ob.<span class=\"hljs-property\">dep</span>.<span class=\"hljs-title function_\">notify</span>()<br>    <span class=\"hljs-keyword\">return</span> result<br>  &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-3-å‘½ä»¤æ¨¡å¼\"><a href=\"#2-3-3-å‘½ä»¤æ¨¡å¼\" class=\"headerlink\" title=\"2.3.3 å‘½ä»¤æ¨¡å¼\"></a>2.3.3 å‘½ä»¤æ¨¡å¼</h4><p>è§£è€¦å®ç°ä¸å…·ä½“å‘½ä»¤ï¼Œè®©æ˜¯å®ç°ç«¯å’Œå‘½ä»¤ç«¯æ‰©å±•çš„æ›´è½»æ¾</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">var</span> createImg = (<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-keyword\">var</span> action = &#123;<br>    <span class=\"hljs-attr\">create</span>: <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">obj</span>) &#123;<br>      <span class=\"hljs-keyword\">var</span> htmlArr = []<br>      <span class=\"hljs-keyword\">var</span> _htmlstring = <span class=\"hljs-string\">&#x27;&#x27;</span><br>      <span class=\"hljs-keyword\">var</span> _htmlTemplate = <span class=\"hljs-string\">&quot;&lt;div&gt;&lt;img src=&#x27;&#123;&#123;img-url&#125;&#125;&#x27; /&gt;&lt;/div&gt;&lt;h2&gt;&#123;&#123;title&#125;&#125;&lt;/h2&gt;&quot;</span><br>      <span class=\"hljs-keyword\">var</span> displayWay = &#123;<br>        <span class=\"hljs-attr\">normal</span>: <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">arr</span>) &#123;<br>          <span class=\"hljs-keyword\">return</span> arr<br>        &#125;,<br>        <span class=\"hljs-attr\">reverse</span>: <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">arr</span>) &#123;<br>          <span class=\"hljs-keyword\">return</span> arr.<span class=\"hljs-property\">reverse</span><br>        &#125;<br>      &#125;<br><br>      obj.<span class=\"hljs-property\">imgArr</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">img</span>) =&gt;</span> &#123;<br>        <span class=\"hljs-keyword\">var</span> _html<br>        _html = _htmlTemplate.<span class=\"hljs-title function_\">replace</span>(<span class=\"hljs-string\">&#x27;&#123;&#123;img-url&#125;&#125;&#x27;</span>, img.<span class=\"hljs-property\">img</span>).<span class=\"hljs-title function_\">replace</span>(<span class=\"hljs-string\">&#x27;&#123;&#123;title&#125;&#125;&#x27;</span>, img.<span class=\"hljs-property\">title</span>)<br>        htmlArr.<span class=\"hljs-title function_\">push</span>(_html)<br>      &#125;)<br>      htmlArr = displayWay[obj.<span class=\"hljs-property\">type</span>](htmlArr)<br>      _htmlstring = htmlArr.<span class=\"hljs-title function_\">join</span>(<span class=\"hljs-string\">&#x27;&#x27;</span>)<br>      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&#x27;&lt;div&gt;&#x27;</span> + _htmlstring + <span class=\"hljs-string\">&#x27;&lt;/div&gt;&#x27;</span><br>    &#125;,<br>    <span class=\"hljs-attr\">display</span>: <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">obj</span>) &#123;<br>      <span class=\"hljs-keyword\">var</span> _html = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">create</span>(obj)<br>      obj.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">innerHTML</span> = _html<br>    &#125;<br>  &#125;<br><br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">excute</span>(<span class=\"hljs-params\">obj</span>) &#123;<br>    <span class=\"hljs-keyword\">var</span> _default = &#123;<br>      <span class=\"hljs-attr\">imgArr</span>: [&#123; <span class=\"hljs-attr\">img</span>: <span class=\"hljs-string\">&#x27;xxxx&#x27;</span>, <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&#x27;default title&#x27;</span> &#125;],<br>      <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;normal&#x27;</span>,<br>      <span class=\"hljs-attr\">target</span>: <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">body</span><br>    &#125;<br>    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> item <span class=\"hljs-keyword\">in</span> _default) &#123;<br>      _default[item] = obj[item] || _default[item]<br>    &#125;<br>    action.<span class=\"hljs-title function_\">display</span>(_default)<br>  &#125;<br>&#125;)()<br><span class=\"hljs-title function_\">createImg</span>(&#123;<br>  <span class=\"hljs-attr\">imgArr</span>: [<br>    &#123; <span class=\"hljs-attr\">img</span>: <span class=\"hljs-string\">&#x27;xxxx&#x27;</span>, <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&#x27;default title1&#x27;</span> &#125;,<br>    &#123; <span class=\"hljs-attr\">img</span>: <span class=\"hljs-string\">&#x27;xxxx&#x27;</span>, <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&#x27;default title2&#x27;</span> &#125;<br>  ],<br>  <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;normal&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-4-è§‚å¯Ÿè€…æ¨¡å¼\"><a href=\"#2-3-4-è§‚å¯Ÿè€…æ¨¡å¼\" class=\"headerlink\" title=\"2.3.4 è§‚å¯Ÿè€…æ¨¡å¼\"></a>2.3.4 è§‚å¯Ÿè€…æ¨¡å¼</h4><p>é€‚ç”¨äºä¸é€‚åˆç›´æ¥æ²Ÿé€šçš„æ¨¡å—ä¹‹é—´çš„ç»„ç»‡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> observe &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">message</span>=&#123;&#125;<br>&#125;<br><br>observe.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">regist</span>=<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">type,fn</span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">message</span>[type]=fn<br>&#125;<br><br>observe.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">fire</span>=<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">type</span>)&#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">message</span>[type]()<br>&#125;<br><br>observe.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">remove</span>=<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">type</span>)&#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">message</span>[type]=<span class=\"hljs-literal\">null</span><br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-5-èŒè´£é“¾æ¨¡å¼\"><a href=\"#2-3-5-èŒè´£é“¾æ¨¡å¼\" class=\"headerlink\" title=\"2.3.5 èŒè´£é“¾æ¨¡å¼\"></a>2.3.5 èŒè´£é“¾æ¨¡å¼</h4><p>ç»„ç»‡åŒæ­¥æ¨¡å—ï¼ŒæŠŠè¦åšçš„äº‹æƒ…åˆ’åˆ†ä¸ºæ¨¡å—ï¼Œè¦åšçš„äº‹æƒ…ä¸€æ¬¡ä¼ é€’</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// è¡¨å•äº‹ä»¶ç»‘å®š-&gt;è¡¨å•å‰ç«¯éªŒè¯-&gt;è¡¨å•åç«¯éªŒè¯</span><br><span class=\"hljs-comment\">// æ€æƒ³ï¼šæŠŠä½ è¦åšçš„äº‹æƒ…æ‹†åˆ†ä¸ºæ¨¡å—ï¼Œæ¨¡å—ä¹‹é—´åªåšè‡ªå·±æ¨¡å—çš„äº‹æƒ…</span><br><br>input.<span class=\"hljs-property\">onblur</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-keyword\">var</span> _value = input.<span class=\"hljs-property\">value</span><br>  <span class=\"hljs-keyword\">var</span> _arr = [font, middle, back, fontAgain]<br>  <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">test</span>(<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-keyword\">var</span> _result = _value<br>    <span class=\"hljs-keyword\">while</span> (_arr.<span class=\"hljs-property\">length</span> &gt; <span class=\"hljs-number\">0</span>) &#123;<br>      _result = <span class=\"hljs-keyword\">await</span> _arr.<span class=\"hljs-title function_\">shift</span>()(_result)<br>    &#125;<br>    <span class=\"hljs-keyword\">return</span> _result<br>  &#125;<br>  <span class=\"hljs-title function_\">test</span>().<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">res</span>) =&gt;</span> &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(res)<br>  &#125;)<br>&#125;<br><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">font</span>(<span class=\"hljs-params\">result</span>) &#123;&#125;<br><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">middle</span>(<span class=\"hljs-params\">result</span>) &#123;&#125;<br><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">back</span>(<span class=\"hljs-params\">result</span>) &#123;&#125;<br><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">fontAgain</span>(<span class=\"hljs-params\">result</span>) &#123;&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-6-è®¿é—®è€…æ¨¡å¼\"><a href=\"#2-3-6-è®¿é—®è€…æ¨¡å¼\" class=\"headerlink\" title=\"2.3.6 è®¿é—®è€…æ¨¡å¼\"></a>2.3.6 è®¿é—®è€…æ¨¡å¼</h4><p>è§£è€¦æ•°æ®æ“ä½œä¸æ•°æ®ç»“æ„</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">var</span> data = []<br><br><span class=\"hljs-keyword\">var</span> handler = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;&#125;<br><br>handler.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">get</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;&#125;<br><br><span class=\"hljs-keyword\">var</span> vistor = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">handler, data</span>) &#123;<br>  handler.<span class=\"hljs-title function_\">get</span>(data)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-4-æé«˜ä»£ç è´¨é‡\"><a href=\"#2-4-æé«˜ä»£ç è´¨é‡\" class=\"headerlink\" title=\"2.4 æé«˜ä»£ç è´¨é‡\"></a>2.4 æé«˜ä»£ç è´¨é‡</h3><h4 id=\"2-4-1-ç­–ç•¥-çŠ¶æ€æ¨¡å¼\"><a href=\"#2-4-1-ç­–ç•¥-çŠ¶æ€æ¨¡å¼\" class=\"headerlink\" title=\"2.4.1 ç­–ç•¥/çŠ¶æ€æ¨¡å¼\"></a>2.4.1 ç­–ç•¥/çŠ¶æ€æ¨¡å¼</h4><p>å¸®åŠ©æˆ‘ä»¬ä¼˜åŒ– if-else ç»“æ„</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Strategy</span> (type,a,b) &#123;<br>  <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">Strategyer</span>=&#123;<br>    <span class=\"hljs-attr\">add</span>:<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">a,b</span>)&#123;<br>      <span class=\"hljs-keyword\">return</span> a+b<br>    &#125;<br>    <span class=\"hljs-attr\">minus</span>:<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">a,b</span>)&#123;<br>      <span class=\"hljs-keyword\">return</span> a-b<br>    &#125;<br>    <span class=\"hljs-attr\">division</span>:<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">a,b</span>)&#123;<br>      <span class=\"hljs-keyword\">return</span> a/b<br>    &#125;<br>  &#125;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Strategyer</span>[type](a,b)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-4-2-å¤–è§‚æ¨¡å¼\"><a href=\"#2-4-2-å¤–è§‚æ¨¡å¼\" class=\"headerlink\" title=\"2.4.2 å¤–è§‚æ¨¡å¼\"></a>2.4.2 å¤–è§‚æ¨¡å¼</h4><p>ä¸€ç§å¥—é¤åŒ–æ¥å£çš„æ€æƒ³ï¼Œå°è£…å¸¸ç”¨æ–¹æ³•ä¸ºä¸€ä¸ªç»Ÿä¸€çš„æ¥å£</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// åˆ’åˆ†åŠŸèƒ½ï¼Œç»™ä½¿ç”¨è€…ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">tab</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">dom</span> = <span class=\"hljs-literal\">null</span><br>&#125;<br>tab.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">initHTML</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;&#125;<br>tab.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">changeTab</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;&#125;<br>tab.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">eventBind</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-keyword\">var</span> self = <span class=\"hljs-variable language_\">this</span><br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">dom</span>.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>    self.<span class=\"hljs-title function_\">changeTab</span>()<br>  &#125;<br>&#125;<br>tab.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">init</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">config</span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initHTML</span>(config)<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">eventBind</span>()<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-4-3-è¿­ä»£å™¨æ¨¡å¼\"><a href=\"#2-4-3-è¿­ä»£å™¨æ¨¡å¼\" class=\"headerlink\" title=\"2.4.3 è¿­ä»£å™¨æ¨¡å¼\"></a>2.4.3 è¿­ä»£å™¨æ¨¡å¼</h4><p>å¸®åŠ©æ›´å¥½çš„éå†æ•°æ®</p>\n<h4 id=\"2-4-4-å¤‡å¿˜å½•æ¨¡å¼\"><a href=\"#2-4-4-å¤‡å¿˜å½•æ¨¡å¼\" class=\"headerlink\" title=\"2.4.4 å¤‡å¿˜å½•æ¨¡å¼\"></a>2.4.4 å¤‡å¿˜å½•æ¨¡å¼</h4><p>ç¼“å­˜å›åˆ°è¿‡å»çš„çŠ¶æ€</p>\n","site":{"data":{}},"wordcount":7492,"excerpt":"","more":"<h2 id=\"1-è®¾è®¡æ¨¡å¼æ¦‚è®º\"><a href=\"#1-è®¾è®¡æ¨¡å¼æ¦‚è®º\" class=\"headerlink\" title=\"1.è®¾è®¡æ¨¡å¼æ¦‚è®º\"></a>1.è®¾è®¡æ¨¡å¼æ¦‚è®º</h2><h3 id=\"1-1-ä»£ç ä¸è®¾è®¡æ¨¡å¼\"><a href=\"#1-1-ä»£ç ä¸è®¾è®¡æ¨¡å¼\" class=\"headerlink\" title=\"1.1 ä»£ç ä¸è®¾è®¡æ¨¡å¼\"></a>1.1 ä»£ç ä¸è®¾è®¡æ¨¡å¼</h3><h4 id=\"ğŸ…-æˆ‘ä»¬å†™ä»£ç åˆ°åº•æ˜¯åœ¨å†™ä»€ä¹ˆï¼Ÿ\"><a href=\"#ğŸ…-æˆ‘ä»¬å†™ä»£ç åˆ°åº•æ˜¯åœ¨å†™ä»€ä¹ˆï¼Ÿ\" class=\"headerlink\" title=\"ğŸ… æˆ‘ä»¬å†™ä»£ç åˆ°åº•æ˜¯åœ¨å†™ä»€ä¹ˆï¼Ÿ\"></a>ğŸ… æˆ‘ä»¬å†™ä»£ç åˆ°åº•æ˜¯åœ¨å†™ä»€ä¹ˆï¼Ÿ</h4><p>æˆ‘ä»¬å†™é¡¹ç›®å…¶å®å°±æ˜¯å†™æ¨¡å—ç„¶åè®¾è®¡å®ƒä»¬ä¹‹é—´çš„æ²Ÿé€šï¼Œè®¾è®¡æ¨¡å¼è¯´ç™½äº†å°±æ˜¯å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„è®¾è®¡æ¨¡å—ï¼Œ æ›´å¥½çš„ç»„ç»‡å®ƒä»¬ä¹‹é—´çš„æ²Ÿé€šã€‚</p>\n<h4 id=\"ğŸ…-è®¾è®¡æ¨¡å¼æ‰®æ¼”çš„è§’è‰²\"><a href=\"#ğŸ…-è®¾è®¡æ¨¡å¼æ‰®æ¼”çš„è§’è‰²\" class=\"headerlink\" title=\"ğŸ… è®¾è®¡æ¨¡å¼æ‰®æ¼”çš„è§’è‰²\"></a>ğŸ… è®¾è®¡æ¨¡å¼æ‰®æ¼”çš„è§’è‰²</h4><ul>\n<li>å¸®åŠ©æˆ‘ä»¬ç»„ç»‡æ¨¡å—<ul>\n<li>é€šè¿‡ä¸€äº›è®¾è®¡æ¨¡å¼ï¼Œç»„ç»‡æ¨¡å—é—´çš„ç»„æˆç»“æ„</li>\n</ul>\n</li>\n<li>å¸®åŠ©æˆ‘ä»¬è®¾è®¡æ²Ÿé€š<ul>\n<li>æœ‰çš„è®¾è®¡æ¨¡å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬è®¾è®¡æ¨¡å—é—´å¦‚ä½•æ²Ÿé€š</li>\n</ul>\n</li>\n<li>æé«˜ä»£ç è´¨é‡<ul>\n<li>é€šè¿‡è®¾è®¡æ¨¡å¼ï¼Œè®©ä»£ç æ›´åŠ ä¼˜é›…</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"ğŸ…-è®¾è®¡åŸåˆ™\"><a href=\"#ğŸ…-è®¾è®¡åŸåˆ™\" class=\"headerlink\" title=\"ğŸ… è®¾è®¡åŸåˆ™\"></a>ğŸ… è®¾è®¡åŸåˆ™</h4><ol>\n<li><p>å¼€é—­åŸåˆ™</p>\n<ol>\n<li>æˆ‘ä»¬çš„ç¨‹åºè¦å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼›æˆ‘ä»¬çš„ç¨‹åºè¦ç»™å…·ä½“ä½¿ç”¨çš„æ—¶å€™æ‰©å±•çš„æ¥å£ï¼Œä½†æ˜¯åœ¨å…·ä½“ä½¿ç”¨çš„æ—¶å€™ä¸èƒ½è®©å…¶ä¿®æ”¹æˆ‘ä»¬çš„æºç ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸ç”¨ä¿®æ”¹æºç å°±èƒ½æ‰©å±•åŠŸèƒ½ï¼Œåƒ vueã€react ç­‰éƒ½æœ‰æ‰©å±•çš„æ¥å£</li>\n</ol>\n</li>\n<li><p>å•ä¸€èŒè´£åŸåˆ™</p>\n<ol>\n<li>æˆ‘ä»¬çš„æ¨¡å—åªåšä¸€ä»¶äº‹æƒ…ï¼Œæ¨¡å—çš„èŒè´£è¶Šå•ä¸€è¶Šå¥½</li>\n</ol>\n</li>\n<li><p>ä¾èµ–å€’ç½®åŸåˆ™</p>\n<ol>\n<li><p>æˆ‘ä»¬çš„ä¸Šå±‚æ¨¡å—ä¸è¦ä¾èµ–äºå…·ä½“çš„ä¸‹å±‚æ¨¡å—ï¼Œåº”è¯¥ä¾èµ–äºæŠ½è±¡</p>\n</li>\n<li><p>å¦‚ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬åœ¨ä¸‹å±‚å’Œä¸Šå±‚ä¹‹é—´åŠ ä¸€ä¸ªæŠ½è±¡å±‚ï¼›ä¸‹å±‚å¦‚ä½•å˜åŠ¨éƒ½ä¸ä¼šå½±å“åˆ°ä¸Šå±‚ï¼Œåªéœ€æ›´æ”¹æŠ½è±¡å±‚å³å¯</p>\n</li>\n<li><p>```javascript<br>// å…·ä½“å±‚<br>function Food1() {}<br>function Food2() {}<br>function Food3() {}</p>\n<p>// æŠ½è±¡å±‚<br>function foodList(food) {<br>  const foodMap = {</p>\n<pre><code>food1: new Food1(),\nfood2: new Food2(),\nfood3: new Food3()\n</code></pre>\n<p>  }<br>  return foodMap[food]<br>}</p>\n<p>// ä¸Šå±‚<br>function order(food) {<br>  return foodList(food)<br>}</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs markdown\"><br><span class=\"hljs-bullet\">4.</span> æ¥å£éš”ç¦»åŸåˆ™<br><br><span class=\"hljs-bullet\">   1.</span> æˆ‘ä»¬çš„æ¥å£è¦ç»†åŒ–ï¼ŒåŠŸèƒ½è¦å•ä¸€ï¼Œä¸€ä¸ªæ¥å£ä¸è¦è°ƒç”¨å¤ªå¤šæ–¹æ³•ï¼Œä½¿å…¶èƒ½åŠ›å•ä¸€ï¼Œå¬èµ·æ¥åƒå•ä¸€èŒè´£åŸåˆ™ï¼›ä½†æ˜¯ 2 è€…çš„å…³æ³¨ç‚¹ä¸åŒï¼Œ å•ä¸€èŒè´£åŸåˆ™ä¸»è¦å…³æ³¨äºæ¨¡å—æœ¬èº«ï¼Œæ¥å£éš”ç¦»åŸåˆ™å…³æ³¨äºæ¥å£ï¼›æˆ‘ä»¬å°½é‡ç»†åŒ–æ¥å£ï¼Œæ¯ä¸ªæ¥å£åšçš„äº‹æƒ…å°½é‡å•ä¸€åŒ–ã€‚<br><br><span class=\"hljs-bullet\">5.</span> è¿ªç±³ç‰¹æ³•åˆ™<br><br><span class=\"hljs-bullet\">   1.</span> æˆ‘ä»¬è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´äº§ç”Ÿæ²Ÿé€šï¼Œæˆ‘ä»¬æœ€å¥½è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´çŸ¥é“çš„è¶Šå°‘è¶Šå¥½ï¼Œæ²¡å¿…è¦ 2 è€…ä¹‹é—´éå¸¸çš„äº†è§£ï¼›æˆ‘ä»¬çš„ä¸­ä»‹è€…æ¨¡å¼æ˜¯ä¸€ä¸ªå¾ˆå¥½ä½“ç°è¿ªç±³ç‰¹æ³•åˆ™çš„è®¾è®¡æ¨¡å¼ï¼Œä¸­ä»‹è€…æ¨¡å¼è®© 2 ä¸ªå¯¹è±¡ä¹‹é—´æ²¡å¿…è¦ç›´æ¥çš„æ²Ÿé€šï¼Œå¦‚æœç›´æ¥æ²Ÿé€šéœ€è¦äº†è§£ 2 è€…ä¹‹é—´çš„ api å’Œå½¼æ­¤çš„è°ƒç”¨æ–¹å¼ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸€ä¸ªä¸­ä»‹è€…æ¥è½¬è¾¾æˆ‘ä»¬çš„éœ€æ±‚ï¼Œè€Œä¸ç”¨å½¼æ­¤çŸ¥é“<br><br><span class=\"hljs-bullet\">6.</span> é‡Œæ°æ›¿æ¢åŸåˆ™<br><br><span class=\"hljs-bullet\">   1.</span> å®ƒä¸»è¦å…³æ³¨äºç»§æ‰¿ï¼Œå®ƒçš„æ„ä¹‰æ˜¯ä»»ä½•ä½¿ç”¨çˆ¶ç±»çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨å­ç±»å»æ›¿æ¢ï¼Œç›´ç™½çš„è¯´æˆ‘ä»¬å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„å­ç±»å¿…é¡»å®Œå…¨ä¿è¯ç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™æ ·çš„è¯çˆ¶ç±»ä½¿ç”¨çš„åœ°æ–¹ï¼Œå­ç±»å¯ä»¥è¿›è¡Œæ›¿æ¢<br><br><span class=\"hljs-section\">### 1.2 è®¾è®¡æ¨¡å¼çš„åˆ†ç±»</span><br><br><span class=\"hljs-bullet\">1.</span> åˆ›å»ºå‹<br><br>   è¿™äº›è®¾è®¡æ¨¡å¼å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¼˜é›…åœ°åˆ›å»ºå¯¹è±¡<br><br><span class=\"hljs-bullet\">   -</span> å·¥å‚æ¨¡å¼-å¤§é‡åˆ›å»ºå¯¹è±¡<br><span class=\"hljs-bullet\">   -</span> å•ä¾‹æ¨¡å¼-å…¨å±€åªæœ‰ä¸€ä¸ªå®ä¾‹<br><span class=\"hljs-bullet\">   -</span> å»ºé€ è€…æ¨¡å¼-ç²¾ç»†åŒ–ç»„åˆå¯¹è±¡<br><span class=\"hljs-bullet\">   -</span> åŸå‹æ¨¡å¼-JavaScript çš„çµé­‚<br><br><span class=\"hljs-bullet\">2.</span> ç»“æ„å‹<br><br>   å¸®åŠ©ä¼˜é›…åœ°è®¾è®¡ä»£ç ç»“æ„<br><br><span class=\"hljs-bullet\">   -</span> å¤–è§‚æ¨¡å¼-ç»™ä½ çš„ä¸€ä¸ªå¥—é¤<br><span class=\"hljs-bullet\">   -</span> é€‚é…å™¨æ¨¡å¼-ç”¨é€‚é…ä»£æ›¿æ›´æ”¹<br><span class=\"hljs-bullet\">   -</span> è£…é¥°ç€æ¨¡å¼-æ›´ä¼˜é›…åœ°æ‰©å±•éœ€æ±‚<br><span class=\"hljs-bullet\">   -</span> äº«å…ƒæ¨¡å¼-å…±äº«æ¥å‡å°‘æ•°é‡<br><span class=\"hljs-bullet\">   -</span> æ¡¥æ¥æ¨¡å¼-ç‹¬ç«‹å‡ºæ¥ï¼Œç„¶åå†å¯¹æ¥å‡ºå»<br><br><span class=\"hljs-bullet\">3.</span> è¡Œä¸ºå‹<br><br>   æ¨¡å—ä¹‹é—´è¡Œä¸ºçš„æ¨¡å¼æ€»ç»“ï¼Œå¸®åŠ©ç»„ç»‡æ¨¡å—è¡Œä¸º<br><br><span class=\"hljs-bullet\">   -</span> è§‚å¯Ÿè€…æ¨¡å¼-ç¬¬ä¸‰æ–¹è½¬å‘<br><span class=\"hljs-bullet\">   -</span> çŠ¶æ€æ¨¡å¼-ç”¨çŠ¶æ€ä»£æ›¿åˆ¤æ–­<br><span class=\"hljs-bullet\">   -</span> ç­–ç•¥æ¨¡å¼-ç®—æ³•å·¥å‚<br><span class=\"hljs-bullet\">   -</span> èŒè´£é“¾æ¨¡å¼-åƒç”Ÿäº§çº¿ä¸€æ ·ç»„ç»‡æ¨¡å—<br><span class=\"hljs-bullet\">   -</span> å‘½ä»¤æ¨¡å¼-ç”¨å‘½ä»¤å»è§£è€¦<br><span class=\"hljs-bullet\">   -</span> è¿­ä»£å™¨æ¨¡å¼-å‘Šåˆ« for å¾ªç¯<br><br><span class=\"hljs-bullet\">4.</span> æŠ€å·§å‹<br><br>   å¸®åŠ©ä¼˜åŒ–ä»£ç çš„æŠ€å·§<br><br><span class=\"hljs-bullet\">   -</span> é“¾æ¨¡å¼-é“¾å¼è°ƒç”¨<br><span class=\"hljs-bullet\">   -</span> å§”æ‰˜æ¨¡å¼<br><span class=\"hljs-bullet\">   -</span> æ•°æ®è®¿é—®æ¨¡å¼-ä¸€ä¸ªæ–¹ä¾¿çš„æ•°æ®ç®¡ç†å™¨<br><span class=\"hljs-bullet\">   -</span> æƒ°æ€§æ¨¡å¼-ç¬¬ä¸€æ¬¡æ‰§è¡Œå®ŒåæŠŠçŠ¶æ€è®°å½•ä¸‹æ¥<br><span class=\"hljs-bullet\">   -</span> ç­‰å¾…ç€æ¨¡å¼-ç­‰ä½ ä»¬éƒ½å›æ¥å†åƒé¥­<br><br><span class=\"hljs-section\">## 2.è®¾è®¡æ¨¡å¼åº”ç”¨</span><br><br><span class=\"hljs-section\">### 2.1.å°è£…å¯¹è±¡ï¼ˆåˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼‰</span><br><br><span class=\"hljs-section\">#### 2.1.1 å·¥å‚æ¨¡å¼(å¦‚ï¼šåˆ›å»ºå¯¹è±¡)</span><br><br><span class=\"hljs-strong\">**å·¥å‚æ¨¡å¼çš„åŸºæœ¬ç»“æ„**</span><br><br><span class=\"hljs-code\">```javascript</span><br><span class=\"hljs-code\">function Factory (type) &#123;</span><br><span class=\"hljs-code\">    switch (type) &#123;</span><br><span class=\"hljs-code\">        case &#x27;type1&#x27;</span><br><span class=\"hljs-code\">        return new Type1()</span><br><span class=\"hljs-code\">        case &#x27;type2&#x27;</span><br><span class=\"hljs-code\">        return new Type2()</span><br><span class=\"hljs-code\">        case &#x27;type3&#x27;</span><br><span class=\"hljs-code\">        return new Type3()</span><br><span class=\"hljs-code\">    &#125;</span><br><span class=\"hljs-code\">&#125;</span><br></code></pre></td></tr></table></figure></li>\n</ol>\n</li>\n</ol>\n<p>å·¥å‚æ¨¡å¼å°±æ˜¯å†™ä¸€ä¸ªæ–¹æ³•ï¼Œåªéœ€è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå°±èƒ½æ‹¿åˆ°æƒ³è¦çš„å¯¹è±¡</p>\n<h4 id=\"2-1-2-å»ºé€ è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue2-æºç ä¸­-Vue-ç±»çš„åˆå§‹åŒ–ï¼‰\"><a href=\"#2-1-2-å»ºé€ è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue2-æºç ä¸­-Vue-ç±»çš„åˆå§‹åŒ–ï¼‰\" class=\"headerlink\" title=\"2.1.2 å»ºé€ è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue2 æºç ä¸­ Vue ç±»çš„åˆå§‹åŒ–ï¼‰\"></a>2.1.2 å»ºé€ è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue2 æºç ä¸­ Vue ç±»çš„åˆå§‹åŒ–ï¼‰</h4><p><strong>å»ºé€ è€…æ¨¡å¼çš„åŸºæœ¬ç»“æ„</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">//  æ¨¡å—1</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Mode1</span>(<span class=\"hljs-params\"></span>) &#123;&#125;<br><span class=\"hljs-comment\">// æ¨¡å—2</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Mode2</span>(<span class=\"hljs-params\"></span>) &#123;&#125;<br><span class=\"hljs-comment\">// æœ€ç»ˆä½¿ç”¨çš„ç±»</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Final</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">mode1</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Model</span>()<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">mode2</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Mode2</span>()<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>å»ºé€ è€…æ¨¡å¼å°±æ˜¯æŠŠä¸€ä¸ªå¤æ‚çš„ç±»çš„å„ä¸ªéƒ¨åˆ†ï¼Œæ‹†åˆ†æˆç‹¬ç«‹çš„ç±»ï¼Œç„¶åå†ç»„åˆæˆä¸€ä¸ªæœ€ç»ˆçš„ç±»</p>\n<h4 id=\"2-1-3-å•ä¾‹æ¨¡å¼ï¼ˆå¦‚ï¼š-Vuexã€Vue-routerï¼‰\"><a href=\"#2-1-3-å•ä¾‹æ¨¡å¼ï¼ˆå¦‚ï¼š-Vuexã€Vue-routerï¼‰\" class=\"headerlink\" title=\"2.1.3 å•ä¾‹æ¨¡å¼ï¼ˆå¦‚ï¼š Vuexã€Vue-routerï¼‰\"></a>2.1.3 å•ä¾‹æ¨¡å¼ï¼ˆå¦‚ï¼š Vuexã€Vue-routerï¼‰</h4><p><strong>å•ä¾‹æ¨¡å¼çš„åŸºæœ¬ç»“æ„</strong></p>\n<p>å•ä¾‹æ¨¡å¼çš„åšæ³•ä¸æ˜¯å¾ˆå›ºå®šï¼Œä½†æ˜¯è¦ä¿è¯å…¨å±€åªæœ‰ä¸€ä¸ªå¯¹è±¡çš„æ€æƒ³</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// ä½œä¸ºå•ä¾‹å®ä¾‹åŒ–çš„å¯¹è±¡</span><br><span class=\"hljs-keyword\">let</span> <span class=\"hljs-title class_\">SingLeton</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">name</span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">name</span> = name<br>&#125;<br><span class=\"hljs-comment\">/*</span><br><span class=\"hljs-comment\">åœ¨SingLetonæŒ‚åœ¨ä¸€ä¸ªgetInstanceæ–¹æ³•ï¼Œåªèƒ½é€šè¿‡getInstanceæ–¹æ³•æ¥è·å–</span><br><span class=\"hljs-comment\">SingLetonçš„å®ä¾‹åŒ–å¯¹è±¡</span><br><span class=\"hljs-comment\">*/</span><br><span class=\"hljs-title class_\">SingLeton</span>.<span class=\"hljs-property\">getInstance</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">name</span>) &#123;<br>  <span class=\"hljs-keyword\">if</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">instance</span>) &#123;<br>    <span class=\"hljs-keyword\">return</span> <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">instance</span><br>  &#125;<br>  <span class=\"hljs-keyword\">return</span> (<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">instance</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">SingLeton</span>(name))<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<p>é€šè¿‡ä¸€ä¸ªæ–¹æ³•ï¼Œä½¿ç”¨æ—¶åªå…è®¸é€šè¿‡æ­¤æ–¹æ³•æ‹¿åˆ°å­˜åœ¨å†…éƒ¨çš„åŒä¸€å®ä¾‹åŒ–çš„å¯¹è±¡</p>\n<h3 id=\"2-2-æé«˜å¤ç”¨æ€§\"><a href=\"#2-2-æé«˜å¤ç”¨æ€§\" class=\"headerlink\" title=\"2.2 æé«˜å¤ç”¨æ€§\"></a>2.2 æé«˜å¤ç”¨æ€§</h3><h4 id=\"2-2-1-æ¡¥æ¥æ¨¡å¼\"><a href=\"#2-2-1-æ¡¥æ¥æ¨¡å¼\" class=\"headerlink\" title=\"2.2.1 æ¡¥æ¥æ¨¡å¼\"></a>2.2.1 æ¡¥æ¥æ¨¡å¼</h4><p>è¿™ä¸ªæ¨¡å¼å’Œå»ºé€ è€…æ¨¡å¼å¾ˆç±»ä¼¼ï¼Œæ‹†åˆ†å†ç»„åˆã€‚ä½†æ˜¯å»ºé€ è€…æ¨¡å¼çš„æ ¸å¿ƒæ˜¯å¦‚ä½•å»æ„é€ å¯¹è±¡ï¼Œæ¡¥æ¥æ¨¡å¼æ˜¯æŠŠè€¦åˆåŠŸèƒ½æŠ½ç¦»å‡ºå»</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// æœ‰ä¸‰ç§å½¢çŠ¶ï¼Œæ¯ç§å½¢çŠ¶éƒ½æœ‰3ç§é¢œè‰²</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">rect</span>(<span class=\"hljs-params\">color</span>) &#123;<br>  <span class=\"hljs-comment\">//çŸ©å½¢</span><br>  <span class=\"hljs-title function_\">showcolor</span>(color)<br>&#125;<br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">circle</span>(<span class=\"hljs-params\">color</span>) &#123;<br>  <span class=\"hljs-comment\">// åœ†å½¢</span><br>  <span class=\"hljs-title function_\">showcolor</span>(color)<br>&#125;<br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">delta</span>(<span class=\"hljs-params\">color</span>) &#123;<br>  <span class=\"hljs-comment\">// ä¸‰è§’å½¢</span><br>  <span class=\"hljs-title function_\">showcolor</span>(color)<br>&#125;<br><br><span class=\"hljs-keyword\">new</span> <span class=\"hljs-title function_\">circle</span>(<span class=\"hljs-string\">&#x27;red&#x27;</span>)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-2-2-äº«å…ƒæ¨¡å¼\"><a href=\"#2-2-2-äº«å…ƒæ¨¡å¼\" class=\"headerlink\" title=\"2.2.2 äº«å…ƒæ¨¡å¼\"></a>2.2.2 äº«å…ƒæ¨¡å¼</h4><p>æå–å‡ºå…¬æœ‰éƒ¨åˆ†ä¸ç§æœ‰éƒ¨åˆ†ï¼Œç§æœ‰éƒ¨åˆ†ä½œä¸ºå¤–éƒ¨æ•°æ®ä¼ å…¥(æŠ½ç¦»ä¸€ä¸ªæ•°ç»„)ï¼Œä»è€Œå‡å°‘å¯¹è±¡æ•°é‡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// æœ‰ä¸€ç™¾ç§ä¸åŒæ–‡å­—çš„å¼¹çª—ï¼Œæ¯ç§å¼¹çª—è¡Œä¸ºç›¸åŒï¼Œä½†æ˜¯æ–‡å­—å’Œæ ·å¼ä¸åŒï¼Œæˆ‘ä»¬æ²¡å¿…è¦æ–°é—´ä¸€ç™¾ä¸ªå¼¹çª—å¯¹è±¡</span><br>   <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Pop</span>(<span class=\"hljs-params\"></span>)&#123;<br>   &#125;<br>   <span class=\"hljs-comment\">// ä¿ç•™åŒæ ·çš„è¡Œä¸º</span><br>   <span class=\"hljs-title class_\">Pop</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">action</span>=<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>)&#123;&#125;<br>   <span class=\"hljs-comment\">//æ˜¾ç¤º</span><br>   <span class=\"hljs-title class_\">Pop</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">show</span>=<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\"></span>)&#123;&#125;<br>   <span class=\"hljs-comment\">// æå–å‡ºæ¯ä¸ªå¼¹çª—ä¸åŒçš„éƒ¨åˆ†ä½œä¸ºä¸€ä¸ªå¤–éƒ¨æ•°ç»„</span><br>   <span class=\"hljs-keyword\">var</span> popArr=[<br>       &#123;<span class=\"hljs-attr\">text</span>:<span class=\"hljs-string\">&quot;window1&quot;</span>,<span class=\"hljs-attr\">style</span>:[<span class=\"hljs-number\">400</span>,<span class=\"hljs-number\">400</span>]&#125;<br>       &#123;<span class=\"hljs-attr\">text</span>:<span class=\"hljs-string\">&quot;window2&quot;</span>,<span class=\"hljs-attr\">style</span>:[<span class=\"hljs-number\">400</span>,<span class=\"hljs-number\">200</span>]&#125;<br>   ]<br><br>   <span class=\"hljs-keyword\">var</span> poper=<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Pop</span>()<br><br>   <span class=\"hljs-keyword\">for</span>(<span class=\"hljs-keyword\">var</span> i=<span class=\"hljs-number\">0</span>;i&lt;<span class=\"hljs-number\">100</span>;i++)&#123;<br>       poper.<span class=\"hljs-title function_\">show</span>(popArr[i])<br>   &#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-3-æé«˜å¯æ‰©å±•æ€§\"><a href=\"#2-3-æé«˜å¯æ‰©å±•æ€§\" class=\"headerlink\" title=\"2.3 æé«˜å¯æ‰©å±•æ€§\"></a>2.3 æé«˜å¯æ‰©å±•æ€§</h3><h4 id=\"2-3-1-é€‚é…å™¨æ¨¡å¼\"><a href=\"#2-3-1-é€‚é…å™¨æ¨¡å¼\" class=\"headerlink\" title=\"2.3.1 é€‚é…å™¨æ¨¡å¼\"></a>2.3.1 é€‚é…å™¨æ¨¡å¼</h4><p>å½“é¢ä¸´ä¸¤ä¸ªæ–°è€æ¨¡å—é—´æ¥å£ api ä¸åŒ¹é…ï¼Œå¯ä»¥ç”¨é€‚é…æ¥è½¬åŒ– api</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// Aæ¡†æ¶è°ƒç”¨çš„æ–¹å¼</span><br>A.<span class=\"hljs-title function_\">c</span>()<br><span class=\"hljs-comment\">// å‡å¦‚æˆ‘ä»¬é¡¹ç›®ä¸­æ¢æˆäº†jQueyï¼Œæˆ‘ä»¬ä¸æƒ³å…¨éƒ¨å»æ›¿æ¢Aæ–¹æ³•ï¼Œå°±ç”¨é€‚é…å™¨çš„æ–¹æ³•</span><br>A.<span class=\"hljs-property\">c</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-keyword\">return</span> $.on.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">arguments</span>)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-2-è£…é¥°è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue-é‡å†™æ•°ç»„æ–¹æ³•ï¼‰\"><a href=\"#2-3-2-è£…é¥°è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue-é‡å†™æ•°ç»„æ–¹æ³•ï¼‰\" class=\"headerlink\" title=\"2.3.2 è£…é¥°è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue é‡å†™æ•°ç»„æ–¹æ³•ï¼‰\"></a>2.3.2 è£…é¥°è€…æ¨¡å¼ï¼ˆå¦‚ï¼šVue é‡å†™æ•°ç»„æ–¹æ³•ï¼‰</h4><p>å½“è€çš„æ–¹æ³•ï¼Œä¸æ–¹ä¾¿å»ç›´æ¥ä¿®æ”¹ï¼Œå¯ä»¥é€šè£…é¥°è€…æ¥å¢åŠ åŠŸèƒ½</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">/*</span><br><span class=\"hljs-comment\"> * not type checking this file because flow doesn&#x27;t play well with</span><br><span class=\"hljs-comment\"> * dynamically accessing methods on Array prototype</span><br><span class=\"hljs-comment\"> */</span><br><br><span class=\"hljs-keyword\">import</span> &#123; def &#125; <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;../util/index&#x27;</span><br><br><span class=\"hljs-keyword\">const</span> arrayProto = <span class=\"hljs-title class_\">Array</span>.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span><br><span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> arrayMethods = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">create</span>(arrayProto)<br><br><span class=\"hljs-keyword\">const</span> methodsToPatch = [<span class=\"hljs-string\">&#x27;push&#x27;</span>, <span class=\"hljs-string\">&#x27;pop&#x27;</span>, <span class=\"hljs-string\">&#x27;shift&#x27;</span>, <span class=\"hljs-string\">&#x27;unshift&#x27;</span>, <span class=\"hljs-string\">&#x27;splice&#x27;</span>, <span class=\"hljs-string\">&#x27;sort&#x27;</span>, <span class=\"hljs-string\">&#x27;reverse&#x27;</span>]<br><br><span class=\"hljs-comment\">/**</span><br><span class=\"hljs-comment\"> * Intercept mutating methods and emit events</span><br><span class=\"hljs-comment\"> */</span><br>methodsToPatch.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">method</span>) &#123;<br>  <span class=\"hljs-comment\">// cache original method</span><br>  <span class=\"hljs-keyword\">const</span> original = arrayProto[method]<br>  <span class=\"hljs-title function_\">def</span>(arrayMethods, method, <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">mutator</span>(<span class=\"hljs-params\">...args</span>) &#123;<br>    <span class=\"hljs-keyword\">const</span> result = original.<span class=\"hljs-title function_\">apply</span>(<span class=\"hljs-variable language_\">this</span>, args)<br>    <span class=\"hljs-keyword\">const</span> ob = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">__ob__</span><br>    <span class=\"hljs-keyword\">let</span> inserted<br>    <span class=\"hljs-keyword\">switch</span> (method) &#123;<br>      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&#x27;push&#x27;</span>:<br>      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&#x27;unshift&#x27;</span>:<br>        inserted = args<br>        <span class=\"hljs-keyword\">break</span><br>      <span class=\"hljs-keyword\">case</span> <span class=\"hljs-string\">&#x27;splice&#x27;</span>:<br>        inserted = args.<span class=\"hljs-title function_\">slice</span>(<span class=\"hljs-number\">2</span>)<br>        <span class=\"hljs-keyword\">break</span><br>    &#125;<br>    <span class=\"hljs-keyword\">if</span> (inserted) ob.<span class=\"hljs-title function_\">observeArray</span>(inserted)<br>    <span class=\"hljs-comment\">// notify change</span><br>    ob.<span class=\"hljs-property\">dep</span>.<span class=\"hljs-title function_\">notify</span>()<br>    <span class=\"hljs-keyword\">return</span> result<br>  &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-3-å‘½ä»¤æ¨¡å¼\"><a href=\"#2-3-3-å‘½ä»¤æ¨¡å¼\" class=\"headerlink\" title=\"2.3.3 å‘½ä»¤æ¨¡å¼\"></a>2.3.3 å‘½ä»¤æ¨¡å¼</h4><p>è§£è€¦å®ç°ä¸å…·ä½“å‘½ä»¤ï¼Œè®©æ˜¯å®ç°ç«¯å’Œå‘½ä»¤ç«¯æ‰©å±•çš„æ›´è½»æ¾</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">var</span> createImg = (<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-keyword\">var</span> action = &#123;<br>    <span class=\"hljs-attr\">create</span>: <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">obj</span>) &#123;<br>      <span class=\"hljs-keyword\">var</span> htmlArr = []<br>      <span class=\"hljs-keyword\">var</span> _htmlstring = <span class=\"hljs-string\">&#x27;&#x27;</span><br>      <span class=\"hljs-keyword\">var</span> _htmlTemplate = <span class=\"hljs-string\">&quot;&lt;div&gt;&lt;img src=&#x27;&#123;&#123;img-url&#125;&#125;&#x27; /&gt;&lt;/div&gt;&lt;h2&gt;&#123;&#123;title&#125;&#125;&lt;/h2&gt;&quot;</span><br>      <span class=\"hljs-keyword\">var</span> displayWay = &#123;<br>        <span class=\"hljs-attr\">normal</span>: <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">arr</span>) &#123;<br>          <span class=\"hljs-keyword\">return</span> arr<br>        &#125;,<br>        <span class=\"hljs-attr\">reverse</span>: <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">arr</span>) &#123;<br>          <span class=\"hljs-keyword\">return</span> arr.<span class=\"hljs-property\">reverse</span><br>        &#125;<br>      &#125;<br><br>      obj.<span class=\"hljs-property\">imgArr</span>.<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">img</span>) =&gt;</span> &#123;<br>        <span class=\"hljs-keyword\">var</span> _html<br>        _html = _htmlTemplate.<span class=\"hljs-title function_\">replace</span>(<span class=\"hljs-string\">&#x27;&#123;&#123;img-url&#125;&#125;&#x27;</span>, img.<span class=\"hljs-property\">img</span>).<span class=\"hljs-title function_\">replace</span>(<span class=\"hljs-string\">&#x27;&#123;&#123;title&#125;&#125;&#x27;</span>, img.<span class=\"hljs-property\">title</span>)<br>        htmlArr.<span class=\"hljs-title function_\">push</span>(_html)<br>      &#125;)<br>      htmlArr = displayWay[obj.<span class=\"hljs-property\">type</span>](htmlArr)<br>      _htmlstring = htmlArr.<span class=\"hljs-title function_\">join</span>(<span class=\"hljs-string\">&#x27;&#x27;</span>)<br>      <span class=\"hljs-keyword\">return</span> <span class=\"hljs-string\">&#x27;&lt;div&gt;&#x27;</span> + _htmlstring + <span class=\"hljs-string\">&#x27;&lt;/div&gt;&#x27;</span><br>    &#125;,<br>    <span class=\"hljs-attr\">display</span>: <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">obj</span>) &#123;<br>      <span class=\"hljs-keyword\">var</span> _html = <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">create</span>(obj)<br>      obj.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">innerHTML</span> = _html<br>    &#125;<br>  &#125;<br><br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">excute</span>(<span class=\"hljs-params\">obj</span>) &#123;<br>    <span class=\"hljs-keyword\">var</span> _default = &#123;<br>      <span class=\"hljs-attr\">imgArr</span>: [&#123; <span class=\"hljs-attr\">img</span>: <span class=\"hljs-string\">&#x27;xxxx&#x27;</span>, <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&#x27;default title&#x27;</span> &#125;],<br>      <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;normal&#x27;</span>,<br>      <span class=\"hljs-attr\">target</span>: <span class=\"hljs-variable language_\">document</span>.<span class=\"hljs-property\">body</span><br>    &#125;<br>    <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">var</span> item <span class=\"hljs-keyword\">in</span> _default) &#123;<br>      _default[item] = obj[item] || _default[item]<br>    &#125;<br>    action.<span class=\"hljs-title function_\">display</span>(_default)<br>  &#125;<br>&#125;)()<br><span class=\"hljs-title function_\">createImg</span>(&#123;<br>  <span class=\"hljs-attr\">imgArr</span>: [<br>    &#123; <span class=\"hljs-attr\">img</span>: <span class=\"hljs-string\">&#x27;xxxx&#x27;</span>, <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&#x27;default title1&#x27;</span> &#125;,<br>    &#123; <span class=\"hljs-attr\">img</span>: <span class=\"hljs-string\">&#x27;xxxx&#x27;</span>, <span class=\"hljs-attr\">title</span>: <span class=\"hljs-string\">&#x27;default title2&#x27;</span> &#125;<br>  ],<br>  <span class=\"hljs-attr\">type</span>: <span class=\"hljs-string\">&#x27;normal&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-4-è§‚å¯Ÿè€…æ¨¡å¼\"><a href=\"#2-3-4-è§‚å¯Ÿè€…æ¨¡å¼\" class=\"headerlink\" title=\"2.3.4 è§‚å¯Ÿè€…æ¨¡å¼\"></a>2.3.4 è§‚å¯Ÿè€…æ¨¡å¼</h4><p>é€‚ç”¨äºä¸é€‚åˆç›´æ¥æ²Ÿé€šçš„æ¨¡å—ä¹‹é—´çš„ç»„ç»‡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> observe &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">message</span>=&#123;&#125;<br>&#125;<br><br>observe.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">regist</span>=<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">type,fn</span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">message</span>[type]=fn<br>&#125;<br><br>observe.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">fire</span>=<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">type</span>)&#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">message</span>[type]()<br>&#125;<br><br>observe.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">remove</span>=<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">type</span>)&#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">message</span>[type]=<span class=\"hljs-literal\">null</span><br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-5-èŒè´£é“¾æ¨¡å¼\"><a href=\"#2-3-5-èŒè´£é“¾æ¨¡å¼\" class=\"headerlink\" title=\"2.3.5 èŒè´£é“¾æ¨¡å¼\"></a>2.3.5 èŒè´£é“¾æ¨¡å¼</h4><p>ç»„ç»‡åŒæ­¥æ¨¡å—ï¼ŒæŠŠè¦åšçš„äº‹æƒ…åˆ’åˆ†ä¸ºæ¨¡å—ï¼Œè¦åšçš„äº‹æƒ…ä¸€æ¬¡ä¼ é€’</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// è¡¨å•äº‹ä»¶ç»‘å®š-&gt;è¡¨å•å‰ç«¯éªŒè¯-&gt;è¡¨å•åç«¯éªŒè¯</span><br><span class=\"hljs-comment\">// æ€æƒ³ï¼šæŠŠä½ è¦åšçš„äº‹æƒ…æ‹†åˆ†ä¸ºæ¨¡å—ï¼Œæ¨¡å—ä¹‹é—´åªåšè‡ªå·±æ¨¡å—çš„äº‹æƒ…</span><br><br>input.<span class=\"hljs-property\">onblur</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-keyword\">var</span> _value = input.<span class=\"hljs-property\">value</span><br>  <span class=\"hljs-keyword\">var</span> _arr = [font, middle, back, fontAgain]<br>  <span class=\"hljs-keyword\">async</span> <span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">test</span>(<span class=\"hljs-params\"></span>) &#123;<br>    <span class=\"hljs-keyword\">var</span> _result = _value<br>    <span class=\"hljs-keyword\">while</span> (_arr.<span class=\"hljs-property\">length</span> &gt; <span class=\"hljs-number\">0</span>) &#123;<br>      _result = <span class=\"hljs-keyword\">await</span> _arr.<span class=\"hljs-title function_\">shift</span>()(_result)<br>    &#125;<br>    <span class=\"hljs-keyword\">return</span> _result<br>  &#125;<br>  <span class=\"hljs-title function_\">test</span>().<span class=\"hljs-title function_\">then</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">res</span>) =&gt;</span> &#123;<br>    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(res)<br>  &#125;)<br>&#125;<br><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">font</span>(<span class=\"hljs-params\">result</span>) &#123;&#125;<br><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">middle</span>(<span class=\"hljs-params\">result</span>) &#123;&#125;<br><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">back</span>(<span class=\"hljs-params\">result</span>) &#123;&#125;<br><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">fontAgain</span>(<span class=\"hljs-params\">result</span>) &#123;&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-3-6-è®¿é—®è€…æ¨¡å¼\"><a href=\"#2-3-6-è®¿é—®è€…æ¨¡å¼\" class=\"headerlink\" title=\"2.3.6 è®¿é—®è€…æ¨¡å¼\"></a>2.3.6 è®¿é—®è€…æ¨¡å¼</h4><p>è§£è€¦æ•°æ®æ“ä½œä¸æ•°æ®ç»“æ„</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">var</span> data = []<br><br><span class=\"hljs-keyword\">var</span> handler = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;&#125;<br><br>handler.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">get</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;&#125;<br><br><span class=\"hljs-keyword\">var</span> vistor = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">handler, data</span>) &#123;<br>  handler.<span class=\"hljs-title function_\">get</span>(data)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"2-4-æé«˜ä»£ç è´¨é‡\"><a href=\"#2-4-æé«˜ä»£ç è´¨é‡\" class=\"headerlink\" title=\"2.4 æé«˜ä»£ç è´¨é‡\"></a>2.4 æé«˜ä»£ç è´¨é‡</h3><h4 id=\"2-4-1-ç­–ç•¥-çŠ¶æ€æ¨¡å¼\"><a href=\"#2-4-1-ç­–ç•¥-çŠ¶æ€æ¨¡å¼\" class=\"headerlink\" title=\"2.4.1 ç­–ç•¥/çŠ¶æ€æ¨¡å¼\"></a>2.4.1 ç­–ç•¥/çŠ¶æ€æ¨¡å¼</h4><p>å¸®åŠ©æˆ‘ä»¬ä¼˜åŒ– if-else ç»“æ„</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">Strategy</span> (type,a,b) &#123;<br>  <span class=\"hljs-keyword\">var</span> <span class=\"hljs-title class_\">Strategyer</span>=&#123;<br>    <span class=\"hljs-attr\">add</span>:<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">a,b</span>)&#123;<br>      <span class=\"hljs-keyword\">return</span> a+b<br>    &#125;<br>    <span class=\"hljs-attr\">minus</span>:<span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">a,b</span>)&#123;<br>      <span class=\"hljs-keyword\">return</span> a-b<br>    &#125;<br>    <span class=\"hljs-attr\">division</span>:<span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">a,b</span>)&#123;<br>      <span class=\"hljs-keyword\">return</span> a/b<br>    &#125;<br>  &#125;<br>  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title class_\">Strategyer</span>[type](a,b)<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-4-2-å¤–è§‚æ¨¡å¼\"><a href=\"#2-4-2-å¤–è§‚æ¨¡å¼\" class=\"headerlink\" title=\"2.4.2 å¤–è§‚æ¨¡å¼\"></a>2.4.2 å¤–è§‚æ¨¡å¼</h4><p>ä¸€ç§å¥—é¤åŒ–æ¥å£çš„æ€æƒ³ï¼Œå°è£…å¸¸ç”¨æ–¹æ³•ä¸ºä¸€ä¸ªç»Ÿä¸€çš„æ¥å£</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// åˆ’åˆ†åŠŸèƒ½ï¼Œç»™ä½¿ç”¨è€…ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£</span><br><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">tab</span>(<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">dom</span> = <span class=\"hljs-literal\">null</span><br>&#125;<br>tab.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">initHTML</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;&#125;<br>tab.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">changeTab</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;&#125;<br>tab.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">eventBind</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  <span class=\"hljs-keyword\">var</span> self = <span class=\"hljs-variable language_\">this</span><br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-property\">dom</span>.<span class=\"hljs-property\">onclick</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>    self.<span class=\"hljs-title function_\">changeTab</span>()<br>  &#125;<br>&#125;<br>tab.<span class=\"hljs-property\"><span class=\"hljs-keyword\">prototype</span></span>.<span class=\"hljs-property\">init</span> = <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\">config</span>) &#123;<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">initHTML</span>(config)<br>  <span class=\"hljs-variable language_\">this</span>.<span class=\"hljs-title function_\">eventBind</span>()<br>&#125;<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-4-3-è¿­ä»£å™¨æ¨¡å¼\"><a href=\"#2-4-3-è¿­ä»£å™¨æ¨¡å¼\" class=\"headerlink\" title=\"2.4.3 è¿­ä»£å™¨æ¨¡å¼\"></a>2.4.3 è¿­ä»£å™¨æ¨¡å¼</h4><p>å¸®åŠ©æ›´å¥½çš„éå†æ•°æ®</p>\n<h4 id=\"2-4-4-å¤‡å¿˜å½•æ¨¡å¼\"><a href=\"#2-4-4-å¤‡å¿˜å½•æ¨¡å¼\" class=\"headerlink\" title=\"2.4.4 å¤‡å¿˜å½•æ¨¡å¼\"></a>2.4.4 å¤‡å¿˜å½•æ¨¡å¼</h4><p>ç¼“å­˜å›åˆ°è¿‡å»çš„çŠ¶æ€</p>\n"},{"title":"æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥","keywords":"æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥","_content":"# æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥\n\n## 1.å‰è¨€\n\n**æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ä¹Ÿå°±æ˜¯HTTPç¼“å­˜æœºåˆ¶ï¼Œå…¶æœºåˆ¶æ˜¯æ ¹æ®HTTPçš„ç¼“å­˜æ ‡è¯†è¿›è¡Œçš„**\n\n## 2.ç¼“å­˜è¿‡ç¨‹åˆ†æ\n\n**æµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„é€šä¿¡æ–¹å¼ä¸ºåº”ç­”æ¨¡å¼**ã€‚å³æµè§ˆå™¨å‘èµ·HTTP--æœåŠ¡ç«¯å“åº”HTTPè¯·æ±‚ã€‚æµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ï¼Œæ‹¿åˆ°è¯·æ±‚ç»“æœåï¼Œä¼šæ ¹æ®å“åº”æŠ¥æ–‡ä¸­å“åº”å¤´çš„ç¼“å­˜æ ‡è¯†ï¼Œå†³å®šæ˜¯å¦å°†å“åº”ç»“æœç¼“å­˜ï¼Œç¼“å­˜ï¼Œåˆ™å°†è¯·æ±‚ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥åˆ°æµè§ˆå™¨ç¼“å­˜å½“ä¸­\n\n## 3.ç¼“å­˜ç­–ç•¥\n\n**æµè§ˆå™¨ç¼“å­˜ç­–ç•¥åˆ†ä¸ºä¸¤ç§ï¼šå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜**ã€‚å¹¶ä¸”ç¼“å­˜ç­–ç•¥éƒ½æ˜¯é€šè¿‡è®¾ç½®HTTP headeræ¥å®ç°çš„ã€‚\n\nå®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ï¼Œå­˜åœ¨ç¼“å­˜æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šå°†è¯·æ±‚ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥åˆ°å†…å­˜æˆ–ç¡¬ç›˜å½“ä¸­ï¼›å½“å†æ¬¡è·å–ç›¸åŒçš„èµ„æºï¼Œå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„åº”å¯¹æ–¹å¼ä¹Ÿæœ‰æ‰€ä¸åŒ\n\n**å¼ºç¼“å­˜**ï¼šå®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚ç›¸åŒçš„èµ„æºæ—¶ï¼Œä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè€Œæ˜¯æ ¹æ®å¼ºç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ç›´æ¥ä»å†…å­˜/ç¡¬ç›˜ä¸­è¯»å–æ•°æ®\n\n**åå•†ç¼“å­˜**ï¼šå®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚ç›¸åŒçš„èµ„æºæ—¶ï¼Œå…ˆå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚â€œè¯¢é—®â€åœ¨æœ¬åœ°ç¼“å­˜çš„èµ„æºæ–‡ä»¶ç›¸æ¯”æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æ˜¯å¦å‘ç”Ÿä¿®æ”¹ï¼Œå¦‚æœæœ‰æ›´æ”¹ï¼Œåˆ™è·å–æœ€æ–°çš„æ–‡ä»¶èµ„æºå¹¶ç¼“å­˜ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä»å†…å­˜/ç¡¬ç›˜ä¸­è¯»å–\n\n### 3.1å¼ºç¼“å­˜\n\n**å¼ºç¼“å­˜å°±æ˜¯å‘æµè§ˆå™¨ç¼“å­˜æŸ¥æ‰¾è¯·æ±‚ç»“æœï¼Œå¹¶ä¸”æ ¹æ®è¯¥ç»“æœçš„ç¼“å­˜è§„åˆ™æ¥å†³å®šæ˜¯å¦ä½¿ç”¨è¯¥ç¼“å­˜ç»“æœçš„è¿‡ç¨‹*\n\nå¼ºç¼“å­˜ä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè€Œæ˜¯ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–èµ„æºï¼Œåœ¨chromeæ§åˆ¶å°çš„networké€‰ä¸­å¯ä»¥çœ‹åˆ°è¯¥è¯·æ±‚è¿”å›200çš„çŠ¶æ€ç ï¼Œå¹¶ä¸”SIzeæ˜¾ç¤ºfrom disk cacheæˆ–from memory cache\n\nå¼ºç¼“å­˜å¯ä»¥é€šè¿‡è®¾ç½®ä¸¤ç§HTTP Headerå®ç°ï¼š Expires å’Œ Cache-Controlã€‚\n\nå¼ºç¼“å­˜çš„æƒ…å†µä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š\n\n1. ä¸å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œå¼ºç¼“å­˜å¤±æ•ˆï¼Œç›´æ¥å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ˆå’Œç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ä¸€è‡´ï¼‰\n2. å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä½†æ˜¯ç»“æœå·²ç»å¤±æ•ˆï¼Œå¼ºç¼“å­˜å¤±æ•ˆï¼Œåˆ™ä½¿ç”¨åå•†ç¼“å­˜\n3. å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä¸”è¯¥ç»“æœæ²¡æœ‰ç”Ÿæ•ˆï¼Œå¼ºç¼“å­˜ç”Ÿæ•ˆï¼Œç›´æ¥è¿”å›è¯¥ç»“æœ\n\nå½“æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šå°†ç¼“å­˜è§„åˆ™æ”¾å…¥HTTPå“åº”æŠ¥æ–‡çš„HTTPå¤´ä¸­å’Œè¯·æ±‚ç»“æœä¸€èµ·è¿”å›ç»™æµè§ˆå™¨ï¼Œæ§åˆ¶å¼ºç¼“å­˜çš„å­—æ®µåˆ†åˆ«æ˜¯Expireså’ŒCache-Controlï¼Œå…¶ä¸­Cache-Controlçš„ä¼˜å…ˆçº§æ¯”Expiresé«˜ã€‚\n\n#### 3.1.1Expires\n\nç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œç”¨æ¥æŒ‡å®šèµ„æºåˆ°æœŸçš„æ—¶é—´ï¼Œæ˜¯æœåŠ¡å™¨ç«¯çš„å…·ä½“çš„æ—¶é—´ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒExpires=max-age + è¯·æ±‚æ—¶é—´ï¼Œéœ€è¦å’Œlast-modifiedç»“åˆä½¿ç”¨ã€‚\n\nExpiresæ˜¯WebæœåŠ¡å™¨å“åº”æ¶ˆæ¯å¤´å­—æ®µï¼Œåœ¨å“åº”httpè¯·æ±‚æ—¶å‘Šè¯‰æµè§ˆå™¨åœ¨è¿‡æœŸæ—¶é—´å‰æµè§ˆå™¨å¯ä»¥ç›´æ¥ä»æµè§ˆå™¨ç¼“å­˜è·å–æ•°æ®ï¼Œè€Œæ— éœ€å†æ¬¡è¯·æ±‚ã€‚\n\nExpiresæ˜¯HTTP/1çš„äº§ç‰©ï¼Œå—é™äºæœ¬åœ°æ—¶é—´ï¼Œå¦‚æœä¿®æ”¹äº†æœ¬åœ°æ—¶é—´ï¼Œå¯èƒ½ä¼šé€ æˆç¼“å­˜å¤±æ•ˆ\n\nåˆ°äº†HTTP/1.1ï¼ŒExpireså·²ç»è¢«Cache-Controlæ›¿ä»£ã€‚\n\nåŸå› åœ¨äºExpiresæ§åˆ¶ç¼“å­˜çš„åŸç†æ˜¯ä½¿ç”¨å®¢æˆ·ç«¯çš„æ—¶é—´ä¸æœåŠ¡ç«¯è¿”å›çš„æ—¶é—´å¯¹æ¯”ï¼Œå¦‚æœå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„æ—¶é—´ç”±äºæŸäº›åŸå› ï¼ˆæ—¶åŒºä¸åŒï¼›å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æœ‰ä¸€æ–¹çš„æ—¶é—´ä¸å‡†ç¡®ï¼‰å‘ç”Ÿè¯¯å·®ï¼Œå¼ºåˆ¶ç¼“å­˜å¯èƒ½ä¼šå¤±æ•ˆã€‚\n\n#### 3.1.2Cache-Control\n\nåœ¨HTTP/1.1ä¸­ï¼ŒCache-Controlæ˜¯æœ€é‡è¦çš„è§„åˆ™ï¼Œä¸»è¦ç”¨äºæ§åˆ¶ç½‘é¡µç¼“å­˜ã€‚æ¯”å¦‚å½“Cache-Controlï¼šmax-age=300æ—¶ï¼Œåˆ™ä»£è¡¨åœ¨è¿™ä¸ªè¯·æ±‚æ­£ç¡®è¿”å›æ—¶é—´çš„5åˆ†é’Ÿå†…å†æ¬¡åŠ è½½èµ„æºï¼Œå°±ä¼šå‘½ä¸­å¼ºç¼“å­˜ã€‚\n\nCache-Controlå¯ä»¥åœ¨è¯·æ±‚å¤´æˆ–è€…å“åº”å¤´ä¸­è®¾ç½®ï¼Œå¹¶ä¸”å¯ä»¥ç»„åˆä½¿ç”¨å¤šç§æŒ‡ä»¤ï¼Œä¸»è¦å–å€¼ä¸ºï¼š\n\n- publicï¼š**æ‰€æœ‰å†…å®¹éƒ½å°†è¢«ç¼“å­˜ï¼ˆå®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨éƒ½å¯ç¼“å­˜ï¼‰**ã€‚å…·ä½“æ¥è¯´å“åº”å¯è¢«ä»»ä½•ä¸­é—´èŠ‚ç‚¹ç¼“å­˜ï¼Œå¦‚Browser <-- proxy1 <-- proxy2 <-- Serverï¼Œ ä¸­é—´çš„proxyä¹Ÿå¯ä»¥ç¼“å­˜èµ„æºï¼Œæ¯”å¦‚ä¸‹æ¬¡å†è¯·æ±‚åŒä¸€èµ„æºproxy1ç›´æ¥æŠŠè‡ªå·±ç¼“å­˜çš„ä¸œè¥¿ç»™Browserè€Œä¸å†å‘proxy2è¦\n- privateï¼š**æ‰€ä»¥å†…å®¹åªæœ‰å®¢æˆ·ç«¯å¯ä»¥ç¼“å­˜ï¼Œ Cache-Controlçš„é»˜è®¤å–å€¼**ã€‚å…·ä½“æ¥è¯´ï¼Œè¡¨ç¤ºä¸­é—´èŠ‚ç‚¹ä¸å…è®¸ç¼“å­˜ï¼Œå¯¹äºBrowser <-- proxy1 <-- proxy2 <-- Serverï¼Œproxyä¼šè€è€å®å®æŠŠServerè¿”å›çš„æ•°æ®å‘é€ç»™Browserï¼Œè‡ªå·±ä¸ç¼“å­˜ä»»ä½•æ•°æ®ã€‚å½“ä¸‹æ¬¡Browserå†æ¬¡è¯·æ±‚æ—¶proxyä¼šåšå¥½è¯·æ±‚è½¬å‘è€Œä¸æ˜¯è‡ªä½œä¸»å¼ ç»™è‡ªå·±ç¼“å­˜çš„æ•°æ®\n- no-cacheï¼š**å®¢æˆ·ç«¯ç¼“å­˜å†…å®¹ï¼Œæ˜¯å¦ä½¿ç”¨ç¼“å­˜åˆ™éœ€è¦ç»è¿‡åå•†ç¼“å­˜æ¥éªŒè¯å†³å®š**ã€‚è¡¨ç¤ºä¸ä½¿ç”¨Cache-Controlçš„ç¼“å­˜æ§åˆ¶æ–¹å¼åšå‰ç½®éªŒè¯å·ï¼Œè€Œæ˜¯ä½¿ç”¨Etagæˆ–è€…Last-Modifiedå­—æ®µæ¥æ§åˆ¶ç¼“å­˜ã€‚æ³¨æ„ï¼šno-cacheè¿™ä¸ªåå­—æœ‰ä¸€ç‚¹è¯¯å¯¼ã€‚è®¾ç½®no-cahceï¼Œä¸ä»£è¡¨æµè§ˆå™¨ä¸ç¼“å­˜æ°´ï¼Œè€Œæ˜¯æµè§ˆå™¨åœ¨ä½¿ç”¨ç¼“å­˜æ•°æ®æ—¶ï¼Œé€šè¿‡åå•†ç¼“å­˜æ¥åˆ¤æ–­æ•°æ®æ˜¯å¦å’ŒæœåŠ¡å™¨ä¿æŒä¸€è‡´\n- no-storeï¼š**æ‰€æœ‰å†…å®¹éƒ½ä¸ä¼šè¢«ç¼“å­˜**ï¼Œå³ä¸ä½¿ç”¨å¼ºåˆ¶ç¼“å­˜ï¼Œä¹Ÿä¸ä½¿ç”¨åå•†ç¼“å­˜\n- max-ageï¼šmax-age=xxx è¡¨ç¤º**ç¼“å­˜å†…å®¹å°†åœ¨xxxç§’åå¤±æ•ˆ**\n- s-maxageï¼š åŒmax-ageä½œç”¨ä¸€æ ·ï¼Œåªåœ¨ä»£ç†æœåŠ¡å™¨ä¸­ç”Ÿæ•ˆï¼ˆæ¯”å¦‚CDNç¼“å­˜ï¼‰ã€‚æ¯”å¦‚å½“s-maxage=60æ—¶ï¼Œåœ¨è¿™60ç§’é’Ÿï¼ŒåŠæ—¶æ›´æ–°äº†CDNçš„å†…å®¹ï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šè¿›è¡Œè¯·æ±‚ã€‚max-ageç”¨äºæ™®é€šç¼“å­˜ï¼Œè€Œs-maxageç”¨äºä»£ç†ç¼“å­˜ã€‚s-maxageçš„ä¼˜å…ˆçº§é«˜äºmax-ageã€‚å¦‚æœå­˜åœ¨s-maxageï¼Œåˆ™ä¼šè¦†ç›–æ‰max-ageå’ŒExpiresã€‚\n\n### 3.2åå•†ç¼“å­˜\n\n*åå•†ç¼“å­˜å°±æ˜¯å¼ºç¼“å­˜å¤±æ•ˆåï¼Œæµè§ˆå™¨å†™åˆ°ç¼“å­˜æ ‡è¯†å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç”±æœåŠ¡å™¨æ ¹æ®ç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜çš„è¿‡ç¨‹ï¼Œ*ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µ\n\n**åå•†ç¼“å­˜ç”Ÿæ•ˆï¼Œè¿”å›304å’ŒNot Modified**\n\n**åå•†ç¼“å­˜å¤±æ•ˆï¼Œè¿”å›200å’Œè¯·æ±‚ç»“æœ**\n\nåå•†ç¼“å­˜å¯ä»¥é€šè¿‡è®¾ç½®ä¸¤ç§HTTP Headerå®ç°ï¼š Last-modified å’Œ ETagã€‚\n\n#### 3.2.1 Last-Modified å’Œ If-Modified-Since\n\nLast-Modified:\n\n- æµè§ˆå™¨åœ¨ç¬¬ä¸€æ¬¡è®¿é—®èµ„æºçš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šåœ¨è¿”å›èµ„æºçš„åŒäº‹ï¼Œåœ¨response headerä¸­æ·»åŠ Last-Modifiedçš„header\n- headerçš„å€¼æ˜¯è¿™ä¸ªèµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´\n- æµè§ˆå™¨æ¥æ”¶åï¼Œç¼“å­˜è¿™ä¸ªæ–‡ä»¶å’Œheader\n\nIf-Modified-Sinceï¼š\n\n- æµè§ˆå™¨ä¸‹ä¸€æ¬¡è¯·æ±‚è¿™ä¸ªèµ„æºï¼Œæµè§ˆå™¨æ£€æµ‹åˆ°æœ‰Last-Modifiedè¿™ä¸ªheaderï¼Œäºæ˜¯æµè§ˆå™¨æ·»åŠ If-Modified-Sinceè¿™ä¸ªheaderï¼Œå€¼å°±æ˜¯Last-Modifiedçš„å€¼ã€‚\n- æœåŠ¡å™¨å†æ¬¡å—åˆ°è¿™ä¸ªèµ„æºè¯·æ±‚ï¼Œä¼šæ ¹æ®If-Modified-Sinceä¸­çš„å€¼ä¸æœåŠ¡å™¨ä¸­è¿™ä¸ªèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´å¯¹æ¯”ã€‚å¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œè¿”å›304å’Œç©ºçš„å“åº”ä½“ï¼Œç›´æ¥ä»ç¼“å­˜è¯»å–ã€‚å¦‚æœIf-Modified-Sinceçš„æ—¶é—´å°äºæœåŠ¡å™¨ä¸­è¿™ä¸ªèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œè¯´æ˜æ–‡ä»¶æœ‰æ›´æ–°ï¼Œäºæ˜¯è¿”å›æ–°çš„èµ„æºæ–‡ä»¶å’Œ200.\n\nä½†æ˜¯Last-Modifiedä¹Ÿå­˜åœ¨ä¸€äº›å¼Šç«¯ï¼š\n\n- å› ä¸º Last-Modified åªèƒ½ä»¥ç§’è®¡æ—¶ï¼Œå¦‚æœåœ¨ä¸å¯æ„ŸçŸ¥çš„æ—¶é—´å†…ä¿®æ”¹å®Œæˆæ–‡ä»¶ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯ä¼šè®¤ä¸ºèµ„æºè¿˜æ˜¯å‘½ä¸­äº†ï¼Œä¸ä¼šè¿”å›æ­£ç¡®çš„èµ„æº\n\n#### 3.2.2 ETag å’Œ If-None-Match\n\n**ç›´æ¥æ ¹æ®æ–‡ä»¶å†…å®¹æ˜¯å¦ä¿®æ”¹æ¥å†³å®šç¼“å­˜ç­–ç•¥**ã€‚\n\nEtagæ˜¯æœåŠ¡å™¨å“åº”è¯·æ±‚æ—¶ï¼Œè¿”å›å½“å‰èµ„æºæ–‡ä»¶çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†(ç”±æœåŠ¡å™¨ç”Ÿæˆ)ï¼Œåªè¦èµ„æºæœ‰å˜åŒ–ï¼ŒEtagå°±ä¼šé‡æ–°ç”Ÿæˆã€‚\n\n- æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡åŠ è½½èµ„æºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œä¼šå°†ä¸Šä¸€æ¬¡è¿”å›çš„Etagå€¼æ”¾åˆ°request headeré‡Œçš„If-None-Matché‡Œï¼ŒæœåŠ¡å™¨åªéœ€è¦æ¯”è¾ƒå®¢æˆ·ç«¯ä¼ æ¥çš„If-None-Matchè·Ÿè‡ªå·±æœåŠ¡å™¨ä¸Šè¯¥èµ„æºçš„ETagå€¼æ˜¯å¦ä¸€è‡´ï¼Œå°±èƒ½å¾ˆå¥½åœ°åˆ¤æ–­èµ„æºç›¸å¯¹å®¢æˆ·ç«¯è€Œè¨€æ˜¯å¦è¢«ä¿®æ”¹è¿‡äº†ã€‚\n  - å¦‚æœæœåŠ¡å™¨å‘ç°ETagåŒ¹é…ä¸ä¸Šï¼Œé‚£ä¹ˆç›´æ¥ä»¥å¸¸è§„GET 200å›åŒ…å½¢å¼å°†æ–°çš„èµ„æºï¼ˆå½“ç„¶ä¹ŸåŒ…æ‹¬äº†æ–°çš„ETagï¼‰å‘ç»™å®¢æˆ·ç«¯ã€‚\n  - å¦‚æœETagæ˜¯ä¸€è‡´çš„ï¼Œåˆ™ç›´æ¥è¿”å›304çŸ¥ä¼šå®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜å³å¯ã€‚\n\n### 3.3æ¯”è¾ƒ\n\n- åœ¨ç²¾ç¡®åº¦ä¸Šï¼ŒEtagè¦ä¼˜äºLast-Modifiedã€‚    Last-Modifiedçš„æ—¶é—´å•ä½æ˜¯ç§’ï¼Œå¦‚æœæŸä¸ªæ–‡ä»¶åœ¨1ç§’å†…æ”¹å˜äº†å¤šæ¬¡ï¼Œé‚£ä¹ˆä»–ä»¬çš„Last-Modifiedå…¶å®å¹¶æ²¡æœ‰ä½“ç°å‡ºæ¥ä¿®æ”¹ï¼Œä½†æ˜¯Etagæ¯æ¬¡éƒ½ä¼šæ”¹å˜ç¡®ä¿äº†ç²¾åº¦ï¼›å¦‚æœæ˜¯è´Ÿè½½å‡è¡¡çš„æœåŠ¡å™¨ï¼Œå„ä¸ªæœåŠ¡å™¨ç”Ÿæˆçš„Last-Modifiedä¹Ÿæœ‰å¯èƒ½ä¸ä¸€è‡´ã€‚\n- åœ¨æ€§èƒ½ä¸Šï¼ŒEtagè¦é€ŠäºLast-Modifiedï¼Œæ¯•ç«ŸLast-Modifiedåªéœ€è¦è®°å½•æ—¶é—´ï¼Œè€ŒEtagéœ€è¦æœåŠ¡å™¨é€šè¿‡ç®—æ³•æ¥è®¡ç®—å‡ºä¸€ä¸ªhashå€¼ã€‚\n- åœ¨ä¼˜å…ˆçº§ä¸Šï¼ŒæœåŠ¡å™¨æ ¡éªŒä¼˜å…ˆè€ƒè™‘Etag\n\n## 4.ç¼“å­˜ä½ç½®\n\nä»ç¼“å­˜ä½ç½®ä¸Šæ¥è¯´åˆ†ä¸º4ç§ï¼Œå¹¶ä¸”å„è‡ªæœ‰ä¼˜å…ˆçº§ï¼Œå½“ä¾æ¬¡æŸ¥æ‰¾ç¼“å­˜ä¸”éƒ½æ²¡æœ‰å‘½ä¸­çš„æ—¶å€™ï¼Œæ‰ä¼šå»è¯·æ±‚ç½‘ç»œã€‚\n\n- Service Worker\n- Memory Cache\n- Disk Cache\n- Push Cache","source":"_posts/æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥.md","raw":"---\ntitle:  æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥\ntag: æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥\nkeywords: æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥\ncategories: æµè§ˆå™¨ç›¸å…³çŸ¥è¯†\n---\n# æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥\n\n## 1.å‰è¨€\n\n**æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ä¹Ÿå°±æ˜¯HTTPç¼“å­˜æœºåˆ¶ï¼Œå…¶æœºåˆ¶æ˜¯æ ¹æ®HTTPçš„ç¼“å­˜æ ‡è¯†è¿›è¡Œçš„**\n\n## 2.ç¼“å­˜è¿‡ç¨‹åˆ†æ\n\n**æµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„é€šä¿¡æ–¹å¼ä¸ºåº”ç­”æ¨¡å¼**ã€‚å³æµè§ˆå™¨å‘èµ·HTTP--æœåŠ¡ç«¯å“åº”HTTPè¯·æ±‚ã€‚æµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ï¼Œæ‹¿åˆ°è¯·æ±‚ç»“æœåï¼Œä¼šæ ¹æ®å“åº”æŠ¥æ–‡ä¸­å“åº”å¤´çš„ç¼“å­˜æ ‡è¯†ï¼Œå†³å®šæ˜¯å¦å°†å“åº”ç»“æœç¼“å­˜ï¼Œç¼“å­˜ï¼Œåˆ™å°†è¯·æ±‚ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥åˆ°æµè§ˆå™¨ç¼“å­˜å½“ä¸­\n\n## 3.ç¼“å­˜ç­–ç•¥\n\n**æµè§ˆå™¨ç¼“å­˜ç­–ç•¥åˆ†ä¸ºä¸¤ç§ï¼šå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜**ã€‚å¹¶ä¸”ç¼“å­˜ç­–ç•¥éƒ½æ˜¯é€šè¿‡è®¾ç½®HTTP headeræ¥å®ç°çš„ã€‚\n\nå®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ï¼Œå­˜åœ¨ç¼“å­˜æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šå°†è¯·æ±‚ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥åˆ°å†…å­˜æˆ–ç¡¬ç›˜å½“ä¸­ï¼›å½“å†æ¬¡è·å–ç›¸åŒçš„èµ„æºï¼Œå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„åº”å¯¹æ–¹å¼ä¹Ÿæœ‰æ‰€ä¸åŒ\n\n**å¼ºç¼“å­˜**ï¼šå®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚ç›¸åŒçš„èµ„æºæ—¶ï¼Œä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè€Œæ˜¯æ ¹æ®å¼ºç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ç›´æ¥ä»å†…å­˜/ç¡¬ç›˜ä¸­è¯»å–æ•°æ®\n\n**åå•†ç¼“å­˜**ï¼šå®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚ç›¸åŒçš„èµ„æºæ—¶ï¼Œå…ˆå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚â€œè¯¢é—®â€åœ¨æœ¬åœ°ç¼“å­˜çš„èµ„æºæ–‡ä»¶ç›¸æ¯”æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æ˜¯å¦å‘ç”Ÿä¿®æ”¹ï¼Œå¦‚æœæœ‰æ›´æ”¹ï¼Œåˆ™è·å–æœ€æ–°çš„æ–‡ä»¶èµ„æºå¹¶ç¼“å­˜ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä»å†…å­˜/ç¡¬ç›˜ä¸­è¯»å–\n\n### 3.1å¼ºç¼“å­˜\n\n**å¼ºç¼“å­˜å°±æ˜¯å‘æµè§ˆå™¨ç¼“å­˜æŸ¥æ‰¾è¯·æ±‚ç»“æœï¼Œå¹¶ä¸”æ ¹æ®è¯¥ç»“æœçš„ç¼“å­˜è§„åˆ™æ¥å†³å®šæ˜¯å¦ä½¿ç”¨è¯¥ç¼“å­˜ç»“æœçš„è¿‡ç¨‹*\n\nå¼ºç¼“å­˜ä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè€Œæ˜¯ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–èµ„æºï¼Œåœ¨chromeæ§åˆ¶å°çš„networké€‰ä¸­å¯ä»¥çœ‹åˆ°è¯¥è¯·æ±‚è¿”å›200çš„çŠ¶æ€ç ï¼Œå¹¶ä¸”SIzeæ˜¾ç¤ºfrom disk cacheæˆ–from memory cache\n\nå¼ºç¼“å­˜å¯ä»¥é€šè¿‡è®¾ç½®ä¸¤ç§HTTP Headerå®ç°ï¼š Expires å’Œ Cache-Controlã€‚\n\nå¼ºç¼“å­˜çš„æƒ…å†µä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š\n\n1. ä¸å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œå¼ºç¼“å­˜å¤±æ•ˆï¼Œç›´æ¥å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ˆå’Œç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ä¸€è‡´ï¼‰\n2. å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä½†æ˜¯ç»“æœå·²ç»å¤±æ•ˆï¼Œå¼ºç¼“å­˜å¤±æ•ˆï¼Œåˆ™ä½¿ç”¨åå•†ç¼“å­˜\n3. å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä¸”è¯¥ç»“æœæ²¡æœ‰ç”Ÿæ•ˆï¼Œå¼ºç¼“å­˜ç”Ÿæ•ˆï¼Œç›´æ¥è¿”å›è¯¥ç»“æœ\n\nå½“æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šå°†ç¼“å­˜è§„åˆ™æ”¾å…¥HTTPå“åº”æŠ¥æ–‡çš„HTTPå¤´ä¸­å’Œè¯·æ±‚ç»“æœä¸€èµ·è¿”å›ç»™æµè§ˆå™¨ï¼Œæ§åˆ¶å¼ºç¼“å­˜çš„å­—æ®µåˆ†åˆ«æ˜¯Expireså’ŒCache-Controlï¼Œå…¶ä¸­Cache-Controlçš„ä¼˜å…ˆçº§æ¯”Expiresé«˜ã€‚\n\n#### 3.1.1Expires\n\nç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œç”¨æ¥æŒ‡å®šèµ„æºåˆ°æœŸçš„æ—¶é—´ï¼Œæ˜¯æœåŠ¡å™¨ç«¯çš„å…·ä½“çš„æ—¶é—´ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒExpires=max-age + è¯·æ±‚æ—¶é—´ï¼Œéœ€è¦å’Œlast-modifiedç»“åˆä½¿ç”¨ã€‚\n\nExpiresæ˜¯WebæœåŠ¡å™¨å“åº”æ¶ˆæ¯å¤´å­—æ®µï¼Œåœ¨å“åº”httpè¯·æ±‚æ—¶å‘Šè¯‰æµè§ˆå™¨åœ¨è¿‡æœŸæ—¶é—´å‰æµè§ˆå™¨å¯ä»¥ç›´æ¥ä»æµè§ˆå™¨ç¼“å­˜è·å–æ•°æ®ï¼Œè€Œæ— éœ€å†æ¬¡è¯·æ±‚ã€‚\n\nExpiresæ˜¯HTTP/1çš„äº§ç‰©ï¼Œå—é™äºæœ¬åœ°æ—¶é—´ï¼Œå¦‚æœä¿®æ”¹äº†æœ¬åœ°æ—¶é—´ï¼Œå¯èƒ½ä¼šé€ æˆç¼“å­˜å¤±æ•ˆ\n\nåˆ°äº†HTTP/1.1ï¼ŒExpireså·²ç»è¢«Cache-Controlæ›¿ä»£ã€‚\n\nåŸå› åœ¨äºExpiresæ§åˆ¶ç¼“å­˜çš„åŸç†æ˜¯ä½¿ç”¨å®¢æˆ·ç«¯çš„æ—¶é—´ä¸æœåŠ¡ç«¯è¿”å›çš„æ—¶é—´å¯¹æ¯”ï¼Œå¦‚æœå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„æ—¶é—´ç”±äºæŸäº›åŸå› ï¼ˆæ—¶åŒºä¸åŒï¼›å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æœ‰ä¸€æ–¹çš„æ—¶é—´ä¸å‡†ç¡®ï¼‰å‘ç”Ÿè¯¯å·®ï¼Œå¼ºåˆ¶ç¼“å­˜å¯èƒ½ä¼šå¤±æ•ˆã€‚\n\n#### 3.1.2Cache-Control\n\nåœ¨HTTP/1.1ä¸­ï¼ŒCache-Controlæ˜¯æœ€é‡è¦çš„è§„åˆ™ï¼Œä¸»è¦ç”¨äºæ§åˆ¶ç½‘é¡µç¼“å­˜ã€‚æ¯”å¦‚å½“Cache-Controlï¼šmax-age=300æ—¶ï¼Œåˆ™ä»£è¡¨åœ¨è¿™ä¸ªè¯·æ±‚æ­£ç¡®è¿”å›æ—¶é—´çš„5åˆ†é’Ÿå†…å†æ¬¡åŠ è½½èµ„æºï¼Œå°±ä¼šå‘½ä¸­å¼ºç¼“å­˜ã€‚\n\nCache-Controlå¯ä»¥åœ¨è¯·æ±‚å¤´æˆ–è€…å“åº”å¤´ä¸­è®¾ç½®ï¼Œå¹¶ä¸”å¯ä»¥ç»„åˆä½¿ç”¨å¤šç§æŒ‡ä»¤ï¼Œä¸»è¦å–å€¼ä¸ºï¼š\n\n- publicï¼š**æ‰€æœ‰å†…å®¹éƒ½å°†è¢«ç¼“å­˜ï¼ˆå®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨éƒ½å¯ç¼“å­˜ï¼‰**ã€‚å…·ä½“æ¥è¯´å“åº”å¯è¢«ä»»ä½•ä¸­é—´èŠ‚ç‚¹ç¼“å­˜ï¼Œå¦‚Browser <-- proxy1 <-- proxy2 <-- Serverï¼Œ ä¸­é—´çš„proxyä¹Ÿå¯ä»¥ç¼“å­˜èµ„æºï¼Œæ¯”å¦‚ä¸‹æ¬¡å†è¯·æ±‚åŒä¸€èµ„æºproxy1ç›´æ¥æŠŠè‡ªå·±ç¼“å­˜çš„ä¸œè¥¿ç»™Browserè€Œä¸å†å‘proxy2è¦\n- privateï¼š**æ‰€ä»¥å†…å®¹åªæœ‰å®¢æˆ·ç«¯å¯ä»¥ç¼“å­˜ï¼Œ Cache-Controlçš„é»˜è®¤å–å€¼**ã€‚å…·ä½“æ¥è¯´ï¼Œè¡¨ç¤ºä¸­é—´èŠ‚ç‚¹ä¸å…è®¸ç¼“å­˜ï¼Œå¯¹äºBrowser <-- proxy1 <-- proxy2 <-- Serverï¼Œproxyä¼šè€è€å®å®æŠŠServerè¿”å›çš„æ•°æ®å‘é€ç»™Browserï¼Œè‡ªå·±ä¸ç¼“å­˜ä»»ä½•æ•°æ®ã€‚å½“ä¸‹æ¬¡Browserå†æ¬¡è¯·æ±‚æ—¶proxyä¼šåšå¥½è¯·æ±‚è½¬å‘è€Œä¸æ˜¯è‡ªä½œä¸»å¼ ç»™è‡ªå·±ç¼“å­˜çš„æ•°æ®\n- no-cacheï¼š**å®¢æˆ·ç«¯ç¼“å­˜å†…å®¹ï¼Œæ˜¯å¦ä½¿ç”¨ç¼“å­˜åˆ™éœ€è¦ç»è¿‡åå•†ç¼“å­˜æ¥éªŒè¯å†³å®š**ã€‚è¡¨ç¤ºä¸ä½¿ç”¨Cache-Controlçš„ç¼“å­˜æ§åˆ¶æ–¹å¼åšå‰ç½®éªŒè¯å·ï¼Œè€Œæ˜¯ä½¿ç”¨Etagæˆ–è€…Last-Modifiedå­—æ®µæ¥æ§åˆ¶ç¼“å­˜ã€‚æ³¨æ„ï¼šno-cacheè¿™ä¸ªåå­—æœ‰ä¸€ç‚¹è¯¯å¯¼ã€‚è®¾ç½®no-cahceï¼Œä¸ä»£è¡¨æµè§ˆå™¨ä¸ç¼“å­˜æ°´ï¼Œè€Œæ˜¯æµè§ˆå™¨åœ¨ä½¿ç”¨ç¼“å­˜æ•°æ®æ—¶ï¼Œé€šè¿‡åå•†ç¼“å­˜æ¥åˆ¤æ–­æ•°æ®æ˜¯å¦å’ŒæœåŠ¡å™¨ä¿æŒä¸€è‡´\n- no-storeï¼š**æ‰€æœ‰å†…å®¹éƒ½ä¸ä¼šè¢«ç¼“å­˜**ï¼Œå³ä¸ä½¿ç”¨å¼ºåˆ¶ç¼“å­˜ï¼Œä¹Ÿä¸ä½¿ç”¨åå•†ç¼“å­˜\n- max-ageï¼šmax-age=xxx è¡¨ç¤º**ç¼“å­˜å†…å®¹å°†åœ¨xxxç§’åå¤±æ•ˆ**\n- s-maxageï¼š åŒmax-ageä½œç”¨ä¸€æ ·ï¼Œåªåœ¨ä»£ç†æœåŠ¡å™¨ä¸­ç”Ÿæ•ˆï¼ˆæ¯”å¦‚CDNç¼“å­˜ï¼‰ã€‚æ¯”å¦‚å½“s-maxage=60æ—¶ï¼Œåœ¨è¿™60ç§’é’Ÿï¼ŒåŠæ—¶æ›´æ–°äº†CDNçš„å†…å®¹ï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šè¿›è¡Œè¯·æ±‚ã€‚max-ageç”¨äºæ™®é€šç¼“å­˜ï¼Œè€Œs-maxageç”¨äºä»£ç†ç¼“å­˜ã€‚s-maxageçš„ä¼˜å…ˆçº§é«˜äºmax-ageã€‚å¦‚æœå­˜åœ¨s-maxageï¼Œåˆ™ä¼šè¦†ç›–æ‰max-ageå’ŒExpiresã€‚\n\n### 3.2åå•†ç¼“å­˜\n\n*åå•†ç¼“å­˜å°±æ˜¯å¼ºç¼“å­˜å¤±æ•ˆåï¼Œæµè§ˆå™¨å†™åˆ°ç¼“å­˜æ ‡è¯†å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç”±æœåŠ¡å™¨æ ¹æ®ç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜çš„è¿‡ç¨‹ï¼Œ*ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µ\n\n**åå•†ç¼“å­˜ç”Ÿæ•ˆï¼Œè¿”å›304å’ŒNot Modified**\n\n**åå•†ç¼“å­˜å¤±æ•ˆï¼Œè¿”å›200å’Œè¯·æ±‚ç»“æœ**\n\nåå•†ç¼“å­˜å¯ä»¥é€šè¿‡è®¾ç½®ä¸¤ç§HTTP Headerå®ç°ï¼š Last-modified å’Œ ETagã€‚\n\n#### 3.2.1 Last-Modified å’Œ If-Modified-Since\n\nLast-Modified:\n\n- æµè§ˆå™¨åœ¨ç¬¬ä¸€æ¬¡è®¿é—®èµ„æºçš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šåœ¨è¿”å›èµ„æºçš„åŒäº‹ï¼Œåœ¨response headerä¸­æ·»åŠ Last-Modifiedçš„header\n- headerçš„å€¼æ˜¯è¿™ä¸ªèµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´\n- æµè§ˆå™¨æ¥æ”¶åï¼Œç¼“å­˜è¿™ä¸ªæ–‡ä»¶å’Œheader\n\nIf-Modified-Sinceï¼š\n\n- æµè§ˆå™¨ä¸‹ä¸€æ¬¡è¯·æ±‚è¿™ä¸ªèµ„æºï¼Œæµè§ˆå™¨æ£€æµ‹åˆ°æœ‰Last-Modifiedè¿™ä¸ªheaderï¼Œäºæ˜¯æµè§ˆå™¨æ·»åŠ If-Modified-Sinceè¿™ä¸ªheaderï¼Œå€¼å°±æ˜¯Last-Modifiedçš„å€¼ã€‚\n- æœåŠ¡å™¨å†æ¬¡å—åˆ°è¿™ä¸ªèµ„æºè¯·æ±‚ï¼Œä¼šæ ¹æ®If-Modified-Sinceä¸­çš„å€¼ä¸æœåŠ¡å™¨ä¸­è¿™ä¸ªèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´å¯¹æ¯”ã€‚å¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œè¿”å›304å’Œç©ºçš„å“åº”ä½“ï¼Œç›´æ¥ä»ç¼“å­˜è¯»å–ã€‚å¦‚æœIf-Modified-Sinceçš„æ—¶é—´å°äºæœåŠ¡å™¨ä¸­è¿™ä¸ªèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œè¯´æ˜æ–‡ä»¶æœ‰æ›´æ–°ï¼Œäºæ˜¯è¿”å›æ–°çš„èµ„æºæ–‡ä»¶å’Œ200.\n\nä½†æ˜¯Last-Modifiedä¹Ÿå­˜åœ¨ä¸€äº›å¼Šç«¯ï¼š\n\n- å› ä¸º Last-Modified åªèƒ½ä»¥ç§’è®¡æ—¶ï¼Œå¦‚æœåœ¨ä¸å¯æ„ŸçŸ¥çš„æ—¶é—´å†…ä¿®æ”¹å®Œæˆæ–‡ä»¶ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯ä¼šè®¤ä¸ºèµ„æºè¿˜æ˜¯å‘½ä¸­äº†ï¼Œä¸ä¼šè¿”å›æ­£ç¡®çš„èµ„æº\n\n#### 3.2.2 ETag å’Œ If-None-Match\n\n**ç›´æ¥æ ¹æ®æ–‡ä»¶å†…å®¹æ˜¯å¦ä¿®æ”¹æ¥å†³å®šç¼“å­˜ç­–ç•¥**ã€‚\n\nEtagæ˜¯æœåŠ¡å™¨å“åº”è¯·æ±‚æ—¶ï¼Œè¿”å›å½“å‰èµ„æºæ–‡ä»¶çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†(ç”±æœåŠ¡å™¨ç”Ÿæˆ)ï¼Œåªè¦èµ„æºæœ‰å˜åŒ–ï¼ŒEtagå°±ä¼šé‡æ–°ç”Ÿæˆã€‚\n\n- æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡åŠ è½½èµ„æºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œä¼šå°†ä¸Šä¸€æ¬¡è¿”å›çš„Etagå€¼æ”¾åˆ°request headeré‡Œçš„If-None-Matché‡Œï¼ŒæœåŠ¡å™¨åªéœ€è¦æ¯”è¾ƒå®¢æˆ·ç«¯ä¼ æ¥çš„If-None-Matchè·Ÿè‡ªå·±æœåŠ¡å™¨ä¸Šè¯¥èµ„æºçš„ETagå€¼æ˜¯å¦ä¸€è‡´ï¼Œå°±èƒ½å¾ˆå¥½åœ°åˆ¤æ–­èµ„æºç›¸å¯¹å®¢æˆ·ç«¯è€Œè¨€æ˜¯å¦è¢«ä¿®æ”¹è¿‡äº†ã€‚\n  - å¦‚æœæœåŠ¡å™¨å‘ç°ETagåŒ¹é…ä¸ä¸Šï¼Œé‚£ä¹ˆç›´æ¥ä»¥å¸¸è§„GET 200å›åŒ…å½¢å¼å°†æ–°çš„èµ„æºï¼ˆå½“ç„¶ä¹ŸåŒ…æ‹¬äº†æ–°çš„ETagï¼‰å‘ç»™å®¢æˆ·ç«¯ã€‚\n  - å¦‚æœETagæ˜¯ä¸€è‡´çš„ï¼Œåˆ™ç›´æ¥è¿”å›304çŸ¥ä¼šå®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜å³å¯ã€‚\n\n### 3.3æ¯”è¾ƒ\n\n- åœ¨ç²¾ç¡®åº¦ä¸Šï¼ŒEtagè¦ä¼˜äºLast-Modifiedã€‚    Last-Modifiedçš„æ—¶é—´å•ä½æ˜¯ç§’ï¼Œå¦‚æœæŸä¸ªæ–‡ä»¶åœ¨1ç§’å†…æ”¹å˜äº†å¤šæ¬¡ï¼Œé‚£ä¹ˆä»–ä»¬çš„Last-Modifiedå…¶å®å¹¶æ²¡æœ‰ä½“ç°å‡ºæ¥ä¿®æ”¹ï¼Œä½†æ˜¯Etagæ¯æ¬¡éƒ½ä¼šæ”¹å˜ç¡®ä¿äº†ç²¾åº¦ï¼›å¦‚æœæ˜¯è´Ÿè½½å‡è¡¡çš„æœåŠ¡å™¨ï¼Œå„ä¸ªæœåŠ¡å™¨ç”Ÿæˆçš„Last-Modifiedä¹Ÿæœ‰å¯èƒ½ä¸ä¸€è‡´ã€‚\n- åœ¨æ€§èƒ½ä¸Šï¼ŒEtagè¦é€ŠäºLast-Modifiedï¼Œæ¯•ç«ŸLast-Modifiedåªéœ€è¦è®°å½•æ—¶é—´ï¼Œè€ŒEtagéœ€è¦æœåŠ¡å™¨é€šè¿‡ç®—æ³•æ¥è®¡ç®—å‡ºä¸€ä¸ªhashå€¼ã€‚\n- åœ¨ä¼˜å…ˆçº§ä¸Šï¼ŒæœåŠ¡å™¨æ ¡éªŒä¼˜å…ˆè€ƒè™‘Etag\n\n## 4.ç¼“å­˜ä½ç½®\n\nä»ç¼“å­˜ä½ç½®ä¸Šæ¥è¯´åˆ†ä¸º4ç§ï¼Œå¹¶ä¸”å„è‡ªæœ‰ä¼˜å…ˆçº§ï¼Œå½“ä¾æ¬¡æŸ¥æ‰¾ç¼“å­˜ä¸”éƒ½æ²¡æœ‰å‘½ä¸­çš„æ—¶å€™ï¼Œæ‰ä¼šå»è¯·æ±‚ç½‘ç»œã€‚\n\n- Service Worker\n- Memory Cache\n- Disk Cache\n- Push Cache","slug":"æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥","published":1,"date":"2022-11-03T08:35:18.072Z","updated":"2022-11-03T08:35:47.338Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9l1000ui024g8wxejmn","content":"<h1 id=\"æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥\"><a href=\"#æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥\" class=\"headerlink\" title=\"æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥\"></a>æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥</h1><h2 id=\"1-å‰è¨€\"><a href=\"#1-å‰è¨€\" class=\"headerlink\" title=\"1.å‰è¨€\"></a>1.å‰è¨€</h2><p><strong>æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ä¹Ÿå°±æ˜¯HTTPç¼“å­˜æœºåˆ¶ï¼Œå…¶æœºåˆ¶æ˜¯æ ¹æ®HTTPçš„ç¼“å­˜æ ‡è¯†è¿›è¡Œçš„</strong></p>\n<h2 id=\"2-ç¼“å­˜è¿‡ç¨‹åˆ†æ\"><a href=\"#2-ç¼“å­˜è¿‡ç¨‹åˆ†æ\" class=\"headerlink\" title=\"2.ç¼“å­˜è¿‡ç¨‹åˆ†æ\"></a>2.ç¼“å­˜è¿‡ç¨‹åˆ†æ</h2><p><strong>æµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„é€šä¿¡æ–¹å¼ä¸ºåº”ç­”æ¨¡å¼</strong>ã€‚å³æµè§ˆå™¨å‘èµ·HTTPâ€“æœåŠ¡ç«¯å“åº”HTTPè¯·æ±‚ã€‚æµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ï¼Œæ‹¿åˆ°è¯·æ±‚ç»“æœåï¼Œä¼šæ ¹æ®å“åº”æŠ¥æ–‡ä¸­å“åº”å¤´çš„ç¼“å­˜æ ‡è¯†ï¼Œå†³å®šæ˜¯å¦å°†å“åº”ç»“æœç¼“å­˜ï¼Œç¼“å­˜ï¼Œåˆ™å°†è¯·æ±‚ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥åˆ°æµè§ˆå™¨ç¼“å­˜å½“ä¸­</p>\n<h2 id=\"3-ç¼“å­˜ç­–ç•¥\"><a href=\"#3-ç¼“å­˜ç­–ç•¥\" class=\"headerlink\" title=\"3.ç¼“å­˜ç­–ç•¥\"></a>3.ç¼“å­˜ç­–ç•¥</h2><p><strong>æµè§ˆå™¨ç¼“å­˜ç­–ç•¥åˆ†ä¸ºä¸¤ç§ï¼šå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜</strong>ã€‚å¹¶ä¸”ç¼“å­˜ç­–ç•¥éƒ½æ˜¯é€šè¿‡è®¾ç½®HTTP headeræ¥å®ç°çš„ã€‚</p>\n<p>å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ï¼Œå­˜åœ¨ç¼“å­˜æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šå°†è¯·æ±‚ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥åˆ°å†…å­˜æˆ–ç¡¬ç›˜å½“ä¸­ï¼›å½“å†æ¬¡è·å–ç›¸åŒçš„èµ„æºï¼Œå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„åº”å¯¹æ–¹å¼ä¹Ÿæœ‰æ‰€ä¸åŒ</p>\n<p><strong>å¼ºç¼“å­˜</strong>ï¼šå®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚ç›¸åŒçš„èµ„æºæ—¶ï¼Œä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè€Œæ˜¯æ ¹æ®å¼ºç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ç›´æ¥ä»å†…å­˜/ç¡¬ç›˜ä¸­è¯»å–æ•°æ®</p>\n<p><strong>åå•†ç¼“å­˜</strong>ï¼šå®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚ç›¸åŒçš„èµ„æºæ—¶ï¼Œå…ˆå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚â€œè¯¢é—®â€åœ¨æœ¬åœ°ç¼“å­˜çš„èµ„æºæ–‡ä»¶ç›¸æ¯”æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æ˜¯å¦å‘ç”Ÿä¿®æ”¹ï¼Œå¦‚æœæœ‰æ›´æ”¹ï¼Œåˆ™è·å–æœ€æ–°çš„æ–‡ä»¶èµ„æºå¹¶ç¼“å­˜ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä»å†…å­˜/ç¡¬ç›˜ä¸­è¯»å–</p>\n<h3 id=\"3-1å¼ºç¼“å­˜\"><a href=\"#3-1å¼ºç¼“å­˜\" class=\"headerlink\" title=\"3.1å¼ºç¼“å­˜\"></a>3.1å¼ºç¼“å­˜</h3><p>*<em>å¼ºç¼“å­˜å°±æ˜¯å‘æµè§ˆå™¨ç¼“å­˜æŸ¥æ‰¾è¯·æ±‚ç»“æœï¼Œå¹¶ä¸”æ ¹æ®è¯¥ç»“æœçš„ç¼“å­˜è§„åˆ™æ¥å†³å®šæ˜¯å¦ä½¿ç”¨è¯¥ç¼“å­˜ç»“æœçš„è¿‡ç¨‹</em></p>\n<p>å¼ºç¼“å­˜ä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè€Œæ˜¯ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–èµ„æºï¼Œåœ¨chromeæ§åˆ¶å°çš„networké€‰ä¸­å¯ä»¥çœ‹åˆ°è¯¥è¯·æ±‚è¿”å›200çš„çŠ¶æ€ç ï¼Œå¹¶ä¸”SIzeæ˜¾ç¤ºfrom disk cacheæˆ–from memory cache</p>\n<p>å¼ºç¼“å­˜å¯ä»¥é€šè¿‡è®¾ç½®ä¸¤ç§HTTP Headerå®ç°ï¼š Expires å’Œ Cache-Controlã€‚</p>\n<p>å¼ºç¼“å­˜çš„æƒ…å†µä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š</p>\n<ol>\n<li>ä¸å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œå¼ºç¼“å­˜å¤±æ•ˆï¼Œç›´æ¥å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ˆå’Œç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ä¸€è‡´ï¼‰</li>\n<li>å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä½†æ˜¯ç»“æœå·²ç»å¤±æ•ˆï¼Œå¼ºç¼“å­˜å¤±æ•ˆï¼Œåˆ™ä½¿ç”¨åå•†ç¼“å­˜</li>\n<li>å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä¸”è¯¥ç»“æœæ²¡æœ‰ç”Ÿæ•ˆï¼Œå¼ºç¼“å­˜ç”Ÿæ•ˆï¼Œç›´æ¥è¿”å›è¯¥ç»“æœ</li>\n</ol>\n<p>å½“æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šå°†ç¼“å­˜è§„åˆ™æ”¾å…¥HTTPå“åº”æŠ¥æ–‡çš„HTTPå¤´ä¸­å’Œè¯·æ±‚ç»“æœä¸€èµ·è¿”å›ç»™æµè§ˆå™¨ï¼Œæ§åˆ¶å¼ºç¼“å­˜çš„å­—æ®µåˆ†åˆ«æ˜¯Expireså’ŒCache-Controlï¼Œå…¶ä¸­Cache-Controlçš„ä¼˜å…ˆçº§æ¯”Expiresé«˜ã€‚</p>\n<h4 id=\"3-1-1Expires\"><a href=\"#3-1-1Expires\" class=\"headerlink\" title=\"3.1.1Expires\"></a>3.1.1Expires</h4><p>ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œç”¨æ¥æŒ‡å®šèµ„æºåˆ°æœŸçš„æ—¶é—´ï¼Œæ˜¯æœåŠ¡å™¨ç«¯çš„å…·ä½“çš„æ—¶é—´ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒExpires=max-age + è¯·æ±‚æ—¶é—´ï¼Œéœ€è¦å’Œlast-modifiedç»“åˆä½¿ç”¨ã€‚</p>\n<p>Expiresæ˜¯WebæœåŠ¡å™¨å“åº”æ¶ˆæ¯å¤´å­—æ®µï¼Œåœ¨å“åº”httpè¯·æ±‚æ—¶å‘Šè¯‰æµè§ˆå™¨åœ¨è¿‡æœŸæ—¶é—´å‰æµè§ˆå™¨å¯ä»¥ç›´æ¥ä»æµè§ˆå™¨ç¼“å­˜è·å–æ•°æ®ï¼Œè€Œæ— éœ€å†æ¬¡è¯·æ±‚ã€‚</p>\n<p>Expiresæ˜¯HTTP/1çš„äº§ç‰©ï¼Œå—é™äºæœ¬åœ°æ—¶é—´ï¼Œå¦‚æœä¿®æ”¹äº†æœ¬åœ°æ—¶é—´ï¼Œå¯èƒ½ä¼šé€ æˆç¼“å­˜å¤±æ•ˆ</p>\n<p>åˆ°äº†HTTP/1.1ï¼ŒExpireså·²ç»è¢«Cache-Controlæ›¿ä»£ã€‚</p>\n<p>åŸå› åœ¨äºExpiresæ§åˆ¶ç¼“å­˜çš„åŸç†æ˜¯ä½¿ç”¨å®¢æˆ·ç«¯çš„æ—¶é—´ä¸æœåŠ¡ç«¯è¿”å›çš„æ—¶é—´å¯¹æ¯”ï¼Œå¦‚æœå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„æ—¶é—´ç”±äºæŸäº›åŸå› ï¼ˆæ—¶åŒºä¸åŒï¼›å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æœ‰ä¸€æ–¹çš„æ—¶é—´ä¸å‡†ç¡®ï¼‰å‘ç”Ÿè¯¯å·®ï¼Œå¼ºåˆ¶ç¼“å­˜å¯èƒ½ä¼šå¤±æ•ˆã€‚</p>\n<h4 id=\"3-1-2Cache-Control\"><a href=\"#3-1-2Cache-Control\" class=\"headerlink\" title=\"3.1.2Cache-Control\"></a>3.1.2Cache-Control</h4><p>åœ¨HTTP/1.1ä¸­ï¼ŒCache-Controlæ˜¯æœ€é‡è¦çš„è§„åˆ™ï¼Œä¸»è¦ç”¨äºæ§åˆ¶ç½‘é¡µç¼“å­˜ã€‚æ¯”å¦‚å½“Cache-Controlï¼šmax-age=300æ—¶ï¼Œåˆ™ä»£è¡¨åœ¨è¿™ä¸ªè¯·æ±‚æ­£ç¡®è¿”å›æ—¶é—´çš„5åˆ†é’Ÿå†…å†æ¬¡åŠ è½½èµ„æºï¼Œå°±ä¼šå‘½ä¸­å¼ºç¼“å­˜ã€‚</p>\n<p>Cache-Controlå¯ä»¥åœ¨è¯·æ±‚å¤´æˆ–è€…å“åº”å¤´ä¸­è®¾ç½®ï¼Œå¹¶ä¸”å¯ä»¥ç»„åˆä½¿ç”¨å¤šç§æŒ‡ä»¤ï¼Œä¸»è¦å–å€¼ä¸ºï¼š</p>\n<ul>\n<li>publicï¼š<strong>æ‰€æœ‰å†…å®¹éƒ½å°†è¢«ç¼“å­˜ï¼ˆå®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨éƒ½å¯ç¼“å­˜ï¼‰</strong>ã€‚å…·ä½“æ¥è¯´å“åº”å¯è¢«ä»»ä½•ä¸­é—´èŠ‚ç‚¹ç¼“å­˜ï¼Œå¦‚Browser &lt;â€“ proxy1 &lt;â€“ proxy2 &lt;â€“ Serverï¼Œ ä¸­é—´çš„proxyä¹Ÿå¯ä»¥ç¼“å­˜èµ„æºï¼Œæ¯”å¦‚ä¸‹æ¬¡å†è¯·æ±‚åŒä¸€èµ„æºproxy1ç›´æ¥æŠŠè‡ªå·±ç¼“å­˜çš„ä¸œè¥¿ç»™Browserè€Œä¸å†å‘proxy2è¦</li>\n<li>privateï¼š<strong>æ‰€ä»¥å†…å®¹åªæœ‰å®¢æˆ·ç«¯å¯ä»¥ç¼“å­˜ï¼Œ Cache-Controlçš„é»˜è®¤å–å€¼</strong>ã€‚å…·ä½“æ¥è¯´ï¼Œè¡¨ç¤ºä¸­é—´èŠ‚ç‚¹ä¸å…è®¸ç¼“å­˜ï¼Œå¯¹äºBrowser &lt;â€“ proxy1 &lt;â€“ proxy2 &lt;â€“ Serverï¼Œproxyä¼šè€è€å®å®æŠŠServerè¿”å›çš„æ•°æ®å‘é€ç»™Browserï¼Œè‡ªå·±ä¸ç¼“å­˜ä»»ä½•æ•°æ®ã€‚å½“ä¸‹æ¬¡Browserå†æ¬¡è¯·æ±‚æ—¶proxyä¼šåšå¥½è¯·æ±‚è½¬å‘è€Œä¸æ˜¯è‡ªä½œä¸»å¼ ç»™è‡ªå·±ç¼“å­˜çš„æ•°æ®</li>\n<li>no-cacheï¼š<strong>å®¢æˆ·ç«¯ç¼“å­˜å†…å®¹ï¼Œæ˜¯å¦ä½¿ç”¨ç¼“å­˜åˆ™éœ€è¦ç»è¿‡åå•†ç¼“å­˜æ¥éªŒè¯å†³å®š</strong>ã€‚è¡¨ç¤ºä¸ä½¿ç”¨Cache-Controlçš„ç¼“å­˜æ§åˆ¶æ–¹å¼åšå‰ç½®éªŒè¯å·ï¼Œè€Œæ˜¯ä½¿ç”¨Etagæˆ–è€…Last-Modifiedå­—æ®µæ¥æ§åˆ¶ç¼“å­˜ã€‚æ³¨æ„ï¼šno-cacheè¿™ä¸ªåå­—æœ‰ä¸€ç‚¹è¯¯å¯¼ã€‚è®¾ç½®no-cahceï¼Œä¸ä»£è¡¨æµè§ˆå™¨ä¸ç¼“å­˜æ°´ï¼Œè€Œæ˜¯æµè§ˆå™¨åœ¨ä½¿ç”¨ç¼“å­˜æ•°æ®æ—¶ï¼Œé€šè¿‡åå•†ç¼“å­˜æ¥åˆ¤æ–­æ•°æ®æ˜¯å¦å’ŒæœåŠ¡å™¨ä¿æŒä¸€è‡´</li>\n<li>no-storeï¼š<strong>æ‰€æœ‰å†…å®¹éƒ½ä¸ä¼šè¢«ç¼“å­˜</strong>ï¼Œå³ä¸ä½¿ç”¨å¼ºåˆ¶ç¼“å­˜ï¼Œä¹Ÿä¸ä½¿ç”¨åå•†ç¼“å­˜</li>\n<li>max-ageï¼šmax-age=xxx è¡¨ç¤º<strong>ç¼“å­˜å†…å®¹å°†åœ¨xxxç§’åå¤±æ•ˆ</strong></li>\n<li>s-maxageï¼š åŒmax-ageä½œç”¨ä¸€æ ·ï¼Œåªåœ¨ä»£ç†æœåŠ¡å™¨ä¸­ç”Ÿæ•ˆï¼ˆæ¯”å¦‚CDNç¼“å­˜ï¼‰ã€‚æ¯”å¦‚å½“s-maxage=60æ—¶ï¼Œåœ¨è¿™60ç§’é’Ÿï¼ŒåŠæ—¶æ›´æ–°äº†CDNçš„å†…å®¹ï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šè¿›è¡Œè¯·æ±‚ã€‚max-ageç”¨äºæ™®é€šç¼“å­˜ï¼Œè€Œs-maxageç”¨äºä»£ç†ç¼“å­˜ã€‚s-maxageçš„ä¼˜å…ˆçº§é«˜äºmax-ageã€‚å¦‚æœå­˜åœ¨s-maxageï¼Œåˆ™ä¼šè¦†ç›–æ‰max-ageå’ŒExpiresã€‚</li>\n</ul>\n<h3 id=\"3-2åå•†ç¼“å­˜\"><a href=\"#3-2åå•†ç¼“å­˜\" class=\"headerlink\" title=\"3.2åå•†ç¼“å­˜\"></a>3.2åå•†ç¼“å­˜</h3><p><em>åå•†ç¼“å­˜å°±æ˜¯å¼ºç¼“å­˜å¤±æ•ˆåï¼Œæµè§ˆå™¨å†™åˆ°ç¼“å­˜æ ‡è¯†å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç”±æœåŠ¡å™¨æ ¹æ®ç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜çš„è¿‡ç¨‹ï¼Œ</em>ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µ</p>\n<p><strong>åå•†ç¼“å­˜ç”Ÿæ•ˆï¼Œè¿”å›304å’ŒNot Modified</strong></p>\n<p><strong>åå•†ç¼“å­˜å¤±æ•ˆï¼Œè¿”å›200å’Œè¯·æ±‚ç»“æœ</strong></p>\n<p>åå•†ç¼“å­˜å¯ä»¥é€šè¿‡è®¾ç½®ä¸¤ç§HTTP Headerå®ç°ï¼š Last-modified å’Œ ETagã€‚</p>\n<h4 id=\"3-2-1-Last-Modified-å’Œ-If-Modified-Since\"><a href=\"#3-2-1-Last-Modified-å’Œ-If-Modified-Since\" class=\"headerlink\" title=\"3.2.1 Last-Modified å’Œ If-Modified-Since\"></a>3.2.1 Last-Modified å’Œ If-Modified-Since</h4><p>Last-Modified:</p>\n<ul>\n<li>æµè§ˆå™¨åœ¨ç¬¬ä¸€æ¬¡è®¿é—®èµ„æºçš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šåœ¨è¿”å›èµ„æºçš„åŒäº‹ï¼Œåœ¨response headerä¸­æ·»åŠ Last-Modifiedçš„header</li>\n<li>headerçš„å€¼æ˜¯è¿™ä¸ªèµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´</li>\n<li>æµè§ˆå™¨æ¥æ”¶åï¼Œç¼“å­˜è¿™ä¸ªæ–‡ä»¶å’Œheader</li>\n</ul>\n<p>If-Modified-Sinceï¼š</p>\n<ul>\n<li>æµè§ˆå™¨ä¸‹ä¸€æ¬¡è¯·æ±‚è¿™ä¸ªèµ„æºï¼Œæµè§ˆå™¨æ£€æµ‹åˆ°æœ‰Last-Modifiedè¿™ä¸ªheaderï¼Œäºæ˜¯æµè§ˆå™¨æ·»åŠ If-Modified-Sinceè¿™ä¸ªheaderï¼Œå€¼å°±æ˜¯Last-Modifiedçš„å€¼ã€‚</li>\n<li>æœåŠ¡å™¨å†æ¬¡å—åˆ°è¿™ä¸ªèµ„æºè¯·æ±‚ï¼Œä¼šæ ¹æ®If-Modified-Sinceä¸­çš„å€¼ä¸æœåŠ¡å™¨ä¸­è¿™ä¸ªèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´å¯¹æ¯”ã€‚å¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œè¿”å›304å’Œç©ºçš„å“åº”ä½“ï¼Œç›´æ¥ä»ç¼“å­˜è¯»å–ã€‚å¦‚æœIf-Modified-Sinceçš„æ—¶é—´å°äºæœåŠ¡å™¨ä¸­è¿™ä¸ªèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œè¯´æ˜æ–‡ä»¶æœ‰æ›´æ–°ï¼Œäºæ˜¯è¿”å›æ–°çš„èµ„æºæ–‡ä»¶å’Œ200.</li>\n</ul>\n<p>ä½†æ˜¯Last-Modifiedä¹Ÿå­˜åœ¨ä¸€äº›å¼Šç«¯ï¼š</p>\n<ul>\n<li>å› ä¸º Last-Modified åªèƒ½ä»¥ç§’è®¡æ—¶ï¼Œå¦‚æœåœ¨ä¸å¯æ„ŸçŸ¥çš„æ—¶é—´å†…ä¿®æ”¹å®Œæˆæ–‡ä»¶ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯ä¼šè®¤ä¸ºèµ„æºè¿˜æ˜¯å‘½ä¸­äº†ï¼Œä¸ä¼šè¿”å›æ­£ç¡®çš„èµ„æº</li>\n</ul>\n<h4 id=\"3-2-2-ETag-å’Œ-If-None-Match\"><a href=\"#3-2-2-ETag-å’Œ-If-None-Match\" class=\"headerlink\" title=\"3.2.2 ETag å’Œ If-None-Match\"></a>3.2.2 ETag å’Œ If-None-Match</h4><p><strong>ç›´æ¥æ ¹æ®æ–‡ä»¶å†…å®¹æ˜¯å¦ä¿®æ”¹æ¥å†³å®šç¼“å­˜ç­–ç•¥</strong>ã€‚</p>\n<p>Etagæ˜¯æœåŠ¡å™¨å“åº”è¯·æ±‚æ—¶ï¼Œè¿”å›å½“å‰èµ„æºæ–‡ä»¶çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†(ç”±æœåŠ¡å™¨ç”Ÿæˆ)ï¼Œåªè¦èµ„æºæœ‰å˜åŒ–ï¼ŒEtagå°±ä¼šé‡æ–°ç”Ÿæˆã€‚</p>\n<ul>\n<li>æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡åŠ è½½èµ„æºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œä¼šå°†ä¸Šä¸€æ¬¡è¿”å›çš„Etagå€¼æ”¾åˆ°request headeré‡Œçš„If-None-Matché‡Œï¼ŒæœåŠ¡å™¨åªéœ€è¦æ¯”è¾ƒå®¢æˆ·ç«¯ä¼ æ¥çš„If-None-Matchè·Ÿè‡ªå·±æœåŠ¡å™¨ä¸Šè¯¥èµ„æºçš„ETagå€¼æ˜¯å¦ä¸€è‡´ï¼Œå°±èƒ½å¾ˆå¥½åœ°åˆ¤æ–­èµ„æºç›¸å¯¹å®¢æˆ·ç«¯è€Œè¨€æ˜¯å¦è¢«ä¿®æ”¹è¿‡äº†ã€‚<ul>\n<li>å¦‚æœæœåŠ¡å™¨å‘ç°ETagåŒ¹é…ä¸ä¸Šï¼Œé‚£ä¹ˆç›´æ¥ä»¥å¸¸è§„GET 200å›åŒ…å½¢å¼å°†æ–°çš„èµ„æºï¼ˆå½“ç„¶ä¹ŸåŒ…æ‹¬äº†æ–°çš„ETagï¼‰å‘ç»™å®¢æˆ·ç«¯ã€‚</li>\n<li>å¦‚æœETagæ˜¯ä¸€è‡´çš„ï¼Œåˆ™ç›´æ¥è¿”å›304çŸ¥ä¼šå®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜å³å¯ã€‚</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3-3æ¯”è¾ƒ\"><a href=\"#3-3æ¯”è¾ƒ\" class=\"headerlink\" title=\"3.3æ¯”è¾ƒ\"></a>3.3æ¯”è¾ƒ</h3><ul>\n<li>åœ¨ç²¾ç¡®åº¦ä¸Šï¼ŒEtagè¦ä¼˜äºLast-Modifiedã€‚    Last-Modifiedçš„æ—¶é—´å•ä½æ˜¯ç§’ï¼Œå¦‚æœæŸä¸ªæ–‡ä»¶åœ¨1ç§’å†…æ”¹å˜äº†å¤šæ¬¡ï¼Œé‚£ä¹ˆä»–ä»¬çš„Last-Modifiedå…¶å®å¹¶æ²¡æœ‰ä½“ç°å‡ºæ¥ä¿®æ”¹ï¼Œä½†æ˜¯Etagæ¯æ¬¡éƒ½ä¼šæ”¹å˜ç¡®ä¿äº†ç²¾åº¦ï¼›å¦‚æœæ˜¯è´Ÿè½½å‡è¡¡çš„æœåŠ¡å™¨ï¼Œå„ä¸ªæœåŠ¡å™¨ç”Ÿæˆçš„Last-Modifiedä¹Ÿæœ‰å¯èƒ½ä¸ä¸€è‡´ã€‚</li>\n<li>åœ¨æ€§èƒ½ä¸Šï¼ŒEtagè¦é€ŠäºLast-Modifiedï¼Œæ¯•ç«ŸLast-Modifiedåªéœ€è¦è®°å½•æ—¶é—´ï¼Œè€ŒEtagéœ€è¦æœåŠ¡å™¨é€šè¿‡ç®—æ³•æ¥è®¡ç®—å‡ºä¸€ä¸ªhashå€¼ã€‚</li>\n<li>åœ¨ä¼˜å…ˆçº§ä¸Šï¼ŒæœåŠ¡å™¨æ ¡éªŒä¼˜å…ˆè€ƒè™‘Etag</li>\n</ul>\n<h2 id=\"4-ç¼“å­˜ä½ç½®\"><a href=\"#4-ç¼“å­˜ä½ç½®\" class=\"headerlink\" title=\"4.ç¼“å­˜ä½ç½®\"></a>4.ç¼“å­˜ä½ç½®</h2><p>ä»ç¼“å­˜ä½ç½®ä¸Šæ¥è¯´åˆ†ä¸º4ç§ï¼Œå¹¶ä¸”å„è‡ªæœ‰ä¼˜å…ˆçº§ï¼Œå½“ä¾æ¬¡æŸ¥æ‰¾ç¼“å­˜ä¸”éƒ½æ²¡æœ‰å‘½ä¸­çš„æ—¶å€™ï¼Œæ‰ä¼šå»è¯·æ±‚ç½‘ç»œã€‚</p>\n<ul>\n<li>Service Worker</li>\n<li>Memory Cache</li>\n<li>Disk Cache</li>\n<li>Push Cache</li>\n</ul>\n","site":{"data":{}},"wordcount":3506,"excerpt":"","more":"<h1 id=\"æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥\"><a href=\"#æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥\" class=\"headerlink\" title=\"æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥\"></a>æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥</h1><h2 id=\"1-å‰è¨€\"><a href=\"#1-å‰è¨€\" class=\"headerlink\" title=\"1.å‰è¨€\"></a>1.å‰è¨€</h2><p><strong>æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶ä¹Ÿå°±æ˜¯HTTPç¼“å­˜æœºåˆ¶ï¼Œå…¶æœºåˆ¶æ˜¯æ ¹æ®HTTPçš„ç¼“å­˜æ ‡è¯†è¿›è¡Œçš„</strong></p>\n<h2 id=\"2-ç¼“å­˜è¿‡ç¨‹åˆ†æ\"><a href=\"#2-ç¼“å­˜è¿‡ç¨‹åˆ†æ\" class=\"headerlink\" title=\"2.ç¼“å­˜è¿‡ç¨‹åˆ†æ\"></a>2.ç¼“å­˜è¿‡ç¨‹åˆ†æ</h2><p><strong>æµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„é€šä¿¡æ–¹å¼ä¸ºåº”ç­”æ¨¡å¼</strong>ã€‚å³æµè§ˆå™¨å‘èµ·HTTPâ€“æœåŠ¡ç«¯å“åº”HTTPè¯·æ±‚ã€‚æµè§ˆå™¨ç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ï¼Œæ‹¿åˆ°è¯·æ±‚ç»“æœåï¼Œä¼šæ ¹æ®å“åº”æŠ¥æ–‡ä¸­å“åº”å¤´çš„ç¼“å­˜æ ‡è¯†ï¼Œå†³å®šæ˜¯å¦å°†å“åº”ç»“æœç¼“å­˜ï¼Œç¼“å­˜ï¼Œåˆ™å°†è¯·æ±‚ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥åˆ°æµè§ˆå™¨ç¼“å­˜å½“ä¸­</p>\n<h2 id=\"3-ç¼“å­˜ç­–ç•¥\"><a href=\"#3-ç¼“å­˜ç­–ç•¥\" class=\"headerlink\" title=\"3.ç¼“å­˜ç­–ç•¥\"></a>3.ç¼“å­˜ç­–ç•¥</h2><p><strong>æµè§ˆå™¨ç¼“å­˜ç­–ç•¥åˆ†ä¸ºä¸¤ç§ï¼šå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜</strong>ã€‚å¹¶ä¸”ç¼“å­˜ç­–ç•¥éƒ½æ˜¯é€šè¿‡è®¾ç½®HTTP headeræ¥å®ç°çš„ã€‚</p>\n<p>å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ï¼Œå­˜åœ¨ç¼“å­˜æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šå°†è¯·æ±‚ç»“æœå’Œç¼“å­˜æ ‡è¯†å­˜å…¥åˆ°å†…å­˜æˆ–ç¡¬ç›˜å½“ä¸­ï¼›å½“å†æ¬¡è·å–ç›¸åŒçš„èµ„æºï¼Œå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜çš„åº”å¯¹æ–¹å¼ä¹Ÿæœ‰æ‰€ä¸åŒ</p>\n<p><strong>å¼ºç¼“å­˜</strong>ï¼šå®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚ç›¸åŒçš„èµ„æºæ—¶ï¼Œä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè€Œæ˜¯æ ¹æ®å¼ºç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ç›´æ¥ä»å†…å­˜/ç¡¬ç›˜ä¸­è¯»å–æ•°æ®</p>\n<p><strong>åå•†ç¼“å­˜</strong>ï¼šå®¢æˆ·ç«¯å†æ¬¡è¯·æ±‚ç›¸åŒçš„èµ„æºæ—¶ï¼Œå…ˆå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚â€œè¯¢é—®â€åœ¨æœ¬åœ°ç¼“å­˜çš„èµ„æºæ–‡ä»¶ç›¸æ¯”æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æ˜¯å¦å‘ç”Ÿä¿®æ”¹ï¼Œå¦‚æœæœ‰æ›´æ”¹ï¼Œåˆ™è·å–æœ€æ–°çš„æ–‡ä»¶èµ„æºå¹¶ç¼“å­˜ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä»å†…å­˜/ç¡¬ç›˜ä¸­è¯»å–</p>\n<h3 id=\"3-1å¼ºç¼“å­˜\"><a href=\"#3-1å¼ºç¼“å­˜\" class=\"headerlink\" title=\"3.1å¼ºç¼“å­˜\"></a>3.1å¼ºç¼“å­˜</h3><p>*<em>å¼ºç¼“å­˜å°±æ˜¯å‘æµè§ˆå™¨ç¼“å­˜æŸ¥æ‰¾è¯·æ±‚ç»“æœï¼Œå¹¶ä¸”æ ¹æ®è¯¥ç»“æœçš„ç¼“å­˜è§„åˆ™æ¥å†³å®šæ˜¯å¦ä½¿ç”¨è¯¥ç¼“å­˜ç»“æœçš„è¿‡ç¨‹</em></p>\n<p>å¼ºç¼“å­˜ä¸ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè€Œæ˜¯ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–èµ„æºï¼Œåœ¨chromeæ§åˆ¶å°çš„networké€‰ä¸­å¯ä»¥çœ‹åˆ°è¯¥è¯·æ±‚è¿”å›200çš„çŠ¶æ€ç ï¼Œå¹¶ä¸”SIzeæ˜¾ç¤ºfrom disk cacheæˆ–from memory cache</p>\n<p>å¼ºç¼“å­˜å¯ä»¥é€šè¿‡è®¾ç½®ä¸¤ç§HTTP Headerå®ç°ï¼š Expires å’Œ Cache-Controlã€‚</p>\n<p>å¼ºç¼“å­˜çš„æƒ…å†µä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š</p>\n<ol>\n<li>ä¸å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œå¼ºç¼“å­˜å¤±æ•ˆï¼Œç›´æ¥å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ˆå’Œç¬¬ä¸€æ¬¡å‘èµ·è¯·æ±‚ä¸€è‡´ï¼‰</li>\n<li>å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä½†æ˜¯ç»“æœå·²ç»å¤±æ•ˆï¼Œå¼ºç¼“å­˜å¤±æ•ˆï¼Œåˆ™ä½¿ç”¨åå•†ç¼“å­˜</li>\n<li>å­˜åœ¨è¯¥ç¼“å­˜ç»“æœå’Œç¼“å­˜æ ‡è¯†ï¼Œä¸”è¯¥ç»“æœæ²¡æœ‰ç”Ÿæ•ˆï¼Œå¼ºç¼“å­˜ç”Ÿæ•ˆï¼Œç›´æ¥è¿”å›è¯¥ç»“æœ</li>\n</ol>\n<p>å½“æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šå°†ç¼“å­˜è§„åˆ™æ”¾å…¥HTTPå“åº”æŠ¥æ–‡çš„HTTPå¤´ä¸­å’Œè¯·æ±‚ç»“æœä¸€èµ·è¿”å›ç»™æµè§ˆå™¨ï¼Œæ§åˆ¶å¼ºç¼“å­˜çš„å­—æ®µåˆ†åˆ«æ˜¯Expireså’ŒCache-Controlï¼Œå…¶ä¸­Cache-Controlçš„ä¼˜å…ˆçº§æ¯”Expiresé«˜ã€‚</p>\n<h4 id=\"3-1-1Expires\"><a href=\"#3-1-1Expires\" class=\"headerlink\" title=\"3.1.1Expires\"></a>3.1.1Expires</h4><p>ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œç”¨æ¥æŒ‡å®šèµ„æºåˆ°æœŸçš„æ—¶é—´ï¼Œæ˜¯æœåŠ¡å™¨ç«¯çš„å…·ä½“çš„æ—¶é—´ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒExpires=max-age + è¯·æ±‚æ—¶é—´ï¼Œéœ€è¦å’Œlast-modifiedç»“åˆä½¿ç”¨ã€‚</p>\n<p>Expiresæ˜¯WebæœåŠ¡å™¨å“åº”æ¶ˆæ¯å¤´å­—æ®µï¼Œåœ¨å“åº”httpè¯·æ±‚æ—¶å‘Šè¯‰æµè§ˆå™¨åœ¨è¿‡æœŸæ—¶é—´å‰æµè§ˆå™¨å¯ä»¥ç›´æ¥ä»æµè§ˆå™¨ç¼“å­˜è·å–æ•°æ®ï¼Œè€Œæ— éœ€å†æ¬¡è¯·æ±‚ã€‚</p>\n<p>Expiresæ˜¯HTTP/1çš„äº§ç‰©ï¼Œå—é™äºæœ¬åœ°æ—¶é—´ï¼Œå¦‚æœä¿®æ”¹äº†æœ¬åœ°æ—¶é—´ï¼Œå¯èƒ½ä¼šé€ æˆç¼“å­˜å¤±æ•ˆ</p>\n<p>åˆ°äº†HTTP/1.1ï¼ŒExpireså·²ç»è¢«Cache-Controlæ›¿ä»£ã€‚</p>\n<p>åŸå› åœ¨äºExpiresæ§åˆ¶ç¼“å­˜çš„åŸç†æ˜¯ä½¿ç”¨å®¢æˆ·ç«¯çš„æ—¶é—´ä¸æœåŠ¡ç«¯è¿”å›çš„æ—¶é—´å¯¹æ¯”ï¼Œå¦‚æœå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„æ—¶é—´ç”±äºæŸäº›åŸå› ï¼ˆæ—¶åŒºä¸åŒï¼›å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æœ‰ä¸€æ–¹çš„æ—¶é—´ä¸å‡†ç¡®ï¼‰å‘ç”Ÿè¯¯å·®ï¼Œå¼ºåˆ¶ç¼“å­˜å¯èƒ½ä¼šå¤±æ•ˆã€‚</p>\n<h4 id=\"3-1-2Cache-Control\"><a href=\"#3-1-2Cache-Control\" class=\"headerlink\" title=\"3.1.2Cache-Control\"></a>3.1.2Cache-Control</h4><p>åœ¨HTTP/1.1ä¸­ï¼ŒCache-Controlæ˜¯æœ€é‡è¦çš„è§„åˆ™ï¼Œä¸»è¦ç”¨äºæ§åˆ¶ç½‘é¡µç¼“å­˜ã€‚æ¯”å¦‚å½“Cache-Controlï¼šmax-age=300æ—¶ï¼Œåˆ™ä»£è¡¨åœ¨è¿™ä¸ªè¯·æ±‚æ­£ç¡®è¿”å›æ—¶é—´çš„5åˆ†é’Ÿå†…å†æ¬¡åŠ è½½èµ„æºï¼Œå°±ä¼šå‘½ä¸­å¼ºç¼“å­˜ã€‚</p>\n<p>Cache-Controlå¯ä»¥åœ¨è¯·æ±‚å¤´æˆ–è€…å“åº”å¤´ä¸­è®¾ç½®ï¼Œå¹¶ä¸”å¯ä»¥ç»„åˆä½¿ç”¨å¤šç§æŒ‡ä»¤ï¼Œä¸»è¦å–å€¼ä¸ºï¼š</p>\n<ul>\n<li>publicï¼š<strong>æ‰€æœ‰å†…å®¹éƒ½å°†è¢«ç¼“å­˜ï¼ˆå®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨éƒ½å¯ç¼“å­˜ï¼‰</strong>ã€‚å…·ä½“æ¥è¯´å“åº”å¯è¢«ä»»ä½•ä¸­é—´èŠ‚ç‚¹ç¼“å­˜ï¼Œå¦‚Browser &lt;â€“ proxy1 &lt;â€“ proxy2 &lt;â€“ Serverï¼Œ ä¸­é—´çš„proxyä¹Ÿå¯ä»¥ç¼“å­˜èµ„æºï¼Œæ¯”å¦‚ä¸‹æ¬¡å†è¯·æ±‚åŒä¸€èµ„æºproxy1ç›´æ¥æŠŠè‡ªå·±ç¼“å­˜çš„ä¸œè¥¿ç»™Browserè€Œä¸å†å‘proxy2è¦</li>\n<li>privateï¼š<strong>æ‰€ä»¥å†…å®¹åªæœ‰å®¢æˆ·ç«¯å¯ä»¥ç¼“å­˜ï¼Œ Cache-Controlçš„é»˜è®¤å–å€¼</strong>ã€‚å…·ä½“æ¥è¯´ï¼Œè¡¨ç¤ºä¸­é—´èŠ‚ç‚¹ä¸å…è®¸ç¼“å­˜ï¼Œå¯¹äºBrowser &lt;â€“ proxy1 &lt;â€“ proxy2 &lt;â€“ Serverï¼Œproxyä¼šè€è€å®å®æŠŠServerè¿”å›çš„æ•°æ®å‘é€ç»™Browserï¼Œè‡ªå·±ä¸ç¼“å­˜ä»»ä½•æ•°æ®ã€‚å½“ä¸‹æ¬¡Browserå†æ¬¡è¯·æ±‚æ—¶proxyä¼šåšå¥½è¯·æ±‚è½¬å‘è€Œä¸æ˜¯è‡ªä½œä¸»å¼ ç»™è‡ªå·±ç¼“å­˜çš„æ•°æ®</li>\n<li>no-cacheï¼š<strong>å®¢æˆ·ç«¯ç¼“å­˜å†…å®¹ï¼Œæ˜¯å¦ä½¿ç”¨ç¼“å­˜åˆ™éœ€è¦ç»è¿‡åå•†ç¼“å­˜æ¥éªŒè¯å†³å®š</strong>ã€‚è¡¨ç¤ºä¸ä½¿ç”¨Cache-Controlçš„ç¼“å­˜æ§åˆ¶æ–¹å¼åšå‰ç½®éªŒè¯å·ï¼Œè€Œæ˜¯ä½¿ç”¨Etagæˆ–è€…Last-Modifiedå­—æ®µæ¥æ§åˆ¶ç¼“å­˜ã€‚æ³¨æ„ï¼šno-cacheè¿™ä¸ªåå­—æœ‰ä¸€ç‚¹è¯¯å¯¼ã€‚è®¾ç½®no-cahceï¼Œä¸ä»£è¡¨æµè§ˆå™¨ä¸ç¼“å­˜æ°´ï¼Œè€Œæ˜¯æµè§ˆå™¨åœ¨ä½¿ç”¨ç¼“å­˜æ•°æ®æ—¶ï¼Œé€šè¿‡åå•†ç¼“å­˜æ¥åˆ¤æ–­æ•°æ®æ˜¯å¦å’ŒæœåŠ¡å™¨ä¿æŒä¸€è‡´</li>\n<li>no-storeï¼š<strong>æ‰€æœ‰å†…å®¹éƒ½ä¸ä¼šè¢«ç¼“å­˜</strong>ï¼Œå³ä¸ä½¿ç”¨å¼ºåˆ¶ç¼“å­˜ï¼Œä¹Ÿä¸ä½¿ç”¨åå•†ç¼“å­˜</li>\n<li>max-ageï¼šmax-age=xxx è¡¨ç¤º<strong>ç¼“å­˜å†…å®¹å°†åœ¨xxxç§’åå¤±æ•ˆ</strong></li>\n<li>s-maxageï¼š åŒmax-ageä½œç”¨ä¸€æ ·ï¼Œåªåœ¨ä»£ç†æœåŠ¡å™¨ä¸­ç”Ÿæ•ˆï¼ˆæ¯”å¦‚CDNç¼“å­˜ï¼‰ã€‚æ¯”å¦‚å½“s-maxage=60æ—¶ï¼Œåœ¨è¿™60ç§’é’Ÿï¼ŒåŠæ—¶æ›´æ–°äº†CDNçš„å†…å®¹ï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šè¿›è¡Œè¯·æ±‚ã€‚max-ageç”¨äºæ™®é€šç¼“å­˜ï¼Œè€Œs-maxageç”¨äºä»£ç†ç¼“å­˜ã€‚s-maxageçš„ä¼˜å…ˆçº§é«˜äºmax-ageã€‚å¦‚æœå­˜åœ¨s-maxageï¼Œåˆ™ä¼šè¦†ç›–æ‰max-ageå’ŒExpiresã€‚</li>\n</ul>\n<h3 id=\"3-2åå•†ç¼“å­˜\"><a href=\"#3-2åå•†ç¼“å­˜\" class=\"headerlink\" title=\"3.2åå•†ç¼“å­˜\"></a>3.2åå•†ç¼“å­˜</h3><p><em>åå•†ç¼“å­˜å°±æ˜¯å¼ºç¼“å­˜å¤±æ•ˆåï¼Œæµè§ˆå™¨å†™åˆ°ç¼“å­˜æ ‡è¯†å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼Œç”±æœåŠ¡å™¨æ ¹æ®ç¼“å­˜æ ‡è¯†å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜çš„è¿‡ç¨‹ï¼Œ</em>ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µ</p>\n<p><strong>åå•†ç¼“å­˜ç”Ÿæ•ˆï¼Œè¿”å›304å’ŒNot Modified</strong></p>\n<p><strong>åå•†ç¼“å­˜å¤±æ•ˆï¼Œè¿”å›200å’Œè¯·æ±‚ç»“æœ</strong></p>\n<p>åå•†ç¼“å­˜å¯ä»¥é€šè¿‡è®¾ç½®ä¸¤ç§HTTP Headerå®ç°ï¼š Last-modified å’Œ ETagã€‚</p>\n<h4 id=\"3-2-1-Last-Modified-å’Œ-If-Modified-Since\"><a href=\"#3-2-1-Last-Modified-å’Œ-If-Modified-Since\" class=\"headerlink\" title=\"3.2.1 Last-Modified å’Œ If-Modified-Since\"></a>3.2.1 Last-Modified å’Œ If-Modified-Since</h4><p>Last-Modified:</p>\n<ul>\n<li>æµè§ˆå™¨åœ¨ç¬¬ä¸€æ¬¡è®¿é—®èµ„æºçš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šåœ¨è¿”å›èµ„æºçš„åŒäº‹ï¼Œåœ¨response headerä¸­æ·»åŠ Last-Modifiedçš„header</li>\n<li>headerçš„å€¼æ˜¯è¿™ä¸ªèµ„æºåœ¨æœåŠ¡å™¨ä¸Šçš„æœ€åä¿®æ”¹æ—¶é—´</li>\n<li>æµè§ˆå™¨æ¥æ”¶åï¼Œç¼“å­˜è¿™ä¸ªæ–‡ä»¶å’Œheader</li>\n</ul>\n<p>If-Modified-Sinceï¼š</p>\n<ul>\n<li>æµè§ˆå™¨ä¸‹ä¸€æ¬¡è¯·æ±‚è¿™ä¸ªèµ„æºï¼Œæµè§ˆå™¨æ£€æµ‹åˆ°æœ‰Last-Modifiedè¿™ä¸ªheaderï¼Œäºæ˜¯æµè§ˆå™¨æ·»åŠ If-Modified-Sinceè¿™ä¸ªheaderï¼Œå€¼å°±æ˜¯Last-Modifiedçš„å€¼ã€‚</li>\n<li>æœåŠ¡å™¨å†æ¬¡å—åˆ°è¿™ä¸ªèµ„æºè¯·æ±‚ï¼Œä¼šæ ¹æ®If-Modified-Sinceä¸­çš„å€¼ä¸æœåŠ¡å™¨ä¸­è¿™ä¸ªèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´å¯¹æ¯”ã€‚å¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œè¿”å›304å’Œç©ºçš„å“åº”ä½“ï¼Œç›´æ¥ä»ç¼“å­˜è¯»å–ã€‚å¦‚æœIf-Modified-Sinceçš„æ—¶é—´å°äºæœåŠ¡å™¨ä¸­è¿™ä¸ªèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œè¯´æ˜æ–‡ä»¶æœ‰æ›´æ–°ï¼Œäºæ˜¯è¿”å›æ–°çš„èµ„æºæ–‡ä»¶å’Œ200.</li>\n</ul>\n<p>ä½†æ˜¯Last-Modifiedä¹Ÿå­˜åœ¨ä¸€äº›å¼Šç«¯ï¼š</p>\n<ul>\n<li>å› ä¸º Last-Modified åªèƒ½ä»¥ç§’è®¡æ—¶ï¼Œå¦‚æœåœ¨ä¸å¯æ„ŸçŸ¥çš„æ—¶é—´å†…ä¿®æ”¹å®Œæˆæ–‡ä»¶ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯ä¼šè®¤ä¸ºèµ„æºè¿˜æ˜¯å‘½ä¸­äº†ï¼Œä¸ä¼šè¿”å›æ­£ç¡®çš„èµ„æº</li>\n</ul>\n<h4 id=\"3-2-2-ETag-å’Œ-If-None-Match\"><a href=\"#3-2-2-ETag-å’Œ-If-None-Match\" class=\"headerlink\" title=\"3.2.2 ETag å’Œ If-None-Match\"></a>3.2.2 ETag å’Œ If-None-Match</h4><p><strong>ç›´æ¥æ ¹æ®æ–‡ä»¶å†…å®¹æ˜¯å¦ä¿®æ”¹æ¥å†³å®šç¼“å­˜ç­–ç•¥</strong>ã€‚</p>\n<p>Etagæ˜¯æœåŠ¡å™¨å“åº”è¯·æ±‚æ—¶ï¼Œè¿”å›å½“å‰èµ„æºæ–‡ä»¶çš„ä¸€ä¸ªå”¯ä¸€æ ‡è¯†(ç”±æœåŠ¡å™¨ç”Ÿæˆ)ï¼Œåªè¦èµ„æºæœ‰å˜åŒ–ï¼ŒEtagå°±ä¼šé‡æ–°ç”Ÿæˆã€‚</p>\n<ul>\n<li>æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡åŠ è½½èµ„æºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œä¼šå°†ä¸Šä¸€æ¬¡è¿”å›çš„Etagå€¼æ”¾åˆ°request headeré‡Œçš„If-None-Matché‡Œï¼ŒæœåŠ¡å™¨åªéœ€è¦æ¯”è¾ƒå®¢æˆ·ç«¯ä¼ æ¥çš„If-None-Matchè·Ÿè‡ªå·±æœåŠ¡å™¨ä¸Šè¯¥èµ„æºçš„ETagå€¼æ˜¯å¦ä¸€è‡´ï¼Œå°±èƒ½å¾ˆå¥½åœ°åˆ¤æ–­èµ„æºç›¸å¯¹å®¢æˆ·ç«¯è€Œè¨€æ˜¯å¦è¢«ä¿®æ”¹è¿‡äº†ã€‚<ul>\n<li>å¦‚æœæœåŠ¡å™¨å‘ç°ETagåŒ¹é…ä¸ä¸Šï¼Œé‚£ä¹ˆç›´æ¥ä»¥å¸¸è§„GET 200å›åŒ…å½¢å¼å°†æ–°çš„èµ„æºï¼ˆå½“ç„¶ä¹ŸåŒ…æ‹¬äº†æ–°çš„ETagï¼‰å‘ç»™å®¢æˆ·ç«¯ã€‚</li>\n<li>å¦‚æœETagæ˜¯ä¸€è‡´çš„ï¼Œåˆ™ç›´æ¥è¿”å›304çŸ¥ä¼šå®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜å³å¯ã€‚</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3-3æ¯”è¾ƒ\"><a href=\"#3-3æ¯”è¾ƒ\" class=\"headerlink\" title=\"3.3æ¯”è¾ƒ\"></a>3.3æ¯”è¾ƒ</h3><ul>\n<li>åœ¨ç²¾ç¡®åº¦ä¸Šï¼ŒEtagè¦ä¼˜äºLast-Modifiedã€‚    Last-Modifiedçš„æ—¶é—´å•ä½æ˜¯ç§’ï¼Œå¦‚æœæŸä¸ªæ–‡ä»¶åœ¨1ç§’å†…æ”¹å˜äº†å¤šæ¬¡ï¼Œé‚£ä¹ˆä»–ä»¬çš„Last-Modifiedå…¶å®å¹¶æ²¡æœ‰ä½“ç°å‡ºæ¥ä¿®æ”¹ï¼Œä½†æ˜¯Etagæ¯æ¬¡éƒ½ä¼šæ”¹å˜ç¡®ä¿äº†ç²¾åº¦ï¼›å¦‚æœæ˜¯è´Ÿè½½å‡è¡¡çš„æœåŠ¡å™¨ï¼Œå„ä¸ªæœåŠ¡å™¨ç”Ÿæˆçš„Last-Modifiedä¹Ÿæœ‰å¯èƒ½ä¸ä¸€è‡´ã€‚</li>\n<li>åœ¨æ€§èƒ½ä¸Šï¼ŒEtagè¦é€ŠäºLast-Modifiedï¼Œæ¯•ç«ŸLast-Modifiedåªéœ€è¦è®°å½•æ—¶é—´ï¼Œè€ŒEtagéœ€è¦æœåŠ¡å™¨é€šè¿‡ç®—æ³•æ¥è®¡ç®—å‡ºä¸€ä¸ªhashå€¼ã€‚</li>\n<li>åœ¨ä¼˜å…ˆçº§ä¸Šï¼ŒæœåŠ¡å™¨æ ¡éªŒä¼˜å…ˆè€ƒè™‘Etag</li>\n</ul>\n<h2 id=\"4-ç¼“å­˜ä½ç½®\"><a href=\"#4-ç¼“å­˜ä½ç½®\" class=\"headerlink\" title=\"4.ç¼“å­˜ä½ç½®\"></a>4.ç¼“å­˜ä½ç½®</h2><p>ä»ç¼“å­˜ä½ç½®ä¸Šæ¥è¯´åˆ†ä¸º4ç§ï¼Œå¹¶ä¸”å„è‡ªæœ‰ä¼˜å…ˆçº§ï¼Œå½“ä¾æ¬¡æŸ¥æ‰¾ç¼“å­˜ä¸”éƒ½æ²¡æœ‰å‘½ä¸­çš„æ—¶å€™ï¼Œæ‰ä¼šå»è¯·æ±‚ç½‘ç»œã€‚</p>\n<ul>\n<li>Service Worker</li>\n<li>Memory Cache</li>\n<li>Disk Cache</li>\n<li>Push Cache</li>\n</ul>\n"},{"title":"æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹","keywords":"æµè§ˆå™¨æ¸²æŸ“","_content":"# æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹\n\n### 1.è¾“å…¥ç½‘å€\n\nå½“ç”¨æˆ·åœ¨åœ°å€æ è¾“å…¥ä¸€ä¸ªæœç´¢å…³é”®å­—æ—¶ï¼Œåœ°å€æ ä¼šåˆ¤æ–­å½“å‰è¾“å…¥çš„å…³é”®å­—æ˜¯æœç´¢å†…å®¹ï¼Œè¿˜æ˜¯è¯·æ±‚çš„URL\n\n- å¦‚æœæ˜¯æœç´¢å†…å®¹ï¼Œåœ°å€æ ä¼šä½¿ç”¨æµè§ˆå™¨è®¾ç½®çš„é»˜è®¤çš„æœç´¢å¼•æ“ï¼Œç”Ÿæˆå¯¹åº”çš„å¸¦æœç´¢å…³é”®å­—çš„URLåœ°å€\n- å¦‚æœè¾“å…¥çš„å†…å®¹ç¬¦åˆURLè§„åˆ™ï¼Œé‚£ä¹ˆåœ°å€æ æ ¹æ®è§„åˆ™ï¼ŒæŠŠè¿™æ®µå†…å®¹åŠ ä¸Šåè®®ï¼Œåˆæˆä¸ºå®Œæ•´çš„URL\n\nå½“ç”¨æˆ·è¾“å…¥å…³é”®å­—å¹¶é”®å…¥å›è½¦ä¹‹åï¼Œè¿™æ„å‘³ç€å½“å‰é¡µé¢å³å°†è¦æ›¿æ¢æˆæ–°çš„é¡µé¢ï¼Œä¸è¿‡åœ¨è¿™ä¸ªæµç¨‹ç»§ç»­ä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šç»™å½“å‰é¡µé¢ä¸€æ¬¡æ‰§è¡Œbeforeunloadäº‹ä»¶ï¼Œä»¥æ‰§è¡Œä¸€äº›æ•°æ®æ¸…ç†æ“ä½œ\n\n### 2.è§£æURL\n\nURLä¸»è¦ç”±åè®®ã€ä¸»æœºã€ç«¯å£ã€è·¯å¾„ã€æŸ¥è¯¢å‚æ•°å’Œé”šç‚¹6éƒ¨åˆ†æ„æˆã€‚è¾“å…¥URLä¹‹åï¼Œæµè§ˆå™¨ä¼šå°†è¿™äº›ä¿¡æ¯æ„æˆä¸€ä¸ªHTTPè¯·æ±‚\n\n### 3.æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜\n\næ¥ä¸‹æ¥ï¼Œç½‘ç»œè¿›ç¨‹ä¼šæŸ¥æ‰¾æœ¬åœ°ç¼“å­˜æ˜¯å¦ç¼“å­˜è¯¥URLåœ°å€çš„èµ„æºã€‚å¦‚æœæœ‰ç¼“å­˜èµ„æºï¼Œé‚£ä¹ˆä¼šç›´æ¥å°†ç¼“å­˜çš„èµ„æºè¿”å›ç»™æµè§ˆå™¨è¿›ç¨‹ï¼›å¦‚æœæ²¡æœ‰åœ¨ç¼“å­˜æ²¡æœ‰æ‰¾åˆ°ç¼“å­˜èµ„æºï¼Œé‚£ä¹ˆç›´æ¥è¿›å…¥åˆ°ç½‘ç»œè¯·æ±‚æµç¨‹\n\nä¼˜åŒ–ï¼š1.å¼€å¯æµè§ˆå™¨ç¼“å­˜ï¼›2.ç¬¬ä¸‰æ–¹åº“å…¬å…±æ¨¡å—æŠ½å–\n\n### 4.DNSè§£æ\n\nåœ¨å‘èµ·httpè¯·æ±‚ä¹‹å‰ï¼Œæµè§ˆå™¨é¦–å…ˆè¦å»è·å¾—æˆ‘ä»¬æƒ³è®¿é—®ç½‘é¡µçš„IPåœ°å€ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ªUDPçš„åŒ…ç»™DNSåŸŸåè§£ææœåŠ¡å™¨ï¼ŒDNSæœåŠ¡å™¨ä¼šè¿”å›ç»™æµè§ˆå™¨å¯¹åº”çš„IPåœ°å€\n\nä¼˜åŒ–ï¼š1.DNSé¢„è§£æï¼ˆå¤§å‹ç½‘ç«™ï¼Œæœ‰å¤šä¸ªä¸åŒæœåŠ¡å™¨èµ„æºçš„æƒ…å†µä¸‹ï¼Œéƒ½å¯é‡‡å–DNSé¢„è§£æï¼Œæå‰è§£æï¼Œå‡å°‘é¡µé¢å¡é¡¿ï¼‰\n\n### 5.TCP/IPæŠ¥æ–‡\n\nä¸‰æ¬¡æ¡æ‰‹\n\n### 6.httpè¯·æ±‚\n\nè¿æ¥å»ºç«‹ä¹‹åï¼Œæµè§ˆå™¨ç«¯ä¼šæ„å»ºè¯·æ±‚è¡Œã€è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ç­‰ä¿¡æ¯ï¼Œå¹¶æŠŠå’Œè¯¥åŸŸåæƒ³æ¢çš„Cookieç­‰æ•°æ®é™„åŠ åˆ°è¯·æ±‚å¤´ä¸­ï¼Œç„¶åå‘æœåŠ¡å™¨å‘é€æ„å»ºçš„è¯·æ±‚ä¿¡æ¯\n\n### 7.æœåŠ¡å™¨è§£æè¯·æ±‚å¹¶è¿”å›httpæŠ¥æ–‡\n\næœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ä¿¡æ¯åï¼Œä¼šæ ¹æ®è¯·æ±‚ä¿¡æ¯ç”Ÿæˆç›¸åº”æ•°æ®ï¼ˆåŒ…æ‹¬å“åº”è¡Œã€å“åº”å¤´å’Œå“åº”ä½“ç­‰ä¿¡æ¯ï¼‰ï¼Œå¹¶å‘ç»™ç½‘ç»œè¿›ç¨‹ã€‚ç­‰ç½‘ç»œè¿›ç¨‹æ¥æ”¶äº†å“åº”è¡Œå’Œå“åº”å¤´ä¹‹åï¼Œå°±å¼€å§‹è§£æå“åº”çš„å†…å®¹äº†\n\n### 8.æµè§ˆå™¨æ¸²æŸ“é¡µé¢\n\n- DOMæ ‘ï¼ˆDOMï¼‰\n  - å­—èŠ‚ï¼ˆBytesï¼‰ -> å­—ç¬¦ï¼ˆCharactersï¼‰ > ä»¤ç‰Œï¼ˆtokenï¼‰ -> èŠ‚ç‚¹ï¼ˆNodesï¼‰-> æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰\n- CSSå¯¹è±¡æ¨¡å‹ï¼ˆCSSOMï¼‰\n- å¸ƒå±€æ ‘Layout Tree\n  - DOMæ ‘ä¸CSSOMæ ‘åˆå¹¶åå½¢æˆæ¸²æŸ“æ ‘ï¼ˆRenderTreeï¼‰\n  - æ¸²æŸ“æ ‘åªåŒ…å«æ¸²æŸ“ç½‘é¡µæ‰€éœ€çš„èŠ‚ç‚¹\n  - å¸ƒå±€è®¡ç®—æ¯ä¸ªå¯¹è±¡çš„ç²¾ç¡®ä½ç½®å’Œå¤§å°\n  - æœ€åä¸€æ­¥æ˜¯ç»˜åˆ¶ï¼Œä½¿ç”¨æœ€ç»ˆæ¸²æŸ“æ ‘å°†åƒç´ æ¸²æŸ“åˆ°å±å¹•ä¸Š\n- æ¸²æŸ“\n  1. è·å–DOMååˆ†å‰²ä¸ºå¤šä¸ªå›¾å±‚\n  2. å¯¹æ¯ä¸ªå›¾å±‚çš„èŠ‚ç‚¹è®¡ç®—æ ·å¼ç»“æœï¼ˆRecalculate style --æ ·å¼é‡è®¡ç®—ï¼‰\n  3. ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç”Ÿæˆå›¾å½¢å’Œä½ç½®ï¼ˆLayout --é‡æ’ï¼Œå›æµï¼‰\n  4. å°†æ¯ä¸ªèŠ‚ç‚¹ç»˜åˆ¶å¡«å……åˆ°å›¾å±‚ä½å›¾ä¸­ï¼ˆPaint --é‡ç»˜ï¼‰\n  5. å›¾å±‚ä½œä¸ºçº¹ç†ä¸Šä¼ è‡³GPU\n  6. ç»„åˆå¤šä¸ªå›¾å±‚åˆ°é¡µé¢ä¸Šç”Ÿæˆæœ€ç»ˆå±å¹•å›¾åƒï¼ˆComposite Layers-- å›¾å±‚é‡ç»„ï¼‰\n- å›æµå’Œé‡ç»˜\n  - é‡ç»˜\n    - å½“é¡µé¢ä¸­å…ƒç´ æ ·å¼çš„æ”¹å˜å¹¶ä¸å½±å“å®ƒåœ¨æ–‡æ¡£æµä¸­çš„ä½ç½®æ—¶ï¼ˆä¾‹å¦‚colorã€backgroundColorã€visibilityç­‰ï¼‰ï¼Œæµè§ˆå™¨ä¼šå°†æ–°æ ·å¼èµ‹äºˆç»™å…ƒç´ å¹¶é‡ç½®ç»˜åˆ¶å®ƒï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºé‡ç»˜\n  - å›æµ\n    - å½“Render Treeä¸­éƒ¨åˆ†æˆ–å…¨éƒ¨å…ƒç´ çš„å°ºå¯¸ã€ç»“æ„æˆ–æŸäº›å±æ€§å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæµè§ˆå™¨é‡æ–°æ¸²æŸ“éƒ¨åˆ†æˆ–è€…å…¨éƒ¨æ–‡æ¡£çš„è¿‡ç¨‹ç§°ä¸ºå›æµ\n  - å›æµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œè€Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµ\n- ä¼˜åŒ–ï¼š\n  1. é™æ€èµ„æºä½¿ç”¨CDNï¼Œç¼©çŸ­é™æ€èµ„æºè¯·æ±‚æ—¶é—´\n  2. å°†cssæ”¾åœ¨æ–‡ä»¶å¤´éƒ¨ï¼ŒJavaScriptæ–‡ä»¶æ”¾åœ¨åº•éƒ¨\n  3. å›¾ç‰‡ä¼˜åŒ–\n     1. å›¾ç‰‡å‹ç¼©\n     2. å›¾ç‰‡æ‡’åŠ è½½\n     3. ä½¿ç”¨svgå“åº”å¼å›¾ç‰‡\n     4. ä½¿ç”¨webpæ ¼å¼çš„å›¾ç‰‡\n  4. å‹ç¼©æ–‡ä»¶\n     1. JavaScriptï¼šUglifyPlugin\n     2. CSS ï¼šMiniCssExtractPlugin\n     3. HTMLï¼šHtmlWebpackPlugin\n  5. å‡å°‘é‡ç»˜é‡æ’\n  6. ä»£ç åˆ†å‰²ï¼ˆå¦‚è·¯ç”±æ‡’åŠ è½½ï¼‰\n  7. Tree Shaking\n     - Tree Shakingçš„ä½œç”¨å°±æ˜¯ï¼Œé€šè¿‡ç¨‹åºæµåˆ†ææ‰¾å‡ºä»£ç ä¸­æ— ç”¨çš„ä»£ç å¹¶å‰”é™¤\n  8. ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“\n\n### 9.æ–­å¼€è¿æ¥\n\nå››æ¬¡åˆ†æ‰‹","source":"_posts/æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹.md","raw":"---\ntitle:  æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹\ntag: æµè§ˆå™¨æ¸²æŸ“\nkeywords: æµè§ˆå™¨æ¸²æŸ“\ncategories: æµè§ˆå™¨ç›¸å…³çŸ¥è¯†\n---\n# æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹\n\n### 1.è¾“å…¥ç½‘å€\n\nå½“ç”¨æˆ·åœ¨åœ°å€æ è¾“å…¥ä¸€ä¸ªæœç´¢å…³é”®å­—æ—¶ï¼Œåœ°å€æ ä¼šåˆ¤æ–­å½“å‰è¾“å…¥çš„å…³é”®å­—æ˜¯æœç´¢å†…å®¹ï¼Œè¿˜æ˜¯è¯·æ±‚çš„URL\n\n- å¦‚æœæ˜¯æœç´¢å†…å®¹ï¼Œåœ°å€æ ä¼šä½¿ç”¨æµè§ˆå™¨è®¾ç½®çš„é»˜è®¤çš„æœç´¢å¼•æ“ï¼Œç”Ÿæˆå¯¹åº”çš„å¸¦æœç´¢å…³é”®å­—çš„URLåœ°å€\n- å¦‚æœè¾“å…¥çš„å†…å®¹ç¬¦åˆURLè§„åˆ™ï¼Œé‚£ä¹ˆåœ°å€æ æ ¹æ®è§„åˆ™ï¼ŒæŠŠè¿™æ®µå†…å®¹åŠ ä¸Šåè®®ï¼Œåˆæˆä¸ºå®Œæ•´çš„URL\n\nå½“ç”¨æˆ·è¾“å…¥å…³é”®å­—å¹¶é”®å…¥å›è½¦ä¹‹åï¼Œè¿™æ„å‘³ç€å½“å‰é¡µé¢å³å°†è¦æ›¿æ¢æˆæ–°çš„é¡µé¢ï¼Œä¸è¿‡åœ¨è¿™ä¸ªæµç¨‹ç»§ç»­ä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šç»™å½“å‰é¡µé¢ä¸€æ¬¡æ‰§è¡Œbeforeunloadäº‹ä»¶ï¼Œä»¥æ‰§è¡Œä¸€äº›æ•°æ®æ¸…ç†æ“ä½œ\n\n### 2.è§£æURL\n\nURLä¸»è¦ç”±åè®®ã€ä¸»æœºã€ç«¯å£ã€è·¯å¾„ã€æŸ¥è¯¢å‚æ•°å’Œé”šç‚¹6éƒ¨åˆ†æ„æˆã€‚è¾“å…¥URLä¹‹åï¼Œæµè§ˆå™¨ä¼šå°†è¿™äº›ä¿¡æ¯æ„æˆä¸€ä¸ªHTTPè¯·æ±‚\n\n### 3.æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜\n\næ¥ä¸‹æ¥ï¼Œç½‘ç»œè¿›ç¨‹ä¼šæŸ¥æ‰¾æœ¬åœ°ç¼“å­˜æ˜¯å¦ç¼“å­˜è¯¥URLåœ°å€çš„èµ„æºã€‚å¦‚æœæœ‰ç¼“å­˜èµ„æºï¼Œé‚£ä¹ˆä¼šç›´æ¥å°†ç¼“å­˜çš„èµ„æºè¿”å›ç»™æµè§ˆå™¨è¿›ç¨‹ï¼›å¦‚æœæ²¡æœ‰åœ¨ç¼“å­˜æ²¡æœ‰æ‰¾åˆ°ç¼“å­˜èµ„æºï¼Œé‚£ä¹ˆç›´æ¥è¿›å…¥åˆ°ç½‘ç»œè¯·æ±‚æµç¨‹\n\nä¼˜åŒ–ï¼š1.å¼€å¯æµè§ˆå™¨ç¼“å­˜ï¼›2.ç¬¬ä¸‰æ–¹åº“å…¬å…±æ¨¡å—æŠ½å–\n\n### 4.DNSè§£æ\n\nåœ¨å‘èµ·httpè¯·æ±‚ä¹‹å‰ï¼Œæµè§ˆå™¨é¦–å…ˆè¦å»è·å¾—æˆ‘ä»¬æƒ³è®¿é—®ç½‘é¡µçš„IPåœ°å€ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ªUDPçš„åŒ…ç»™DNSåŸŸåè§£ææœåŠ¡å™¨ï¼ŒDNSæœåŠ¡å™¨ä¼šè¿”å›ç»™æµè§ˆå™¨å¯¹åº”çš„IPåœ°å€\n\nä¼˜åŒ–ï¼š1.DNSé¢„è§£æï¼ˆå¤§å‹ç½‘ç«™ï¼Œæœ‰å¤šä¸ªä¸åŒæœåŠ¡å™¨èµ„æºçš„æƒ…å†µä¸‹ï¼Œéƒ½å¯é‡‡å–DNSé¢„è§£æï¼Œæå‰è§£æï¼Œå‡å°‘é¡µé¢å¡é¡¿ï¼‰\n\n### 5.TCP/IPæŠ¥æ–‡\n\nä¸‰æ¬¡æ¡æ‰‹\n\n### 6.httpè¯·æ±‚\n\nè¿æ¥å»ºç«‹ä¹‹åï¼Œæµè§ˆå™¨ç«¯ä¼šæ„å»ºè¯·æ±‚è¡Œã€è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ç­‰ä¿¡æ¯ï¼Œå¹¶æŠŠå’Œè¯¥åŸŸåæƒ³æ¢çš„Cookieç­‰æ•°æ®é™„åŠ åˆ°è¯·æ±‚å¤´ä¸­ï¼Œç„¶åå‘æœåŠ¡å™¨å‘é€æ„å»ºçš„è¯·æ±‚ä¿¡æ¯\n\n### 7.æœåŠ¡å™¨è§£æè¯·æ±‚å¹¶è¿”å›httpæŠ¥æ–‡\n\næœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ä¿¡æ¯åï¼Œä¼šæ ¹æ®è¯·æ±‚ä¿¡æ¯ç”Ÿæˆç›¸åº”æ•°æ®ï¼ˆåŒ…æ‹¬å“åº”è¡Œã€å“åº”å¤´å’Œå“åº”ä½“ç­‰ä¿¡æ¯ï¼‰ï¼Œå¹¶å‘ç»™ç½‘ç»œè¿›ç¨‹ã€‚ç­‰ç½‘ç»œè¿›ç¨‹æ¥æ”¶äº†å“åº”è¡Œå’Œå“åº”å¤´ä¹‹åï¼Œå°±å¼€å§‹è§£æå“åº”çš„å†…å®¹äº†\n\n### 8.æµè§ˆå™¨æ¸²æŸ“é¡µé¢\n\n- DOMæ ‘ï¼ˆDOMï¼‰\n  - å­—èŠ‚ï¼ˆBytesï¼‰ -> å­—ç¬¦ï¼ˆCharactersï¼‰ > ä»¤ç‰Œï¼ˆtokenï¼‰ -> èŠ‚ç‚¹ï¼ˆNodesï¼‰-> æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰\n- CSSå¯¹è±¡æ¨¡å‹ï¼ˆCSSOMï¼‰\n- å¸ƒå±€æ ‘Layout Tree\n  - DOMæ ‘ä¸CSSOMæ ‘åˆå¹¶åå½¢æˆæ¸²æŸ“æ ‘ï¼ˆRenderTreeï¼‰\n  - æ¸²æŸ“æ ‘åªåŒ…å«æ¸²æŸ“ç½‘é¡µæ‰€éœ€çš„èŠ‚ç‚¹\n  - å¸ƒå±€è®¡ç®—æ¯ä¸ªå¯¹è±¡çš„ç²¾ç¡®ä½ç½®å’Œå¤§å°\n  - æœ€åä¸€æ­¥æ˜¯ç»˜åˆ¶ï¼Œä½¿ç”¨æœ€ç»ˆæ¸²æŸ“æ ‘å°†åƒç´ æ¸²æŸ“åˆ°å±å¹•ä¸Š\n- æ¸²æŸ“\n  1. è·å–DOMååˆ†å‰²ä¸ºå¤šä¸ªå›¾å±‚\n  2. å¯¹æ¯ä¸ªå›¾å±‚çš„èŠ‚ç‚¹è®¡ç®—æ ·å¼ç»“æœï¼ˆRecalculate style --æ ·å¼é‡è®¡ç®—ï¼‰\n  3. ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç”Ÿæˆå›¾å½¢å’Œä½ç½®ï¼ˆLayout --é‡æ’ï¼Œå›æµï¼‰\n  4. å°†æ¯ä¸ªèŠ‚ç‚¹ç»˜åˆ¶å¡«å……åˆ°å›¾å±‚ä½å›¾ä¸­ï¼ˆPaint --é‡ç»˜ï¼‰\n  5. å›¾å±‚ä½œä¸ºçº¹ç†ä¸Šä¼ è‡³GPU\n  6. ç»„åˆå¤šä¸ªå›¾å±‚åˆ°é¡µé¢ä¸Šç”Ÿæˆæœ€ç»ˆå±å¹•å›¾åƒï¼ˆComposite Layers-- å›¾å±‚é‡ç»„ï¼‰\n- å›æµå’Œé‡ç»˜\n  - é‡ç»˜\n    - å½“é¡µé¢ä¸­å…ƒç´ æ ·å¼çš„æ”¹å˜å¹¶ä¸å½±å“å®ƒåœ¨æ–‡æ¡£æµä¸­çš„ä½ç½®æ—¶ï¼ˆä¾‹å¦‚colorã€backgroundColorã€visibilityç­‰ï¼‰ï¼Œæµè§ˆå™¨ä¼šå°†æ–°æ ·å¼èµ‹äºˆç»™å…ƒç´ å¹¶é‡ç½®ç»˜åˆ¶å®ƒï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºé‡ç»˜\n  - å›æµ\n    - å½“Render Treeä¸­éƒ¨åˆ†æˆ–å…¨éƒ¨å…ƒç´ çš„å°ºå¯¸ã€ç»“æ„æˆ–æŸäº›å±æ€§å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæµè§ˆå™¨é‡æ–°æ¸²æŸ“éƒ¨åˆ†æˆ–è€…å…¨éƒ¨æ–‡æ¡£çš„è¿‡ç¨‹ç§°ä¸ºå›æµ\n  - å›æµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œè€Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµ\n- ä¼˜åŒ–ï¼š\n  1. é™æ€èµ„æºä½¿ç”¨CDNï¼Œç¼©çŸ­é™æ€èµ„æºè¯·æ±‚æ—¶é—´\n  2. å°†cssæ”¾åœ¨æ–‡ä»¶å¤´éƒ¨ï¼ŒJavaScriptæ–‡ä»¶æ”¾åœ¨åº•éƒ¨\n  3. å›¾ç‰‡ä¼˜åŒ–\n     1. å›¾ç‰‡å‹ç¼©\n     2. å›¾ç‰‡æ‡’åŠ è½½\n     3. ä½¿ç”¨svgå“åº”å¼å›¾ç‰‡\n     4. ä½¿ç”¨webpæ ¼å¼çš„å›¾ç‰‡\n  4. å‹ç¼©æ–‡ä»¶\n     1. JavaScriptï¼šUglifyPlugin\n     2. CSS ï¼šMiniCssExtractPlugin\n     3. HTMLï¼šHtmlWebpackPlugin\n  5. å‡å°‘é‡ç»˜é‡æ’\n  6. ä»£ç åˆ†å‰²ï¼ˆå¦‚è·¯ç”±æ‡’åŠ è½½ï¼‰\n  7. Tree Shaking\n     - Tree Shakingçš„ä½œç”¨å°±æ˜¯ï¼Œé€šè¿‡ç¨‹åºæµåˆ†ææ‰¾å‡ºä»£ç ä¸­æ— ç”¨çš„ä»£ç å¹¶å‰”é™¤\n  8. ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“\n\n### 9.æ–­å¼€è¿æ¥\n\nå››æ¬¡åˆ†æ‰‹","slug":"æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹","published":1,"date":"2022-02-21T16:43:21.702Z","updated":"2022-02-21T16:47:00.322Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9l2000xi024gqaof5p2","content":"<h1 id=\"æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹\"><a href=\"#æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹\" class=\"headerlink\" title=\"æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹\"></a>æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹</h1><h3 id=\"1-è¾“å…¥ç½‘å€\"><a href=\"#1-è¾“å…¥ç½‘å€\" class=\"headerlink\" title=\"1.è¾“å…¥ç½‘å€\"></a>1.è¾“å…¥ç½‘å€</h3><p>å½“ç”¨æˆ·åœ¨åœ°å€æ è¾“å…¥ä¸€ä¸ªæœç´¢å…³é”®å­—æ—¶ï¼Œåœ°å€æ ä¼šåˆ¤æ–­å½“å‰è¾“å…¥çš„å…³é”®å­—æ˜¯æœç´¢å†…å®¹ï¼Œè¿˜æ˜¯è¯·æ±‚çš„URL</p>\n<ul>\n<li>å¦‚æœæ˜¯æœç´¢å†…å®¹ï¼Œåœ°å€æ ä¼šä½¿ç”¨æµè§ˆå™¨è®¾ç½®çš„é»˜è®¤çš„æœç´¢å¼•æ“ï¼Œç”Ÿæˆå¯¹åº”çš„å¸¦æœç´¢å…³é”®å­—çš„URLåœ°å€</li>\n<li>å¦‚æœè¾“å…¥çš„å†…å®¹ç¬¦åˆURLè§„åˆ™ï¼Œé‚£ä¹ˆåœ°å€æ æ ¹æ®è§„åˆ™ï¼ŒæŠŠè¿™æ®µå†…å®¹åŠ ä¸Šåè®®ï¼Œåˆæˆä¸ºå®Œæ•´çš„URL</li>\n</ul>\n<p>å½“ç”¨æˆ·è¾“å…¥å…³é”®å­—å¹¶é”®å…¥å›è½¦ä¹‹åï¼Œè¿™æ„å‘³ç€å½“å‰é¡µé¢å³å°†è¦æ›¿æ¢æˆæ–°çš„é¡µé¢ï¼Œä¸è¿‡åœ¨è¿™ä¸ªæµç¨‹ç»§ç»­ä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šç»™å½“å‰é¡µé¢ä¸€æ¬¡æ‰§è¡Œbeforeunloadäº‹ä»¶ï¼Œä»¥æ‰§è¡Œä¸€äº›æ•°æ®æ¸…ç†æ“ä½œ</p>\n<h3 id=\"2-è§£æURL\"><a href=\"#2-è§£æURL\" class=\"headerlink\" title=\"2.è§£æURL\"></a>2.è§£æURL</h3><p>URLä¸»è¦ç”±åè®®ã€ä¸»æœºã€ç«¯å£ã€è·¯å¾„ã€æŸ¥è¯¢å‚æ•°å’Œé”šç‚¹6éƒ¨åˆ†æ„æˆã€‚è¾“å…¥URLä¹‹åï¼Œæµè§ˆå™¨ä¼šå°†è¿™äº›ä¿¡æ¯æ„æˆä¸€ä¸ªHTTPè¯·æ±‚</p>\n<h3 id=\"3-æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜\"><a href=\"#3-æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜\" class=\"headerlink\" title=\"3.æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜\"></a>3.æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜</h3><p>æ¥ä¸‹æ¥ï¼Œç½‘ç»œè¿›ç¨‹ä¼šæŸ¥æ‰¾æœ¬åœ°ç¼“å­˜æ˜¯å¦ç¼“å­˜è¯¥URLåœ°å€çš„èµ„æºã€‚å¦‚æœæœ‰ç¼“å­˜èµ„æºï¼Œé‚£ä¹ˆä¼šç›´æ¥å°†ç¼“å­˜çš„èµ„æºè¿”å›ç»™æµè§ˆå™¨è¿›ç¨‹ï¼›å¦‚æœæ²¡æœ‰åœ¨ç¼“å­˜æ²¡æœ‰æ‰¾åˆ°ç¼“å­˜èµ„æºï¼Œé‚£ä¹ˆç›´æ¥è¿›å…¥åˆ°ç½‘ç»œè¯·æ±‚æµç¨‹</p>\n<p>ä¼˜åŒ–ï¼š1.å¼€å¯æµè§ˆå™¨ç¼“å­˜ï¼›2.ç¬¬ä¸‰æ–¹åº“å…¬å…±æ¨¡å—æŠ½å–</p>\n<h3 id=\"4-DNSè§£æ\"><a href=\"#4-DNSè§£æ\" class=\"headerlink\" title=\"4.DNSè§£æ\"></a>4.DNSè§£æ</h3><p>åœ¨å‘èµ·httpè¯·æ±‚ä¹‹å‰ï¼Œæµè§ˆå™¨é¦–å…ˆè¦å»è·å¾—æˆ‘ä»¬æƒ³è®¿é—®ç½‘é¡µçš„IPåœ°å€ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ªUDPçš„åŒ…ç»™DNSåŸŸåè§£ææœåŠ¡å™¨ï¼ŒDNSæœåŠ¡å™¨ä¼šè¿”å›ç»™æµè§ˆå™¨å¯¹åº”çš„IPåœ°å€</p>\n<p>ä¼˜åŒ–ï¼š1.DNSé¢„è§£æï¼ˆå¤§å‹ç½‘ç«™ï¼Œæœ‰å¤šä¸ªä¸åŒæœåŠ¡å™¨èµ„æºçš„æƒ…å†µä¸‹ï¼Œéƒ½å¯é‡‡å–DNSé¢„è§£æï¼Œæå‰è§£æï¼Œå‡å°‘é¡µé¢å¡é¡¿ï¼‰</p>\n<h3 id=\"5-TCP-IPæŠ¥æ–‡\"><a href=\"#5-TCP-IPæŠ¥æ–‡\" class=\"headerlink\" title=\"5.TCP/IPæŠ¥æ–‡\"></a>5.TCP/IPæŠ¥æ–‡</h3><p>ä¸‰æ¬¡æ¡æ‰‹</p>\n<h3 id=\"6-httpè¯·æ±‚\"><a href=\"#6-httpè¯·æ±‚\" class=\"headerlink\" title=\"6.httpè¯·æ±‚\"></a>6.httpè¯·æ±‚</h3><p>è¿æ¥å»ºç«‹ä¹‹åï¼Œæµè§ˆå™¨ç«¯ä¼šæ„å»ºè¯·æ±‚è¡Œã€è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ç­‰ä¿¡æ¯ï¼Œå¹¶æŠŠå’Œè¯¥åŸŸåæƒ³æ¢çš„Cookieç­‰æ•°æ®é™„åŠ åˆ°è¯·æ±‚å¤´ä¸­ï¼Œç„¶åå‘æœåŠ¡å™¨å‘é€æ„å»ºçš„è¯·æ±‚ä¿¡æ¯</p>\n<h3 id=\"7-æœåŠ¡å™¨è§£æè¯·æ±‚å¹¶è¿”å›httpæŠ¥æ–‡\"><a href=\"#7-æœåŠ¡å™¨è§£æè¯·æ±‚å¹¶è¿”å›httpæŠ¥æ–‡\" class=\"headerlink\" title=\"7.æœåŠ¡å™¨è§£æè¯·æ±‚å¹¶è¿”å›httpæŠ¥æ–‡\"></a>7.æœåŠ¡å™¨è§£æè¯·æ±‚å¹¶è¿”å›httpæŠ¥æ–‡</h3><p>æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ä¿¡æ¯åï¼Œä¼šæ ¹æ®è¯·æ±‚ä¿¡æ¯ç”Ÿæˆç›¸åº”æ•°æ®ï¼ˆåŒ…æ‹¬å“åº”è¡Œã€å“åº”å¤´å’Œå“åº”ä½“ç­‰ä¿¡æ¯ï¼‰ï¼Œå¹¶å‘ç»™ç½‘ç»œè¿›ç¨‹ã€‚ç­‰ç½‘ç»œè¿›ç¨‹æ¥æ”¶äº†å“åº”è¡Œå’Œå“åº”å¤´ä¹‹åï¼Œå°±å¼€å§‹è§£æå“åº”çš„å†…å®¹äº†</p>\n<h3 id=\"8-æµè§ˆå™¨æ¸²æŸ“é¡µé¢\"><a href=\"#8-æµè§ˆå™¨æ¸²æŸ“é¡µé¢\" class=\"headerlink\" title=\"8.æµè§ˆå™¨æ¸²æŸ“é¡µé¢\"></a>8.æµè§ˆå™¨æ¸²æŸ“é¡µé¢</h3><ul>\n<li>DOMæ ‘ï¼ˆDOMï¼‰<ul>\n<li>å­—èŠ‚ï¼ˆBytesï¼‰ -&gt; å­—ç¬¦ï¼ˆCharactersï¼‰ &gt; ä»¤ç‰Œï¼ˆtokenï¼‰ -&gt; èŠ‚ç‚¹ï¼ˆNodesï¼‰-&gt; æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰</li>\n</ul>\n</li>\n<li>CSSå¯¹è±¡æ¨¡å‹ï¼ˆCSSOMï¼‰</li>\n<li>å¸ƒå±€æ ‘Layout Tree<ul>\n<li>DOMæ ‘ä¸CSSOMæ ‘åˆå¹¶åå½¢æˆæ¸²æŸ“æ ‘ï¼ˆRenderTreeï¼‰</li>\n<li>æ¸²æŸ“æ ‘åªåŒ…å«æ¸²æŸ“ç½‘é¡µæ‰€éœ€çš„èŠ‚ç‚¹</li>\n<li>å¸ƒå±€è®¡ç®—æ¯ä¸ªå¯¹è±¡çš„ç²¾ç¡®ä½ç½®å’Œå¤§å°</li>\n<li>æœ€åä¸€æ­¥æ˜¯ç»˜åˆ¶ï¼Œä½¿ç”¨æœ€ç»ˆæ¸²æŸ“æ ‘å°†åƒç´ æ¸²æŸ“åˆ°å±å¹•ä¸Š</li>\n</ul>\n</li>\n<li>æ¸²æŸ“<ol>\n<li>è·å–DOMååˆ†å‰²ä¸ºå¤šä¸ªå›¾å±‚</li>\n<li>å¯¹æ¯ä¸ªå›¾å±‚çš„èŠ‚ç‚¹è®¡ç®—æ ·å¼ç»“æœï¼ˆRecalculate style â€“æ ·å¼é‡è®¡ç®—ï¼‰</li>\n<li>ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç”Ÿæˆå›¾å½¢å’Œä½ç½®ï¼ˆLayout â€“é‡æ’ï¼Œå›æµï¼‰</li>\n<li>å°†æ¯ä¸ªèŠ‚ç‚¹ç»˜åˆ¶å¡«å……åˆ°å›¾å±‚ä½å›¾ä¸­ï¼ˆPaint â€“é‡ç»˜ï¼‰</li>\n<li>å›¾å±‚ä½œä¸ºçº¹ç†ä¸Šä¼ è‡³GPU</li>\n<li>ç»„åˆå¤šä¸ªå›¾å±‚åˆ°é¡µé¢ä¸Šç”Ÿæˆæœ€ç»ˆå±å¹•å›¾åƒï¼ˆComposite Layersâ€“ å›¾å±‚é‡ç»„ï¼‰</li>\n</ol>\n</li>\n<li>å›æµå’Œé‡ç»˜<ul>\n<li>é‡ç»˜<ul>\n<li>å½“é¡µé¢ä¸­å…ƒç´ æ ·å¼çš„æ”¹å˜å¹¶ä¸å½±å“å®ƒåœ¨æ–‡æ¡£æµä¸­çš„ä½ç½®æ—¶ï¼ˆä¾‹å¦‚colorã€backgroundColorã€visibilityç­‰ï¼‰ï¼Œæµè§ˆå™¨ä¼šå°†æ–°æ ·å¼èµ‹äºˆç»™å…ƒç´ å¹¶é‡ç½®ç»˜åˆ¶å®ƒï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºé‡ç»˜</li>\n</ul>\n</li>\n<li>å›æµ<ul>\n<li>å½“Render Treeä¸­éƒ¨åˆ†æˆ–å…¨éƒ¨å…ƒç´ çš„å°ºå¯¸ã€ç»“æ„æˆ–æŸäº›å±æ€§å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæµè§ˆå™¨é‡æ–°æ¸²æŸ“éƒ¨åˆ†æˆ–è€…å…¨éƒ¨æ–‡æ¡£çš„è¿‡ç¨‹ç§°ä¸ºå›æµ</li>\n</ul>\n</li>\n<li>å›æµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œè€Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµ</li>\n</ul>\n</li>\n<li>ä¼˜åŒ–ï¼š<ol>\n<li>é™æ€èµ„æºä½¿ç”¨CDNï¼Œç¼©çŸ­é™æ€èµ„æºè¯·æ±‚æ—¶é—´</li>\n<li>å°†cssæ”¾åœ¨æ–‡ä»¶å¤´éƒ¨ï¼ŒJavaScriptæ–‡ä»¶æ”¾åœ¨åº•éƒ¨</li>\n<li>å›¾ç‰‡ä¼˜åŒ–<ol>\n<li>å›¾ç‰‡å‹ç¼©</li>\n<li>å›¾ç‰‡æ‡’åŠ è½½</li>\n<li>ä½¿ç”¨svgå“åº”å¼å›¾ç‰‡</li>\n<li>ä½¿ç”¨webpæ ¼å¼çš„å›¾ç‰‡</li>\n</ol>\n</li>\n<li>å‹ç¼©æ–‡ä»¶<ol>\n<li>JavaScriptï¼šUglifyPlugin</li>\n<li>CSS ï¼šMiniCssExtractPlugin</li>\n<li>HTMLï¼šHtmlWebpackPlugin</li>\n</ol>\n</li>\n<li>å‡å°‘é‡ç»˜é‡æ’</li>\n<li>ä»£ç åˆ†å‰²ï¼ˆå¦‚è·¯ç”±æ‡’åŠ è½½ï¼‰</li>\n<li>Tree Shaking<ul>\n<li>Tree Shakingçš„ä½œç”¨å°±æ˜¯ï¼Œé€šè¿‡ç¨‹åºæµåˆ†ææ‰¾å‡ºä»£ç ä¸­æ— ç”¨çš„ä»£ç å¹¶å‰”é™¤</li>\n</ul>\n</li>\n<li>ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"9-æ–­å¼€è¿æ¥\"><a href=\"#9-æ–­å¼€è¿æ¥\" class=\"headerlink\" title=\"9.æ–­å¼€è¿æ¥\"></a>9.æ–­å¼€è¿æ¥</h3><p>å››æ¬¡åˆ†æ‰‹</p>\n","site":{"data":{}},"wordcount":1530,"excerpt":"","more":"<h1 id=\"æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹\"><a href=\"#æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹\" class=\"headerlink\" title=\"æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹\"></a>æµè§ˆå™¨é¡µé¢çš„æ¸²æŸ“è¿‡ç¨‹</h1><h3 id=\"1-è¾“å…¥ç½‘å€\"><a href=\"#1-è¾“å…¥ç½‘å€\" class=\"headerlink\" title=\"1.è¾“å…¥ç½‘å€\"></a>1.è¾“å…¥ç½‘å€</h3><p>å½“ç”¨æˆ·åœ¨åœ°å€æ è¾“å…¥ä¸€ä¸ªæœç´¢å…³é”®å­—æ—¶ï¼Œåœ°å€æ ä¼šåˆ¤æ–­å½“å‰è¾“å…¥çš„å…³é”®å­—æ˜¯æœç´¢å†…å®¹ï¼Œè¿˜æ˜¯è¯·æ±‚çš„URL</p>\n<ul>\n<li>å¦‚æœæ˜¯æœç´¢å†…å®¹ï¼Œåœ°å€æ ä¼šä½¿ç”¨æµè§ˆå™¨è®¾ç½®çš„é»˜è®¤çš„æœç´¢å¼•æ“ï¼Œç”Ÿæˆå¯¹åº”çš„å¸¦æœç´¢å…³é”®å­—çš„URLåœ°å€</li>\n<li>å¦‚æœè¾“å…¥çš„å†…å®¹ç¬¦åˆURLè§„åˆ™ï¼Œé‚£ä¹ˆåœ°å€æ æ ¹æ®è§„åˆ™ï¼ŒæŠŠè¿™æ®µå†…å®¹åŠ ä¸Šåè®®ï¼Œåˆæˆä¸ºå®Œæ•´çš„URL</li>\n</ul>\n<p>å½“ç”¨æˆ·è¾“å…¥å…³é”®å­—å¹¶é”®å…¥å›è½¦ä¹‹åï¼Œè¿™æ„å‘³ç€å½“å‰é¡µé¢å³å°†è¦æ›¿æ¢æˆæ–°çš„é¡µé¢ï¼Œä¸è¿‡åœ¨è¿™ä¸ªæµç¨‹ç»§ç»­ä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šç»™å½“å‰é¡µé¢ä¸€æ¬¡æ‰§è¡Œbeforeunloadäº‹ä»¶ï¼Œä»¥æ‰§è¡Œä¸€äº›æ•°æ®æ¸…ç†æ“ä½œ</p>\n<h3 id=\"2-è§£æURL\"><a href=\"#2-è§£æURL\" class=\"headerlink\" title=\"2.è§£æURL\"></a>2.è§£æURL</h3><p>URLä¸»è¦ç”±åè®®ã€ä¸»æœºã€ç«¯å£ã€è·¯å¾„ã€æŸ¥è¯¢å‚æ•°å’Œé”šç‚¹6éƒ¨åˆ†æ„æˆã€‚è¾“å…¥URLä¹‹åï¼Œæµè§ˆå™¨ä¼šå°†è¿™äº›ä¿¡æ¯æ„æˆä¸€ä¸ªHTTPè¯·æ±‚</p>\n<h3 id=\"3-æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜\"><a href=\"#3-æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜\" class=\"headerlink\" title=\"3.æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜\"></a>3.æ£€æŸ¥æµè§ˆå™¨ç¼“å­˜</h3><p>æ¥ä¸‹æ¥ï¼Œç½‘ç»œè¿›ç¨‹ä¼šæŸ¥æ‰¾æœ¬åœ°ç¼“å­˜æ˜¯å¦ç¼“å­˜è¯¥URLåœ°å€çš„èµ„æºã€‚å¦‚æœæœ‰ç¼“å­˜èµ„æºï¼Œé‚£ä¹ˆä¼šç›´æ¥å°†ç¼“å­˜çš„èµ„æºè¿”å›ç»™æµè§ˆå™¨è¿›ç¨‹ï¼›å¦‚æœæ²¡æœ‰åœ¨ç¼“å­˜æ²¡æœ‰æ‰¾åˆ°ç¼“å­˜èµ„æºï¼Œé‚£ä¹ˆç›´æ¥è¿›å…¥åˆ°ç½‘ç»œè¯·æ±‚æµç¨‹</p>\n<p>ä¼˜åŒ–ï¼š1.å¼€å¯æµè§ˆå™¨ç¼“å­˜ï¼›2.ç¬¬ä¸‰æ–¹åº“å…¬å…±æ¨¡å—æŠ½å–</p>\n<h3 id=\"4-DNSè§£æ\"><a href=\"#4-DNSè§£æ\" class=\"headerlink\" title=\"4.DNSè§£æ\"></a>4.DNSè§£æ</h3><p>åœ¨å‘èµ·httpè¯·æ±‚ä¹‹å‰ï¼Œæµè§ˆå™¨é¦–å…ˆè¦å»è·å¾—æˆ‘ä»¬æƒ³è®¿é—®ç½‘é¡µçš„IPåœ°å€ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ªUDPçš„åŒ…ç»™DNSåŸŸåè§£ææœåŠ¡å™¨ï¼ŒDNSæœåŠ¡å™¨ä¼šè¿”å›ç»™æµè§ˆå™¨å¯¹åº”çš„IPåœ°å€</p>\n<p>ä¼˜åŒ–ï¼š1.DNSé¢„è§£æï¼ˆå¤§å‹ç½‘ç«™ï¼Œæœ‰å¤šä¸ªä¸åŒæœåŠ¡å™¨èµ„æºçš„æƒ…å†µä¸‹ï¼Œéƒ½å¯é‡‡å–DNSé¢„è§£æï¼Œæå‰è§£æï¼Œå‡å°‘é¡µé¢å¡é¡¿ï¼‰</p>\n<h3 id=\"5-TCP-IPæŠ¥æ–‡\"><a href=\"#5-TCP-IPæŠ¥æ–‡\" class=\"headerlink\" title=\"5.TCP/IPæŠ¥æ–‡\"></a>5.TCP/IPæŠ¥æ–‡</h3><p>ä¸‰æ¬¡æ¡æ‰‹</p>\n<h3 id=\"6-httpè¯·æ±‚\"><a href=\"#6-httpè¯·æ±‚\" class=\"headerlink\" title=\"6.httpè¯·æ±‚\"></a>6.httpè¯·æ±‚</h3><p>è¿æ¥å»ºç«‹ä¹‹åï¼Œæµè§ˆå™¨ç«¯ä¼šæ„å»ºè¯·æ±‚è¡Œã€è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ç­‰ä¿¡æ¯ï¼Œå¹¶æŠŠå’Œè¯¥åŸŸåæƒ³æ¢çš„Cookieç­‰æ•°æ®é™„åŠ åˆ°è¯·æ±‚å¤´ä¸­ï¼Œç„¶åå‘æœåŠ¡å™¨å‘é€æ„å»ºçš„è¯·æ±‚ä¿¡æ¯</p>\n<h3 id=\"7-æœåŠ¡å™¨è§£æè¯·æ±‚å¹¶è¿”å›httpæŠ¥æ–‡\"><a href=\"#7-æœåŠ¡å™¨è§£æè¯·æ±‚å¹¶è¿”å›httpæŠ¥æ–‡\" class=\"headerlink\" title=\"7.æœåŠ¡å™¨è§£æè¯·æ±‚å¹¶è¿”å›httpæŠ¥æ–‡\"></a>7.æœåŠ¡å™¨è§£æè¯·æ±‚å¹¶è¿”å›httpæŠ¥æ–‡</h3><p>æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚ä¿¡æ¯åï¼Œä¼šæ ¹æ®è¯·æ±‚ä¿¡æ¯ç”Ÿæˆç›¸åº”æ•°æ®ï¼ˆåŒ…æ‹¬å“åº”è¡Œã€å“åº”å¤´å’Œå“åº”ä½“ç­‰ä¿¡æ¯ï¼‰ï¼Œå¹¶å‘ç»™ç½‘ç»œè¿›ç¨‹ã€‚ç­‰ç½‘ç»œè¿›ç¨‹æ¥æ”¶äº†å“åº”è¡Œå’Œå“åº”å¤´ä¹‹åï¼Œå°±å¼€å§‹è§£æå“åº”çš„å†…å®¹äº†</p>\n<h3 id=\"8-æµè§ˆå™¨æ¸²æŸ“é¡µé¢\"><a href=\"#8-æµè§ˆå™¨æ¸²æŸ“é¡µé¢\" class=\"headerlink\" title=\"8.æµè§ˆå™¨æ¸²æŸ“é¡µé¢\"></a>8.æµè§ˆå™¨æ¸²æŸ“é¡µé¢</h3><ul>\n<li>DOMæ ‘ï¼ˆDOMï¼‰<ul>\n<li>å­—èŠ‚ï¼ˆBytesï¼‰ -&gt; å­—ç¬¦ï¼ˆCharactersï¼‰ &gt; ä»¤ç‰Œï¼ˆtokenï¼‰ -&gt; èŠ‚ç‚¹ï¼ˆNodesï¼‰-&gt; æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰</li>\n</ul>\n</li>\n<li>CSSå¯¹è±¡æ¨¡å‹ï¼ˆCSSOMï¼‰</li>\n<li>å¸ƒå±€æ ‘Layout Tree<ul>\n<li>DOMæ ‘ä¸CSSOMæ ‘åˆå¹¶åå½¢æˆæ¸²æŸ“æ ‘ï¼ˆRenderTreeï¼‰</li>\n<li>æ¸²æŸ“æ ‘åªåŒ…å«æ¸²æŸ“ç½‘é¡µæ‰€éœ€çš„èŠ‚ç‚¹</li>\n<li>å¸ƒå±€è®¡ç®—æ¯ä¸ªå¯¹è±¡çš„ç²¾ç¡®ä½ç½®å’Œå¤§å°</li>\n<li>æœ€åä¸€æ­¥æ˜¯ç»˜åˆ¶ï¼Œä½¿ç”¨æœ€ç»ˆæ¸²æŸ“æ ‘å°†åƒç´ æ¸²æŸ“åˆ°å±å¹•ä¸Š</li>\n</ul>\n</li>\n<li>æ¸²æŸ“<ol>\n<li>è·å–DOMååˆ†å‰²ä¸ºå¤šä¸ªå›¾å±‚</li>\n<li>å¯¹æ¯ä¸ªå›¾å±‚çš„èŠ‚ç‚¹è®¡ç®—æ ·å¼ç»“æœï¼ˆRecalculate style â€“æ ·å¼é‡è®¡ç®—ï¼‰</li>\n<li>ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç”Ÿæˆå›¾å½¢å’Œä½ç½®ï¼ˆLayout â€“é‡æ’ï¼Œå›æµï¼‰</li>\n<li>å°†æ¯ä¸ªèŠ‚ç‚¹ç»˜åˆ¶å¡«å……åˆ°å›¾å±‚ä½å›¾ä¸­ï¼ˆPaint â€“é‡ç»˜ï¼‰</li>\n<li>å›¾å±‚ä½œä¸ºçº¹ç†ä¸Šä¼ è‡³GPU</li>\n<li>ç»„åˆå¤šä¸ªå›¾å±‚åˆ°é¡µé¢ä¸Šç”Ÿæˆæœ€ç»ˆå±å¹•å›¾åƒï¼ˆComposite Layersâ€“ å›¾å±‚é‡ç»„ï¼‰</li>\n</ol>\n</li>\n<li>å›æµå’Œé‡ç»˜<ul>\n<li>é‡ç»˜<ul>\n<li>å½“é¡µé¢ä¸­å…ƒç´ æ ·å¼çš„æ”¹å˜å¹¶ä¸å½±å“å®ƒåœ¨æ–‡æ¡£æµä¸­çš„ä½ç½®æ—¶ï¼ˆä¾‹å¦‚colorã€backgroundColorã€visibilityç­‰ï¼‰ï¼Œæµè§ˆå™¨ä¼šå°†æ–°æ ·å¼èµ‹äºˆç»™å…ƒç´ å¹¶é‡ç½®ç»˜åˆ¶å®ƒï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºé‡ç»˜</li>\n</ul>\n</li>\n<li>å›æµ<ul>\n<li>å½“Render Treeä¸­éƒ¨åˆ†æˆ–å…¨éƒ¨å…ƒç´ çš„å°ºå¯¸ã€ç»“æ„æˆ–æŸäº›å±æ€§å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæµè§ˆå™¨é‡æ–°æ¸²æŸ“éƒ¨åˆ†æˆ–è€…å…¨éƒ¨æ–‡æ¡£çš„è¿‡ç¨‹ç§°ä¸ºå›æµ</li>\n</ul>\n</li>\n<li>å›æµå¿…å°†å¼•èµ·é‡ç»˜ï¼Œè€Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•èµ·å›æµ</li>\n</ul>\n</li>\n<li>ä¼˜åŒ–ï¼š<ol>\n<li>é™æ€èµ„æºä½¿ç”¨CDNï¼Œç¼©çŸ­é™æ€èµ„æºè¯·æ±‚æ—¶é—´</li>\n<li>å°†cssæ”¾åœ¨æ–‡ä»¶å¤´éƒ¨ï¼ŒJavaScriptæ–‡ä»¶æ”¾åœ¨åº•éƒ¨</li>\n<li>å›¾ç‰‡ä¼˜åŒ–<ol>\n<li>å›¾ç‰‡å‹ç¼©</li>\n<li>å›¾ç‰‡æ‡’åŠ è½½</li>\n<li>ä½¿ç”¨svgå“åº”å¼å›¾ç‰‡</li>\n<li>ä½¿ç”¨webpæ ¼å¼çš„å›¾ç‰‡</li>\n</ol>\n</li>\n<li>å‹ç¼©æ–‡ä»¶<ol>\n<li>JavaScriptï¼šUglifyPlugin</li>\n<li>CSS ï¼šMiniCssExtractPlugin</li>\n<li>HTMLï¼šHtmlWebpackPlugin</li>\n</ol>\n</li>\n<li>å‡å°‘é‡ç»˜é‡æ’</li>\n<li>ä»£ç åˆ†å‰²ï¼ˆå¦‚è·¯ç”±æ‡’åŠ è½½ï¼‰</li>\n<li>Tree Shaking<ul>\n<li>Tree Shakingçš„ä½œç”¨å°±æ˜¯ï¼Œé€šè¿‡ç¨‹åºæµåˆ†ææ‰¾å‡ºä»£ç ä¸­æ— ç”¨çš„ä»£ç å¹¶å‰”é™¤</li>\n</ul>\n</li>\n<li>ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"9-æ–­å¼€è¿æ¥\"><a href=\"#9-æ–­å¼€è¿æ¥\" class=\"headerlink\" title=\"9.æ–­å¼€è¿æ¥\"></a>9.æ–­å¼€è¿æ¥</h3><p>å››æ¬¡åˆ†æ‰‹</p>\n"},{"title":"d3ç›¸å…³ç¬”è®°","keywords":"d3","_content":"### ä¸€.ä½¿ç”¨d3æŸ¥è¯¢svg\n\nd3.select()ã€d3.selectAll()\n\n### äºŒ.ä½¿ç”¨d3è®¾ç½®svgä¸­çš„å±æ€§\n\nd3.attr()\n\nå¸¸è§çš„å±æ€§ï¼š\n\n- idã€class\n- xï¼Œyï¼Œcxï¼Œcyï¼ˆcxã€cyæ˜¯åœ†çš„xyåæ ‡ï¼‰\n- fillï¼ˆé¢œè‰²å¡«å……colorï¼‰ã€strokeï¼ˆè¾¹æ¡†borderï¼‰\n- heightã€widthã€rï¼ˆåœ†çš„åŠå¾„ï¼‰\n- transformï¼ˆtranslateã€rotateã€scaleï¼‰\n\n### ä¸‰.ä½¿ç”¨d3æ·»åŠ ã€åˆ é™¤svgå…ƒç´ \n\nelement.append()ã€element.remove()\n\n### å››.d3çš„æ¯”ä¾‹å°º\n\n#### 1.d3.scaleLinear()ï¼šçº¿æ€§æ¯”ä¾‹å°º\n\ndomain:ï¼šè¿ç»­å‹ rangeï¼šè¿ç»­å‹\n\n```javascript\nconst xScale = d3.scaleLinear()\n.domain([min_d, max_d]) // è¿ç»­å‹\n.range(min, max) // è¿ç»­å‹\n\nconst yScale = d3.scaleLinear()\n.domain([0, d3.max(data, item => item.value)])\n.range([0, innerWidth])\n```\n\nd3.max(æ•°æ®ï¼Œå›è°ƒï¼šå¦‚ä½•æå–æ•°æ®çš„å€¼)ï¼šæ±‚å‡ºæ•°æ®æŸä¸€å±æ€§çš„æœ€å¤§å€¼\n\n#### 2.d3.scaleBand()ï¼šåºæ•°æ¯”ä¾‹å°º\n\ndomainï¼šç¦»æ•£å‹ rangeï¼šè¿ç»­æ€§\n\nå¯ä»¥ç†è§£ä¸ºç”¨domainå°†rangeåˆ†å‰²\n\n```javascript\nconst scale_b = d3.scaleBand()\n.domian([1,2,3,4]) // ç¦»æ•£å‹\n.range([0, 100]) // è¿ç»­å‹\n```\n\n#### 3.d3.scaleOrdinal()ï¼šåºæ•°æ¯”ä¾‹å°º\n\ndomainï¼šç¦»æ•£å‹ rangeï¼šç¦»æ•£å‹\n\nå¯ä»¥ç®€å•ç†è§£ä¸ºmapæ˜ å°„\n\n```javascript\nconst scaleO = d3.scaleOrdinal()\n.domain(['a','b','c']) // ç¦»æ•£å‹\n.range([10, 20, 30]) // ç¦»æ•£å‹\n```\n\nç”Ÿæˆé¢œè‰²æ¯”ä¾‹å°º\n\n```javascript\nconst color = d3.scaleOrdinal().domain(naiveKeys).range(d3.schemeSet2)\n```\n\n\n\n#### 4.d3.scaleQuantize()ï¼šé‡åŒ–æ¯”ä¾‹å°º(æŠŠè¿ç»­æ€§çš„å€¼è½¬æ¢ä¸ºç¦»æ•£å‹çš„å€¼)\n\ndomainï¼šè¿ç»­å‹ rangeï¼šç¦»æ•£å‹\n\nå¯ä»¥ç†è§£ä¸ºscaleBandçš„é€†å˜æ¢\n\n```javascript\nconst scaleQ = d3.scaleQuantize()\n.domain([0, 10]) // è¿ç»­å‹\n.range(['a', 'b', 'c']) // ç¦»æ•£å‹\n```\n\n#### 5.d3.scaleTime()ï¼šæ—¶é—´æ¯”ä¾‹å°º\n\ndomainï¼šè¿ç»­å‹ï¼Œæ˜¯æ—¶é—´ rangeï¼šè¿ç»­ï¼Œæ˜¯åˆ»åº¦\n\nç±»ä¼¼äºd3.scaleLinear()çº¿æ€§æ¯”ä¾‹å°ºï¼Œåªä¸è¿‡è¾“å…¥åŸŸå˜æˆäº†æ—¶é—´è½´\n\n```javascript\nconst scaleT = d3.scaleTime()\n.domain([new Date(2020, 01, 01), new Date(2021, 01, 01)]) // è¿ç»­å‹\n.range([0, 100]) // è¿ç»­å‹\n```\n\n#### 6.é¢œè‰²æ¯”ä¾‹å°º\n\nd3æä¾›äº†ä¸€äº›é¢œè‰²æ¯”ä¾‹å°ºï¼Œ10å°±æ˜¯10ç§é¢œè‰²\n\nâ‘ Categoricalç³»åˆ—â€”â€”ç¦»æ•£å‹é¢œè‰²\nd3.schemeCategory10 // 10å°±æ˜¯10ç§é¢œè‰²\n\n![category10](/css/images/d3/category10.png)\n\nd3.schemeAccent\n\n![Accent](/css/images/d3/Accent.png)\n\n```javascript\n// å®šä¹‰ä¸€ä¸ªåºæ•°é¢œè‰²æ¯”ä¾‹å°º\nconst color = d3.scaleLinear(d3.schemeCategory10)\n```\n\nâ‘¡Divergingâ€”â€”è¿ç»­å‹é¢œè‰²ï¼ˆæ¸å˜é¢œè‰²ï¼‰\n\næ–¹å¼ä¸€ï¼šd3.**interpolateBrBG**(*t*)â€”â€”t => [0, 1]\n\n### äº”.Data Join\n\n#### 1.æœ¬è´¨ä¸Šæ˜¯å°†æ•°æ®ä¸å›¾å…ƒè¿›è¡Œç»‘å®š\n\nd3.selectAll(.classç±»å).data(data)\n\n#### 2.d3ç»‘å®šæ•°æ®çš„ä¸‰ä¸ªçŠ¶æ€\n\nenter:\n\n- æœ‰æ•°æ®æ²¡æœ‰å›¾å…ƒ\n\n- d3ä¼šè‡ªåŠ¨ææ¸…æ¥šå“ªäº›æ•°æ®æ˜¯æ–°å¢çš„\n\n- æ ¹æ®æ–°å¢çš„æ•°æ®ç”Ÿæˆå¯¹åº”çš„å›¾å…ƒ\n\n- ç”Ÿæˆå›¾å…ƒçš„å ä½ï¼Œå ä½çš„å†…å®¹éœ€è¦é€šè¿‡appendæ·»åŠ \n\n ```javascript\n  const p = d3.selectAll('.class').data(data).enter().append('rect').attr(...)\n  ```\nupdate:\n\n- æœ‰å›¾å…ƒæœ‰æ•°æ®\n\n- updateä½œä¸ºå®é™…å¯è§†åŒ–ä»»åŠ¡æœ€å¸¸ç”¨çš„çŠ¶æ€ï¼Œç»å¸¸è¢«å•ç‹¬å°è£…ä¸ºä¸€ä¸ªå‡½æ•°\n\n- updateSelection.merge(enterSelection).attr().attr()\n\n  - å°†ä¸¤ä¸ªselectionåˆå¹¶åˆ°ä¸€èµ·æ“ä½œ\n  - enterSelectionéœ€è¦è‡³å°‘append()å›¾å…ƒ\n\n ```javascript\n  d3.selectAll(.class).data(data).update().transition().durantion(3000).attr('width', d => xScale(d.value))\n  ```\nexit\n\n- æœ‰å›¾å…ƒæ²¡æ•°æ®\n\n- d3ä¼šè‡ªåŠ¨ææ¸…æ¥šå“ªäº›å›¾å…ƒæ˜¯ä¸ç»‘å®šæ•°æ®çš„\n\n ```\n  const p = d3.selectAll('.class').data(data).exit().remove()\n  ```\n\n#### 3.è¯»å–æ•°æ®\n\nd3.csv('path/tp/data.csv').then(res => {})\n\n### å…­.path\n\n#### 1.pathå…ƒç´ çš„å½¢çŠ¶æ˜¯é€šè¿‡å±æ€§dæ¥å®šä¹‰çš„\n\n#### 2.d3 Pathç”Ÿæˆå™¨\n\n- d3.line().x(d => xScale(xValue)).y(d => yScale(yValue)).curve(d3.curveCardinal.tension(0.5) ----ç”¨äºæŠ˜çº¿å›¾\n- d3.geoPath().projection() ----ç”¨äºåœ°å›¾\n- d3.area() ----ç”¨äºä¸»é¢˜æ²³æµ\n- d3.arc().innerRadius().outerRadius() ----ç”¨äºé¥¼å›¾\n- d3.lineRadial().angle().radius() ----æåæ ‡ç³»ç‰ˆæœ¬çš„d3.line()\n\n#### 3.d3.line()\n\nconst line = d3.line().x(d => xScale(xValue)).y(d => yScale(yValue)).curve(d3.curveCardinal.tension(0.5)\n\nä½¿ç”¨line:\n\nd3.select('path').datum(data) // ç»™ç‰¹å®šä¸€ä¸ªå›¾å…ƒç»‘å®šä¸€ä¸ªæ•°æ®ï¼Œdataæ˜¯ç»™ä¸€æ‰¹å›¾å…ƒç»‘å®šä¸€æ‰¹æ•°æ®\n\n.attr('d', line) // ç»™pathé…ç½®line\n\n### ä¸ƒ.interaction\n\n#### 1.åœ°å›¾æ•°æ®çš„è¡¨è¾¾: Topojson & Geojson\n\n#### 2.jsonæ•°æ®çš„è¯»å–\n\n```javascript\nd3.json('path/to/data.json').then( data => {â€¦ â€¦ â€¦} ) \n```\n\n#### 3.topojsonè½¬geojson\n\nå€ŸåŠ©topojson.jsåº“\n\n```javascript\ngeojson = topojson.feature(data, data.objects.countries)\n```\n\n#### 4.åœ°å›¾æ•°æ®çš„å¯è§†åŒ–\n\n```javascript\nconst projection = d3.geoNaturalEarth1();\nconst pathGenerator = d3.geoPath().projection(projection)\n// geoé€‚åº”å®½é«˜\nprojection.fitSize([innerWidth, innerHeight], geojson);\n// pathä½¿ç”¨geo\ng.selectAll(path).data(geojson.features).join()\n\t.attr('d',pathGenerator  )\n```\n\n#### 5.äº‹ä»¶\n\näº‹ä»¶çš„è®¾ç½®å¯¹åº”äºD3ä¸­çš„.on(â€˜eventNameâ€™, callBack) \n\n```javascript\nd3.selectAll('path').on('click', function () {\n  d3.select(this).attr()\n})\n```\n\nå›¾å…ƒ.on(äº‹ä»¶ç±»å‹, è§¦å‘åŠ¨ä½œ) \n\n#### 6.d3-tip\n\ntooltipåº“ï¼Œè‡ªåŠ¨åœ¨â€˜åˆé€‚â€™çš„ä½ç½®æ˜¾ç¤ºå¯¹è¯æ¡†\n\n### å…«.stack(å †å )\n\n#### 1.d3.stack()\n\næœ¬è´¨ä¸Šæ˜¯d3.jsæä¾›çš„ç”¨äºæ•°æ®é¢„å¤„ç†çš„æ¥å£ï¼ˆç”Ÿæˆå †å æ•°æ®ï¼‰\n\n#### 2.è¯­æ³•\n\n```javascript\nconst stackData = d3.stack()\n\t.keys(naiveKeys) // éœ€è¦å †å å“ªäº›å­—æ®µçš„æ•°æ®\n\t.order(d3.stackOrderNone) // æ€ä¹ˆæ’åº stackOrderNoneï¼šæŒ‰åŸç”Ÿæ•°æ®çš„é¡ºåº stackAscending: å‡åºæ’åº stackDescending: é™åºæ’åº\n\t(naiveData)\n```\n\n### ä¹.tree\n\n#### 1.å±‚çº§æ•°æ®é¢„å¤„ç†d3.hierarchy\n\n- d3.hierarchy\n\n\n- ä¿æŒæ•°æ®çš„åŸå§‹ç»“æ„ï¼Œå¹¶å°†è¾“å…¥å±‚çº§æ•°æ®è½¬æ¢æˆD3ä¸­çš„hierarcyå¯¹è±¡(result instanceof d3.hierarchy)ï¼ŒåŒæ—¶å¼•å…¥: \n- height ï¼ˆ* ä¸æ˜¯é€å±‚é€’å‡ï¼‰ã€depthã€children (åŸå§‹ç»“æ„) parentã€ï¼ˆdata åŸå§‹æ•°æ®çš„æ˜ å°„ï¼‰\n\n\n- â€¢d3.hierarchyå¯ä½œä¸ºä¸€ä¸ªâ€˜ä¸­é—´ç»“æœâ€™ï¼Œç»§ç»­è¾“å…¥åˆ°æ›´å¤šD3.jsæä¾›çš„æ•°æ®é¢„å¤„ç†æ¥å£ä¸­\n\n ```javascript\n  const root = d3.hierarchy(data)\n  ```\n\n#### 2.å±‚çº§æ•°æ®é¢„å¤„ç†d3.tree()\n\n- d3.tree().size([innerHeight, innerWidth])\n\n- è¿”å›ä¸€ä¸ªå‡½æ•°\n\n- æ¥å—å‚æ•°ä¸ºd3.hierarchy\n\n- å‡½æ•°ä¼šæ ¹æ®è®¾ç½®çš„sizeå°†æ ‘å½¢ç»“æ„çš„æ¯ä¸ªèŠ‚ç‚¹æ˜ å°„åˆ°ç©ºé—´ä¸­â€˜åˆé€‚â€™çš„ä½ç½®ï¼ˆæ·»åŠ æ¨ªçºµåæ ‡èŠ‚ç‚¹ï¼‰\n\n ```javascript\n  root = d3.tree().size([innerHeight, innerWidth])(root)\n  ```\n\n#### 3.root.links()å’Œ d3.linkHorizontal()\n\n- root.links()è¿”å›æ ‘å½¢ç»“æ„ä¸­å­˜åœ¨çš„æ‰€æœ‰â€˜é“¾æ¥â€™(å¸¦æœ‰sourceå’Œtargetæ ‘å½¢)ï¼Œä½œä¸ºdata joinçš„å‚æ•°ï¼Œä¾›åç»­è®¾ç½®ä¸‰æ¬¡è´å¡å°”æ›²çº¿çš„xå’Œyä½¿ç”¨\n\n- d3.linkHorizontal()ç”Ÿæˆä¸€ä¸ªä»sourceåˆ°targetçš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿ã€‚.x(â€¦)ä¸.y(â€¦)åˆ†åˆ«è¡¨ç¤ºå¦‚ä½•åœ¨sourceä¸targetä¸­å–æ¨ªçºµåæ ‡å€¼ã€‚é»˜è®¤ç”Ÿæˆçš„æ˜¯çºµå‘çš„æ ‘å½¢å›¾ï¼Œæ¨ªçºµåæ ‡å€¼å–ç›¸åçš„å€¼å°†å›¾å½¢ç¿»è½¬è¿‡æ¥\n\n ```javascript\n  g.selectAll(\"path\")\n  \t.data(root.links())\n  \t.join(\"path\")\n  \t.attr(\"fill\", \"none\")\n  \t.attr(\"stroke\", \"black\")\n  \t.attr(\"stroke-width\", 1.5)\n  \t.attr(\"d\", d3.linkHorizontal().x(d => d.y).y(d => d.x));\n  ```\n\n#### 4.root.descendants()\n\n- root.descendants()è¿”å›å±‚çº§ç»“æ„ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¹¿åº¦ä¼˜å…ˆï¼ˆå±‚æ¬¡ä¼˜å…ˆï¼‰ï¼Œè¿”å›çš„å†…å®¹æœ¬è´¨ä¸Šæ˜¯å¯¹è±¡çš„æ•°ç»„\n\n ```javascript\n  g.selectAll('text')\n  \t.data(root.descendants())\n  \t.join('text')\n  \t.text(d => d.data.name)\n  \t.attr('x', d => d.children ? d.y - 8 : d.y + 8)\n  \t.attr('y', d => d.x + 5)\n  \t.attr('font-size', '0.8em')\n  \t.attr('text-anchor', d => d.children ? 'end' : 'start')\n  ```\n\n  â€‹","source":"_posts/d3.md","raw":"---\ntitle: d3ç›¸å…³ç¬”è®°\ntag: d3js\nkeywords: d3\ncategories: å‰ç«¯å¯è§†åŒ–åº“\n---\n### ä¸€.ä½¿ç”¨d3æŸ¥è¯¢svg\n\nd3.select()ã€d3.selectAll()\n\n### äºŒ.ä½¿ç”¨d3è®¾ç½®svgä¸­çš„å±æ€§\n\nd3.attr()\n\nå¸¸è§çš„å±æ€§ï¼š\n\n- idã€class\n- xï¼Œyï¼Œcxï¼Œcyï¼ˆcxã€cyæ˜¯åœ†çš„xyåæ ‡ï¼‰\n- fillï¼ˆé¢œè‰²å¡«å……colorï¼‰ã€strokeï¼ˆè¾¹æ¡†borderï¼‰\n- heightã€widthã€rï¼ˆåœ†çš„åŠå¾„ï¼‰\n- transformï¼ˆtranslateã€rotateã€scaleï¼‰\n\n### ä¸‰.ä½¿ç”¨d3æ·»åŠ ã€åˆ é™¤svgå…ƒç´ \n\nelement.append()ã€element.remove()\n\n### å››.d3çš„æ¯”ä¾‹å°º\n\n#### 1.d3.scaleLinear()ï¼šçº¿æ€§æ¯”ä¾‹å°º\n\ndomain:ï¼šè¿ç»­å‹ rangeï¼šè¿ç»­å‹\n\n```javascript\nconst xScale = d3.scaleLinear()\n.domain([min_d, max_d]) // è¿ç»­å‹\n.range(min, max) // è¿ç»­å‹\n\nconst yScale = d3.scaleLinear()\n.domain([0, d3.max(data, item => item.value)])\n.range([0, innerWidth])\n```\n\nd3.max(æ•°æ®ï¼Œå›è°ƒï¼šå¦‚ä½•æå–æ•°æ®çš„å€¼)ï¼šæ±‚å‡ºæ•°æ®æŸä¸€å±æ€§çš„æœ€å¤§å€¼\n\n#### 2.d3.scaleBand()ï¼šåºæ•°æ¯”ä¾‹å°º\n\ndomainï¼šç¦»æ•£å‹ rangeï¼šè¿ç»­æ€§\n\nå¯ä»¥ç†è§£ä¸ºç”¨domainå°†rangeåˆ†å‰²\n\n```javascript\nconst scale_b = d3.scaleBand()\n.domian([1,2,3,4]) // ç¦»æ•£å‹\n.range([0, 100]) // è¿ç»­å‹\n```\n\n#### 3.d3.scaleOrdinal()ï¼šåºæ•°æ¯”ä¾‹å°º\n\ndomainï¼šç¦»æ•£å‹ rangeï¼šç¦»æ•£å‹\n\nå¯ä»¥ç®€å•ç†è§£ä¸ºmapæ˜ å°„\n\n```javascript\nconst scaleO = d3.scaleOrdinal()\n.domain(['a','b','c']) // ç¦»æ•£å‹\n.range([10, 20, 30]) // ç¦»æ•£å‹\n```\n\nç”Ÿæˆé¢œè‰²æ¯”ä¾‹å°º\n\n```javascript\nconst color = d3.scaleOrdinal().domain(naiveKeys).range(d3.schemeSet2)\n```\n\n\n\n#### 4.d3.scaleQuantize()ï¼šé‡åŒ–æ¯”ä¾‹å°º(æŠŠè¿ç»­æ€§çš„å€¼è½¬æ¢ä¸ºç¦»æ•£å‹çš„å€¼)\n\ndomainï¼šè¿ç»­å‹ rangeï¼šç¦»æ•£å‹\n\nå¯ä»¥ç†è§£ä¸ºscaleBandçš„é€†å˜æ¢\n\n```javascript\nconst scaleQ = d3.scaleQuantize()\n.domain([0, 10]) // è¿ç»­å‹\n.range(['a', 'b', 'c']) // ç¦»æ•£å‹\n```\n\n#### 5.d3.scaleTime()ï¼šæ—¶é—´æ¯”ä¾‹å°º\n\ndomainï¼šè¿ç»­å‹ï¼Œæ˜¯æ—¶é—´ rangeï¼šè¿ç»­ï¼Œæ˜¯åˆ»åº¦\n\nç±»ä¼¼äºd3.scaleLinear()çº¿æ€§æ¯”ä¾‹å°ºï¼Œåªä¸è¿‡è¾“å…¥åŸŸå˜æˆäº†æ—¶é—´è½´\n\n```javascript\nconst scaleT = d3.scaleTime()\n.domain([new Date(2020, 01, 01), new Date(2021, 01, 01)]) // è¿ç»­å‹\n.range([0, 100]) // è¿ç»­å‹\n```\n\n#### 6.é¢œè‰²æ¯”ä¾‹å°º\n\nd3æä¾›äº†ä¸€äº›é¢œè‰²æ¯”ä¾‹å°ºï¼Œ10å°±æ˜¯10ç§é¢œè‰²\n\nâ‘ Categoricalç³»åˆ—â€”â€”ç¦»æ•£å‹é¢œè‰²\nd3.schemeCategory10 // 10å°±æ˜¯10ç§é¢œè‰²\n\n![category10](/css/images/d3/category10.png)\n\nd3.schemeAccent\n\n![Accent](/css/images/d3/Accent.png)\n\n```javascript\n// å®šä¹‰ä¸€ä¸ªåºæ•°é¢œè‰²æ¯”ä¾‹å°º\nconst color = d3.scaleLinear(d3.schemeCategory10)\n```\n\nâ‘¡Divergingâ€”â€”è¿ç»­å‹é¢œè‰²ï¼ˆæ¸å˜é¢œè‰²ï¼‰\n\næ–¹å¼ä¸€ï¼šd3.**interpolateBrBG**(*t*)â€”â€”t => [0, 1]\n\n### äº”.Data Join\n\n#### 1.æœ¬è´¨ä¸Šæ˜¯å°†æ•°æ®ä¸å›¾å…ƒè¿›è¡Œç»‘å®š\n\nd3.selectAll(.classç±»å).data(data)\n\n#### 2.d3ç»‘å®šæ•°æ®çš„ä¸‰ä¸ªçŠ¶æ€\n\nenter:\n\n- æœ‰æ•°æ®æ²¡æœ‰å›¾å…ƒ\n\n- d3ä¼šè‡ªåŠ¨ææ¸…æ¥šå“ªäº›æ•°æ®æ˜¯æ–°å¢çš„\n\n- æ ¹æ®æ–°å¢çš„æ•°æ®ç”Ÿæˆå¯¹åº”çš„å›¾å…ƒ\n\n- ç”Ÿæˆå›¾å…ƒçš„å ä½ï¼Œå ä½çš„å†…å®¹éœ€è¦é€šè¿‡appendæ·»åŠ \n\n ```javascript\n  const p = d3.selectAll('.class').data(data).enter().append('rect').attr(...)\n  ```\nupdate:\n\n- æœ‰å›¾å…ƒæœ‰æ•°æ®\n\n- updateä½œä¸ºå®é™…å¯è§†åŒ–ä»»åŠ¡æœ€å¸¸ç”¨çš„çŠ¶æ€ï¼Œç»å¸¸è¢«å•ç‹¬å°è£…ä¸ºä¸€ä¸ªå‡½æ•°\n\n- updateSelection.merge(enterSelection).attr().attr()\n\n  - å°†ä¸¤ä¸ªselectionåˆå¹¶åˆ°ä¸€èµ·æ“ä½œ\n  - enterSelectionéœ€è¦è‡³å°‘append()å›¾å…ƒ\n\n ```javascript\n  d3.selectAll(.class).data(data).update().transition().durantion(3000).attr('width', d => xScale(d.value))\n  ```\nexit\n\n- æœ‰å›¾å…ƒæ²¡æ•°æ®\n\n- d3ä¼šè‡ªåŠ¨ææ¸…æ¥šå“ªäº›å›¾å…ƒæ˜¯ä¸ç»‘å®šæ•°æ®çš„\n\n ```\n  const p = d3.selectAll('.class').data(data).exit().remove()\n  ```\n\n#### 3.è¯»å–æ•°æ®\n\nd3.csv('path/tp/data.csv').then(res => {})\n\n### å…­.path\n\n#### 1.pathå…ƒç´ çš„å½¢çŠ¶æ˜¯é€šè¿‡å±æ€§dæ¥å®šä¹‰çš„\n\n#### 2.d3 Pathç”Ÿæˆå™¨\n\n- d3.line().x(d => xScale(xValue)).y(d => yScale(yValue)).curve(d3.curveCardinal.tension(0.5) ----ç”¨äºæŠ˜çº¿å›¾\n- d3.geoPath().projection() ----ç”¨äºåœ°å›¾\n- d3.area() ----ç”¨äºä¸»é¢˜æ²³æµ\n- d3.arc().innerRadius().outerRadius() ----ç”¨äºé¥¼å›¾\n- d3.lineRadial().angle().radius() ----æåæ ‡ç³»ç‰ˆæœ¬çš„d3.line()\n\n#### 3.d3.line()\n\nconst line = d3.line().x(d => xScale(xValue)).y(d => yScale(yValue)).curve(d3.curveCardinal.tension(0.5)\n\nä½¿ç”¨line:\n\nd3.select('path').datum(data) // ç»™ç‰¹å®šä¸€ä¸ªå›¾å…ƒç»‘å®šä¸€ä¸ªæ•°æ®ï¼Œdataæ˜¯ç»™ä¸€æ‰¹å›¾å…ƒç»‘å®šä¸€æ‰¹æ•°æ®\n\n.attr('d', line) // ç»™pathé…ç½®line\n\n### ä¸ƒ.interaction\n\n#### 1.åœ°å›¾æ•°æ®çš„è¡¨è¾¾: Topojson & Geojson\n\n#### 2.jsonæ•°æ®çš„è¯»å–\n\n```javascript\nd3.json('path/to/data.json').then( data => {â€¦ â€¦ â€¦} ) \n```\n\n#### 3.topojsonè½¬geojson\n\nå€ŸåŠ©topojson.jsåº“\n\n```javascript\ngeojson = topojson.feature(data, data.objects.countries)\n```\n\n#### 4.åœ°å›¾æ•°æ®çš„å¯è§†åŒ–\n\n```javascript\nconst projection = d3.geoNaturalEarth1();\nconst pathGenerator = d3.geoPath().projection(projection)\n// geoé€‚åº”å®½é«˜\nprojection.fitSize([innerWidth, innerHeight], geojson);\n// pathä½¿ç”¨geo\ng.selectAll(path).data(geojson.features).join()\n\t.attr('d',pathGenerator  )\n```\n\n#### 5.äº‹ä»¶\n\näº‹ä»¶çš„è®¾ç½®å¯¹åº”äºD3ä¸­çš„.on(â€˜eventNameâ€™, callBack) \n\n```javascript\nd3.selectAll('path').on('click', function () {\n  d3.select(this).attr()\n})\n```\n\nå›¾å…ƒ.on(äº‹ä»¶ç±»å‹, è§¦å‘åŠ¨ä½œ) \n\n#### 6.d3-tip\n\ntooltipåº“ï¼Œè‡ªåŠ¨åœ¨â€˜åˆé€‚â€™çš„ä½ç½®æ˜¾ç¤ºå¯¹è¯æ¡†\n\n### å…«.stack(å †å )\n\n#### 1.d3.stack()\n\næœ¬è´¨ä¸Šæ˜¯d3.jsæä¾›çš„ç”¨äºæ•°æ®é¢„å¤„ç†çš„æ¥å£ï¼ˆç”Ÿæˆå †å æ•°æ®ï¼‰\n\n#### 2.è¯­æ³•\n\n```javascript\nconst stackData = d3.stack()\n\t.keys(naiveKeys) // éœ€è¦å †å å“ªäº›å­—æ®µçš„æ•°æ®\n\t.order(d3.stackOrderNone) // æ€ä¹ˆæ’åº stackOrderNoneï¼šæŒ‰åŸç”Ÿæ•°æ®çš„é¡ºåº stackAscending: å‡åºæ’åº stackDescending: é™åºæ’åº\n\t(naiveData)\n```\n\n### ä¹.tree\n\n#### 1.å±‚çº§æ•°æ®é¢„å¤„ç†d3.hierarchy\n\n- d3.hierarchy\n\n\n- ä¿æŒæ•°æ®çš„åŸå§‹ç»“æ„ï¼Œå¹¶å°†è¾“å…¥å±‚çº§æ•°æ®è½¬æ¢æˆD3ä¸­çš„hierarcyå¯¹è±¡(result instanceof d3.hierarchy)ï¼ŒåŒæ—¶å¼•å…¥: \n- height ï¼ˆ* ä¸æ˜¯é€å±‚é€’å‡ï¼‰ã€depthã€children (åŸå§‹ç»“æ„) parentã€ï¼ˆdata åŸå§‹æ•°æ®çš„æ˜ å°„ï¼‰\n\n\n- â€¢d3.hierarchyå¯ä½œä¸ºä¸€ä¸ªâ€˜ä¸­é—´ç»“æœâ€™ï¼Œç»§ç»­è¾“å…¥åˆ°æ›´å¤šD3.jsæä¾›çš„æ•°æ®é¢„å¤„ç†æ¥å£ä¸­\n\n ```javascript\n  const root = d3.hierarchy(data)\n  ```\n\n#### 2.å±‚çº§æ•°æ®é¢„å¤„ç†d3.tree()\n\n- d3.tree().size([innerHeight, innerWidth])\n\n- è¿”å›ä¸€ä¸ªå‡½æ•°\n\n- æ¥å—å‚æ•°ä¸ºd3.hierarchy\n\n- å‡½æ•°ä¼šæ ¹æ®è®¾ç½®çš„sizeå°†æ ‘å½¢ç»“æ„çš„æ¯ä¸ªèŠ‚ç‚¹æ˜ å°„åˆ°ç©ºé—´ä¸­â€˜åˆé€‚â€™çš„ä½ç½®ï¼ˆæ·»åŠ æ¨ªçºµåæ ‡èŠ‚ç‚¹ï¼‰\n\n ```javascript\n  root = d3.tree().size([innerHeight, innerWidth])(root)\n  ```\n\n#### 3.root.links()å’Œ d3.linkHorizontal()\n\n- root.links()è¿”å›æ ‘å½¢ç»“æ„ä¸­å­˜åœ¨çš„æ‰€æœ‰â€˜é“¾æ¥â€™(å¸¦æœ‰sourceå’Œtargetæ ‘å½¢)ï¼Œä½œä¸ºdata joinçš„å‚æ•°ï¼Œä¾›åç»­è®¾ç½®ä¸‰æ¬¡è´å¡å°”æ›²çº¿çš„xå’Œyä½¿ç”¨\n\n- d3.linkHorizontal()ç”Ÿæˆä¸€ä¸ªä»sourceåˆ°targetçš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿ã€‚.x(â€¦)ä¸.y(â€¦)åˆ†åˆ«è¡¨ç¤ºå¦‚ä½•åœ¨sourceä¸targetä¸­å–æ¨ªçºµåæ ‡å€¼ã€‚é»˜è®¤ç”Ÿæˆçš„æ˜¯çºµå‘çš„æ ‘å½¢å›¾ï¼Œæ¨ªçºµåæ ‡å€¼å–ç›¸åçš„å€¼å°†å›¾å½¢ç¿»è½¬è¿‡æ¥\n\n ```javascript\n  g.selectAll(\"path\")\n  \t.data(root.links())\n  \t.join(\"path\")\n  \t.attr(\"fill\", \"none\")\n  \t.attr(\"stroke\", \"black\")\n  \t.attr(\"stroke-width\", 1.5)\n  \t.attr(\"d\", d3.linkHorizontal().x(d => d.y).y(d => d.x));\n  ```\n\n#### 4.root.descendants()\n\n- root.descendants()è¿”å›å±‚çº§ç»“æ„ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¹¿åº¦ä¼˜å…ˆï¼ˆå±‚æ¬¡ä¼˜å…ˆï¼‰ï¼Œè¿”å›çš„å†…å®¹æœ¬è´¨ä¸Šæ˜¯å¯¹è±¡çš„æ•°ç»„\n\n ```javascript\n  g.selectAll('text')\n  \t.data(root.descendants())\n  \t.join('text')\n  \t.text(d => d.data.name)\n  \t.attr('x', d => d.children ? d.y - 8 : d.y + 8)\n  \t.attr('y', d => d.x + 5)\n  \t.attr('font-size', '0.8em')\n  \t.attr('text-anchor', d => d.children ? 'end' : 'start')\n  ```\n\n  â€‹","slug":"d3","published":1,"date":"2021-07-14T06:42:56.000Z","updated":"2021-10-14T01:38:41.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cldmrd9l30011i024be3qdils","content":"<h3 id=\"ä¸€-ä½¿ç”¨d3æŸ¥è¯¢svg\"><a href=\"#ä¸€-ä½¿ç”¨d3æŸ¥è¯¢svg\" class=\"headerlink\" title=\"ä¸€.ä½¿ç”¨d3æŸ¥è¯¢svg\"></a>ä¸€.ä½¿ç”¨d3æŸ¥è¯¢svg</h3><p>d3.select()ã€d3.selectAll()</p>\n<h3 id=\"äºŒ-ä½¿ç”¨d3è®¾ç½®svgä¸­çš„å±æ€§\"><a href=\"#äºŒ-ä½¿ç”¨d3è®¾ç½®svgä¸­çš„å±æ€§\" class=\"headerlink\" title=\"äºŒ.ä½¿ç”¨d3è®¾ç½®svgä¸­çš„å±æ€§\"></a>äºŒ.ä½¿ç”¨d3è®¾ç½®svgä¸­çš„å±æ€§</h3><p>d3.attr()</p>\n<p>å¸¸è§çš„å±æ€§ï¼š</p>\n<ul>\n<li>idã€class</li>\n<li>xï¼Œyï¼Œcxï¼Œcyï¼ˆcxã€cyæ˜¯åœ†çš„xyåæ ‡ï¼‰</li>\n<li>fillï¼ˆé¢œè‰²å¡«å……colorï¼‰ã€strokeï¼ˆè¾¹æ¡†borderï¼‰</li>\n<li>heightã€widthã€rï¼ˆåœ†çš„åŠå¾„ï¼‰</li>\n<li>transformï¼ˆtranslateã€rotateã€scaleï¼‰</li>\n</ul>\n<h3 id=\"ä¸‰-ä½¿ç”¨d3æ·»åŠ ã€åˆ é™¤svgå…ƒç´ \"><a href=\"#ä¸‰-ä½¿ç”¨d3æ·»åŠ ã€åˆ é™¤svgå…ƒç´ \" class=\"headerlink\" title=\"ä¸‰.ä½¿ç”¨d3æ·»åŠ ã€åˆ é™¤svgå…ƒç´ \"></a>ä¸‰.ä½¿ç”¨d3æ·»åŠ ã€åˆ é™¤svgå…ƒç´ </h3><p>element.append()ã€element.remove()</p>\n<h3 id=\"å››-d3çš„æ¯”ä¾‹å°º\"><a href=\"#å››-d3çš„æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"å››.d3çš„æ¯”ä¾‹å°º\"></a>å››.d3çš„æ¯”ä¾‹å°º</h3><h4 id=\"1-d3-scaleLinear-ï¼šçº¿æ€§æ¯”ä¾‹å°º\"><a href=\"#1-d3-scaleLinear-ï¼šçº¿æ€§æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"1.d3.scaleLinear()ï¼šçº¿æ€§æ¯”ä¾‹å°º\"></a>1.d3.scaleLinear()ï¼šçº¿æ€§æ¯”ä¾‹å°º</h4><p>domain:ï¼šè¿ç»­å‹ rangeï¼šè¿ç»­å‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> xScale = d3.<span class=\"hljs-title function_\">scaleLinear</span>()<br>.<span class=\"hljs-title function_\">domain</span>([min_d, max_d]) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br>.<span class=\"hljs-title function_\">range</span>(min, max) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br><br><span class=\"hljs-keyword\">const</span> yScale = d3.<span class=\"hljs-title function_\">scaleLinear</span>()<br>.<span class=\"hljs-title function_\">domain</span>([<span class=\"hljs-number\">0</span>, d3.<span class=\"hljs-title function_\">max</span>(data, <span class=\"hljs-function\"><span class=\"hljs-params\">item</span> =&gt;</span> item.<span class=\"hljs-property\">value</span>)])<br>.<span class=\"hljs-title function_\">range</span>([<span class=\"hljs-number\">0</span>, innerWidth])<br></code></pre></td></tr></table></figure>\n\n<p>d3.max(æ•°æ®ï¼Œå›è°ƒï¼šå¦‚ä½•æå–æ•°æ®çš„å€¼)ï¼šæ±‚å‡ºæ•°æ®æŸä¸€å±æ€§çš„æœ€å¤§å€¼</p>\n<h4 id=\"2-d3-scaleBand-ï¼šåºæ•°æ¯”ä¾‹å°º\"><a href=\"#2-d3-scaleBand-ï¼šåºæ•°æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"2.d3.scaleBand()ï¼šåºæ•°æ¯”ä¾‹å°º\"></a>2.d3.scaleBand()ï¼šåºæ•°æ¯”ä¾‹å°º</h4><p>domainï¼šç¦»æ•£å‹ rangeï¼šè¿ç»­æ€§</p>\n<p>å¯ä»¥ç†è§£ä¸ºç”¨domainå°†rangeåˆ†å‰²</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> scale_b = d3.<span class=\"hljs-title function_\">scaleBand</span>()<br>.<span class=\"hljs-title function_\">domian</span>([<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>]) <span class=\"hljs-comment\">// ç¦»æ•£å‹</span><br>.<span class=\"hljs-title function_\">range</span>([<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">100</span>]) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-d3-scaleOrdinal-ï¼šåºæ•°æ¯”ä¾‹å°º\"><a href=\"#3-d3-scaleOrdinal-ï¼šåºæ•°æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"3.d3.scaleOrdinal()ï¼šåºæ•°æ¯”ä¾‹å°º\"></a>3.d3.scaleOrdinal()ï¼šåºæ•°æ¯”ä¾‹å°º</h4><p>domainï¼šç¦»æ•£å‹ rangeï¼šç¦»æ•£å‹</p>\n<p>å¯ä»¥ç®€å•ç†è§£ä¸ºmapæ˜ å°„</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> scaleO = d3.<span class=\"hljs-title function_\">scaleOrdinal</span>()<br>.<span class=\"hljs-title function_\">domain</span>([<span class=\"hljs-string\">&#x27;a&#x27;</span>,<span class=\"hljs-string\">&#x27;b&#x27;</span>,<span class=\"hljs-string\">&#x27;c&#x27;</span>]) <span class=\"hljs-comment\">// ç¦»æ•£å‹</span><br>.<span class=\"hljs-title function_\">range</span>([<span class=\"hljs-number\">10</span>, <span class=\"hljs-number\">20</span>, <span class=\"hljs-number\">30</span>]) <span class=\"hljs-comment\">// ç¦»æ•£å‹</span><br></code></pre></td></tr></table></figure>\n\n<p>ç”Ÿæˆé¢œè‰²æ¯”ä¾‹å°º</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> color = d3.<span class=\"hljs-title function_\">scaleOrdinal</span>().<span class=\"hljs-title function_\">domain</span>(naiveKeys).<span class=\"hljs-title function_\">range</span>(d3.<span class=\"hljs-property\">schemeSet2</span>)<br></code></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"4-d3-scaleQuantize-ï¼šé‡åŒ–æ¯”ä¾‹å°º-æŠŠè¿ç»­æ€§çš„å€¼è½¬æ¢ä¸ºç¦»æ•£å‹çš„å€¼\"><a href=\"#4-d3-scaleQuantize-ï¼šé‡åŒ–æ¯”ä¾‹å°º-æŠŠè¿ç»­æ€§çš„å€¼è½¬æ¢ä¸ºç¦»æ•£å‹çš„å€¼\" class=\"headerlink\" title=\"4.d3.scaleQuantize()ï¼šé‡åŒ–æ¯”ä¾‹å°º(æŠŠè¿ç»­æ€§çš„å€¼è½¬æ¢ä¸ºç¦»æ•£å‹çš„å€¼)\"></a>4.d3.scaleQuantize()ï¼šé‡åŒ–æ¯”ä¾‹å°º(æŠŠè¿ç»­æ€§çš„å€¼è½¬æ¢ä¸ºç¦»æ•£å‹çš„å€¼)</h4><p>domainï¼šè¿ç»­å‹ rangeï¼šç¦»æ•£å‹</p>\n<p>å¯ä»¥ç†è§£ä¸ºscaleBandçš„é€†å˜æ¢</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> scaleQ = d3.<span class=\"hljs-title function_\">scaleQuantize</span>()<br>.<span class=\"hljs-title function_\">domain</span>([<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">10</span>]) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br>.<span class=\"hljs-title function_\">range</span>([<span class=\"hljs-string\">&#x27;a&#x27;</span>, <span class=\"hljs-string\">&#x27;b&#x27;</span>, <span class=\"hljs-string\">&#x27;c&#x27;</span>]) <span class=\"hljs-comment\">// ç¦»æ•£å‹</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"5-d3-scaleTime-ï¼šæ—¶é—´æ¯”ä¾‹å°º\"><a href=\"#5-d3-scaleTime-ï¼šæ—¶é—´æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"5.d3.scaleTime()ï¼šæ—¶é—´æ¯”ä¾‹å°º\"></a>5.d3.scaleTime()ï¼šæ—¶é—´æ¯”ä¾‹å°º</h4><p>domainï¼šè¿ç»­å‹ï¼Œæ˜¯æ—¶é—´ rangeï¼šè¿ç»­ï¼Œæ˜¯åˆ»åº¦</p>\n<p>ç±»ä¼¼äºd3.scaleLinear()çº¿æ€§æ¯”ä¾‹å°ºï¼Œåªä¸è¿‡è¾“å…¥åŸŸå˜æˆäº†æ—¶é—´è½´</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> scaleT = d3.<span class=\"hljs-title function_\">scaleTime</span>()<br>.<span class=\"hljs-title function_\">domain</span>([<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Date</span>(<span class=\"hljs-number\">2020</span>, <span class=\"hljs-number\">01</span>, <span class=\"hljs-number\">01</span>), <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Date</span>(<span class=\"hljs-number\">2021</span>, <span class=\"hljs-number\">01</span>, <span class=\"hljs-number\">01</span>)]) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br>.<span class=\"hljs-title function_\">range</span>([<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">100</span>]) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"6-é¢œè‰²æ¯”ä¾‹å°º\"><a href=\"#6-é¢œè‰²æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"6.é¢œè‰²æ¯”ä¾‹å°º\"></a>6.é¢œè‰²æ¯”ä¾‹å°º</h4><p>d3æä¾›äº†ä¸€äº›é¢œè‰²æ¯”ä¾‹å°ºï¼Œ10å°±æ˜¯10ç§é¢œè‰²</p>\n<p>â‘ Categoricalç³»åˆ—â€”â€”ç¦»æ•£å‹é¢œè‰²<br>d3.schemeCategory10 // 10å°±æ˜¯10ç§é¢œè‰²</p>\n<p><img src=\"/css/images/d3/category10.png\" alt=\"category10\"></p>\n<p>d3.schemeAccent</p>\n<p><img src=\"/css/images/d3/Accent.png\" alt=\"Accent\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// å®šä¹‰ä¸€ä¸ªåºæ•°é¢œè‰²æ¯”ä¾‹å°º</span><br><span class=\"hljs-keyword\">const</span> color = d3.<span class=\"hljs-title function_\">scaleLinear</span>(d3.<span class=\"hljs-property\">schemeCategory10</span>)<br></code></pre></td></tr></table></figure>\n\n<p>â‘¡Divergingâ€”â€”è¿ç»­å‹é¢œè‰²ï¼ˆæ¸å˜é¢œè‰²ï¼‰</p>\n<p>æ–¹å¼ä¸€ï¼šd3.<strong>interpolateBrBG</strong>(<em>t</em>)â€”â€”t =&gt; [0, 1]</p>\n<h3 id=\"äº”-Data-Join\"><a href=\"#äº”-Data-Join\" class=\"headerlink\" title=\"äº”.Data Join\"></a>äº”.Data Join</h3><h4 id=\"1-æœ¬è´¨ä¸Šæ˜¯å°†æ•°æ®ä¸å›¾å…ƒè¿›è¡Œç»‘å®š\"><a href=\"#1-æœ¬è´¨ä¸Šæ˜¯å°†æ•°æ®ä¸å›¾å…ƒè¿›è¡Œç»‘å®š\" class=\"headerlink\" title=\"1.æœ¬è´¨ä¸Šæ˜¯å°†æ•°æ®ä¸å›¾å…ƒè¿›è¡Œç»‘å®š\"></a>1.æœ¬è´¨ä¸Šæ˜¯å°†æ•°æ®ä¸å›¾å…ƒè¿›è¡Œç»‘å®š</h4><p>d3.selectAll(.classç±»å).data(data)</p>\n<h4 id=\"2-d3ç»‘å®šæ•°æ®çš„ä¸‰ä¸ªçŠ¶æ€\"><a href=\"#2-d3ç»‘å®šæ•°æ®çš„ä¸‰ä¸ªçŠ¶æ€\" class=\"headerlink\" title=\"2.d3ç»‘å®šæ•°æ®çš„ä¸‰ä¸ªçŠ¶æ€\"></a>2.d3ç»‘å®šæ•°æ®çš„ä¸‰ä¸ªçŠ¶æ€</h4><p>enter:</p>\n<ul>\n<li><p>æœ‰æ•°æ®æ²¡æœ‰å›¾å…ƒ</p>\n</li>\n<li><p>d3ä¼šè‡ªåŠ¨ææ¸…æ¥šå“ªäº›æ•°æ®æ˜¯æ–°å¢çš„</p>\n</li>\n<li><p>æ ¹æ®æ–°å¢çš„æ•°æ®ç”Ÿæˆå¯¹åº”çš„å›¾å…ƒ</p>\n</li>\n<li><p>ç”Ÿæˆå›¾å…ƒçš„å ä½ï¼Œå ä½çš„å†…å®¹éœ€è¦é€šè¿‡appendæ·»åŠ </p>\n</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> p = d3.<span class=\"hljs-title function_\">selectAll</span>(<span class=\"hljs-string\">&#x27;.class&#x27;</span>).<span class=\"hljs-title function_\">data</span>(data).<span class=\"hljs-title function_\">enter</span>().<span class=\"hljs-title function_\">append</span>(<span class=\"hljs-string\">&#x27;rect&#x27;</span>).<span class=\"hljs-title function_\">attr</span>(...)<br></code></pre></td></tr></table></figure>\n<p>update:</p>\n<ul>\n<li><p>æœ‰å›¾å…ƒæœ‰æ•°æ®</p>\n</li>\n<li><p>updateä½œä¸ºå®é™…å¯è§†åŒ–ä»»åŠ¡æœ€å¸¸ç”¨çš„çŠ¶æ€ï¼Œç»å¸¸è¢«å•ç‹¬å°è£…ä¸ºä¸€ä¸ªå‡½æ•°</p>\n</li>\n<li><p>updateSelection.merge(enterSelection).attr().attr()</p>\n<ul>\n<li>å°†ä¸¤ä¸ªselectionåˆå¹¶åˆ°ä¸€èµ·æ“ä½œ</li>\n<li>enterSelectionéœ€è¦è‡³å°‘append()å›¾å…ƒ</li>\n</ul>\n</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">d3.<span class=\"hljs-title function_\">selectAll</span>(.<span class=\"hljs-property\">class</span>).<span class=\"hljs-title function_\">data</span>(data).<span class=\"hljs-title function_\">update</span>().<span class=\"hljs-title function_\">transition</span>().<span class=\"hljs-title function_\">durantion</span>(<span class=\"hljs-number\">3000</span>).<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;width&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> <span class=\"hljs-title function_\">xScale</span>(d.<span class=\"hljs-property\">value</span>))<br></code></pre></td></tr></table></figure>\n<p>exit</p>\n<ul>\n<li><p>æœ‰å›¾å…ƒæ²¡æ•°æ®</p>\n</li>\n<li><p>d3ä¼šè‡ªåŠ¨ææ¸…æ¥šå“ªäº›å›¾å…ƒæ˜¯ä¸ç»‘å®šæ•°æ®çš„</p>\n</li>\n</ul>\n <figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs awk\">const p = d3.selectAll(<span class=\"hljs-string\">&#x27;.class&#x27;</span>).data(data).<span class=\"hljs-keyword\">exit</span>().remove()<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-è¯»å–æ•°æ®\"><a href=\"#3-è¯»å–æ•°æ®\" class=\"headerlink\" title=\"3.è¯»å–æ•°æ®\"></a>3.è¯»å–æ•°æ®</h4><p>d3.csv(â€˜path/tp/data.csvâ€™).then(res =&gt; {})</p>\n<h3 id=\"å…­-path\"><a href=\"#å…­-path\" class=\"headerlink\" title=\"å…­.path\"></a>å…­.path</h3><h4 id=\"1-pathå…ƒç´ çš„å½¢çŠ¶æ˜¯é€šè¿‡å±æ€§dæ¥å®šä¹‰çš„\"><a href=\"#1-pathå…ƒç´ çš„å½¢çŠ¶æ˜¯é€šè¿‡å±æ€§dæ¥å®šä¹‰çš„\" class=\"headerlink\" title=\"1.pathå…ƒç´ çš„å½¢çŠ¶æ˜¯é€šè¿‡å±æ€§dæ¥å®šä¹‰çš„\"></a>1.pathå…ƒç´ çš„å½¢çŠ¶æ˜¯é€šè¿‡å±æ€§dæ¥å®šä¹‰çš„</h4><h4 id=\"2-d3-Pathç”Ÿæˆå™¨\"><a href=\"#2-d3-Pathç”Ÿæˆå™¨\" class=\"headerlink\" title=\"2.d3 Pathç”Ÿæˆå™¨\"></a>2.d3 Pathç”Ÿæˆå™¨</h4><ul>\n<li>d3.line().x(d =&gt; xScale(xValue)).y(d =&gt; yScale(yValue)).curve(d3.curveCardinal.tension(0.5) â€”-ç”¨äºæŠ˜çº¿å›¾</li>\n<li>d3.geoPath().projection() â€”-ç”¨äºåœ°å›¾</li>\n<li>d3.area() â€”-ç”¨äºä¸»é¢˜æ²³æµ</li>\n<li>d3.arc().innerRadius().outerRadius() â€”-ç”¨äºé¥¼å›¾</li>\n<li>d3.lineRadial().angle().radius() â€”-æåæ ‡ç³»ç‰ˆæœ¬çš„d3.line()</li>\n</ul>\n<h4 id=\"3-d3-line\"><a href=\"#3-d3-line\" class=\"headerlink\" title=\"3.d3.line()\"></a>3.d3.line()</h4><p>const line = d3.line().x(d =&gt; xScale(xValue)).y(d =&gt; yScale(yValue)).curve(d3.curveCardinal.tension(0.5)</p>\n<p>ä½¿ç”¨line:</p>\n<p>d3.select(â€˜pathâ€™).datum(data) // ç»™ç‰¹å®šä¸€ä¸ªå›¾å…ƒç»‘å®šä¸€ä¸ªæ•°æ®ï¼Œdataæ˜¯ç»™ä¸€æ‰¹å›¾å…ƒç»‘å®šä¸€æ‰¹æ•°æ®</p>\n<p>.attr(â€˜dâ€™, line) // ç»™pathé…ç½®line</p>\n<h3 id=\"ä¸ƒ-interaction\"><a href=\"#ä¸ƒ-interaction\" class=\"headerlink\" title=\"ä¸ƒ.interaction\"></a>ä¸ƒ.interaction</h3><h4 id=\"1-åœ°å›¾æ•°æ®çš„è¡¨è¾¾-Topojson-amp-Geojson\"><a href=\"#1-åœ°å›¾æ•°æ®çš„è¡¨è¾¾-Topojson-amp-Geojson\" class=\"headerlink\" title=\"1.åœ°å›¾æ•°æ®çš„è¡¨è¾¾: Topojson &amp; Geojson\"></a>1.åœ°å›¾æ•°æ®çš„è¡¨è¾¾: Topojson &amp; Geojson</h4><h4 id=\"2-jsonæ•°æ®çš„è¯»å–\"><a href=\"#2-jsonæ•°æ®çš„è¯»å–\" class=\"headerlink\" title=\"2.jsonæ•°æ®çš„è¯»å–\"></a>2.jsonæ•°æ®çš„è¯»å–</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">d3.<span class=\"hljs-title function_\">json</span>(<span class=\"hljs-string\">&#x27;path/to/data.json&#x27;</span>).<span class=\"hljs-title function_\">then</span>( <span class=\"hljs-function\"><span class=\"hljs-params\">data</span> =&gt;</span> &#123;â€¦ â€¦ â€¦&#125; ) <br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-topojsonè½¬geojson\"><a href=\"#3-topojsonè½¬geojson\" class=\"headerlink\" title=\"3.topojsonè½¬geojson\"></a>3.topojsonè½¬geojson</h4><p>å€ŸåŠ©topojson.jsåº“</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">geojson = topojson.<span class=\"hljs-title function_\">feature</span>(data, data.<span class=\"hljs-property\">objects</span>.<span class=\"hljs-property\">countries</span>)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"4-åœ°å›¾æ•°æ®çš„å¯è§†åŒ–\"><a href=\"#4-åœ°å›¾æ•°æ®çš„å¯è§†åŒ–\" class=\"headerlink\" title=\"4.åœ°å›¾æ•°æ®çš„å¯è§†åŒ–\"></a>4.åœ°å›¾æ•°æ®çš„å¯è§†åŒ–</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> projection = d3.<span class=\"hljs-title function_\">geoNaturalEarth1</span>();<br><span class=\"hljs-keyword\">const</span> pathGenerator = d3.<span class=\"hljs-title function_\">geoPath</span>().<span class=\"hljs-title function_\">projection</span>(projection)<br><span class=\"hljs-comment\">// geoé€‚åº”å®½é«˜</span><br>projection.<span class=\"hljs-title function_\">fitSize</span>([innerWidth, innerHeight], geojson);<br><span class=\"hljs-comment\">// pathä½¿ç”¨geo</span><br>g.<span class=\"hljs-title function_\">selectAll</span>(path).<span class=\"hljs-title function_\">data</span>(geojson.<span class=\"hljs-property\">features</span>).<span class=\"hljs-title function_\">join</span>()<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;d&#x27;</span>,pathGenerator  )<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"5-äº‹ä»¶\"><a href=\"#5-äº‹ä»¶\" class=\"headerlink\" title=\"5.äº‹ä»¶\"></a>5.äº‹ä»¶</h4><p>äº‹ä»¶çš„è®¾ç½®å¯¹åº”äºD3ä¸­çš„.on(â€˜eventNameâ€™, callBack) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">d3.<span class=\"hljs-title function_\">selectAll</span>(<span class=\"hljs-string\">&#x27;path&#x27;</span>).<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&#x27;click&#x27;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  d3.<span class=\"hljs-title function_\">select</span>(<span class=\"hljs-variable language_\">this</span>).<span class=\"hljs-title function_\">attr</span>()<br>&#125;)<br></code></pre></td></tr></table></figure>\n\n<p>å›¾å…ƒ.on(äº‹ä»¶ç±»å‹, è§¦å‘åŠ¨ä½œ) </p>\n<h4 id=\"6-d3-tip\"><a href=\"#6-d3-tip\" class=\"headerlink\" title=\"6.d3-tip\"></a>6.d3-tip</h4><p>tooltipåº“ï¼Œè‡ªåŠ¨åœ¨â€˜åˆé€‚â€™çš„ä½ç½®æ˜¾ç¤ºå¯¹è¯æ¡†</p>\n<h3 id=\"å…«-stack-å †å \"><a href=\"#å…«-stack-å †å \" class=\"headerlink\" title=\"å…«.stack(å †å )\"></a>å…«.stack(å †å )</h3><h4 id=\"1-d3-stack\"><a href=\"#1-d3-stack\" class=\"headerlink\" title=\"1.d3.stack()\"></a>1.d3.stack()</h4><p>æœ¬è´¨ä¸Šæ˜¯d3.jsæä¾›çš„ç”¨äºæ•°æ®é¢„å¤„ç†çš„æ¥å£ï¼ˆç”Ÿæˆå †å æ•°æ®ï¼‰</p>\n<h4 id=\"2-è¯­æ³•\"><a href=\"#2-è¯­æ³•\" class=\"headerlink\" title=\"2.è¯­æ³•\"></a>2.è¯­æ³•</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> stackData = d3.<span class=\"hljs-title function_\">stack</span>()<br>\t.<span class=\"hljs-title function_\">keys</span>(naiveKeys) <span class=\"hljs-comment\">// éœ€è¦å †å å“ªäº›å­—æ®µçš„æ•°æ®</span><br>\t.<span class=\"hljs-title function_\">order</span>(d3.<span class=\"hljs-property\">stackOrderNone</span>) <span class=\"hljs-comment\">// æ€ä¹ˆæ’åº stackOrderNoneï¼šæŒ‰åŸç”Ÿæ•°æ®çš„é¡ºåº stackAscending: å‡åºæ’åº stackDescending: é™åºæ’åº</span><br>\t(naiveData)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"ä¹-tree\"><a href=\"#ä¹-tree\" class=\"headerlink\" title=\"ä¹.tree\"></a>ä¹.tree</h3><h4 id=\"1-å±‚çº§æ•°æ®é¢„å¤„ç†d3-hierarchy\"><a href=\"#1-å±‚çº§æ•°æ®é¢„å¤„ç†d3-hierarchy\" class=\"headerlink\" title=\"1.å±‚çº§æ•°æ®é¢„å¤„ç†d3.hierarchy\"></a>1.å±‚çº§æ•°æ®é¢„å¤„ç†d3.hierarchy</h4><ul>\n<li>d3.hierarchy</li>\n</ul>\n<ul>\n<li>ä¿æŒæ•°æ®çš„åŸå§‹ç»“æ„ï¼Œå¹¶å°†è¾“å…¥å±‚çº§æ•°æ®è½¬æ¢æˆD3ä¸­çš„hierarcyå¯¹è±¡(result instanceof d3.hierarchy)ï¼ŒåŒæ—¶å¼•å…¥: </li>\n<li>height ï¼ˆ* ä¸æ˜¯é€å±‚é€’å‡ï¼‰ã€depthã€children (åŸå§‹ç»“æ„) parentã€ï¼ˆdata åŸå§‹æ•°æ®çš„æ˜ å°„ï¼‰</li>\n</ul>\n<ul>\n<li>â€¢d3.hierarchyå¯ä½œä¸ºä¸€ä¸ªâ€˜ä¸­é—´ç»“æœâ€™ï¼Œç»§ç»­è¾“å…¥åˆ°æ›´å¤šD3.jsæä¾›çš„æ•°æ®é¢„å¤„ç†æ¥å£ä¸­</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> root = d3.<span class=\"hljs-title function_\">hierarchy</span>(data)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-å±‚çº§æ•°æ®é¢„å¤„ç†d3-tree\"><a href=\"#2-å±‚çº§æ•°æ®é¢„å¤„ç†d3-tree\" class=\"headerlink\" title=\"2.å±‚çº§æ•°æ®é¢„å¤„ç†d3.tree()\"></a>2.å±‚çº§æ•°æ®é¢„å¤„ç†d3.tree()</h4><ul>\n<li><p>d3.tree().size([innerHeight, innerWidth])</p>\n</li>\n<li><p>è¿”å›ä¸€ä¸ªå‡½æ•°</p>\n</li>\n<li><p>æ¥å—å‚æ•°ä¸ºd3.hierarchy</p>\n</li>\n<li><p>å‡½æ•°ä¼šæ ¹æ®è®¾ç½®çš„sizeå°†æ ‘å½¢ç»“æ„çš„æ¯ä¸ªèŠ‚ç‚¹æ˜ å°„åˆ°ç©ºé—´ä¸­â€˜åˆé€‚â€™çš„ä½ç½®ï¼ˆæ·»åŠ æ¨ªçºµåæ ‡èŠ‚ç‚¹ï¼‰</p>\n</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">root = d3.<span class=\"hljs-title function_\">tree</span>().<span class=\"hljs-title function_\">size</span>([innerHeight, innerWidth])(root)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-root-links-å’Œ-d3-linkHorizontal\"><a href=\"#3-root-links-å’Œ-d3-linkHorizontal\" class=\"headerlink\" title=\"3.root.links()å’Œ d3.linkHorizontal()\"></a>3.root.links()å’Œ d3.linkHorizontal()</h4><ul>\n<li><p>root.links()è¿”å›æ ‘å½¢ç»“æ„ä¸­å­˜åœ¨çš„æ‰€æœ‰â€˜é“¾æ¥â€™(å¸¦æœ‰sourceå’Œtargetæ ‘å½¢)ï¼Œä½œä¸ºdata joinçš„å‚æ•°ï¼Œä¾›åç»­è®¾ç½®ä¸‰æ¬¡è´å¡å°”æ›²çº¿çš„xå’Œyä½¿ç”¨</p>\n</li>\n<li><p>d3.linkHorizontal()ç”Ÿæˆä¸€ä¸ªä»sourceåˆ°targetçš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿ã€‚.x(â€¦)ä¸.y(â€¦)åˆ†åˆ«è¡¨ç¤ºå¦‚ä½•åœ¨sourceä¸targetä¸­å–æ¨ªçºµåæ ‡å€¼ã€‚é»˜è®¤ç”Ÿæˆçš„æ˜¯çºµå‘çš„æ ‘å½¢å›¾ï¼Œæ¨ªçºµåæ ‡å€¼å–ç›¸åçš„å€¼å°†å›¾å½¢ç¿»è½¬è¿‡æ¥</p>\n</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">g.<span class=\"hljs-title function_\">selectAll</span>(<span class=\"hljs-string\">&quot;path&quot;</span>)<br>\t.<span class=\"hljs-title function_\">data</span>(root.<span class=\"hljs-title function_\">links</span>())<br>\t.<span class=\"hljs-title function_\">join</span>(<span class=\"hljs-string\">&quot;path&quot;</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&quot;fill&quot;</span>, <span class=\"hljs-string\">&quot;none&quot;</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&quot;stroke&quot;</span>, <span class=\"hljs-string\">&quot;black&quot;</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&quot;stroke-width&quot;</span>, <span class=\"hljs-number\">1.5</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&quot;d&quot;</span>, d3.<span class=\"hljs-title function_\">linkHorizontal</span>().<span class=\"hljs-title function_\">x</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">y</span>).<span class=\"hljs-title function_\">y</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">x</span>));<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"4-root-descendants\"><a href=\"#4-root-descendants\" class=\"headerlink\" title=\"4.root.descendants()\"></a>4.root.descendants()</h4><ul>\n<li>root.descendants()è¿”å›å±‚çº§ç»“æ„ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¹¿åº¦ä¼˜å…ˆï¼ˆå±‚æ¬¡ä¼˜å…ˆï¼‰ï¼Œè¿”å›çš„å†…å®¹æœ¬è´¨ä¸Šæ˜¯å¯¹è±¡çš„æ•°ç»„</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">g.<span class=\"hljs-title function_\">selectAll</span>(<span class=\"hljs-string\">&#x27;text&#x27;</span>)<br>\t.<span class=\"hljs-title function_\">data</span>(root.<span class=\"hljs-title function_\">descendants</span>())<br>\t.<span class=\"hljs-title function_\">join</span>(<span class=\"hljs-string\">&#x27;text&#x27;</span>)<br>\t.<span class=\"hljs-title function_\">text</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">name</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;x&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">children</span> ? d.<span class=\"hljs-property\">y</span> - <span class=\"hljs-number\">8</span> : d.<span class=\"hljs-property\">y</span> + <span class=\"hljs-number\">8</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;y&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">x</span> + <span class=\"hljs-number\">5</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;font-size&#x27;</span>, <span class=\"hljs-string\">&#x27;0.8em&#x27;</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;text-anchor&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">children</span> ? <span class=\"hljs-string\">&#x27;end&#x27;</span> : <span class=\"hljs-string\">&#x27;start&#x27;</span>)<br></code></pre></td></tr></table></figure>\n\n<p>  â€‹</p>\n","site":{"data":{}},"wordcount":4783,"excerpt":"","more":"<h3 id=\"ä¸€-ä½¿ç”¨d3æŸ¥è¯¢svg\"><a href=\"#ä¸€-ä½¿ç”¨d3æŸ¥è¯¢svg\" class=\"headerlink\" title=\"ä¸€.ä½¿ç”¨d3æŸ¥è¯¢svg\"></a>ä¸€.ä½¿ç”¨d3æŸ¥è¯¢svg</h3><p>d3.select()ã€d3.selectAll()</p>\n<h3 id=\"äºŒ-ä½¿ç”¨d3è®¾ç½®svgä¸­çš„å±æ€§\"><a href=\"#äºŒ-ä½¿ç”¨d3è®¾ç½®svgä¸­çš„å±æ€§\" class=\"headerlink\" title=\"äºŒ.ä½¿ç”¨d3è®¾ç½®svgä¸­çš„å±æ€§\"></a>äºŒ.ä½¿ç”¨d3è®¾ç½®svgä¸­çš„å±æ€§</h3><p>d3.attr()</p>\n<p>å¸¸è§çš„å±æ€§ï¼š</p>\n<ul>\n<li>idã€class</li>\n<li>xï¼Œyï¼Œcxï¼Œcyï¼ˆcxã€cyæ˜¯åœ†çš„xyåæ ‡ï¼‰</li>\n<li>fillï¼ˆé¢œè‰²å¡«å……colorï¼‰ã€strokeï¼ˆè¾¹æ¡†borderï¼‰</li>\n<li>heightã€widthã€rï¼ˆåœ†çš„åŠå¾„ï¼‰</li>\n<li>transformï¼ˆtranslateã€rotateã€scaleï¼‰</li>\n</ul>\n<h3 id=\"ä¸‰-ä½¿ç”¨d3æ·»åŠ ã€åˆ é™¤svgå…ƒç´ \"><a href=\"#ä¸‰-ä½¿ç”¨d3æ·»åŠ ã€åˆ é™¤svgå…ƒç´ \" class=\"headerlink\" title=\"ä¸‰.ä½¿ç”¨d3æ·»åŠ ã€åˆ é™¤svgå…ƒç´ \"></a>ä¸‰.ä½¿ç”¨d3æ·»åŠ ã€åˆ é™¤svgå…ƒç´ </h3><p>element.append()ã€element.remove()</p>\n<h3 id=\"å››-d3çš„æ¯”ä¾‹å°º\"><a href=\"#å››-d3çš„æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"å››.d3çš„æ¯”ä¾‹å°º\"></a>å››.d3çš„æ¯”ä¾‹å°º</h3><h4 id=\"1-d3-scaleLinear-ï¼šçº¿æ€§æ¯”ä¾‹å°º\"><a href=\"#1-d3-scaleLinear-ï¼šçº¿æ€§æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"1.d3.scaleLinear()ï¼šçº¿æ€§æ¯”ä¾‹å°º\"></a>1.d3.scaleLinear()ï¼šçº¿æ€§æ¯”ä¾‹å°º</h4><p>domain:ï¼šè¿ç»­å‹ rangeï¼šè¿ç»­å‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> xScale = d3.<span class=\"hljs-title function_\">scaleLinear</span>()<br>.<span class=\"hljs-title function_\">domain</span>([min_d, max_d]) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br>.<span class=\"hljs-title function_\">range</span>(min, max) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br><br><span class=\"hljs-keyword\">const</span> yScale = d3.<span class=\"hljs-title function_\">scaleLinear</span>()<br>.<span class=\"hljs-title function_\">domain</span>([<span class=\"hljs-number\">0</span>, d3.<span class=\"hljs-title function_\">max</span>(data, <span class=\"hljs-function\"><span class=\"hljs-params\">item</span> =&gt;</span> item.<span class=\"hljs-property\">value</span>)])<br>.<span class=\"hljs-title function_\">range</span>([<span class=\"hljs-number\">0</span>, innerWidth])<br></code></pre></td></tr></table></figure>\n\n<p>d3.max(æ•°æ®ï¼Œå›è°ƒï¼šå¦‚ä½•æå–æ•°æ®çš„å€¼)ï¼šæ±‚å‡ºæ•°æ®æŸä¸€å±æ€§çš„æœ€å¤§å€¼</p>\n<h4 id=\"2-d3-scaleBand-ï¼šåºæ•°æ¯”ä¾‹å°º\"><a href=\"#2-d3-scaleBand-ï¼šåºæ•°æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"2.d3.scaleBand()ï¼šåºæ•°æ¯”ä¾‹å°º\"></a>2.d3.scaleBand()ï¼šåºæ•°æ¯”ä¾‹å°º</h4><p>domainï¼šç¦»æ•£å‹ rangeï¼šè¿ç»­æ€§</p>\n<p>å¯ä»¥ç†è§£ä¸ºç”¨domainå°†rangeåˆ†å‰²</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> scale_b = d3.<span class=\"hljs-title function_\">scaleBand</span>()<br>.<span class=\"hljs-title function_\">domian</span>([<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">2</span>,<span class=\"hljs-number\">3</span>,<span class=\"hljs-number\">4</span>]) <span class=\"hljs-comment\">// ç¦»æ•£å‹</span><br>.<span class=\"hljs-title function_\">range</span>([<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">100</span>]) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-d3-scaleOrdinal-ï¼šåºæ•°æ¯”ä¾‹å°º\"><a href=\"#3-d3-scaleOrdinal-ï¼šåºæ•°æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"3.d3.scaleOrdinal()ï¼šåºæ•°æ¯”ä¾‹å°º\"></a>3.d3.scaleOrdinal()ï¼šåºæ•°æ¯”ä¾‹å°º</h4><p>domainï¼šç¦»æ•£å‹ rangeï¼šç¦»æ•£å‹</p>\n<p>å¯ä»¥ç®€å•ç†è§£ä¸ºmapæ˜ å°„</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> scaleO = d3.<span class=\"hljs-title function_\">scaleOrdinal</span>()<br>.<span class=\"hljs-title function_\">domain</span>([<span class=\"hljs-string\">&#x27;a&#x27;</span>,<span class=\"hljs-string\">&#x27;b&#x27;</span>,<span class=\"hljs-string\">&#x27;c&#x27;</span>]) <span class=\"hljs-comment\">// ç¦»æ•£å‹</span><br>.<span class=\"hljs-title function_\">range</span>([<span class=\"hljs-number\">10</span>, <span class=\"hljs-number\">20</span>, <span class=\"hljs-number\">30</span>]) <span class=\"hljs-comment\">// ç¦»æ•£å‹</span><br></code></pre></td></tr></table></figure>\n\n<p>ç”Ÿæˆé¢œè‰²æ¯”ä¾‹å°º</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> color = d3.<span class=\"hljs-title function_\">scaleOrdinal</span>().<span class=\"hljs-title function_\">domain</span>(naiveKeys).<span class=\"hljs-title function_\">range</span>(d3.<span class=\"hljs-property\">schemeSet2</span>)<br></code></pre></td></tr></table></figure>\n\n\n\n<h4 id=\"4-d3-scaleQuantize-ï¼šé‡åŒ–æ¯”ä¾‹å°º-æŠŠè¿ç»­æ€§çš„å€¼è½¬æ¢ä¸ºç¦»æ•£å‹çš„å€¼\"><a href=\"#4-d3-scaleQuantize-ï¼šé‡åŒ–æ¯”ä¾‹å°º-æŠŠè¿ç»­æ€§çš„å€¼è½¬æ¢ä¸ºç¦»æ•£å‹çš„å€¼\" class=\"headerlink\" title=\"4.d3.scaleQuantize()ï¼šé‡åŒ–æ¯”ä¾‹å°º(æŠŠè¿ç»­æ€§çš„å€¼è½¬æ¢ä¸ºç¦»æ•£å‹çš„å€¼)\"></a>4.d3.scaleQuantize()ï¼šé‡åŒ–æ¯”ä¾‹å°º(æŠŠè¿ç»­æ€§çš„å€¼è½¬æ¢ä¸ºç¦»æ•£å‹çš„å€¼)</h4><p>domainï¼šè¿ç»­å‹ rangeï¼šç¦»æ•£å‹</p>\n<p>å¯ä»¥ç†è§£ä¸ºscaleBandçš„é€†å˜æ¢</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> scaleQ = d3.<span class=\"hljs-title function_\">scaleQuantize</span>()<br>.<span class=\"hljs-title function_\">domain</span>([<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">10</span>]) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br>.<span class=\"hljs-title function_\">range</span>([<span class=\"hljs-string\">&#x27;a&#x27;</span>, <span class=\"hljs-string\">&#x27;b&#x27;</span>, <span class=\"hljs-string\">&#x27;c&#x27;</span>]) <span class=\"hljs-comment\">// ç¦»æ•£å‹</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"5-d3-scaleTime-ï¼šæ—¶é—´æ¯”ä¾‹å°º\"><a href=\"#5-d3-scaleTime-ï¼šæ—¶é—´æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"5.d3.scaleTime()ï¼šæ—¶é—´æ¯”ä¾‹å°º\"></a>5.d3.scaleTime()ï¼šæ—¶é—´æ¯”ä¾‹å°º</h4><p>domainï¼šè¿ç»­å‹ï¼Œæ˜¯æ—¶é—´ rangeï¼šè¿ç»­ï¼Œæ˜¯åˆ»åº¦</p>\n<p>ç±»ä¼¼äºd3.scaleLinear()çº¿æ€§æ¯”ä¾‹å°ºï¼Œåªä¸è¿‡è¾“å…¥åŸŸå˜æˆäº†æ—¶é—´è½´</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> scaleT = d3.<span class=\"hljs-title function_\">scaleTime</span>()<br>.<span class=\"hljs-title function_\">domain</span>([<span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Date</span>(<span class=\"hljs-number\">2020</span>, <span class=\"hljs-number\">01</span>, <span class=\"hljs-number\">01</span>), <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title class_\">Date</span>(<span class=\"hljs-number\">2021</span>, <span class=\"hljs-number\">01</span>, <span class=\"hljs-number\">01</span>)]) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br>.<span class=\"hljs-title function_\">range</span>([<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">100</span>]) <span class=\"hljs-comment\">// è¿ç»­å‹</span><br></code></pre></td></tr></table></figure>\n\n<h4 id=\"6-é¢œè‰²æ¯”ä¾‹å°º\"><a href=\"#6-é¢œè‰²æ¯”ä¾‹å°º\" class=\"headerlink\" title=\"6.é¢œè‰²æ¯”ä¾‹å°º\"></a>6.é¢œè‰²æ¯”ä¾‹å°º</h4><p>d3æä¾›äº†ä¸€äº›é¢œè‰²æ¯”ä¾‹å°ºï¼Œ10å°±æ˜¯10ç§é¢œè‰²</p>\n<p>â‘ Categoricalç³»åˆ—â€”â€”ç¦»æ•£å‹é¢œè‰²<br>d3.schemeCategory10 // 10å°±æ˜¯10ç§é¢œè‰²</p>\n<p><img src=\"/css/images/d3/category10.png\" alt=\"category10\"></p>\n<p>d3.schemeAccent</p>\n<p><img src=\"/css/images/d3/Accent.png\" alt=\"Accent\"></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-comment\">// å®šä¹‰ä¸€ä¸ªåºæ•°é¢œè‰²æ¯”ä¾‹å°º</span><br><span class=\"hljs-keyword\">const</span> color = d3.<span class=\"hljs-title function_\">scaleLinear</span>(d3.<span class=\"hljs-property\">schemeCategory10</span>)<br></code></pre></td></tr></table></figure>\n\n<p>â‘¡Divergingâ€”â€”è¿ç»­å‹é¢œè‰²ï¼ˆæ¸å˜é¢œè‰²ï¼‰</p>\n<p>æ–¹å¼ä¸€ï¼šd3.<strong>interpolateBrBG</strong>(<em>t</em>)â€”â€”t =&gt; [0, 1]</p>\n<h3 id=\"äº”-Data-Join\"><a href=\"#äº”-Data-Join\" class=\"headerlink\" title=\"äº”.Data Join\"></a>äº”.Data Join</h3><h4 id=\"1-æœ¬è´¨ä¸Šæ˜¯å°†æ•°æ®ä¸å›¾å…ƒè¿›è¡Œç»‘å®š\"><a href=\"#1-æœ¬è´¨ä¸Šæ˜¯å°†æ•°æ®ä¸å›¾å…ƒè¿›è¡Œç»‘å®š\" class=\"headerlink\" title=\"1.æœ¬è´¨ä¸Šæ˜¯å°†æ•°æ®ä¸å›¾å…ƒè¿›è¡Œç»‘å®š\"></a>1.æœ¬è´¨ä¸Šæ˜¯å°†æ•°æ®ä¸å›¾å…ƒè¿›è¡Œç»‘å®š</h4><p>d3.selectAll(.classç±»å).data(data)</p>\n<h4 id=\"2-d3ç»‘å®šæ•°æ®çš„ä¸‰ä¸ªçŠ¶æ€\"><a href=\"#2-d3ç»‘å®šæ•°æ®çš„ä¸‰ä¸ªçŠ¶æ€\" class=\"headerlink\" title=\"2.d3ç»‘å®šæ•°æ®çš„ä¸‰ä¸ªçŠ¶æ€\"></a>2.d3ç»‘å®šæ•°æ®çš„ä¸‰ä¸ªçŠ¶æ€</h4><p>enter:</p>\n<ul>\n<li><p>æœ‰æ•°æ®æ²¡æœ‰å›¾å…ƒ</p>\n</li>\n<li><p>d3ä¼šè‡ªåŠ¨ææ¸…æ¥šå“ªäº›æ•°æ®æ˜¯æ–°å¢çš„</p>\n</li>\n<li><p>æ ¹æ®æ–°å¢çš„æ•°æ®ç”Ÿæˆå¯¹åº”çš„å›¾å…ƒ</p>\n</li>\n<li><p>ç”Ÿæˆå›¾å…ƒçš„å ä½ï¼Œå ä½çš„å†…å®¹éœ€è¦é€šè¿‡appendæ·»åŠ </p>\n</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> p = d3.<span class=\"hljs-title function_\">selectAll</span>(<span class=\"hljs-string\">&#x27;.class&#x27;</span>).<span class=\"hljs-title function_\">data</span>(data).<span class=\"hljs-title function_\">enter</span>().<span class=\"hljs-title function_\">append</span>(<span class=\"hljs-string\">&#x27;rect&#x27;</span>).<span class=\"hljs-title function_\">attr</span>(...)<br></code></pre></td></tr></table></figure>\n<p>update:</p>\n<ul>\n<li><p>æœ‰å›¾å…ƒæœ‰æ•°æ®</p>\n</li>\n<li><p>updateä½œä¸ºå®é™…å¯è§†åŒ–ä»»åŠ¡æœ€å¸¸ç”¨çš„çŠ¶æ€ï¼Œç»å¸¸è¢«å•ç‹¬å°è£…ä¸ºä¸€ä¸ªå‡½æ•°</p>\n</li>\n<li><p>updateSelection.merge(enterSelection).attr().attr()</p>\n<ul>\n<li>å°†ä¸¤ä¸ªselectionåˆå¹¶åˆ°ä¸€èµ·æ“ä½œ</li>\n<li>enterSelectionéœ€è¦è‡³å°‘append()å›¾å…ƒ</li>\n</ul>\n</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">d3.<span class=\"hljs-title function_\">selectAll</span>(.<span class=\"hljs-property\">class</span>).<span class=\"hljs-title function_\">data</span>(data).<span class=\"hljs-title function_\">update</span>().<span class=\"hljs-title function_\">transition</span>().<span class=\"hljs-title function_\">durantion</span>(<span class=\"hljs-number\">3000</span>).<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;width&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> <span class=\"hljs-title function_\">xScale</span>(d.<span class=\"hljs-property\">value</span>))<br></code></pre></td></tr></table></figure>\n<p>exit</p>\n<ul>\n<li><p>æœ‰å›¾å…ƒæ²¡æ•°æ®</p>\n</li>\n<li><p>d3ä¼šè‡ªåŠ¨ææ¸…æ¥šå“ªäº›å›¾å…ƒæ˜¯ä¸ç»‘å®šæ•°æ®çš„</p>\n</li>\n</ul>\n <figure class=\"highlight awk\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs awk\">const p = d3.selectAll(<span class=\"hljs-string\">&#x27;.class&#x27;</span>).data(data).<span class=\"hljs-keyword\">exit</span>().remove()<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-è¯»å–æ•°æ®\"><a href=\"#3-è¯»å–æ•°æ®\" class=\"headerlink\" title=\"3.è¯»å–æ•°æ®\"></a>3.è¯»å–æ•°æ®</h4><p>d3.csv(â€˜path/tp/data.csvâ€™).then(res =&gt; {})</p>\n<h3 id=\"å…­-path\"><a href=\"#å…­-path\" class=\"headerlink\" title=\"å…­.path\"></a>å…­.path</h3><h4 id=\"1-pathå…ƒç´ çš„å½¢çŠ¶æ˜¯é€šè¿‡å±æ€§dæ¥å®šä¹‰çš„\"><a href=\"#1-pathå…ƒç´ çš„å½¢çŠ¶æ˜¯é€šè¿‡å±æ€§dæ¥å®šä¹‰çš„\" class=\"headerlink\" title=\"1.pathå…ƒç´ çš„å½¢çŠ¶æ˜¯é€šè¿‡å±æ€§dæ¥å®šä¹‰çš„\"></a>1.pathå…ƒç´ çš„å½¢çŠ¶æ˜¯é€šè¿‡å±æ€§dæ¥å®šä¹‰çš„</h4><h4 id=\"2-d3-Pathç”Ÿæˆå™¨\"><a href=\"#2-d3-Pathç”Ÿæˆå™¨\" class=\"headerlink\" title=\"2.d3 Pathç”Ÿæˆå™¨\"></a>2.d3 Pathç”Ÿæˆå™¨</h4><ul>\n<li>d3.line().x(d =&gt; xScale(xValue)).y(d =&gt; yScale(yValue)).curve(d3.curveCardinal.tension(0.5) â€”-ç”¨äºæŠ˜çº¿å›¾</li>\n<li>d3.geoPath().projection() â€”-ç”¨äºåœ°å›¾</li>\n<li>d3.area() â€”-ç”¨äºä¸»é¢˜æ²³æµ</li>\n<li>d3.arc().innerRadius().outerRadius() â€”-ç”¨äºé¥¼å›¾</li>\n<li>d3.lineRadial().angle().radius() â€”-æåæ ‡ç³»ç‰ˆæœ¬çš„d3.line()</li>\n</ul>\n<h4 id=\"3-d3-line\"><a href=\"#3-d3-line\" class=\"headerlink\" title=\"3.d3.line()\"></a>3.d3.line()</h4><p>const line = d3.line().x(d =&gt; xScale(xValue)).y(d =&gt; yScale(yValue)).curve(d3.curveCardinal.tension(0.5)</p>\n<p>ä½¿ç”¨line:</p>\n<p>d3.select(â€˜pathâ€™).datum(data) // ç»™ç‰¹å®šä¸€ä¸ªå›¾å…ƒç»‘å®šä¸€ä¸ªæ•°æ®ï¼Œdataæ˜¯ç»™ä¸€æ‰¹å›¾å…ƒç»‘å®šä¸€æ‰¹æ•°æ®</p>\n<p>.attr(â€˜dâ€™, line) // ç»™pathé…ç½®line</p>\n<h3 id=\"ä¸ƒ-interaction\"><a href=\"#ä¸ƒ-interaction\" class=\"headerlink\" title=\"ä¸ƒ.interaction\"></a>ä¸ƒ.interaction</h3><h4 id=\"1-åœ°å›¾æ•°æ®çš„è¡¨è¾¾-Topojson-amp-Geojson\"><a href=\"#1-åœ°å›¾æ•°æ®çš„è¡¨è¾¾-Topojson-amp-Geojson\" class=\"headerlink\" title=\"1.åœ°å›¾æ•°æ®çš„è¡¨è¾¾: Topojson &amp; Geojson\"></a>1.åœ°å›¾æ•°æ®çš„è¡¨è¾¾: Topojson &amp; Geojson</h4><h4 id=\"2-jsonæ•°æ®çš„è¯»å–\"><a href=\"#2-jsonæ•°æ®çš„è¯»å–\" class=\"headerlink\" title=\"2.jsonæ•°æ®çš„è¯»å–\"></a>2.jsonæ•°æ®çš„è¯»å–</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">d3.<span class=\"hljs-title function_\">json</span>(<span class=\"hljs-string\">&#x27;path/to/data.json&#x27;</span>).<span class=\"hljs-title function_\">then</span>( <span class=\"hljs-function\"><span class=\"hljs-params\">data</span> =&gt;</span> &#123;â€¦ â€¦ â€¦&#125; ) <br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-topojsonè½¬geojson\"><a href=\"#3-topojsonè½¬geojson\" class=\"headerlink\" title=\"3.topojsonè½¬geojson\"></a>3.topojsonè½¬geojson</h4><p>å€ŸåŠ©topojson.jsåº“</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">geojson = topojson.<span class=\"hljs-title function_\">feature</span>(data, data.<span class=\"hljs-property\">objects</span>.<span class=\"hljs-property\">countries</span>)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"4-åœ°å›¾æ•°æ®çš„å¯è§†åŒ–\"><a href=\"#4-åœ°å›¾æ•°æ®çš„å¯è§†åŒ–\" class=\"headerlink\" title=\"4.åœ°å›¾æ•°æ®çš„å¯è§†åŒ–\"></a>4.åœ°å›¾æ•°æ®çš„å¯è§†åŒ–</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> projection = d3.<span class=\"hljs-title function_\">geoNaturalEarth1</span>();<br><span class=\"hljs-keyword\">const</span> pathGenerator = d3.<span class=\"hljs-title function_\">geoPath</span>().<span class=\"hljs-title function_\">projection</span>(projection)<br><span class=\"hljs-comment\">// geoé€‚åº”å®½é«˜</span><br>projection.<span class=\"hljs-title function_\">fitSize</span>([innerWidth, innerHeight], geojson);<br><span class=\"hljs-comment\">// pathä½¿ç”¨geo</span><br>g.<span class=\"hljs-title function_\">selectAll</span>(path).<span class=\"hljs-title function_\">data</span>(geojson.<span class=\"hljs-property\">features</span>).<span class=\"hljs-title function_\">join</span>()<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;d&#x27;</span>,pathGenerator  )<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"5-äº‹ä»¶\"><a href=\"#5-äº‹ä»¶\" class=\"headerlink\" title=\"5.äº‹ä»¶\"></a>5.äº‹ä»¶</h4><p>äº‹ä»¶çš„è®¾ç½®å¯¹åº”äºD3ä¸­çš„.on(â€˜eventNameâ€™, callBack) </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">d3.<span class=\"hljs-title function_\">selectAll</span>(<span class=\"hljs-string\">&#x27;path&#x27;</span>).<span class=\"hljs-title function_\">on</span>(<span class=\"hljs-string\">&#x27;click&#x27;</span>, <span class=\"hljs-keyword\">function</span> (<span class=\"hljs-params\"></span>) &#123;<br>  d3.<span class=\"hljs-title function_\">select</span>(<span class=\"hljs-variable language_\">this</span>).<span class=\"hljs-title function_\">attr</span>()<br>&#125;)<br></code></pre></td></tr></table></figure>\n\n<p>å›¾å…ƒ.on(äº‹ä»¶ç±»å‹, è§¦å‘åŠ¨ä½œ) </p>\n<h4 id=\"6-d3-tip\"><a href=\"#6-d3-tip\" class=\"headerlink\" title=\"6.d3-tip\"></a>6.d3-tip</h4><p>tooltipåº“ï¼Œè‡ªåŠ¨åœ¨â€˜åˆé€‚â€™çš„ä½ç½®æ˜¾ç¤ºå¯¹è¯æ¡†</p>\n<h3 id=\"å…«-stack-å †å \"><a href=\"#å…«-stack-å †å \" class=\"headerlink\" title=\"å…«.stack(å †å )\"></a>å…«.stack(å †å )</h3><h4 id=\"1-d3-stack\"><a href=\"#1-d3-stack\" class=\"headerlink\" title=\"1.d3.stack()\"></a>1.d3.stack()</h4><p>æœ¬è´¨ä¸Šæ˜¯d3.jsæä¾›çš„ç”¨äºæ•°æ®é¢„å¤„ç†çš„æ¥å£ï¼ˆç”Ÿæˆå †å æ•°æ®ï¼‰</p>\n<h4 id=\"2-è¯­æ³•\"><a href=\"#2-è¯­æ³•\" class=\"headerlink\" title=\"2.è¯­æ³•\"></a>2.è¯­æ³•</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> stackData = d3.<span class=\"hljs-title function_\">stack</span>()<br>\t.<span class=\"hljs-title function_\">keys</span>(naiveKeys) <span class=\"hljs-comment\">// éœ€è¦å †å å“ªäº›å­—æ®µçš„æ•°æ®</span><br>\t.<span class=\"hljs-title function_\">order</span>(d3.<span class=\"hljs-property\">stackOrderNone</span>) <span class=\"hljs-comment\">// æ€ä¹ˆæ’åº stackOrderNoneï¼šæŒ‰åŸç”Ÿæ•°æ®çš„é¡ºåº stackAscending: å‡åºæ’åº stackDescending: é™åºæ’åº</span><br>\t(naiveData)<br></code></pre></td></tr></table></figure>\n\n<h3 id=\"ä¹-tree\"><a href=\"#ä¹-tree\" class=\"headerlink\" title=\"ä¹.tree\"></a>ä¹.tree</h3><h4 id=\"1-å±‚çº§æ•°æ®é¢„å¤„ç†d3-hierarchy\"><a href=\"#1-å±‚çº§æ•°æ®é¢„å¤„ç†d3-hierarchy\" class=\"headerlink\" title=\"1.å±‚çº§æ•°æ®é¢„å¤„ç†d3.hierarchy\"></a>1.å±‚çº§æ•°æ®é¢„å¤„ç†d3.hierarchy</h4><ul>\n<li>d3.hierarchy</li>\n</ul>\n<ul>\n<li>ä¿æŒæ•°æ®çš„åŸå§‹ç»“æ„ï¼Œå¹¶å°†è¾“å…¥å±‚çº§æ•°æ®è½¬æ¢æˆD3ä¸­çš„hierarcyå¯¹è±¡(result instanceof d3.hierarchy)ï¼ŒåŒæ—¶å¼•å…¥: </li>\n<li>height ï¼ˆ* ä¸æ˜¯é€å±‚é€’å‡ï¼‰ã€depthã€children (åŸå§‹ç»“æ„) parentã€ï¼ˆdata åŸå§‹æ•°æ®çš„æ˜ å°„ï¼‰</li>\n</ul>\n<ul>\n<li>â€¢d3.hierarchyå¯ä½œä¸ºä¸€ä¸ªâ€˜ä¸­é—´ç»“æœâ€™ï¼Œç»§ç»­è¾“å…¥åˆ°æ›´å¤šD3.jsæä¾›çš„æ•°æ®é¢„å¤„ç†æ¥å£ä¸­</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\"><span class=\"hljs-keyword\">const</span> root = d3.<span class=\"hljs-title function_\">hierarchy</span>(data)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"2-å±‚çº§æ•°æ®é¢„å¤„ç†d3-tree\"><a href=\"#2-å±‚çº§æ•°æ®é¢„å¤„ç†d3-tree\" class=\"headerlink\" title=\"2.å±‚çº§æ•°æ®é¢„å¤„ç†d3.tree()\"></a>2.å±‚çº§æ•°æ®é¢„å¤„ç†d3.tree()</h4><ul>\n<li><p>d3.tree().size([innerHeight, innerWidth])</p>\n</li>\n<li><p>è¿”å›ä¸€ä¸ªå‡½æ•°</p>\n</li>\n<li><p>æ¥å—å‚æ•°ä¸ºd3.hierarchy</p>\n</li>\n<li><p>å‡½æ•°ä¼šæ ¹æ®è®¾ç½®çš„sizeå°†æ ‘å½¢ç»“æ„çš„æ¯ä¸ªèŠ‚ç‚¹æ˜ å°„åˆ°ç©ºé—´ä¸­â€˜åˆé€‚â€™çš„ä½ç½®ï¼ˆæ·»åŠ æ¨ªçºµåæ ‡èŠ‚ç‚¹ï¼‰</p>\n</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">root = d3.<span class=\"hljs-title function_\">tree</span>().<span class=\"hljs-title function_\">size</span>([innerHeight, innerWidth])(root)<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"3-root-links-å’Œ-d3-linkHorizontal\"><a href=\"#3-root-links-å’Œ-d3-linkHorizontal\" class=\"headerlink\" title=\"3.root.links()å’Œ d3.linkHorizontal()\"></a>3.root.links()å’Œ d3.linkHorizontal()</h4><ul>\n<li><p>root.links()è¿”å›æ ‘å½¢ç»“æ„ä¸­å­˜åœ¨çš„æ‰€æœ‰â€˜é“¾æ¥â€™(å¸¦æœ‰sourceå’Œtargetæ ‘å½¢)ï¼Œä½œä¸ºdata joinçš„å‚æ•°ï¼Œä¾›åç»­è®¾ç½®ä¸‰æ¬¡è´å¡å°”æ›²çº¿çš„xå’Œyä½¿ç”¨</p>\n</li>\n<li><p>d3.linkHorizontal()ç”Ÿæˆä¸€ä¸ªä»sourceåˆ°targetçš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿ã€‚.x(â€¦)ä¸.y(â€¦)åˆ†åˆ«è¡¨ç¤ºå¦‚ä½•åœ¨sourceä¸targetä¸­å–æ¨ªçºµåæ ‡å€¼ã€‚é»˜è®¤ç”Ÿæˆçš„æ˜¯çºµå‘çš„æ ‘å½¢å›¾ï¼Œæ¨ªçºµåæ ‡å€¼å–ç›¸åçš„å€¼å°†å›¾å½¢ç¿»è½¬è¿‡æ¥</p>\n</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">g.<span class=\"hljs-title function_\">selectAll</span>(<span class=\"hljs-string\">&quot;path&quot;</span>)<br>\t.<span class=\"hljs-title function_\">data</span>(root.<span class=\"hljs-title function_\">links</span>())<br>\t.<span class=\"hljs-title function_\">join</span>(<span class=\"hljs-string\">&quot;path&quot;</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&quot;fill&quot;</span>, <span class=\"hljs-string\">&quot;none&quot;</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&quot;stroke&quot;</span>, <span class=\"hljs-string\">&quot;black&quot;</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&quot;stroke-width&quot;</span>, <span class=\"hljs-number\">1.5</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&quot;d&quot;</span>, d3.<span class=\"hljs-title function_\">linkHorizontal</span>().<span class=\"hljs-title function_\">x</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">y</span>).<span class=\"hljs-title function_\">y</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">x</span>));<br></code></pre></td></tr></table></figure>\n\n<h4 id=\"4-root-descendants\"><a href=\"#4-root-descendants\" class=\"headerlink\" title=\"4.root.descendants()\"></a>4.root.descendants()</h4><ul>\n<li>root.descendants()è¿”å›å±‚çº§ç»“æ„ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå¹¿åº¦ä¼˜å…ˆï¼ˆå±‚æ¬¡ä¼˜å…ˆï¼‰ï¼Œè¿”å›çš„å†…å®¹æœ¬è´¨ä¸Šæ˜¯å¯¹è±¡çš„æ•°ç»„</li>\n</ul>\n <figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><code class=\"hljs javascript\">g.<span class=\"hljs-title function_\">selectAll</span>(<span class=\"hljs-string\">&#x27;text&#x27;</span>)<br>\t.<span class=\"hljs-title function_\">data</span>(root.<span class=\"hljs-title function_\">descendants</span>())<br>\t.<span class=\"hljs-title function_\">join</span>(<span class=\"hljs-string\">&#x27;text&#x27;</span>)<br>\t.<span class=\"hljs-title function_\">text</span>(<span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">data</span>.<span class=\"hljs-property\">name</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;x&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">children</span> ? d.<span class=\"hljs-property\">y</span> - <span class=\"hljs-number\">8</span> : d.<span class=\"hljs-property\">y</span> + <span class=\"hljs-number\">8</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;y&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">x</span> + <span class=\"hljs-number\">5</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;font-size&#x27;</span>, <span class=\"hljs-string\">&#x27;0.8em&#x27;</span>)<br>\t.<span class=\"hljs-title function_\">attr</span>(<span class=\"hljs-string\">&#x27;text-anchor&#x27;</span>, <span class=\"hljs-function\"><span class=\"hljs-params\">d</span> =&gt;</span> d.<span class=\"hljs-property\">children</span> ? <span class=\"hljs-string\">&#x27;end&#x27;</span> : <span class=\"hljs-string\">&#x27;start&#x27;</span>)<br></code></pre></td></tr></table></figure>\n\n<p>  â€‹</p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cldmrd9km0001i0242i0980ao","category_id":"cldmrd9ks0004i024d3fr7mug","_id":"cldmrd9kv000ci024ftycbk6q"},{"post_id":"cldmrd9kq0003i024g7288bfo","category_id":"cldmrd9ku0009i02437ragvvd","_id":"cldmrd9kv000ei024dejd78go"},{"post_id":"cldmrd9kw000fi024baql32el","category_id":"cldmrd9kx000hi024gfpp0gmo","_id":"cldmrd9l1000ri02403k8e7tu"},{"post_id":"cldmrd9ky000li02488sz67n4","category_id":"cldmrd9ks0004i024d3fr7mug","_id":"cldmrd9l2000vi0241kggee3w"},{"post_id":"cldmrd9kx000gi024ed3m1f2f","category_id":"cldmrd9kz000mi024fqekh1u2","_id":"cldmrd9l3000yi024gxpq6e9i"},{"post_id":"cldmrd9kx000ji024c0vsdswz","category_id":"cldmrd9l1000si02406nyg36b","_id":"cldmrd9l40013i024ffd85y4f"},{"post_id":"cldmrd9l30011i024be3qdils","category_id":"cldmrd9ks0004i024d3fr7mug","_id":"cldmrd9l40017i024hikf7x5y"},{"post_id":"cldmrd9ky000ki024a0hehacj","category_id":"cldmrd9l3000zi024d22411pz","_id":"cldmrd9l40018i024e2mx2xd9"},{"post_id":"cldmrd9kz000pi0242uwlejpx","category_id":"cldmrd9l40014i02464zx585e","_id":"cldmrd9l4001ci024gduagdke"},{"post_id":"cldmrd9l0000qi024ekbq2km7","category_id":"cldmrd9l40019i02459i52q7z","_id":"cldmrd9l6001hi0241fcv47th"},{"post_id":"cldmrd9l1000ui024g8wxejmn","category_id":"cldmrd9l40014i02464zx585e","_id":"cldmrd9l7001ki0248bv80myq"},{"post_id":"cldmrd9l2000xi024gqaof5p2","category_id":"cldmrd9l40014i02464zx585e","_id":"cldmrd9l8001ni024fbr31lqj"}],"PostTag":[{"post_id":"cldmrd9km0001i0242i0980ao","tag_id":"cldmrd9ks0005i024ffhi2zwd","_id":"cldmrd9ku000bi024fm805hkx"},{"post_id":"cldmrd9kq0003i024g7288bfo","tag_id":"cldmrd9ku000ai024cxqw4d7o","_id":"cldmrd9kv000di024d2jmfp47"},{"post_id":"cldmrd9kw000fi024baql32el","tag_id":"cldmrd9kx000ii024415eac2g","_id":"cldmrd9kz000oi024d7g63ahp"},{"post_id":"cldmrd9kx000gi024ed3m1f2f","tag_id":"cldmrd9kz000ni024bcc3d5ne","_id":"cldmrd9l2000wi0243fu7c8pb"},{"post_id":"cldmrd9kx000ji024c0vsdswz","tag_id":"cldmrd9l1000ti02415123ohb","_id":"cldmrd9l30012i0244k4ffl5y"},{"post_id":"cldmrd9ky000ki024a0hehacj","tag_id":"cldmrd9l30010i0248sef3jxc","_id":"cldmrd9l40016i0247uo32ngr"},{"post_id":"cldmrd9ky000li02488sz67n4","tag_id":"cldmrd9l40015i024939eh8ve","_id":"cldmrd9l4001bi024cz65gobt"},{"post_id":"cldmrd9kz000pi0242uwlejpx","tag_id":"cldmrd9l4001ai024bar3b8wf","_id":"cldmrd9l6001fi0248ytv6ome"},{"post_id":"cldmrd9l0000qi024ekbq2km7","tag_id":"cldmrd9l5001ei0245hud5cnc","_id":"cldmrd9l7001ji024e849603u"},{"post_id":"cldmrd9l1000ui024g8wxejmn","tag_id":"cldmrd9l7001ii0249f9oelq8","_id":"cldmrd9l8001mi024amqngikv"},{"post_id":"cldmrd9l2000xi024gqaof5p2","tag_id":"cldmrd9l8001li0245sfwgk9m","_id":"cldmrd9l8001pi024acihhsih"},{"post_id":"cldmrd9l30011i024be3qdils","tag_id":"cldmrd9l8001oi0247axz9tgq","_id":"cldmrd9l8001qi0247utshgmf"}],"Tag":[{"name":"echarts","_id":"cldmrd9ks0005i024ffhi2zwd"},{"name":"h5ä¸ue4","_id":"cldmrd9ku000ai024cxqw4d7o"},{"name":"JSæ¨¡å—åŒ–","_id":"cldmrd9kx000ii024415eac2g"},{"name":"Javascript","_id":"cldmrd9kz000ni024bcc3d5ne"},{"name":"jenkins","_id":"cldmrd9l1000ti02415123ohb"},{"name":"react","_id":"cldmrd9l30010i0248sef3jxc"},{"name":"svg","_id":"cldmrd9l40015i024939eh8ve"},{"name":"æµè§ˆå™¨çš„è¿›ç¨‹å’Œçº¿ç¨‹","_id":"cldmrd9l4001ai024bar3b8wf"},{"name":"è®¾è®¡æ¨¡å¼","_id":"cldmrd9l5001ei0245hud5cnc"},{"name":"æµè§ˆå™¨ç¼“å­˜æœºåˆ¶å’Œç¼“å­˜ç­–ç•¥","_id":"cldmrd9l7001ii0249f9oelq8"},{"name":"æµè§ˆå™¨æ¸²æŸ“","_id":"cldmrd9l8001li0245sfwgk9m"},{"name":"d3js","_id":"cldmrd9l8001oi0247axz9tgq"}]}}