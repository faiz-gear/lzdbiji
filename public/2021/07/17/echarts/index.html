<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png"><link rel="icon" href="/img/fluid.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Just a coder"><meta name="keywords" content="echarts"><meta name="description" content="一、柱状图（type为bar）1.数据格式一维数组 2.xAxis和yAxistype为category时，需要指定data type为value时，data在series中指定 3.常见效果 标记：最大值、最小值、平均值 1234567891011121314151617181920markPoint：&amp;#123;  data: [    &amp;#123;      type: &amp;#x27;max&amp;"><meta property="og:type" content="article"><meta property="og:title" content="echarts学习笔记"><meta property="og:url" content="http://example.com/2021/07/17/echarts/"><meta property="og:site_name" content="卢指导笔记"><meta property="og:description" content="一、柱状图（type为bar）1.数据格式一维数组 2.xAxis和yAxistype为category时，需要指定data type为value时，data在series中指定 3.常见效果 标记：最大值、最小值、平均值 1234567891011121314151617181920markPoint：&amp;#123;  data: [    &amp;#123;      type: &amp;#x27;max&amp;"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2021-07-17T08:49:18.000Z"><meta property="article:modified_time" content="2021-10-14T01:24:36.537Z"><meta property="article:author" content="Just a coder"><meta property="article:tag" content="echarts"><meta name="twitter:card" content="summary_large_image"><title>echarts学习笔记 - 卢指导笔记</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"example.com",root:"/",version:"1.9.0",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.2.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Fluid</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="echarts学习笔记"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-07-17 16:49" pubdate>2021年7月17日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 6.4k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 54 分钟</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">echarts学习笔记</h1><div class="markdown-body"><h3 id="一、柱状图（type为bar）"><a href="#一、柱状图（type为bar）" class="headerlink" title="一、柱状图（type为bar）"></a>一、柱状图（type为bar）</h3><h4 id="1-数据格式"><a href="#1-数据格式" class="headerlink" title="1.数据格式"></a>1.数据格式</h4><p>一维数组</p><h4 id="2-xAxis和yAxis"><a href="#2-xAxis和yAxis" class="headerlink" title="2.xAxis和yAxis"></a>2.xAxis和yAxis</h4><p>type为category时，需要指定data</p><p>type为value时，data在series中指定</p><h4 id="3-常见效果"><a href="#3-常见效果" class="headerlink" title="3.常见效果"></a>3.常见效果</h4><ul><li><p>标记：最大值、最小值、平均值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript">markPoint：&#123;<br>  <span class="hljs-attr">data</span>: [<br>    &#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;max&#x27;</span>，<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;最大值&#x27;</span><br>    &#125;,<br>    &#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;min&#x27;</span>,<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;最小值&#x27;</span><br>    &#125;<br>  ]<br>&#125;,<br>  <span class="hljs-attr">markLine</span>: &#123;<br>    <span class="hljs-attr">data</span>: [<br>      &#123;<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;average&#x27;</span>，<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;平均值&#x27;</span><br>      &#125;<br>    ]<br>  &#125;<br></code></pre></td></tr></table></figure></li></ul><ul><li><p>显示：</p><p>label：数值显示</p><p>barWidth： 柱宽度</p><p>横向柱状图：xAxis和yAxis配置互换</p></li></ul><h3 id="二、通用配置"><a href="#二、通用配置" class="headerlink" title="二、通用配置"></a>二、通用配置</h3><ul><li>title标题<ul><li>文字样式：textStyle</li><li>标题边框：borderWidth、borderColor、borderRadius</li><li>标题位置：left、top、right、bottom</li></ul></li><li>tooltip提示框组件<ul><li>触发类型：trigger<ul><li>item</li><li>axis</li></ul></li><li>触发时机：triggerOn<ul><li>mouseover</li><li>click</li></ul></li><li>格式化：formatter<ul><li>字符串模板</li><li>回调函数（参数：arg）</li></ul></li></ul></li><li>toolbox工具栏（导出图片、数据视图、数据区域缩放、重置、动态类型切换五个工具）<ul><li>feature（显示工具栏按钮）<ul><li>savaAsImage（导出图片）</li><li>dataView（数据视图）</li><li>dataZoom（数据区域缩放）</li><li>restore（重置）</li><li>magicType（动态类型切换）：如magicType： { type: [‘bar’, ‘line’]}</li></ul></li></ul></li><li>legend图例（用于筛选系列，需要和series配合使用）<ul><li>legend中的data是一个数组</li><li>legend中的data的值需要和series数组中某组数据的name值一致</li></ul></li></ul><h3 id="三、折线图（type为line）"><a href="#三、折线图（type为line）" class="headerlink" title="三、折线图（type为line）"></a>三、折线图（type为line）</h3><h4 id="1-数据格式-1"><a href="#1-数据格式-1" class="headerlink" title="1.数据格式"></a>1.数据格式</h4><p>一维数组</p><h4 id="2-常用效果"><a href="#2-常用效果" class="headerlink" title="2.常用效果"></a>2.常用效果</h4><ul><li>标记：最大值、最小值、平均值、标注区间<ul><li>markPoint</li><li>markLine</li><li>markArea</li></ul></li><li>线条控制：平滑、风格<ul><li>smooth、lineStyle</li></ul></li><li>填充风格<ul><li>areaStyle</li></ul></li><li>紧挨y轴边缘（设置在xAxis）<ul><li>boundaryGap</li></ul></li><li>缩放：脱离0值比例<ul><li>scale：true</li></ul></li><li>堆叠图<ul><li>stack：all</li><li>可以和areaStyle配合使用</li></ul></li></ul><h3 id="四、散点图（type为scatter）"><a href="#四、散点图（type为scatter）" class="headerlink" title="四、散点图（type为scatter）"></a>四、散点图（type为scatter）</h3><h4 id="1-数据格式-2"><a href="#1-数据格式-2" class="headerlink" title="1.数据格式"></a>1.数据格式</h4><p>二维数组</p><h4 id="2-基本的散点图"><a href="#2-基本的散点图" class="headerlink" title="2.基本的散点图"></a>2.基本的散点图</h4><ul><li>x轴和y轴type都是value</li><li>x轴和y轴的数据，是一个二维数组</li><li>type为scatter</li></ul><h4 id="3-常用效果"><a href="#3-常用效果" class="headerlink" title="3.常用效果"></a>3.常用效果</h4><ul><li>气泡图效果<ul><li>散点大小不同：symbolSize</li><li>散点的颜色不同：itemStyle.color</li></ul></li><li>涟漪动画效果<ul><li>type: effectScatter</li><li>showEffectOn: ‘emphasis’ 鼠标移入时才显示涟漪效果，默认值是render（渲染就显示涟漪效果）</li><li>rippleEffect: { scale: 10} 散点涟漪效果的范围</li></ul></li></ul><h3 id="五、直角坐标系的常用配置"><a href="#五、直角坐标系的常用配置" class="headerlink" title="五、直角坐标系的常用配置"></a>五、直角坐标系的常用配置</h3><p>直角坐标系的图表：柱状图（bar）、折线图（line）、散点图（scatter）</p><ul><li>grid网格（控制直角坐标系的布局和大小，x轴和y轴就是在grid的基础上进行绘制的）<ul><li>显示gird<ul><li>show</li></ul></li><li>grid的边框<ul><li>borderWidth、borderColor</li></ul></li><li>grid的位置和大小<ul><li>left</li><li>top</li><li>right</li><li>bottom</li></ul></li></ul></li><li>axis坐标轴（分为x轴和y轴）<ul><li>坐标轴类型type<ul><li>value：数值周，自动会从目标数据中读取数据</li><li>category：类目轴，该类型必须通过data设置类目数据</li></ul></li><li>显示位置position<ul><li>xAxis：可取值为top或bottom</li><li>yAxis：可取值为left或right</li></ul></li></ul></li><li>区域缩放dataZoom<ul><li>dataZoom用于区域缩放，对数据范围过滤，x轴和y轴都可以拥有。dataZoom是一个数组，可以配置多个区域缩放器</li><li>类型type<ul><li>slider：滑块控制缩放</li><li>inside：内置，依靠鼠标滚轮或者双指缩放</li></ul></li><li>指明产生作用的轴<ul><li>xAxisIndex：设置缩放组件控制的是哪个x轴，一般写0即可</li><li>yAxisIndex：设置缩放组件控制的是哪个y轴，一般写0即可</li></ul></li><li>指明初始状态的缩放情况<ul><li>start：数据窗口范围的起始百分比</li><li>end：数据窗口范围的结束百分比</li></ul></li></ul></li></ul><h3 id="六、饼图（type为pie）"><a href="#六、饼图（type为pie）" class="headerlink" title="六、饼图（type为pie）"></a>六、饼图（type为pie）</h3><h4 id="1-数据格式-3"><a href="#1-数据格式-3" class="headerlink" title="1.数据格式"></a>1.数据格式</h4><p>json数据：data: [{name: ‘京东’，value: ‘9000’}]</p><h4 id="2-基本的饼图"><a href="#2-基本的饼图" class="headerlink" title="2.基本的饼图"></a>2.基本的饼图</h4><ul><li>数据是json数据格式</li><li>type为pie</li><li>无须配置xAxis和yAxis</li></ul><h4 id="3-饼图常见效果"><a href="#3-饼图常见效果" class="headerlink" title="3.饼图常见效果"></a>3.饼图常见效果</h4><ul><li>显示数值<ul><li>lable.formatter</li></ul></li><li>圆环<ul><li>设置两个半径 radius：[‘50%’, ‘70%’] 分别是内半径和外半径</li></ul></li><li>南丁格尔图<ul><li>roseType：’radius’</li></ul></li><li>选中效果<ul><li>选中模式 selectMode：single（可选中单个）\multiple（可选中多个）</li><li>选中偏移量 selectOffset：30</li></ul></li></ul><h3 id="七、地图（type：map）"><a href="#七、地图（type：map）" class="headerlink" title="七、地图（type：map）"></a>七、地图（type：map）</h3><h4 id="1-矢量地图的实现步骤"><a href="#1-矢量地图的实现步骤" class="headerlink" title="1.矢量地图的实现步骤"></a>1.矢量地图的实现步骤</h4><ul><li>Echarts最基本的代码结构<ul><li>引入js文件</li><li>带宽高的DOM容器</li><li>init初始化对象</li><li>setOption设置option</li></ul></li><li>准备中国的矢量地图json文件（<a target="_blank" rel="noopener" href="http://datav.aliyun.com/tools/atlas/index.html#&amp;lat=30.332329214580188&amp;lng=106.72278672066881&amp;zoom=3.5%EF%BC%89">http://datav.aliyun.com/tools/atlas/index.html#&amp;lat=30.332329214580188&amp;lng=106.72278672066881&amp;zoom=3.5）</a></li><li>使用ajax获取json<ul><li>$.get(‘json/map/china.json’, function(chinaJson){})</li></ul></li><li>往echarts全局对象注册地图的json数据<ul><li>echarts.registerMap(‘chinaMap’, chinaJson)</li></ul></li><li>在geo下设置<ul><li>type:’map’</li><li>map:’chinaMap’</li></ul></li></ul><h4 id="2-常用配置"><a href="#2-常用配置" class="headerlink" title="2.常用配置"></a>2.常用配置</h4><ul><li>缩放拖动<ul><li>roam：true</li></ul></li><li>名称显示<ul><li>label</li></ul></li><li>初始缩放比例<ul><li>zoom：2（2倍）</li></ul></li><li>地图中心点<ul><li>center</li></ul></li></ul><h4 id="3-常见效果-1"><a href="#3-常见效果-1" class="headerlink" title="3.常见效果"></a>3.常见效果</h4><ul><li><p>不同城市颜色不同（如空气质量）</p><ol><li><p>显示基本的中国地图</p></li><li><p>城市的空气质量数据设置给series（此处的数据必须是[{name: cityName, value: ‘’}]的格式，其中name属性必须和省份名一致）</p></li><li><p>将series下的数据与geo关联起来</p><p>设置type: ‘map’，geoIndex:0</p></li><li><p>结合visualMap配合使用</p><p>visualMap: {min: 0, max: 40, range: { color: [‘white’, ‘red’]}}</p></li></ol></li><li><p>地图和散点图结合</p><ol><li><p>给series下配置散点图对象</p></li><li><p>准备好散点数据，设置给新对象的data（二维数组，地图坐标）</p></li><li><p>配置新对象的type为effectScatter</p></li><li><p>让散点图使用地图坐标系统</p><p>coordinateSystem: ‘geo’</p></li><li><p>让涟漪的效果更加明显</p><p>rippleEffect：{ scale：10 }</p></li></ol></li></ul><h3 id="八、雷达图（type：radar）"><a href="#八、雷达图（type：radar）" class="headerlink" title="八、雷达图（type：radar）"></a>八、雷达图（type：radar）</h3><h4 id="1-实现步骤"><a href="#1-实现步骤" class="headerlink" title="1.实现步骤"></a>1.实现步骤</h4><ul><li>echarts最基本的代码结构</li><li>定义各个维度的最大值（在radar属性下）<ul><li>indicator：[{name: ‘易用性’, max: 100]}]</li></ul></li><li>准备具体产品的数据<ul><li>在series下设置data：[{name: ‘华为手机’, value: [80, 80, 90, 95, 85]}</li></ul></li><li>设置图表类型<ul><li>在series下设置type：radar</li></ul></li></ul><h4 id="2-常用配置-1"><a href="#2-常用配置-1" class="headerlink" title="2.常用配置"></a>2.常用配置</h4><ul><li>显示数值:<ul><li>label</li></ul></li><li>区域面积（阴影）<ul><li>areaStyle</li></ul></li><li>绘制类型<ul><li>shape: ‘circle’ 默认值 polygon</li></ul></li></ul><h3 id="九、仪表盘（type：guage）"><a href="#九、仪表盘（type：guage）" class="headerlink" title="九、仪表盘（type：guage）"></a>九、仪表盘（type：guage）</h3><h4 id="1-实现步骤-1"><a href="#1-实现步骤-1" class="headerlink" title="1.实现步骤"></a>1.实现步骤</h4><ul><li>echarts最基本的代码结构</li><li>准备数据，设置给series下的data<ul><li>data: [{value: 97}]</li></ul></li><li>图标类型<ul><li>在series下设置type：guage</li></ul></li></ul><h4 id="2-常用效果-1"><a href="#2-常用效果-1" class="headerlink" title="2.常用效果"></a>2.常用效果</h4><ul><li>数值范围<ul><li>max</li><li>min</li></ul></li><li>多个指针<ul><li>增加series下data数组中的元素</li></ul></li><li>多个指针颜色差异<ul><li>itemStyle</li></ul></li></ul><h3 id="十、主题"><a href="#十、主题" class="headerlink" title="十、主题"></a>十、主题</h3><h4 id="1-内置主题"><a href="#1-内置主题" class="headerlink" title="1.内置主题"></a>1.内置主题</h4><ul><li><p>echarts中默认内置了两套主题：light、dark</p></li><li><p>在初始化对象方法中init中可以指明</p><p>var chart = echarts.init(dom, ‘light’)</p><p>var chart = echarts.init(dom, ‘dark’)</p></li></ul><h4 id="2-自定义主题"><a href="#2-自定义主题" class="headerlink" title="2.自定义主题"></a>2.自定义主题</h4><ul><li>1.在官网主题编辑器中编辑主题</li><li>2.下载主题js文件</li><li>3.引入主题js文件</li><li>4.在init方法中使用主题</li></ul><h3 id="十一、调色盘"><a href="#十一、调色盘" class="headerlink" title="十一、调色盘"></a>十一、调色盘</h3><h4 id="1-它是一组颜色，图形、系列会自动从其中选择颜色"><a href="#1-它是一组颜色，图形、系列会自动从其中选择颜色" class="headerlink" title="1.它是一组颜色，图形、系列会自动从其中选择颜色"></a>1.它是一组颜色，图形、系列会自动从其中选择颜色</h4><ul><li><p>主题调色盘（主题js文件中全局注册的color）</p></li><li><p>全局调色盘</p><p>options：{</p><p>​ color： [‘red’, ‘green’, ‘blue’]</p><p>}</p></li><li><p>局部调色盘</p><p>series: [{</p><p>​ type: ‘bar’,</p><p>​ color: [‘red’, ‘green’, ‘blue’]</p><p>}]</p></li></ul><h4 id="2-调色盘的作用遵循就近原则"><a href="#2-调色盘的作用遵循就近原则" class="headerlink" title="2.调色盘的作用遵循就近原则"></a>2.调色盘的作用遵循就近原则</h4><h4 id="3-颜色渐变"><a href="#3-颜色渐变" class="headerlink" title="3.颜色渐变"></a>3.颜色渐变</h4><ul><li><p>线性渐变</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">itemStyle</span>: &#123;<br>  <span class="hljs-attr">color</span>: &#123;<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;linear&#x27;</span>,<br>      <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 在图元中的初始x位置</span><br>      <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 在图元中的初始y位置</span><br>      <span class="hljs-attr">x2</span>: <span class="hljs-number">0</span>,<br>      <span class="hljs-attr">y2</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// 1代表到底部，0.5在中间</span><br>        <span class="hljs-attr">colorStops</span>: [&#123;<br>          <span class="hljs-attr">offset</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;red&#x27;</span> <span class="hljs-comment">// 0%处的颜色 </span><br>        &#125;,&#123;<br>          <span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;blue&#x27;</span> <span class="hljs-comment">// 100%处的颜色</span><br>        &#125;]<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>径向渐变</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-attr">itemStyle</span>: &#123;<br>  <span class="hljs-attr">color</span>: &#123;<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;radial&#x27;</span>,<br>      <span class="hljs-attr">x</span>: <span class="hljs-number">0.5</span>, <br>      <span class="hljs-attr">y</span>: <span class="hljs-number">0.5</span>,<br>      <span class="hljs-attr">r</span>: <span class="hljs-number">0.5</span>, <span class="hljs-comment">// 扩散的半径</span><br>        <span class="hljs-attr">colorStops</span>: [&#123;<br>          <span class="hljs-attr">offset</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;red&#x27;</span><br>        &#125;, &#123;<br>          <span class="hljs-attr">offset</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;blue&#x27;</span><br>        &#125;]<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h3 id="十二、样式"><a href="#十二、样式" class="headerlink" title="十二、样式"></a>十二、样式</h3><ul><li>直接样式<ul><li>itemStyle、textStyle、lineStyle、areaStyle、label</li></ul></li><li>高亮样式<ul><li>在emphasis中包裹itemStyle、textStyle、lineStyle、areaStyle、label</li></ul></li><li>优先级高，会覆盖主题中、调色盘的效果</li></ul><h3 id="十三、自适应"><a href="#十三、自适应" class="headerlink" title="十三、自适应"></a>十三、自适应</h3><p>当浏览器的大小发生变化的时候，如果想让图表也能随之适配变化</p><ul><li><p>1.监听窗口大小变化事件</p></li><li><p>2.在事件处理函数中调用echarts实例对象的resize方法即可</p><p>window.onresize = myChart.resize</p></li></ul><h3 id="十四、加载动画"><a href="#十四、加载动画" class="headerlink" title="十四、加载动画"></a>十四、加载动画</h3><p>echarts已经内置好了加载数据的动画，我们只需要在合适的时机显示或者隐藏即可</p><ul><li><p>显示加载动画</p><p>mCharts.showLoading()</p></li><li><p>隐藏加载动画</p><p>mCharts.hideLoading()</p></li></ul><h3 id="十五、增量动画"><a href="#十五、增量动画" class="headerlink" title="十五、增量动画"></a>十五、增量动画</h3><ul><li>增量动画的实现方式<ul><li>mCharts.setOption<ul><li>所有数据的更新都通过setOption实现</li><li>不用考虑数据到底产生了哪些变化</li><li>echarts会找到两组数据之间的差异然后通过合适的动画取实现数据的变化</li><li>新旧option的关系并不是相互覆盖的关系，而是相互整合的关系</li><li>我们在设置新的option的时候，只需要考虑到变化的部分就可以</li></ul></li></ul></li></ul><h3 id="十六、动画配置项"><a href="#十六、动画配置项" class="headerlink" title="十六、动画配置项"></a>十六、动画配置项</h3><ul><li><p>开启动画</p><ul><li>animation：true</li></ul></li><li><p>动画时长</p><ul><li>animationDuration：5000</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">animationDuration： <span class="hljs-keyword">function</span>（arg） &#123;<br>  <span class="hljs-comment">// 这里的arg是所有需要动画效果的图元的索引，会根据不同形式的图元元素进行分组</span><br>  <span class="hljs-keyword">return</span> arg * <span class="hljs-number">10</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>缓动动画</p><ul><li>animationEasing: ‘bounceOut’</li></ul></li><li><p>动画阈值</p><ul><li>animationThreshold： 8</li><li>单中形式的元素数量大于这个阈值会关闭动画</li></ul></li></ul><h3 id="十七、全局Echarts对象常用方法"><a href="#十七、全局Echarts对象常用方法" class="headerlink" title="十七、全局Echarts对象常用方法"></a>十七、全局Echarts对象常用方法</h3><ul><li><p>init方法</p><ul><li>初始化Echarts实例对象</li><li>使用主题（第二个参数）</li></ul></li><li><p>registerTheme方法</p><ul><li>注册主题</li><li>只有注册过的主题，才能在init方法中使用该主题</li></ul></li><li><p>registerMap方法</p><ul><li><p>注册地图数据</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;json/map/china.json&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">ChinaJson</span>) &#123;<br>  echarts.<span class="hljs-title function_">registerMap</span>(<span class="hljs-string">&#x27;china&#x27;</span>, chinaJson)<br>&#125;)<br></code></pre></td></tr></table></figure></li><li><p>geo组件使用地图数据</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> option = &#123;<br>  <span class="hljs-attr">geo</span>: &#123;<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;map&#x27;</span>,<br>    <span class="hljs-attr">map</span>: <span class="hljs-string">&#x27;china&#x27;</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li><li><p>connect方法</p><ul><li>一个页面中可以有多个独立的图表</li><li>每一个图表对应一个Echarts实例对象</li><li>connect可以实现多图关联，传入联动目标为Echarts实例对象，支持数组<ul><li>保存图片的自动拼接（saveAsImage）</li><li>刷新按钮</li><li>重置按钮</li><li>提示框联动、图例选择、数据范围修改等等</li></ul></li></ul></li></ul><h3 id="十八、echartsInstance实例常用方法"><a href="#十八、echartsInstance实例常用方法" class="headerlink" title="十八、echartsInstance实例常用方法"></a>十八、echartsInstance实例常用方法</h3><ul><li><p>setOption方法</p><ul><li>设置或修改图表实例的配置项以及数据</li><li>多次调用setOption方法<ul><li>合并新旧配置</li><li>增量动画</li></ul></li></ul></li><li><p>resize方法</p><ul><li>重新计算和绘制图表</li><li>一般和window对象的resize事件结合使用<ul><li>window.onresize = mEcharts.resize</li></ul></li></ul></li><li><p>on\off方法</p><ul><li>绑定或者解绑事件处理函数</li><li>鼠标事件<ul><li>常见事件：click、dbclick、mousedown、mousemove、mouseup等</li></ul></li><li>Echarts事件<ul><li>常见事件：legendselectchanged、datazoom、pieselectchanged、ma’pselectchanged</li></ul></li></ul></li><li><p>dispatchAction</p><ul><li><p>触发某些行为</p></li><li><p>使用代码模拟用户的行为</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">mCharts.<span class="hljs-title function_">dispatchAction</span>(&#123;<br>  <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;hightlight&#x27;</span>, <span class="hljs-comment">// 事件类型</span><br>  <span class="hljs-attr">seriesIndex</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 图表索引(系列)</span><br>  <span class="hljs-attr">dataIndex</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 图表中哪一项高亮</span><br>&#125;)<br></code></pre></td></tr></table></figure></li><li><p>clear</p><ul><li>清空当前实例，会移除实例中所有的组件和图表</li><li>清空之后可以再次setOption</li></ul></li><li><p>dispose方法</p><ul><li>销毁实例</li><li>销毁后实例无法再被使用</li></ul></li></ul><h3 id="十九、websocket的基本使用"><a href="#十九、websocket的基本使用" class="headerlink" title="十九、websocket的基本使用"></a>十九、websocket的基本使用</h3><ul><li><p>后端</p><ul><li><p>安装包</p><ul><li>npm i ws</li></ul></li><li><p>创建对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> webSocket = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;ws&#x27;</span>)<br><span class="hljs-keyword">const</span> wss = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>.<span class="hljs-title function_">server</span>(&#123;<br>  <span class="hljs-attr">port</span>: <span class="hljs-string">&#x27;8080&#x27;</span><br>&#125;)<br></code></pre></td></tr></table></figure></li><li><p>监听事件</p><ul><li><p>连接事件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">wss.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;connection&#x27;</span>, <span class="hljs-function"><span class="hljs-params">client</span> =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;有客户端连接&#x27;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure></li><li><p>接受数据事件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript">wss.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;connection&#x27;</span>, <span class="hljs-function"><span class="hljs-params">client</span> =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;有客户端连接&#x27;</span>)<br>  client.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;message&#x27;</span>, <span class="hljs-function"><span class="hljs-params">msg</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;客户端发送数据过来了&#x27;</span>)<br>  &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure></li><li><p>发送数据</p><ul><li>client.send(‘hello socket from back-end’)</li></ul></li></ul></li></ul></li><li><p>前端</p><ul><li><p>创建对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> ws = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">&#x27;ws://localhost:8080&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p>监听事件</p><ul><li>连接成功事件<ul><li>ws.onopen = () =&gt; {}</li></ul></li><li>接受数据事件<ul><li>ws.onmessage = msg =&gt; {}</li></ul></li><li>关闭连接事件<ul><li>ws.onclose = () =&gt; {}</li></ul></li></ul></li><li><p>发送数据</p><ul><li>ws.send</li></ul></li></ul></li></ul></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%8F%AF%E8%A7%86%E5%8C%96%E5%BA%93/" class="category-chain-item">前端可视化库</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/echarts/">#echarts</a></div></div><div class="license-box my-3"><div class="license-title"><div>echarts学习笔记</div><div>http://example.com/2021/07/17/echarts/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>Just a coder</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2021年7月17日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2021/08/25/react/" title="react学习笔记"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">react学习笔记</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2021/07/14/d3/" title="d3相关笔记"><span class="hidden-mobile">d3相关笔记</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.0/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var o=jQuery("#board-ctn").offset().top;window.tocbot.init({tocSelector:"#toc-body",contentSelector:".markdown-body",headingSelector:CONFIG.toc.headingSelector||"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:CONFIG.toc.collapseDepth||0,scrollSmooth:!0,headingsOffset:-o}),t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))</script><script>!function(){var e=CONFIG.code_language.enable&&CONFIG.code_language.default,a=CONFIG.copy_btn;if(e||a){var i="";i+='<div class="code-widget">',i+="LANG",i+="</div>",jQuery(".markdown-body pre").each((function(){var n=jQuery(this);if(!(n.find("code.mermaid").length>0||n.find("span.line").length>0)){var t,c="";e&&(c=CONFIG.code_language.default,n[0].children.length>0&&n[0].children[0].classList.length>=2&&n.children().hasClass("hljs")?c=n[0].children[0].classList[1]:n[0].getAttribute("data-language")?c=n[0].getAttribute("data-language"):n.parent().hasClass("sourceCode")&&n[0].children.length>0&&n[0].children[0].classList.length>=2?(c=n[0].children[0].classList[1],n.parent().addClass("code-wrapper")):n.parent().hasClass("markdown-body")&&0===n[0].classList.length&&n.wrap('<div class="code-wrapper"></div>'),c=c.toUpperCase().replace("NONE",CONFIG.code_language.default)),n.append(i.replace("LANG",c).replace('code-widget">',(t=n[0],(Fluid.utils.getBackgroundLightness(t)>=0?"code-widget-light":"code-widget-dark")+(a?' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>':' code-widget">')))),a&&Fluid.utils.createScript("https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js",(function(){new window.ClipboardJS(".copy-btn",{target:function(e){for(var a=e.parentNode.childNodes,i=0;i<a.length;i++)if("CODE"===a[i].tagName)return a[i]}}).on("success",(function(e){e.clearSelection(),e.trigger.innerHTML=e.trigger.innerHTML.replace("icon-copy","icon-success"),setTimeout((function(){e.trigger.innerHTML=e.trigger.innerHTML.replace("icon-success","icon-copy")}),2e3)}))}))}}))}}()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var o=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),n=[];for(var i of o)n.push(".markdown-body > "+i.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(n.join(", "))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript></body></html>