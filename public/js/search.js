var searchFunc=function(t,i,n){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get();var r=document.getElementById(i);var a=document.getElementById(n);r.addEventListener("input",function(){var v='<ul class="search-result-list">';var h=this.value.trim().toLowerCase().split(/[\s\-]+/);a.innerHTML="";if(this.value.trim().length<=0){return}var m=1;e.forEach(function(t){var r=true;var e=[];var a=t.title.trim().toLowerCase();var i=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase();var n=t.url;var s=-1;var c=-1;var l=-1;if(a!=""&&i!=""){h.forEach(function(t,e){s=a.indexOf(t);c=i.indexOf(t);if(s<0&&c<0){r=false}else{if(c<0){c=0}if(e==0){l=c}}})}if(r){v+="<li><a href='"+n+"' class='search-result-title'>"+String(m)+". "+a+"</a>";m+=1;var u=t.content.trim().replace(/<[^>]+>/g,"");if(l>=0){var o=l-20;if(o<0){o=0}var f=u.substr(o,100);h.forEach(function(t){var e=new RegExp(t,"gi");f=f.replace(e,'<em class="search-keyword">'+t+"</em>")});v+='<p class="search-result">'+f+"...</p>"}v+="</li>"}});v+="</ul>";v='<p class="search-result-summary">共找到'+String(m-1)+"条结果</p>"+v;a.innerHTML=v})}})};