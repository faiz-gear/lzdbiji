(function(p){p.fn.barrager=function(e){e=p.extend({close:true,max:10,speed:16,color:"#ffffff"},e||{});const r=(new Date).getTime();const o="barrage_"+r;const a="#"+o;const i=p("<div class='barrage' id='"+o+"'></div>").appendTo(p(this));const t=p(window).height()*.35;const n=p(window).width()+100;const s=[t/5+p(window).height()*.5,2*(t/5)+p(window).height()*.5,3*(t/5)+p(window).height()*.5,4*(t/5)+p(window).height()*.5,5*(t/5)+p(window).height()*.5];const c=s[Math.floor(Math.random()*5)];i.css("bottom",c+"px");div_barrager_box=p("<div class='barrage_box cl'></div>").appendTo(i);if(e.img){div_barrager_box.append("<a class='portrait z' href='javascript:;'></a>");const b=p("<img src='' >").appendTo(a+" .barrage_box .portrait");b.attr("src",e.img)}div_barrager_box.append(" <div class='z p'></div>");if(e.close){div_barrager_box.append(" <div class='close z'></div>")}const d=p("<a title='' href='' target='_blank'></a>").appendTo(a+" .barrage_box .p");d.attr({href:e.href,id:e.id}).empty().append(e.info);d.css("color",e.color);const g=0;i.css("margin-right",0);p(a).animate({right:n},e.speed*1e3,function(){p(a).remove()});div_barrager_box.mouseover(function(){p(a).stop(true)});div_barrager_box.mouseout(function(){p(a).animate({right:n},e.speed*1e3,function(){p(a).remove()})});p(a+".barrage .barrage_box .close").click(function(){p(a).remove()})};p.fn.barrager.removeAll=function(){p(".barrage").remove()}})(jQuery);